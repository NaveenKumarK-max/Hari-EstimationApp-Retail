webpackJsonp([0],{

/***/ 186:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Edittag2Page; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ionic_native_camera__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ionic_native_transfer__ = __webpack_require__(58);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ionic_native_file_path__ = __webpack_require__(24);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ionic_cordova_plugin_ratio_crop__ = __webpack_require__(69);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__ionic_native_file__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__ionic_native_barcode_scanner__ = __webpack_require__(64);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__providers_retail__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__ionic_native_image_picker__ = __webpack_require__(65);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_ngx_image_compress__ = __webpack_require__(40);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};












// @IonicPage()
var Edittag2Page = /** @class */ (function () {
    function Edittag2Page(events, cd, imageCompress, alertCtrl, imagePicker, retail, barcodeScanner, toast, file, crop, filePath, platform, comman, transfer1, actionSheetCtrl, camera, load, navCtrl, navParams) {
        var _this = this;
        this.events = events;
        this.cd = cd;
        this.imageCompress = imageCompress;
        this.alertCtrl = alertCtrl;
        this.imagePicker = imagePicker;
        this.retail = retail;
        this.barcodeScanner = barcodeScanner;
        this.toast = toast;
        this.file = file;
        this.crop = crop;
        this.filePath = filePath;
        this.platform = platform;
        this.comman = comman;
        this.transfer1 = transfer1;
        this.actionSheetCtrl = actionSheetCtrl;
        this.camera = camera;
        this.load = load;
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.empData = JSON.parse(localStorage.getItem('empDetail'));
        this.code = '';
        this.image = '';
        this.imageid = '';
        this.imagename = '';
        this.stockcodes = [];
        this.searchcodes = [];
        this.images = [];
        this.createstock = false;
        this.input = '';
        this.progress = 0;
        this.show = false;
        this.tagMsg = "";
        this.tagErrorMsg = "";
        this.esti = { "cus_id": "", "customer": "", "id_branch": "", "id_employee": "", "emp_name": "", "is_tag": false, "is_non_tag": false, "is_home_bill": false, "is_old_metal": false, "tag": [], "non_tag": [], "home_bill": [], "old_metal": [] };
        this.scannerOn = false;
        this.dataCheckList = { "empData": false, "taxGroup": false, "branch": false, "settings": false };
        this.settings = [];
        this.ret_settings = [];
        this.tag_code = '';
        this.tagData = { 'fin_year': '', "order_id": "", "tag_code": "", "tag_code1": "", "tag_code2": "", "is_partial": 0, "stone_details": [] };
        this.checkold = false;
        // this.whole = this.navParams.get('data');
        // this.image = this.whole['default_image']
        // this.images = this.whole['img_details']
        // var y:any[] = Object.assign({}, this.images);
        // this.images.reverse();
        this.loggedInBranch = this.empData['id_branch'];
        var loader4 = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader4.present();
        this.retail.getAllTaxGroupItems().then(function (data) {
            _this.taxGroupItems = data;
            _this.events.publish('taxGroup:loaded', true);
            _this.dataCheckList['taxGroup'] = true;
            _this.comman.getCurrencyAndSettings({ "id_branch": _this.esti['id_branch'] }).then(function (data) {
                _this.metalRate = data.metal_rates;
                _this.settings = data.settings;
                _this.ret_settings = data.ret_settings;
                _this.events.publish('settings:loaded', true);
                _this.events.publish('ret_settings:loaded', true);
                _this.dataCheckList['settings'] = true;
                loader4.dismiss();
            });
        });
    }
    Edittag2Page.prototype.ionViewWillEnter = function () {
        this.list();
        this.events.publish('entered', true);
        this.events.publish('pageno', 1);
    };
    Edittag2Page.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    Edittag2Page.prototype.list = function () {
        // let loader = this.load.create({
        //   content: 'Please Wait',
        //   spinner: 'bubbles',
        // });
        // loader.present();
        // this.comman.getstocklist().then(data=>{
        //   this.stockcodes = data['stockcodes'];
        //   this.searchcodes = data['stockcodes'];
        //   loader.dismiss();
        // },err=>{
        //   loader.dismiss();
        // });
    };
    Edittag2Page.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad CreatestockPage');
    };
    Edittag2Page.prototype.create = function () {
        if (this.createstock == false) {
            this.createstock = true;
        }
        else {
            this.createstock = false;
        }
    };
    Edittag2Page.prototype.presentActionSheet = function (data) {
        var _this = this;
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Select Image Source',
            buttons: [
                {
                    text: 'Load from Gallery',
                    handler: function () {
                        if (data == 'default') {
                            _this.takePicture(_this.camera.PictureSourceType.PHOTOLIBRARY);
                        }
                        else {
                            var options = {
                                maximumImagesCount: 2,
                                quality: 100,
                            };
                            _this.imagePicker.getPictures(options).then(function (results) {
                                if (results.length > 0) {
                                    _this.loading();
                                }
                                console.log('111111111111111');
                                for (var i = 0; i < results.length; i++) {
                                    console.log(results[i]);
                                    var documentURL = decodeURIComponent(results[i]);
                                    console.log(documentURL);
                                    results[i] = documentURL;
                                    console.log(results[i]);
                                    var temp = results.length - 1 == i ? true : false;
                                    var correctPath = results[i].substr(0, results[i].lastIndexOf('/') + 1);
                                    var currentName = results[i].substr(results[i].lastIndexOf('/') + 1);
                                    _this.copyFileToLocalDir(correctPath, currentName, _this.createFileName(), temp, 'gal');
                                }
                                ;
                            });
                        }
                    }
                },
                {
                    text: 'Take Picture',
                    handler: function () {
                        _this.takePicture(_this.camera.PictureSourceType.CAMERA);
                    }
                },
                {
                    text: 'Cancel',
                    role: 'cancel'
                }
            ]
        });
        actionSheet.present();
    };
    Edittag2Page.prototype.takePicture = function (sourceType) {
        var _this = this;
        // Create options for the Camera Dialog
        var options = {
            quality: 100,
            sourceType: sourceType,
            saveToPhotoAlbum: false,
            correctOrientation: true,
        };
        var cropOptions = {
            quality: 100,
            widthRatio: -1,
            heightRatio: -1
        };
        this.loading();
        // Get the data of an image
        this.camera.getPicture(options).then(function (imagePath) {
            console.log(imagePath);
            if (_this.platform.is('android') && sourceType === _this.camera.PictureSourceType.PHOTOLIBRARY) {
                console.log(imagePath);
                _this.crop.ratioCrop(imagePath, cropOptions).then(function (out) {
                    _this.filePath.resolveNativePath(out)
                        .then(function (filePath) {
                        console.log(filePath);
                        console.log(333333333333333);
                        var correctPath = filePath.substr(0, filePath.lastIndexOf('/') + 1);
                        //  let currentName = imagePath.substring( imagePath.lastIndexOf( '/' ) + 1, imagePath.lastIndexOf( '?' ) );
                        var currentName = filePath.substring(filePath.lastIndexOf('/') + 1);
                        // this.dismissLoader();
                        _this.copyFileToLocalDir(correctPath, currentName, _this.createFileName(), '', 'cam');
                        // this.uploadImage();
                    }, function (err) {
                        _this.dismissLoader();
                    });
                }, function (err) {
                    _this.dismissLoader();
                });
            }
            else {
                _this.crop.ratioCrop(imagePath, cropOptions).then(function (out) {
                    _this.filePath.resolveNativePath(out)
                        .then(function (filePath) {
                        console.log(filePath);
                        var currentName = filePath.substr(filePath.lastIndexOf('/') + 1);
                        var correctPath = filePath.substr(0, filePath.lastIndexOf('/') + 1);
                        // this.dismissLoader();
                        _this.copyFileToLocalDir(correctPath, currentName, _this.createFileName(), '', 'cam');
                        // this.uploadImage();
                    }, function (err) {
                        _this.dismissLoader();
                    });
                }, function (err) {
                    _this.dismissLoader();
                });
            }
        }, function (err) {
            _this.dismissLoader();
            console.log(err);
            console.log('Error while selecting image.');
        });
    };
    Edittag2Page.prototype.pathForImage = function (img) {
        if (img === null) {
            return '';
        }
        else {
            return cordova.file.dataDirectory + img;
        }
    };
    // Create a new name for the image
    Edittag2Page.prototype.createFileName = function () {
        var d = new Date(), n = d.getTime(), newFileName = n + ".jpg";
        return newFileName;
    };
    // Copy the image to a local folder
    Edittag2Page.prototype.copyFileToLocalDir = function (namePath, currentName, newFileName, index, type) {
        var _this = this;
        this.file.copyFile(namePath, currentName, cordova.file.dataDirectory, newFileName).then(function (success) {
            console.log(_this.pathForImage(newFileName));
            var orientation = -1;
            _this.imageCompress.compressFile(_this.pathForImage(newFileName), orientation, 100, 100).then(function (result) { return __awaiter(_this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    this.writeFile(result, this.createFileName(), index, type);
                    return [2 /*return*/];
                });
            }); }, function (err) {
                console.log(err);
            });
        }, function (error) {
            console.log(error);
        });
    };
    Edittag2Page.prototype.uploadImage = function (name) {
        var _this = this;
        console.log(this.images);
        var imgs = this.images.filter(function (data) { return !data.hasOwnProperty('id_desmap_img'); });
        if (imgs.length > 0) {
            // let loader = this.load.create( {
            //   content: "Uploading..."
            // } );
            // loader.present();
            this.show = true;
            console.log(imgs);
            imgs.forEach(function (element, index) { return __awaiter(_this, void 0, void 0, function () {
                var _this = this;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0: return [4 /*yield*/, new Promise(function (next) {
                                // Destination URL
                                var url = __WEBPACK_IMPORTED_MODULE_5__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/uploadTagimage';
                                var d = new Date(), n = d.getTime();
                                // File for Upload
                                var targetPath = element['image_name'] + '?nocache=' + n;
                                // File name only
                                var filename = name;
                                var options = {
                                    fileKey: "name",
                                    fileName: element['name'],
                                    chunkedMode: false,
                                    mimeType: "image/jpeg",
                                    params: {
                                        fileName: element['name'],
                                        default: element['is_default'],
                                        branch_id: _this.empData['id_branch'],
                                        tagid: _this.esti['tag'][0]['tag_id'],
                                    }
                                };
                                var fileTransfer = _this.transfer1.create();
                                console.log(targetPath);
                                console.log(encodeURI(url));
                                console.log(options);
                                console.log(url);
                                // Use the FileTransfer to upload the image
                                fileTransfer.upload(targetPath, encodeURI(url), options).then(function (data) {
                                    console.log(data);
                                    if (index == imgs.length - 1) {
                                        setTimeout(function () {
                                            var result = JSON.parse(data.response);
                                            console.log(result);
                                            console.log(result['imageid']);
                                            // loader.dismissAll();
                                            // this.image = this.pathForImage(name);
                                            // this.imageid = result['imageid'];
                                            var check = _this.images.findIndex(function (data) { return data['image_name'] == element['image_name']; });
                                            _this.images[check]['id_desmap_img'] = result['imageid'];
                                            // this.esti['tag'][0]['img_details'][index]['id_tag_img'] = result['imageid'];
                                            var toastMsg = _this.toast.create({
                                                message: "Image succesfully uploaded.",
                                                duration: _this.comman.toastTimeout,
                                                position: 'center'
                                            });
                                            toastMsg.present();
                                            _this.esti['tag'] = [];
                                            _this.image = '';
                                            _this.images = [];
                                            _this.show = false;
                                            // this.navCtrl.pop();
                                        }, 3000);
                                    }
                                    next();
                                }, function (err) {
                                    // loader.dismissAll()
                                    console.log(err);
                                    var toastMsg = _this.toast.create({
                                        message: "Error while uploading Image.",
                                        duration: _this.comman.toastTimeout,
                                        position: 'center'
                                    });
                                    toastMsg.present();
                                    next();
                                });
                                fileTransfer.onProgress(function (data) {
                                    console.log(data);
                                    _this.progress = Math.round((data.loaded / data.total) * 100);
                                    _this.refresh();
                                    console.log(_this.progress);
                                });
                            })];
                        case 1:
                            _a.sent();
                            return [2 /*return*/];
                    }
                });
            }); });
        }
        else {
            this.navCtrl.pop();
        }
    };
    Edittag2Page.prototype.loading = function () {
        this.loader = this.load.create({
            content: "Please Wait..."
        });
        this.loader.present();
    };
    Edittag2Page.prototype.dismissLoader = function () {
        this.loader.dismiss();
    };
    Edittag2Page.prototype.submit = function () {
        var check = this.images.findIndex(function (data) { return data['is_default'] == 1; });
        if (this.imagename != '' || check >= 0) {
            this.uploadImage(this.imagename);
        }
        else {
            var toastMsg = this.toast.create({
                message: "Please Upload Default Image.",
                duration: this.comman.toastTimeout,
                position: 'center'
            });
            toastMsg.present();
        }
    };
    Edittag2Page.prototype.search = function () {
        var _this = this;
        this.stockcodes = this.searchcodes.filter(function (item) { return item['stock_code'].toUpperCase().includes(_this.input.toUpperCase()); });
    };
    Edittag2Page.prototype.deletePhoto = function (index, data) {
        var _this = this;
        // ${data}
        var confirm = this.alertCtrl.create({
            title: "Sure you want to delete this image? There is no undo!",
            message: '',
            buttons: [
                {
                    text: 'No',
                    handler: function () {
                        console.log('Disagree clicked');
                    }
                }, {
                    text: 'Yes',
                    handler: function () {
                        console.log('Agree clicked');
                        if (_this.images[index].hasOwnProperty('id_desmap_img')) {
                            var loader_1 = _this.load.create({
                                content: 'Please Wait',
                                spinner: 'dots',
                            });
                            loader_1.present();
                            // let temp = {'empcode':this.empData['uid'],'id_design':this.whole['id_design'],id_design_mapping:this.whole['id_design_mapping'],'id_desmap_img':this.whole['img_details'][index]['id_desmap_img']}
                            var postData = { "tagid": _this.esti['tag'][0]['tag_id'], "imgid": _this.esti['tag'][0]['img_details'][index]['id_tag_img'] };
                            _this.retail.deletetagimage(postData).then(function (data) {
                                var toast = _this.toast.create({
                                    message: data['message'],
                                    duration: 3000,
                                    position: 'bottom'
                                });
                                loader_1.dismiss();
                                toast.present();
                                _this.images.splice(index, 1);
                                var check = _this.images.findIndex(function (data) { return data['is_default'] == 1; });
                                if (check < 0) {
                                    _this.imagename = '';
                                    _this.image = '';
                                }
                                else {
                                }
                            }, function (err) {
                                loader_1.dismiss();
                            });
                        }
                        else {
                            _this.images.splice(index, 1);
                            var check = _this.images.findIndex(function (data) { return data['is_default'] == 1; });
                            if (check < 0) {
                                _this.imagename = '';
                                _this.image = '';
                            }
                            else {
                            }
                        }
                    }
                }
            ]
        });
        confirm.present();
    };
    Edittag2Page.prototype.checkdefault = function (index) {
        var _this = this;
        console.log(this.images[index]);
        if (this.images[index].hasOwnProperty('id_desmap_img')) {
            var loader_2 = this.load.create({
                content: 'Please Wait',
                spinner: 'dots',
            });
            loader_2.present();
            if (this.images[index]['is_default'] == 0) {
                this.images[index]['is_default'] = 1;
                this.image = this.images[index]['image_name'];
                this.images.forEach(function (element, i) {
                    if (index == i) {
                    }
                    else {
                        _this.images[i]['is_default'] = 0;
                    }
                });
            }
            else {
                this.images[index]['is_default'] = 0;
                this.image = '';
                this.imagename = '';
            }
            var temp = { 'empcode': this.empData['uid'], "tagid": this.esti['tag'][0]['tag_id'], "imgid": this.esti['tag'][0]['img_details'][index]['id_tag_img'], 'is_default': this.images[index]['is_default'] };
            this.comman.updatedefaulttag(temp).then(function (data) {
                var toast = _this.toast.create({
                    message: 'Default Image Updated Successfully',
                    duration: 3000,
                    position: 'bottom'
                });
                toast.present();
                loader_2.dismiss();
            });
        }
        else {
            if (this.images[index]['is_default'] == 0) {
                this.images[index]['is_default'] = 1;
                this.image = this.images[index]['image_name'];
                this.images.forEach(function (element, i) {
                    if (index == i) {
                    }
                    else {
                        _this.images[i]['is_default'] = 0;
                    }
                });
            }
            else {
                this.images[index]['is_default'] = 0;
                this.image = '';
                this.imagename = '';
            }
        }
    };
    //here is the method is used to write a file in storage
    Edittag2Page.prototype.writeFile = function (base64Data, fileName, index, type) {
        var _this = this;
        var contentType = this.getContentType(base64Data);
        var DataBlob = this.base64toBlob(base64Data, contentType);
        // here iam mentioned this line this.file.externalRootDirectory is a native pre-defined file path storage. You can change a file path whatever pre-defined method.
        var filePath = cordova.file.dataDirectory;
        this.file.writeFile(filePath, fileName, DataBlob, contentType).then(function (success) {
            console.log(success['nativeURL']);
            var currentName = success['nativeURL'].substr(success['nativeURL'].lastIndexOf('/') + 1);
            var correctPath = success['nativeURL'].substr(0, success['nativeURL'].lastIndexOf('/') + 1);
            console.log("File Writed Successfully", success);
            console.log(currentName);
            console.log(correctPath);
            // this.targetPaths.push( success['nativeURL'])
            // this.filenames.push( currentName );
            // this.copyFileToLocalDir( correctPath, currentName, this.createFileName() );
            // this.uploadImage(currentName)
            if (type == 'gal') {
                _this.images.push({ 'image_name': success['nativeURL'], 'is_default': 0, 'name': currentName });
                var y = Object.assign({}, _this.images);
                _this.images.reverse();
                if (index == true) {
                    _this.dismissLoader();
                }
            }
            else {
                _this.images.forEach(function (element, i) {
                    _this.images[i]['is_default'] = 0;
                });
                _this.imagename = currentName;
                _this.image = success['nativeURL'];
                _this.images.push({ 'image_name': _this.image, 'is_default': 1, 'name': currentName });
                var y = Object.assign({}, _this.images);
                _this.images.reverse();
                _this.dismissLoader();
            }
        }).catch(function (err) {
            console.log("Error Occured While Writing File", err);
        });
    };
    //here is the method is used to get content type of an bas64 data
    Edittag2Page.prototype.getContentType = function (base64Data) {
        var block = base64Data.split(";");
        var contentType = block[0].split(":")[1];
        return contentType;
    };
    //here is the method is used to convert base64 data to blob data
    Edittag2Page.prototype.base64toBlob = function (b64Data, contentType) {
        contentType = contentType || '';
        var sliceSize = 512;
        var byteCharacters = atob(b64Data.replace(/^data:image\/(png|jpeg|jpg);base64,/, ''));
        var byteArrays = [];
        for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {
            var slice = byteCharacters.slice(offset, offset + sliceSize);
            var byteNumbers = new Array(slice.length);
            for (var i = 0; i < slice.length; i++) {
                byteNumbers[i] = slice.charCodeAt(i);
            }
            var byteArray = new Uint8Array(byteNumbers);
            byteArrays.push(byteArray);
        }
        var blob = new Blob(byteArrays, {
            type: contentType
        });
        return blob;
    };
    Edittag2Page.prototype.refresh = function () {
        console.log('refresheed');
        this.cd.detectChanges();
    };
    Edittag2Page.prototype.closeScanner = function () {
        this.scannerOn = false;
        // this.scanSub.unsubscribe();
        // this.qrScanner.hide().then();
        // this.qrScanner.destroy().then();
    };
    Edittag2Page.prototype.openQRScanner = function () {
        var _this = this;
        this.scannerOn = true;
        console.log("QR Scanner");
        this.barcodeScanner.scan().then(function (barcodeData) {
            _this.scannerOn = false;
            if (barcodeData['text'] != '') {
                _this.getTagByID(barcodeData['text']);
            }
        }, function (err) {
            _this.scannerOn = false;
            console.log(err);
        });
        // console.log("QR Scanner");
        // // Optionally request the permission early
        // this.qrScanner.prepare()
        // .then((status: QRScannerStatus) => {
        //   console.log("Then");
        //   if (status.authorized) {
        //     console.log("authorized");
        //     // start scanning
        //     this.scannerOn = true;
        //     this.qrScanner.show().then();
        //     this.scanSub = this.qrScanner.scan().subscribe((text: string) => {
        //       console.log('Scanned something', text);
        //       // Hide and unsubscribe from scanner
        //       this.qrScanner.hide().then();
        //       this.qrScanner.destroy().then();
        //       this.scanSub.unsubscribe();
        //       this.scannerOn = false;
        //       if(text != ''){
        //         this.getTagByID(text);
        //       }
        //     });
        //   }
        //   else if (status.denied) {
        //     console.log("camera permission was permanently denied");
        //     // camera permission was permanently denied
        //     // you must use QRScanner.openSettings() method to guide the user to the settings page
        //     // then they can grant the permission from there
        //     this.qrScanner.openSettings();
        //   }
        //   else {
        //     console.log("Camera Access permission denied. Kindly enable to Scan QR");
        //     // permission was denied, but not permanently. You can ask for permission again at a later time.
        //     alert('Camera Access permission denied. Kindly enable to Scan QR.');
        //   }
        // })
        // .catch((e: any) => console.log('Error is', e));
    };
    // Tag Item
    Edittag2Page.prototype.append = function (event) {
        console.log(event);
        var one = document.getElementById('one').value.toUpperCase();
        var two = document.getElementById('two').value.toUpperCase();
        this.tagData['tag_code1'] = this.tagData['tag_code1'].toUpperCase();
        this.tagData['tag_code2'] = this.tagData['tag_code2'].toUpperCase();
        console.log(one);
        console.log(two);
        this.tagData['tag_code'] = one + '-' + two;
        // let test:any = new String(two);
        // if(test.length == 5 && one != ''){
        //   console.log(test.length)
        //   this.getTagByID(this.tagData['tag_code']);
        //   this.tagData['tag_code'] = '';
        //   this.tagData['tag_code1'] = '';
        //   this.tagData['tag_code2'] = '';
        // }
        if (event.keyCode == 13) {
            this.getTagData(this.tagData['tag_code']);
        }
    };
    Edittag2Page.prototype.getTagData = function (tagData) {
        var _this = this;
        // Search Tag
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        if (tagData != '') {
            var istagId = (tagData.search("/") > 0 ? true : false);
            var isTagCode = (tagData.search("-") > 0 ? true : false);
            if (istagId) {
                var tId = tagData.split("/");
                var searchTxt = (tId.length >= 2 ? tId[0] : "");
                var searchField = this.checkold == true ? "old_tag_id" : "tag_id";
            }
            else if (isTagCode) {
                var searchTxt = tagData;
                var searchField = this.checkold == true ? "old_tag_id" : "tag_code";
            }
        }
        var postData = { "type": 'EstiTag', "searchTxt": searchTxt, "searchField": searchField, "id_branch": this.loggedInBranch };
        this.retail.getTagData(postData).then(function (data) {
            if (data.status) {
                _this.tagMsg = data.msg;
                _this.tagErrorMsg = "";
                setTimeout(function () {
                    _this.tagMsg = "";
                }, _this.comman.msgTimeout);
                data.tagData['actual_gross_wt'] = data.tagData['gross_wt'];
                data.tagData['actual_less_wt'] = data.tagData['less_wt'];
                data.tagData['actual_net_wt'] = data.tagData['net_wt'];
                var detail = { itemData: data.tagData, metalRate: _this.metalRate, tax_details: _this.taxGroupItems, item_type: "tag" };
                var tagItem_1 = _this.retail.calculateSaleValue(detail);
                var addItem_1 = true;
                _this.esti['tag'].forEach(function (item) {
                    if (item.tag_id == tagItem_1.tag_id) {
                        _this.tagMsg = "";
                        addItem_1 = false;
                        _this.tagErrorMsg = "Tag Already exist..";
                        setTimeout(function () {
                            _this.tagErrorMsg = "";
                        }, _this.comman.msgTimeout);
                    }
                });
                if (addItem_1) {
                    _this.esti['is_tag'] = true;
                    _this.esti['tag'] = [];
                    _this.esti['tag'].push(tagItem_1);
                    _this.image = tagItem_1['default_image'];
                    _this.images = tagItem_1['img_details'];
                    var y = Object.assign({}, _this.images);
                    _this.images.reverse();
                }
                // copy x
                // let y:any = Object.assign({}, this.esti['tag']);
                // console.log(y);
                // this.esti['tag'].reverse();
                console.log(_this.esti['tag']);
            }
            else {
                _this.tagMsg = "";
                _this.tagErrorMsg = data.msg;
                setTimeout(function () {
                    _this.tagErrorMsg = "";
                }, _this.comman.msgTimeout);
            }
            loader.dismiss();
        }, function (err) {
            loader.dismiss();
        });
    };
    Edittag2Page.prototype.getTagByID = function (tagData) {
        var _this = this;
        if (tagData != '') {
            var istagId = (tagData.search("/") > 0 ? true : false);
            var isTagCode = (tagData.search("-") > 0 ? true : false);
            if (istagId) {
                var tId = tagData.split("/");
                var searchTxt = (tId.length >= 2 ? tId[0] : "");
                var searchField = "tag_id";
            }
            else if (isTagCode) {
                var searchTxt = tagData;
                var searchField = "tag_code";
            }
            // Search Tag
            var loader_3 = this.load.create({
                content: 'Please Wait',
                spinner: 'bubbles',
            });
            loader_3.present();
            var postData = { "searchTxt": searchTxt, "searchField": searchField, "id_branch": this.loggedInBranch };
            this.retail.getTagData(postData).then(function (data) {
                if (data.status) {
                    _this.tagMsg = data.msg;
                    _this.tagErrorMsg = "";
                    setTimeout(function () {
                        _this.tagMsg = "";
                    }, _this.comman.msgTimeout);
                    data.tagData['actual_gross_wt'] = data.tagData['gross_wt'];
                    data.tagData['actual_less_wt'] = data.tagData['less_wt'];
                    data.tagData['actual_net_wt'] = data.tagData['net_wt'];
                    var detail = { itemData: data.tagData, metalRate: _this.metalRate, tax_details: _this.taxGroupItems, item_type: "tag" };
                    var tagItem_2 = _this.retail.calculateSaleValue(detail);
                    var addItem_2 = true;
                    _this.esti['tag'].forEach(function (item) {
                        if (item.tag_id == tagItem_2.tag_id) {
                            _this.tagMsg = "";
                            addItem_2 = false;
                            _this.tagErrorMsg = "Tag Already exist..";
                            setTimeout(function () {
                                _this.tagErrorMsg = "";
                            }, _this.comman.msgTimeout);
                        }
                    });
                    if (addItem_2) {
                        _this.esti['is_tag'] = true;
                        _this.esti['tag'] = [];
                        _this.esti['tag'].push(tagItem_2);
                        _this.image = tagItem_2['default_image'];
                        _this.images = tagItem_2['img_details'];
                        var y = Object.assign({}, _this.images);
                        _this.images.reverse();
                    }
                    // let y:any = Object.assign({}, this.esti['tag']);
                    // console.log(y);
                    // this.esti['tag'].reverse();
                    // console.log(this.esti['tag']);
                }
                else {
                    _this.tagMsg = "";
                    _this.tagErrorMsg = data.msg;
                    setTimeout(function () {
                        _this.tagErrorMsg = "";
                    }, _this.comman.msgTimeout);
                }
                loader_3.dismiss();
            }, function (err) {
                loader_3.dismiss();
            });
        }
    };
    Edittag2Page = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-edittag2',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\edittag2\edittag2.html"*/'<!--\n  Generated template for the CreatestockPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n-->\n<ion-header>\n\n  <ion-navbar>\n    <!-- <button ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button> -->\n    <!-- <ion-title  style="text-align: center;\n    margin-right: 15%;"><img class="header-logo" src=\'assets/header.svg\'/></ion-title> -->\n\n\n    <ion-row>\n      <ion-col col-2 style="margin-top: 25px;">\n        <button ion-button menuToggle>\n          <ion-icon name="menu"></ion-icon>\n        </button>\n      </ion-col>\n      <ion-col col-8 >\n           <!-- <ion-title><img class="header-logo" src=\'assets/img/homeheader.svg\'/></ion-title> -->\n    <ion-title style="text-align: center;\n    "><img  class="header-logo" src=\'assets/header.svg\'/>\n    <!-- <ion-badge style="float: right;background-color: red;margin-top: 10px;">Test</ion-badge> -->\n\n    </ion-title>\n      </ion-col>\n      <ion-col col-2></ion-col>\n      </ion-row>\n  </ion-navbar>\n</ion-header>\n\n\n<ion-content padding>\n  <div style="margin-bottom: 200px;">\n\n    <ion-row>\n      <ion-col no-padding text-wrap col-12>\n        <div class="theme-title-blk"> <ion-icon name="pricetags"></ion-icon> Tags  <ion-badge color="light" float-right></ion-badge></div>\n      </ion-col>\n      </ion-row>\n    <!-- <ion-row>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col">   \n        <ion-item no-padding> \n          <ion-label color="label-color" stacked>Tag Code <span class="required">*</span></ion-label>\n          <ion-input type="text" [(ngModel)]="tag_code"></ion-input> \n          <button item-right ion-button margin-top color="light" (click)="getTagData(tag_code)"><ion-icon name="ios-search"></ion-icon></button>\n          <button item-right ion-button margin-top color="light" (click)="openQRScanner(\'tag\')"><ion-icon name="ios-qr-scanner"></ion-icon></button>\n  \n        \n        </ion-item>\n      </ion-col>\n      </ion-row> -->\n<!--       <ion-row>\n        <ion-col col-7  class="custom-2col" style="padding-top: 0px !important;">   \n\n          <ion-item >\n            <ion-label *ngIf="checkold != true" style="" color="label-color" stacked>Tag Code <span class="required">*</span></ion-label>\n            <ion-label *ngIf="checkold == true" style="" color="label-color" stacked>Old Tag Code <span class="required">*</span></ion-label>\n  \n            <ion-toggle [(ngModel)]="checkold"></ion-toggle>\n          </ion-item>\n          </ion-col>\n      <ion-col col-5  class="custom-2col" style="padding-top: 0px !important;">   \n\n      </ion-col>\n\n      \n    </ion-row>\n\n      <div class="row">\n        <div class="col" col-3 style="margin: auto;" >\n          <input  style="    border: 1px solid lightgray;height: 40px;width: -webkit-fill-available;" type="text" id="one"  [(ngModel)]="tagData[\'tag_code1\']" (keyup)="append($event)" >\n\n          </div>\n          <div class="col" col-1 style="margin: auto;font-weight: bold;">\n            <hr>\n            </div>\n\n          <div class="col" col-6 style="margin: auto;" >\n            <input  style="    border: 1px solid lightgray;height: 40px;width: -webkit-fill-available;" type="text"  id="two"  [(ngModel)]="tagData[\'tag_code2\']" (keyup)="append($event)" > \n\n          </div>\n          <div class="col" style="margin: auto;" col-2>\n            <button style="" item-right ion-button  color="light" (click)="getTagData(tagData[\'tag_code\'])"><ion-icon name="ios-search"></ion-icon></button>\n\n          </div>\n      </div>\n -->\n\n        <div class="tag-card" >\n<ion-row class="tag-single-row">\n\n  <!-- Toggle -->\n  <!-- <ion-col col-2 class="center-col">\n    \n   \n  </ion-col> -->\n\n  <!-- Single Tag Input -->\n  <ion-col col-10 style="display: flex;">\n    <ion-toggle [(ngModel)]="checkold"></ion-toggle>\n\n    <ion-item class="tag-box no-border soft-bg compact-item">\n      <ion-input type="text" placeholder="{{ checkold ? \'Old Tag Code\' : \'New Tag Code\' }}" [(ngModel)]="tagData[\'tag_code\']" (keyup)="append($event)">\n      </ion-input>\n    </ion-item>\n  </ion-col>\n\n  <!-- Search -->\n  <ion-col col-2 class="search-col">\n    <button ion-button icon-only small class="search-btn"\n            (click)="getTagByID(tagData[\'tag_code\'])">\n      <ion-icon name="search"></ion-icon>\n    </button>\n  </ion-col>\n\n</ion-row>\n\n      </div>\n\n      <ion-card class="errorMsg" padding *ngIf="tagErrorMsg">\n        {{tagErrorMsg}}\n      </ion-card>\n      <ion-card class="msg" padding *ngIf="tagMsg">\n        {{tagMsg}}\n      </ion-card>\n\n  <ion-row *ngIf="esti[\'tag\'].length > 0" style="    margin-bottom: 15px;"> \n    <ion-col style="margin: auto;">\n      Default Image *\n    </ion-col>\n    <ion-col>\n      <div class="row" >\n  <div style="\n  height: 80px;\n  width: 100px;\n" class="col">\n<img style="height: 80px;\nwidth: 90px;\nobject-fit: cover;\nobject-position: center;" src="{{image}}" imageViewer="{{image}}" onerror="this.src=\'assets/no-img.png\'" />\n\n  </div>\n  <div (click)="presentActionSheet(\'default\')" class="col" style="text-align: end;margin: auto;">\n    <span style="padding:5px;border: 1px solid lightgray;"><ion-icon name="add"></ion-icon></span>\n\n  </div>\n\n      </div>\n    </ion-col>\n  </ion-row>\n  <ion-grid *ngIf="esti[\'tag\'].length > 0">\n\n    <ion-col  style="margin: auto;">\n      Add Images <span style="font-weight: bold;" *ngIf="images.length > 0">- ({{images.length}})</span> *\n    </ion-col>\n        <ion-row>\n      <ion-col col-10 style="margin-top: 30px;">\n        <!-- <ion-row>\n        \n          <div *ngIf="images.length > 0" class="coverphoto">\n            <button style="width: 135px;background: transparent !important;margin-bottom: 10px;" *ngFor="let targetPath of images; let id = index">\n           <div class="row">\n              <div  class="col" col-10 no-padding><img class="uploadimg1" src="{{targetPath[\'image_name\']}}" imageViewer="{{targetPath[\'image_name\']}}" onerror="this.src=\'assets/no-img.png\'"\n            *ngIf="targetPath" /></div><div class="col" col-2 no-padding  ><ion-icon (click)="checkdefault(id)" [ngClass]="targetPath[\'is_default\'] == 1 ? \'one\':\'two\'" style="padding: 0px !important;" name="checkmark-circle"></ion-icon><ion-icon (click)="deletePhoto(id)" style="padding: 0px !important;color: red;bottom: 0;\n              right: 0;\n              position: absolute;" name="close-circle"></ion-icon></div>\n          </div>\n          </button>\n          </div>\n\n        </ion-row> -->\n        \n          <div style="margin-bottom:10px" class="row" *ngFor="let targetPath of images; let id = index" >\n            <!-- <button style="width: 135px;background: transparent !important;margin-bottom: 10px;" *ngFor="let targetPath of images; let id = index"> -->\n              <div class="col"  col-3 no-padding style="text-align: center;" >\n                Default<br>\n                <ion-icon (click)="checkdefault(id)" [ngClass]="targetPath[\'is_default\'] == 1 ? \'one\':\'two\'" style="padding: 0px !important;    font-size: 1.8em;" name="checkmark-circle"></ion-icon>\n             </div>\n              <div  class="col" col-7 no-padding style="text-align:center;"><img class="uploadimg1" src="{{targetPath[\'image_name\']}}" imageViewer="{{targetPath[\'image_name\']}}" onerror="this.src=\'assets/no-img.png\'"\n            *ngIf="targetPath" /></div><div style="margin: auto;" class="col" col-2 no-padding  >\n            <ion-icon (click)="deletePhoto(id)" style="padding: 0px !important;color: red;    font-size: 1.8em;" name="close-circle"></ion-icon></div>\n          <!-- </button> -->\n          </div>\n\n      </ion-col>\n      <ion-col style="margin: auto;" col-2 (click)="presentActionSheet(\'gallery\')">\n        <div  class="col" style="text-align: end;margin: auto;">\n          <span style="padding:5px;border: 1px solid lightgray;"><ion-icon name="add"></ion-icon></span>\n      \n        </div>      </ion-col>\n    </ion-row>\n</ion-grid>\n<!-- <div  *ngFor="let hb of  esti[\'tag\'];let i = index;"> -->\n  <!-- <ion-list style="border: 1px solid lightgray;\n  border-bottom: 1px solid gray;\n  margin: 10px;" *ngFor="let hb of  esti[\'tag\'];let i = index;">\n      <ion-item margin-top #tags  class="no-padding">\n<ion-row>\n  <ion-col text-wrap col-3 col-md-2 class="vip">\n    {{hb.tag_code}} \n  </ion-col>\n  <ion-col text-wrap col-12 col-md-12 class="vip" *ngIf="ret_settings[\'subproduct_required\'] == 1" style="font-size: 11px !important;">\n    <span *ngIf="hb.collection_name != null">{{hb.collection_name}} <b> | </b> </span>\n    {{hb.product_name}} <b> | </b> \n    {{hb.design_name}}\n  </ion-col>\n  <ion-col text-wrap col-4 col-md-2 class="vip" *ngIf="ret_settings[\'subproduct_required\'] == 0">\n    {{hb.product_name}}\n  </ion-col>\n  <ion-col text-wrap col-5 col-md-2 class="vip" *ngIf="ret_settings[\'subproduct_required\'] == 0">\n    {{hb.design_name}}\n  </ion-col>\n  </ion-row>\n    <ion-row>\n  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n    <p class="text-small">Purity </p>\n  </ion-col>\n  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n    {{hb.purname}} \n  </ion-col>\n  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n    <p class="text-small">Pcs </p>\n  </ion-col>\n  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n    {{hb.piece}} \n  </ion-col>\n  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n    <p class="text-small">Size </p>\n  </ion-col>\n  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n    {{hb.size}} \n  </ion-col>\n  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n    <p class="text-small">Gross wgt </p>\n  </ion-col>\n  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n    {{hb.gross_wt}} \n  </ion-col>\n  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n    <p class="text-small">Less wgt </p>\n  </ion-col>\n  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n    {{hb.less_wt}}\n  </ion-col>\n  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n    <p class="text-small">Net Wgt </p>\n  </ion-col>\n  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n    {{hb.net_wt}}\n  </ion-col>\n  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n    <p class="text-small">Wast ({{hb.retail_max_wastage_percehb}} %)  </p>\n  </ion-col>\n  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n    {{hb.wast_wgt}}\n  </ion-col>\n  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n    <p class="text-small">MC </p>\n  </ion-col>\n  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n    {{hb.making_charge | number:\'1.2-2\' }}\n  </ion-col>\n  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n    <p class="text-small">Taxable </p>\n  </ion-col>\n  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n    {{hb.taxable | number:\'1.2-2\' }}\n  </ion-col>\n  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n    <p class="text-small">Tax </p>\n  </ion-col>\n  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n    {{hb.tax_price | number:\'1.2-2\' }}\n  </ion-col>\n  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n    <p class="text-small">Amount </p>\n  </ion-col>\n  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n    <b>{{hb.sales_value | number:\'1.2-2\' }}</b>\n  </ion-col>\n</ion-row>\n</ion-item>\n</ion-list> -->\n\n\n<ion-card *ngFor="let hb of esti[\'tag\']" class="tag-card">\n\n  <!-- HEADER -->\n  <ion-item class="tag-header">\n    <h2 class="tag-code">{{ hb.tag_code }}</h2>\n    <p *ngIf="ret_settings[\'subproduct_required\'] == 1">\n      <span *ngIf="hb.collection_name">{{ hb.collection_name }} | </span>\n      {{ hb.product_name }} | {{ hb.design_name }}\n    </p>\n    <p *ngIf="ret_settings[\'subproduct_required\'] == 0">\n      {{ hb.product_name }} | {{ hb.design_name }}\n    </p>\n  </ion-item>\n\n  <!-- CONTENT -->\n  <ion-card-content>\n\n    <ion-row class="row-item">\n      <ion-col col-6 class="label">Purity</ion-col>\n      <ion-col col-6 class="value">{{ hb.purname }}</ion-col>\n    </ion-row>\n\n    <ion-row class="row-item">\n      <ion-col col-6 class="label">Pieces</ion-col>\n      <ion-col col-6 class="value">{{ hb.piece }}</ion-col>\n    </ion-row>\n\n    <ion-row class="row-item">\n      <ion-col col-6 class="label">Size</ion-col>\n      <ion-col col-6 class="value">{{ hb.size }}</ion-col>\n    </ion-row>\n\n    <ion-row class="row-item">\n      <ion-col col-6 class="label">Gross Weight</ion-col>\n      <ion-col col-6 class="value">{{ hb.gross_wt }}</ion-col>\n    </ion-row>\n\n    <ion-row class="row-item">\n      <ion-col col-6 class="label">Less Weight</ion-col>\n      <ion-col col-6 class="value">{{ hb.less_wt }}</ion-col>\n    </ion-row>\n\n    <ion-row class="row-item">\n      <ion-col col-6 class="label">Net Weight</ion-col>\n      <ion-col col-6 class="value">{{ hb.net_wt }}</ion-col>\n    </ion-row>\n\n    <ion-row class="row-item">\n      <ion-col col-6 class="label">\n        Wastage ({{ hb.retail_max_wastage_percehb }}%)\n      </ion-col>\n      <ion-col col-6 class="value">{{ hb.wast_wgt }}</ion-col>\n    </ion-row>\n\n    <ion-row class="row-item">\n      <ion-col col-6 class="label">Making Charge</ion-col>\n      <ion-col col-6 class="value">\n        {{ hb.making_charge | number:\'1.2-2\' }}\n      </ion-col>\n    </ion-row>\n\n    <ion-row class="row-item">\n      <ion-col col-6 class="label">Taxable</ion-col>\n      <ion-col col-6 class="value">\n        {{ hb.taxable | number:\'1.2-2\' }}\n      </ion-col>\n    </ion-row>\n\n    <ion-row class="row-item">\n      <ion-col col-6 class="label">Tax</ion-col>\n      <ion-col col-6 class="value">\n        {{ hb.tax_price | number:\'1.2-2\' }}\n      </ion-col>\n    </ion-row>\n\n    <!-- TOTAL -->\n    <ion-row class="total-row">\n      <ion-col col-6 class="label">Amount</ion-col>\n      <ion-col col-6 class="value amount">\n        {{ hb.sales_value | number:\'1.2-2\' }}\n      </ion-col>\n    </ion-row>\n\n  </ion-card-content>\n\n</ion-card>\n\n  <div style="text-align: center;margin-top:20px;">\n    <button (click)="submit()" ion-button style="background:#000000 !important">Submit</button>\n  </div>\n</div>\n</ion-content>\n<ion-footer style="bottom: 83px !important;">\n  <ion-fab center bottom style="left: 78% !important;" *ngIf="!scannerOn && show != true"> \n    <button ion-fab mini color="primary" style="    width: 95px !important;\n    border-radius: 10px !important;\n    background:#000000 !important;" (click)="openQRScanner(\'tag\')"><ion-icon name="ios-qr-scanner"></ion-icon>SCAN</button>\n  </ion-fab>\n  <!-- <button *ngIf="scannerOn" ion-button icon-start full class="warning" (click)="closeScanner()">Close Scanner</button>   -->\n</ion-footer>  \n<ion-footer style="bottom: 83px !important;">\n  <div *ngIf="show == true"  style="text-align: center;    margin-top: 5px;">\n    Upload Progress : \n  </div>\n  <div *ngIf="show == true" class="progress-outer">\n    <div class="progress-inner" [style.width]="progress + \'%\'">\n        {{progress}}%\n    </div>\n  </div>\n  </ion-footer>'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\edittag2\edittag2.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_5__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_9__providers_retail__["a" /* RetailProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_0__angular_core__["j" /* ChangeDetectorRef */], __WEBPACK_IMPORTED_MODULE_11_ngx_image_compress__["a" /* NgxImageCompressService */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["b" /* AlertController */], __WEBPACK_IMPORTED_MODULE_10__ionic_native_image_picker__["a" /* ImagePicker */], __WEBPACK_IMPORTED_MODULE_9__providers_retail__["a" /* RetailProvider */], __WEBPACK_IMPORTED_MODULE_8__ionic_native_barcode_scanner__["a" /* BarcodeScanner */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_7__ionic_native_file__["a" /* File */], __WEBPACK_IMPORTED_MODULE_6_ionic_cordova_plugin_ratio_crop__["a" /* RatioCrop */], __WEBPACK_IMPORTED_MODULE_4__ionic_native_file_path__["a" /* FilePath */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["x" /* Platform */], __WEBPACK_IMPORTED_MODULE_5__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_3__ionic_native_transfer__["a" /* Transfer */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["a" /* ActionSheetController */], __WEBPACK_IMPORTED_MODULE_2__ionic_native_camera__["a" /* Camera */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */]])
    ], Edittag2Page);
    return Edittag2Page;
}());

//# sourceMappingURL=edittag2.js.map

/***/ }),

/***/ 188:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CusupdatePage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__(26);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ionic_native_date_picker__ = __webpack_require__(66);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__modal_countrymodel_countrymodel__ = __webpack_require__(92);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






/*
  Generated class for the Register page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
*/
var CusupdatePage = /** @class */ (function () {
    function CusupdatePage(navparam, datePicker, platform, builder, nav, events, menu, commonservice, toastCtrl, loadingCtrl, event, modal, common) {
        var _this = this;
        this.navparam = navparam;
        this.datePicker = datePicker;
        this.platform = platform;
        this.builder = builder;
        this.nav = nav;
        this.events = events;
        this.menu = menu;
        this.commonservice = commonservice;
        this.toastCtrl = toastCtrl;
        this.loadingCtrl = loadingCtrl;
        this.event = event;
        this.modal = modal;
        this.common = common;
        this.type = "p";
        this.count = 0;
        this.animateClass = { 'zoom-in': true };
        this.countries = [];
        this.states = [];
        this.cities = [];
        this.submitted = false;
        this.isDisabled = false;
        this.errorMessage = '';
        this.typechecknew = 'password';
        this.showPassnew = false;
        this.typecheckconfirm = 'password';
        this.showPassconfirm = false;
        this.reg = /^[a-zA-Z ]*$/;
        this.emailPattern = "^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$";
        this.gstPattern = "^([0-9]{2}[a-zA-Z]{4}([a-zA-Z]{1}|[0-9]{1})[0-9]{4}[a-zA-Z]{1}([a-zA-Z]|[0-9]){3}){0,15}$";
        this.panPattern = "^([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}?$";
        this.votterPattern = "^([a-zA-Z]){3}([0-9]){7}?$";
        this.rationPattern = "^([a-zA-Z0-9]){8,12}\s*$";
        this.passportPattern = "^[A-PR-WY][1-9]\\d\\s?\\d{4}[1-9]$";
        this.adhar_pattern = "^[2-9]{1}[0-9]{3}\\s[0-9]{4}\\s[0-9]{4}$";
        this.pwd = false;
        this.accept = false;
        this.deviceid = JSON.parse(localStorage.getItem('DeviceData'));
        this.branch_name = '';
        this.branchid = '';
        this.branch_settings = '';
        this.is_branchwise_cus_reg = '';
        this.id_branch = '';
        this.details = { 'countryname': '', 'id_country': '', 'statename': '', 'id_state': '', 'cityname': '', 'id_city': '' };
        this.country = [];
        this.state = [];
        this.city = [];
        this.village = [];
        this.address1 = '';
        this.address2 = '';
        this.passport = '';
        this.dl_number = '';
        this.aadharid = '';
        this.pincode = [];
        // religion: any = [];
        this.gender = [];
        this.cus_type = [];
        this.active = [];
        // date_of_birth: any = [];
        // date_of_wed: any = [];
        this.empData = JSON.parse(localStorage.getItem('empDetail'));
        this.typec = '';
        this.searchdata = '';
        this.selected = 0;
        this.showinput = false;
        this.pincode_show = false;
        console.log(this.empData);
        console.log(this.empData['id_branch']);
        this.nav = nav;
        this.menu = menu;
        this.platform = platform;
        this.registerForm = builder.group({
            'is_vip': [0, __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].required])],
            'firstname': ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].required])],
            'relation_name': [''],
            'relation_type': [''],
            'mobile': ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].required, __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].minLength(10), __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].maxLength(10)])],
            'email': ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].pattern(this.emailPattern)])],
            // 'passwd': ['', Validators.compose([Validators.required, Validators.minLength(8), Validators.maxLength(16)])],
            // 'cpasswd': ['', Validators.compose([Validators.required, Validators.minLength(8), Validators.maxLength(16)])],
            'address1': ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].required]), this.address1 != null ? this.address1['address1'] : null],
            'address2': this.address2 != null ? this.address1['address2'] : null,
            'passport': ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].pattern(this.passportPattern)])],
            'dl_number': [''],
            'aadharid': ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].pattern(this.adhar_pattern)])],
            'pincode': ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].required, __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].minLength(6)]), this.pincode != null ? this.pincode['pincode'] : null],
            'religion': this.religion != null ? this.religion['religion'] : null,
            'gender': this.gender != null ? this.gender['gender'] : null,
            'cus_type': this.cus_type != null ? this.cus_type['cus_type'] : null,
            'active': this.active != null ? this.active['active'] : null,
            'date_of_birth': this.date_of_birth != null ? this.date_of_birth['date_of_birth'] : null,
            'date_of_wed': this.date_of_wed != null ? this.date_of_wed['date_of_wed'] : null,
            'countryname': this.details['countryname'],
            'id_country': this.details['id_country'],
            'statename': this.details['statename'],
            'id_state': this.details['id_state'],
            'cityname': this.details['cityname'],
            'id_city': this.details['id_city'],
            'id_customer': this.navparam.get('id'),
            'village_name': ['', this.village_name != null ? this.village_name['village_name'] : null],
            'id_village': this.details['id_village'],
            //  'branchname': ['', Validators.compose([Validators.required]), this.branchname != null ? this.branchname['branchname'] : null],
            'id_branch': this.empData['id_branch'] != null ? this.empData['id_branch'] : null,
            'id_employee': this.empData['uid'],
            // 'nominee_name': this.nominee_name != null ? this.nominee_name['nominee_name'] : null,
            // 'nominee_relationship': this.nominee_relationship != null ? this.nominee_relationship['nominee_relationship'] : null,
            // 'nominee_mobile': this.nominee_mobile != null ? this.nominee_mobile['nominee_mobile'] : null,
            'company_name': this.company_name != null ? this.company_name['company_name'] : null,
            'gst_number': ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].pattern(this.gstPattern)]), this.gst_number != null ? this.gst_number['gst_number'] : null],
            // 'gst_number': ['',this.gst_number != null ? this.gst_number['gst_number'] : null],
            'pan': ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].pattern(this.panPattern)]), this.pan != null ? this.pan['pan'] : null],
            // 'voterid': ['', Validators.compose([ Validators.pattern(this.votterPattern)]),this.voterid != null ? this.voterid['voterid'] : null],
            // 'rationcard': ['', Validators.compose([ Validators.pattern(this.rationPattern)]),this.rationcard != null ? this.rationcard['rationcard'] : null],
            //'pan': this.pan != null ? this.pan['pan'] : null,
            'voterid': this.voterid != null ? this.voterid['voterid'] : null,
            //'rationcard': this.rationcard != null ? this.rationcard['rationcard'] : null,
            // 'comments': this.comments != null ? this.comments['comments'] : null,
            'marital_status': this.marital_status != null ? this.marital_status['marital_status'] : null,
            'spouse_name': this.spouse_name != null ? this.spouse_name['spouse_name'] : null,
            'spouse_dob': this.spouse_dob != null ? this.spouse_dob['spouse_dob'] : null,
            //  'spouse_wed': this.spouse_wed != null ? this.spouse_wed['spouse_wed'] : null,
            'childrendata': new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["a" /* FormArray */]([]),
            'refperson': this.details['refperson'],
            'refmobile': this.details['refmobile'],
        });
        //  this.add();
        this.firstname = this.registerForm.controls['firstname'];
        this.relation_name = this.registerForm.controls['relation_name'];
        this.relation_type = this.registerForm.controls['relation_type'];
        this.mobile = this.registerForm.controls['mobile'];
        this.email = this.registerForm.controls['email'];
        // this.passwd = this.registerForm.controls['passwd'];
        // this.cpasswd = this.registerForm.controls['cpasswd'];
        this.address1 = this.registerForm.controls['address1'];
        this.address2 = this.registerForm.controls['address2'];
        this.passport = this.registerForm.controls['passport'];
        this.dl_number = this.registerForm.controls['dl_number'];
        this.aadharid = this.registerForm.controls['aadharid'];
        this.pincode = this.registerForm.controls['pincode'];
        this.religion = this.registerForm.controls['religion'];
        this.gender = this.registerForm.controls['gender'];
        this.cus_type = this.registerForm.controls['cus_type'];
        this.active = this.registerForm.controls['active'];
        this.date_of_birth = this.registerForm.controls['date_of_birth'];
        this.date_of_wed = this.registerForm.controls['date_of_wed'];
        this.countryname = this.registerForm.controls['countryname'];
        this.statename = this.registerForm.controls['statename'];
        this.cityname = this.registerForm.controls['cityname'];
        this.village_name = this.registerForm.controls['village_name'];
        this.id_country = this.registerForm.controls['id_country'];
        this.id_state = this.registerForm.controls['id_state'];
        this.id_city = this.registerForm.controls['id_city'];
        this.id_village = this.registerForm.controls['id_village'];
        // this.branchname = this.registerForm.controls['branchname'];
        this.id_branch = this.empData['id_branch'];
        // this.nominee_name = this.registerForm.controls['nominee_name'];
        // this.nominee_relationship = this.registerForm.controls['nominee_relationship'];
        // this.nominee_mobile = this.registerForm.controls['nominee_mobile'];
        this.company_name = this.registerForm.controls['company_name'];
        // this.nominee_name = this.registerForm.controls['nominee_name'];
        this.gst_number = this.registerForm.controls['gst_number'];
        this.pan = this.registerForm.controls['pan'];
        this.voterid = this.registerForm.controls['voterid'];
        // this.rationcard = this.registerForm.controls['rationcard'];
        // this.comments = this.registerForm.controls['comments'];
        this.marital_status = this.registerForm.controls['marital_status'];
        this.spouse_name = this.registerForm.controls['spouse_name'];
        this.spouse_dob = this.registerForm.controls['spouse_dob'];
        //  this.spouse_wed = this.registerForm.controls['spouse_wed'];
        this.refperson = this.registerForm.controls['refperson'];
        this.refmobile = this.registerForm.controls['refmobile'];
        this.is_vip = this.registerForm.controls['is_vip'];
        this.registerForm.get("marital_status").valueChanges.subscribe(function (selectedValue) {
            console.log(' changed');
            _this.onSelectChange(selectedValue);
            console.log(selectedValue);
        });
        var loader = this.loadingCtrl.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        this.common.getcountry().then(function (data) {
            _this.country = data;
            _this.commonservice.getcustomer({ 'id_cus': _this.navparam.get('id') }).then(function (res) {
                _this.registerForm.controls['firstname'].setValue(res['cusdetails']['firstname']);
                _this.registerForm.controls['relation_name'].setValue(res['cusdetails']['relation_name']);
                _this.registerForm.controls['relation_type'].setValue(res['cusdetails']['relation_type']);
                _this.registerForm.controls['email'].setValue(res['cusdetails']['email']);
                _this.registerForm.controls['mobile'].setValue(res['cusdetails']['mobile']);
                _this.registerForm.controls['address1'].setValue(res['cusdetails']['address1']);
                _this.registerForm.controls['address2'].setValue(res['cusdetails']['address2']);
                _this.registerForm.controls['passport'].setValue(res['cusdetails']['passport']);
                _this.registerForm.controls['dl_number'].setValue(res['cusdetails']['dl_number']);
                _this.registerForm.controls['pincode'].setValue(res['cusdetails']['pincode']);
                _this.registerForm.controls['cus_type'].setValue(res['cusdetails']['cus_type']);
                _this.registerForm.controls['active'].setValue(res['cusdetails']['active']);
                _this.registerForm.controls['countryname'].setValue(res['cusdetails']['country']);
                _this.registerForm.controls['statename'].setValue(res['cusdetails']['state']);
                _this.registerForm.controls['cityname'].setValue(res['cusdetails']['city']);
                _this.registerForm.controls['id_country'].setValue(res['cusdetails']['id_country']);
                _this.registerForm.controls['id_state'].setValue(res['cusdetails']['id_state']);
                _this.registerForm.controls['id_city'].setValue(res['cusdetails']['id_city']);
                _this.registerForm.controls['gst_number'].setValue(res['cusdetails']['gst_number']);
                _this.registerForm.controls['pan'].setValue(res['cusdetails']['pan']);
                _this.registerForm.controls['aadharid'].setValue(res['cusdetails']['aadharid']);
                _this.registerForm.controls['gender'].setValue(res['cusdetails']['gender']);
                _this.registerForm.controls['spouse_name'].setValue(res['cusdetails']['spouse_name']);
                _this.registerForm.controls['spouse_dob'].setValue(res['cusdetails']['spouse_dob']);
                _this.registerForm.controls['date_of_birth'].setValue(res['cusdetails']['date_of_birth']);
                _this.registerForm.controls['date_of_wed'].setValue(res['cusdetails']['date_of_wed']);
                _this.registerForm.controls['religion'].setValue(res['cusdetails']['religion']);
                _this.registerForm.controls['marital_status'].setValue(res['cusdetails']['marital_status']);
                _this.registerForm.controls['village_name'].setValue(res['cusdetails']['village_name']);
                _this.registerForm.controls['id_village'].setValue(res['cusdetails']['id_village']);
                _this.registerForm.controls['voterid'].setValue(res['cusdetails']['voterid']);
                _this.registerForm.controls['refperson'].setValue(res['cusdetails']['refer_person']);
                _this.registerForm.controls['refmobile'].setValue(res['cusdetails']['refer_mobile']);
                _this.registerForm.controls['is_vip'].setValue(res['cusdetails']['is_vip']);
                // Set village_name from server response if available
                if (_this.registerForm.controls['village_name'].value) {
                    _this.pincode_show = true; // Show the select area field
                }
                // if(res['cusdetails']['marital_status'] != '1'){
                //   // this.add();
                //   if(res['cusdetails']['childrens'].length > 0){
                //     res['cusdetails']['childrens'].forEach(element => {
                //       const childForm = this.builder.group({
                //         'child_name': element['children_name'],
                //         'child_dob':element['children_dob']
                //       });
                //       this.childrendata = this.registerForm.get('childrendata') as FormArray;
                //       this.childrendata.push(childForm);
                //     });
                //   }
                //   else{
                //     this.add();
                //   }
                //   console.log(this.childrendata);
                //   console.log(this.registerForm.value);
                // }
                _this.registerForm.controls['spouse_name'].setValue(res['cusdetails']['spouse_name']);
                _this.registerForm.controls['spouse_dob'].setValue(res['cusdetails']['spouse_dob']);
                _this.common.getstate(res['cusdetails']['id_country']).then(function (data) {
                    _this.state = data;
                });
                _this.common.getcity(res['cusdetails']['id_state']).then(function (data) {
                    _this.city = data;
                });
                loader.dismiss();
            });
        });
        /*     this.common.getVillages().then(data => {
              this.village = data;
              console.log(this.village);
            })
         */
    }
    CusupdatePage.prototype.newchild = function () {
        return this.builder.group({
            'child_name': this.child_name != null ? this.child_name['child_name'] : null,
            'child_dob': this.child_dob != null ? this.child_dob['child_dob'] : null
        });
    };
    CusupdatePage.prototype.add = function () {
        this.childrendata = this.registerForm.get('childrendata');
        this.childrendata.push(this.newchild());
    };
    CusupdatePage.prototype.delete = function (i) {
        this.childrendata.removeAt(i);
    };
    CusupdatePage.prototype.checkIfMatchingPasswords = function (passwordKey, passwordConfirmationKey) {
        var _this = this;
        console.log('1111111');
        return function (group) {
            var passwordInput = group.controls[passwordKey], passwordConfirmationInput = group.controls[passwordConfirmationKey];
            if (passwordInput.value !== passwordConfirmationInput.value) {
                // this.errorMessage = 'PasswordMismatch';
                _this.pwd = true;
                return passwordConfirmationInput.setErrors({ notEquivalent: true });
            }
            else {
                // this.errorMessage = '';
                _this.pwd = false;
                return passwordConfirmationInput.setErrors(null);
            }
        };
    };
    CusupdatePage.prototype.ionViewDidLoad = function () {
    };
    CusupdatePage.prototype.typecheck = function (data) {
        this.typec = data;
        // let loader = this.loadingCtrl.create({
        //   content: 'Please Wait',
        //   spinner: 'bubbles',
        // });
        // loader.present();
        // this.commonservice.createCustomer({'search':this.searchdata,'type':data}).then(res => {
        //   loader.dismiss();
        // },err=>{
        //   loader.dismiss();
        // });
    };
    CusupdatePage.prototype.segmentChanged = function (e) {
        this.content.scrollToTop();
    };
    CusupdatePage.prototype.next = function (e) {
        this.type = 'o';
        this.content.scrollToTop();
    };
    CusupdatePage.prototype.validateCaptilize = function (e, type) {
        console.log(e['value']);
        console.log(type);
        console.log((e['value']).toUpperCase());
        if (type == 'gstno') {
            this.registerForm.controls['gst_number'].setValue(e['value'].toUpperCase());
            if (this.registerForm.controls['gst_number'].value.length > 15) {
                var v = this.registerForm.controls['gst_number'].value.slice(0, 15);
                this.registerForm.controls['gst_number'].setValue(v.toUpperCase());
            }
        }
        else if (type == 'pancard') {
            this.registerForm.controls['pan'].setValue(e['value'].toUpperCase());
            if (this.registerForm.controls['pan'].value.length > 10) {
                var v = this.registerForm.controls['pan'].value.slice(0, 10);
                this.registerForm.controls['pan'].setValue(v.toUpperCase());
            }
        }
        else if (type == 'voter') {
            this.registerForm.controls['voterid'].setValue(e['value'].toUpperCase());
            if (this.registerForm.controls['voterid'].value.length > 10) {
                var v = this.registerForm.controls['voterid'].value.slice(0, 10);
                this.registerForm.controls['voterid'].setValue(v.toUpperCase());
            }
        }
        else if (type == 'adhar') {
            if (this.registerForm.controls['aadharid'].value.length > 15) {
                var v = this.registerForm.controls['aadharid'].value.slice(0, 15);
                this.registerForm.controls['aadharid'].setValue(v.toUpperCase());
            }
        }
        else if (type == 'pass') {
            this.registerForm.controls['passport'].setValue(e['value'].toUpperCase());
            console.log('000000');
        }
        else if (type == 'dl_num') {
            if (this.registerForm.controls['dl_number'].value.length > 15) {
                var v = this.registerForm.controls['dl_number'].value.slice(0, 15);
                this.registerForm.controls['dl_number'].setValue(v.toUpperCase());
            }
        }
        else if (type == 'refermob') {
            if (this.registerForm.controls['refmobile'].value.length > 10) {
                var v = this.registerForm.controls['refmobile'].value.slice(0, 10);
                this.registerForm.controls['refmobile'].setValue(v.toUpperCase());
            }
        }
        else {
            if (type == 'ration') {
                this.registerForm.controls['rationcard'].setValue(e['value'].toUpperCase());
            }
        }
    };
    /* for footer as hide in default. it's assigned in app.components.ts */
    CusupdatePage.prototype.ionViewWillEnter = function () {
        var user = false;
        this.events.publish('user:created', user);
        this.events.publish('lp', false);
    };
    CusupdatePage.prototype.shownewPassword = function () {
        this.showPassnew = !this.showPassnew;
        if (this.showPassnew) {
            this.typechecknew = 'text';
        }
        else {
            this.typechecknew = 'password';
        }
    };
    CusupdatePage.prototype.showconfirmPassword = function () {
        this.showPassconfirm = !this.showPassconfirm;
        if (this.showPassconfirm) {
            this.typecheckconfirm = 'text';
        }
        else {
            this.typecheckconfirm = 'password';
        }
    };
    // birth(type,index) {
    //   this.datePicker.show({
    //     date: new Date(),
    //     mode: 'date',
    //     androidTheme: this.datePicker.ANDROID_THEMES.THEME_HOLO_DARK
    //   }).then(date => {
    //     var ddd = date.getDate();
    //     var mmm = date.getMonth() + 1;
    //     var yy = date.getFullYear();
    //     //var today = new Date(yy+"-"+mmm+"-"+ddd).toISOString().substring(0, 10);
    //     var today = date.toISOString().substring(0, 10);
    //     //this.fromdate= today;
    //     this.details['date_of_birth'] = yy + "-" + mmm + "-" + ddd;
    //     this.details['spouse_dob'] = yy + "-" + mmm + "-" + ddd;
    //     this.details['child_dob'] = yy + "-" + mmm + "-" + ddd;
    //     if(type =='common'){
    //       this.registerForm.controls['date_of_birth'].setValue(yy + "-" + mmm + "-" + ddd);
    //     }else if(type =='spouse'){
    //       this.registerForm.controls['spouse_dob'].setValue(yy + "-" + mmm + "-" + ddd);
    //     }else{
    //       // this.registerForm.controls['child_dob'].setValue(yy + "-" + mmm + "-" + ddd);
    //       ((this.registerForm.get('childrendata') as FormArray).at(index) as FormGroup).get('child_dob').patchValue(yy + "-" + mmm + "-" + ddd);
    //     }
    //   });
    // }
    // wed(type) {
    //   this.datePicker.show({
    //     date: new Date(),
    //     mode: 'date',
    //     androidTheme: this.datePicker.ANDROID_THEMES.THEME_HOLO_DARK
    //   }).then(date => {
    //     var ddd = date.getDate();
    //     var mmm = date.getMonth() + 1;
    //     var yy = date.getFullYear();
    //     //var today = new Date(yy+"-"+mmm+"-"+ddd).toISOString().substring(0, 10);
    //     var today = date.toISOString().substring(0, 10);
    //     this.details.date_of_wed = yy + "-" + mmm + "-" + ddd;
    //   //  this.details.spouse_wed = yy + "-" + mmm + "-" + ddd;
    //    // this.registerForm.controls['date_of_wed'].setValue(yy + "-" + mmm + "-" + ddd);
    //    this.registerForm.controls['date_of_wed'].setValue(yy + "-" + mmm + "-" + ddd);
    //   });
    // }
    CusupdatePage.prototype.birth = function (type, index) {
        var _this = this;
        this.datePicker.show({
            date: new Date(),
            mode: 'date',
            androidTheme: this.datePicker.ANDROID_THEMES.THEME_HOLO_DARK
        }).then(function (date) {
            var ddd = ("0" + date.getDate()).slice(-2); // 01  01, 5  05
            var mmm = ("0" + (date.getMonth() + 1)).slice(-2); // 01  01, 9  09
            var yy = date.getFullYear();
            var finalDate = yy + "-" + mmm + "-" + ddd;
            _this.details['date_of_birth'] = finalDate;
            _this.details['spouse_dob'] = finalDate;
            _this.details['child_dob'] = finalDate;
            console.log("DOB: ", finalDate);
            if (type == 'common') {
                _this.registerForm.controls['date_of_birth'].setValue(finalDate);
            }
            else if (type == 'spouse') {
                _this.registerForm.controls['spouse_dob'].setValue(finalDate);
            }
            else {
                _this.registerForm.get('childrendata')
                    .at(index)
                    .get('child_dob')
                    .patchValue(finalDate);
            }
        });
    };
    CusupdatePage.prototype.wed = function (type) {
        var _this = this;
        this.datePicker.show({
            date: new Date(),
            mode: 'date',
            androidTheme: this.datePicker.ANDROID_THEMES.THEME_HOLO_DARK
        }).then(function (date) {
            var dd = ("0" + date.getDate()).slice(-2); // 0131
            var mm = ("0" + (date.getMonth() + 1)).slice(-2); // 0112
            var yy = date.getFullYear(); // 2025
            var finalDate = yy + "-" + mm + "-" + dd; // yyyy-mm-dd (25-12-2025)
            _this.details.date_of_wed = finalDate;
            _this.registerForm.controls['date_of_wed'].setValue(finalDate);
        });
    };
    CusupdatePage.prototype.onSelectChange = function (selectedValue) {
        console.log(selectedValue);
        this.selected = selectedValue;
        console.log(this.selected);
    };
    CusupdatePage.prototype.onSubmit = function (values) {
        var _this = this;
        console.log(this.registerForm);
        console.log(values);
        /*     var proceed = (this.branch_settings == 1 && this.is_branchwise_cus_reg == 1) ? true : false;
            console.log(proceed);
         */
        if (this.registerForm.get('is_vip').valid || this.registerForm.get('cus_type').value == 2) {
            if (this.registerForm.get('firstname').valid) {
                if (this.registerForm.get('email').valid) {
                    if (this.registerForm.get('mobile').valid) {
                        // if (this.registerForm.get('passwd').valid && this.registerForm.get('cpasswd').valid && this.registerForm.controls['passwd'].value == this.registerForm.controls['cpasswd'].value) {
                        if (this.registerForm.controls['pincode'].valid) {
                            if (this.registerForm.controls['address1'].valid) {
                                if (this.registerForm.controls['gst_number'].valid) {
                                    if (this.registerForm.controls['pan'].valid) {
                                        //   if(this.registerForm.controls['voterid'].valid){
                                        //     if(this.registerForm.controls['rationcard'].valid){
                                        this.errorMessage = 'Doing Register...';
                                        this.isDisabled = true;
                                        var loader_1 = this.loadingCtrl.create({
                                            content: 'Please Wait',
                                            spinner: 'bubbles',
                                        });
                                        loader_1.present();
                                        var postData = Object.assign({}, values);
                                        console.log(JSON.stringify(postData));
                                        this.commonservice.updatecustomer(JSON.stringify(postData)).then(function (res) {
                                            if (res) {
                                                console.log(res);
                                                if (res['status']) {
                                                    var toast = _this.toastCtrl.create({
                                                        message: res.msg,
                                                        duration: 6000
                                                    });
                                                    toast.present();
                                                    _this.nav.pop();
                                                    // this.nav.setRoot(HomePage, { data: this.registerForm.value, page: 'new' });
                                                }
                                                else {
                                                    var toast = _this.toastCtrl.create({
                                                        message: res.msg,
                                                        duration: 6000
                                                    });
                                                    toast.present();
                                                    _this.errorMessage = res.msg;
                                                    _this.isDisabled = false;
                                                }
                                                loader_1.dismiss();
                                            }
                                        }, function (error) {
                                            _this.isDisabled = false;
                                            loader_1.dismiss();
                                        });
                                        // }
                                        // else {
                                        //   console.log('ration');
                                        //   let toast = this.toastCtrl.create({
                                        //     message: 'Please Enter Correct RationCard',
                                        //     position: 'bottom',
                                        //     duration: 6000
                                        //   });
                                        //   toast.present();
                                        // }
                                        // }
                                        // else {
                                        //   console.log('voter id');
                                        //   let toast = this.toastCtrl.create({
                                        //     message: 'Please Enter Correct VoterCard',
                                        //     position: 'bottom',
                                        //     duration: 6000
                                        //   });
                                        //   toast.present();
                                        // }
                                    }
                                    else {
                                        console.log('pan');
                                        var toast = this.toastCtrl.create({
                                            message: 'Please Enter Correct PanCard',
                                            position: 'bottom',
                                            duration: 6000
                                        });
                                        toast.present();
                                    }
                                }
                                else {
                                    console.log('gst');
                                    var toast = this.toastCtrl.create({
                                        message: 'Please Enter Correct Gst Number',
                                        position: 'bottom',
                                        duration: 6000
                                    });
                                    toast.present();
                                }
                            }
                            else {
                                console.log('village');
                                var toast = this.toastCtrl.create({
                                    message: 'Please Enter Address',
                                    position: 'bottom',
                                    duration: 6000
                                });
                                toast.present();
                            }
                        }
                        else {
                            console.log('tc');
                            var toast = this.toastCtrl.create({
                                message: 'Enter Valid Pincode',
                                position: 'bottom',
                                duration: 6000
                            });
                            toast.present();
                        }
                        // }
                        // else {
                        //   if (this.registerForm.controls['passwd'].value != this.registerForm.controls['cpasswd'].value) {
                        //     let toast = this.toastCtrl.create({
                        //       message: 'Password and Confirm Password Mismatch',
                        //       position: 'bottom',
                        //       duration: 6000
                        //     });
                        //     toast.present();
                        //   }
                        //   else {
                        //     let toast = this.toastCtrl.create({
                        //       message: 'Minimum 8 to 16 Characters Only Allowed',
                        //       position: 'bottom',
                        //       duration: 6000
                        //     });
                        //     toast.present();
                        //   }
                        // }
                    }
                    else {
                        var toast = this.toastCtrl.create({
                            message: ' Enter Valid Mobile Number',
                            position: 'bottom',
                            duration: 6000
                        });
                        toast.present();
                    }
                }
                else {
                    var toast = this.toastCtrl.create({
                        message: 'Enter Valid Email Id',
                        position: 'bottom',
                        duration: 6000
                    });
                    toast.present();
                }
            }
            else {
                var toast = this.toastCtrl.create({
                    message: 'FirstName Must Contain Alphabets Only',
                    position: 'bottom',
                    duration: 6000
                });
                toast.present();
            }
        }
        else {
            var toast = this.toastCtrl.create({
                message: 'Please Select VIP',
                position: 'bottom',
                duration: 6000
            });
            toast.present();
        }
    };
    CusupdatePage.prototype.scrollToTop = function () {
        this.content.scrollToTop();
    };
    CusupdatePage.prototype.getmodal = function (name, details) {
        var _this = this;
        var mod = this.modal.create(__WEBPACK_IMPORTED_MODULE_5__modal_countrymodel_countrymodel__["a" /* CountrymodelPage */], { data: details, name: name });
        mod.present();
        mod.onDidDismiss(function (dataa, name) {
            if (dataa != undefined) {
                var loader_2 = _this.loadingCtrl.create({
                    content: 'Please Wait',
                    spinner: 'bubbles',
                });
                loader_2.present();
                if (name == 'Country') {
                    _this.common.getstate(dataa['id_country']).then(function (data) {
                        _this.registerForm.controls['countryname'].setValue(dataa['name']);
                        _this.registerForm.controls['id_country'].setValue(dataa['id_country']);
                        _this.registerForm.controls['statename'].setValue('');
                        _this.registerForm.controls['id_state'].setValue('');
                        _this.state = data;
                        loader_2.dismiss();
                    });
                }
                if (name == 'State') {
                    _this.common.getcity(dataa['id_state']).then(function (data) {
                        _this.registerForm.controls['statename'].setValue(dataa['name']);
                        _this.registerForm.controls['id_state'].setValue(dataa['id_state']);
                        _this.registerForm.controls['cityname'].setValue('');
                        _this.registerForm.controls['id_city'].setValue('');
                        _this.city = data;
                        loader_2.dismiss();
                    });
                }
                if (name == 'City') {
                    _this.registerForm.controls['cityname'].setValue(dataa['name']);
                    _this.registerForm.controls['id_city'].setValue(dataa['id_city']);
                    loader_2.dismiss();
                }
                if (name == 'Village') {
                    _this.registerForm.controls['village_name'].setValue(dataa['village_name']);
                    _this.registerForm.controls['id_village'].setValue(dataa['id_village']);
                    loader_2.dismiss();
                }
            }
        });
    };
    CusupdatePage.prototype.usertypecheck = function () {
        console.log('******');
        if (this.registerForm.controls["cus_type"].value == '2') {
            console.log(11111);
            this.registerForm.controls["gst_number"].setValidators([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].required, __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].pattern(this.gstPattern)]);
            this.registerForm.controls['gst_number'].updateValueAndValidity();
        }
        else if (this.registerForm.controls["cus_type"].value == '1') {
            console.log(22222);
            // this.registerForm.controls['gst_number'].clearValidators();
            this.registerForm.controls["gst_number"].setValidators([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].pattern(this.gstPattern)]);
            this.registerForm.controls['gst_number'].updateValueAndValidity();
        }
    };
    CusupdatePage.prototype.texto = function (event) {
        console.log(event);
        var NUMBER_REGEXP = /^[a-zA-Z ]*$/;
        var newValue = event.target.value;
        var regExp = new RegExp(NUMBER_REGEXP);
        console.log(regExp);
        var withNoDigits = event.target.value.replace(/[0-9]/g, '');
        this.registerForm.controls['firstname'].setValue(withNoDigits);
        //  if (!regExp.test(newValue)) {
        //   let v:any = this.registerForm.controls['firstname'].value.slice(0, -1);
        //   this.registerForm.controls['firstname'].setValue(v);
        //  }
    };
    CusupdatePage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
        this.events.publish('lp', true);
    };
    CusupdatePage.prototype.pinserch = function (e) {
        var _this = this;
        console.log("Pincode length:", e.length);
        // Reset the village selection when the pincode is edited
        this.pincode_show = false;
        this.registerForm.controls['id_village'].setValue('');
        this.registerForm.controls['village_name'].setValue('');
        if (e && e.length == 6) {
            var post = {
                'pin_code': e
            };
            this.common.getarea(post).then(function (data) {
                if (data && data.length > 0) {
                    _this.pincode_show = true;
                    _this.village = data;
                    console.log("Fetched Villages:", _this.village);
                }
                else {
                    _this.pincode_show = false;
                }
            });
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_8" /* ViewChild */])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* Content */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* Content */])
    ], CusupdatePage.prototype, "content", void 0);
    CusupdatePage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-cusupdate',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\cusupdate\cusupdate.html"*/'<ion-header>\n  <ion-navbar>\n    <!-- <button ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button> -->\n    <ion-title  style="text-align: center;\n    margin-right: 15%;"><img class="header-logo" src=\'assets/header.svg\'/></ion-title>\n  </ion-navbar>\n</ion-header>\n\n\n<ion-content text-center padding>\n    <!-- <ion-row>\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col">\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Search Phone No or Estimation No <span class="required">*</span></ion-label>\n            <ion-input type="text" [(ngModel)]="searchdata"></ion-input>\n            <button [ngClass]="typec == \'1\' ? \'enable\':\'disable\'" item-right ion-button margin-top color="light" (click)="typecheck(\'1\')"><ion-icon name="phone-portrait"></ion-icon></button>\n            <button [ngClass]="typec == \'2\' ? \'enable\':\'disable\'" item-right ion-button margin-top color="light" (click)="typecheck(\'2\')"><ion-icon name="calculator"></ion-icon></button>\n          </ion-item>\n        </ion-col>\n        </ion-row> -->\n    <!-- <ion-segment [(ngModel)]="type" mode="ios" color="label-color">\n        <ion-segment-button value="p">\n            Personal\n        </ion-segment-button>\n        <ion-segment-button value="o">\n            Others\n        </ion-segment-button>\n    </ion-segment> -->\n    <div style="margin-bottom: 100px;">\n\n    <h5>Edit Customer</h5>\n    <form [formGroup]="registerForm" novalidate padding>\n\n        <span>\n      <ion-row *ngIf="registerForm.controls[\'cus_type\'].value == 1">\n            <ion-col col-4 style="text-align: left;margin-left: -5px;">\n        <ion-label style="color: black !important;">VIP<span class="required"> *</span></ion-label>\n            </ion-col>\n            <ion-col col-8>\n        <ion-list radio-group [formControl]="is_vip" style="display: flex; flex-direction: row;">\n          <ion-item no-lines style="margin-right: 15px;">\n            <ion-label style="color: black !important;">Yes</ion-label>\n            <ion-radio value="1" slot="start"></ion-radio>\n          </ion-item>\n          <ion-item no-lines>\n            <ion-label style="color: black !important;">No</ion-label>\n            <ion-radio value="0" slot="start"></ion-radio>\n          </ion-item>\n        </ion-list>\n      </ion-col>\n        </ion-row>\n            <!-- <ion-item no-padding>\n                <ion-label color="label-color" stacked>First Name<span class="required"> *</span></ion-label>\n                <ion-input type="text" [formControl]="firstname" onkeypress="return (event.charCode > 64 && event.charCode < 91) || (event.charCode > 96 && event.charCode < 123)"></ion-input>\n            </ion-item> -->\n            <ion-label style="text-align: left;" color="label-color" stacked>First Name<span class="required"> *</span></ion-label>\n            <input type="text" style="font-size: 1.6rem;\n            font-weight: normal;color: #000;padding-top: 10px;\n    padding-bottom: 10px;margin: 5px 0px;width: calc(100% - 0px - 0px);border:none !important;background:transparent;    border-bottom: 1px solid lightgray !important;"   [formControl]="firstname" (keyup)="texto($event)"/>\n\n            <!-- <ion-item no-padding>\n                <ion-label color="label-color" stacked>Relation Type</ion-label>\n                <ion-select [formControl]="relation_type">\n                    <ion-option value="1">S/O</ion-option>\n                    <ion-option value="2">D/O</ion-option>\n                    <ion-option value="3">W/O</ion-option>\n                </ion-select>\n            </ion-item>\n            <ion-item no-padding>\n                <ion-label color="label-color" stacked>Relation Name</ion-label>\n                <ion-input type="text" [formControl]="relation_name"></ion-input>\n            </ion-item> -->\n            <ion-item no-padding>\n                <ion-label color="label-color" stacked>Mobile<span class="required"> *</span></ion-label>\n                <ion-input type="tel" [formControl]="mobile" placeholder="10 Digit Mobile Number" maxlength="10">\n                </ion-input>\n            </ion-item>\n            <ion-item no-padding>\n                <ion-label color="label-color" stacked>Email</ion-label>\n                <ion-input type="email" [formControl]="email" placeholder="youremailid@domain.com"></ion-input>\n            </ion-item>\n\n\n            <ion-item no-padding>\n                <ion-label color="label-color" stacked>Gender<span class="required"> *</span></ion-label>\n                <ion-select [formControl]="gender">\n                    <ion-option value="0">Male</ion-option>\n                    <ion-option value="1">Female</ion-option>\n                    <ion-option value="3">Others</ion-option>\n                </ion-select>\n            </ion-item>\n\n\n            <!-- <ion-item no-padding>\n                <ion-label color="label-color" stacked>Marital Status</ion-label>\n                <ion-select  [formControl]="marital_status">\n                    <ion-option value="1">Single</ion-option>\n                    <ion-option value="2">Married</ion-option>\n                    <ion-option value="3">Others</ion-option>\n                </ion-select>\n            </ion-item>\n\n            <ion-item no-padding *ngIf="selected == 2 || selected == 3 ">\n                <ion-label color="label-color" stacked>Spouse Name</ion-label>\n                <ion-input type="text" placeholder="Spouse Name" [formControl]="spouse_name"></ion-input>\n            </ion-item>\n\n            <ion-item no-padding *ngIf="selected == 2 || selected == 3 ">\n                <ion-label color="label-color" stacked>Spouse DOB</ion-label>\n                <ion-input readonly="true" class="ion_datetime" [formControl]="spouse_dob" displayFormat="DD-MM-YYYY" placeholder="Spouse DOB"\n                    (tap)="birth(\'spouse\',\'\')"></ion-input>\n            </ion-item> -->\n\n        <!--     <ion-item no-padding *ngIf="selected == 2 || selected == 3 ">\n                <ion-label color="label-color" stacked>Wedding Date</ion-label>\n                <ion-input readonly="true" class="ion_datetime" [formControl]="spouse_wed" displayFormat="DD-MM-YYYY" placeholder="Wedding date"\n                    (tap)="wed(\'spouse\')"></ion-input>\n            </ion-item> -->\n\n            <!-- <div formArrayName="childrendata" *ngIf="(selected == 2 || selected == 3)">\n                <ion-label  color="label-color" align="left" stacked>Add Childrens  </ion-label>\n                <div *ngFor="let p of registerForm.get(\'childrendata\').controls; let i = index;">\n                    <div [formGroupName]="i">\n                        <ion-row no-padding>\n                            <ion-col col-5>\n                                <ion-input type="text" formControlName="child_name" placeholder="name"\n                                    style="border-bottom: 1px solid gray;"></ion-input>\n                            </ion-col>\n                            <ion-col col-5>\n                                <ion-input readonly="true" class="ion_datetime" formControlName="child_dob" displayFormat="DD-MM-YYYY" placeholder="DOB"\n                                (tap)="birth(\'child\',i)" style="border-bottom: 1px solid gray;"></ion-input>\n                            </ion-col>\n                            <ion-col col-1 style="margin: auto;">\n                                <ion-icon (click)="add(i)"\n                                    style="color: red;text-transform: initial;float: right;font-size: 2rem;" name="add">\n                                </ion-icon>\n                            </ion-col>\n                            <ion-col col-1 style="margin: auto;" *ngIf="i != 0">\n                                <ion-icon (click)="delete(i)"\n                                    style="color: red;text-transform: initial;float: right;font-size: 2rem;"\n                                    name="trash"></ion-icon>\n                            </ion-col>\n                        </ion-row>\n                    </div>\n                </div>\n            </div>    -->\n\n\n            <!-- <ion-item no-padding>\n                <ion-label color="label-color" stacked>Email</ion-label>\n                <ion-input type="email" [formControl]="email" placeholder="youremailid@domain.com"></ion-input>\n            </ion-item>  -->\n            <!-- <ion-item no-padding>\n                <ion-label color="label-color" stacked>Password<span class="required"> *</span></ion-label>\n                <ion-input [formControl]="passwd" type="{{typechecknew}}"></ion-input>\n                <button style="padding: 0px !important" *ngIf="!showPassnew" ion-button clear color="dark" type="button" item-right (click)="shownewPassword()"> <ion-icon style="background:none !important;"  name="eye"></ion-icon></button>\n                <button style="padding: 0px !important" *ngIf="showPassnew" ion-button clear color="dark" type="button" item-right (click)="shownewPassword()">  <ion-icon style="background:none !important;" name="eye-off"></ion-icon></button>\n            </ion-item>\n            <ion-item no-padding>\n                <ion-label color="label-color" stacked>Confirm Password<span class="required"> *</span></ion-label>\n                <ion-input [formControl]="cpasswd" type="{{typecheckconfirm}}"></ion-input>\n                <button style="padding: 0px !important" *ngIf="!showPassconfirm" ion-button clear color="dark" type="button" item-right (click)="showconfirmPassword()"> <ion-icon style="background:none !important;"  name="eye"></ion-icon></button>\n                <button style="padding: 0px !important" *ngIf="showPassconfirm" ion-button clear color="dark" type="button" item-right (click)="showconfirmPassword()">  <ion-icon style="background:none !important;" name="eye-off"></ion-icon></button>\n            </ion-item>   -->\n            <ion-item no-padding>\n                <ion-label color="label-color" stacked>Address 1<span class="required"> *</span></ion-label>\n                <ion-input type="text" [formControl]="address1"></ion-input>\n            </ion-item>\n            <ion-item no-padding>\n                <ion-label color="label-color" stacked>Address 2</ion-label>\n                <ion-input type="text" [formControl]="address2"></ion-input>\n            </ion-item>\n\n            <ion-item no-padding>\n              <ion-label color="label-color" stacked>Passport</ion-label>\n              <ion-input type="text" [formControl]="passport" (ionChange)="validateCaptilize(passport,\'pass\')" ></ion-input>\n          </ion-item>\n\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>DL Number</ion-label>\n            <ion-input type="text" [formControl]="dl_number" (ionChange)="validateCaptilize(dl_number,\'dl_num\')" ></ion-input>\n        </ion-item>\n            <ion-item no-padding>\n                <ion-label color="label-color" stacked>Country<span class="required"> *</span></ion-label>\n                <ion-input  (tap)="getmodal(\'Country\',country)" type="text" readonly=\'true\' [formControl]="countryname" ></ion-input>\n                <button item-right ion-button clear color="dark" class="no-padding no-margin"  ><ion-icon name="arrow-dropdown"></ion-icon></button>\n            </ion-item>\n            <ion-item no-padding>\n                <ion-label color="label-color" stacked>State<span class="required"> *</span></ion-label>\n                <ion-input  (tap)="getmodal(\'State\',state)" [formControl]="statename" type="text" readonly=\'true\' ></ion-input>\n                <button item-right ion-button clear color="dark" class="no-padding no-margin"  ><ion-icon name="arrow-dropdown"></ion-icon></button>\n            </ion-item>\n            <ion-item no-padding>\n                <ion-label color="label-color" stacked>City<span class="required"> *</span></ion-label>\n                <ion-input  (tap)="getmodal(\'City\',city)" [formControl]="cityname" type="text" readonly=\'true\' (click)="getmodal(\'City\',city)"></ion-input>\n                <button item-right ion-button clear color="dark" class="no-padding no-margin"  ><ion-icon name="arrow-dropdown"></ion-icon></button>\n            </ion-item>\n            <!-- <ion-item no-padding>\n                <ion-label color="label-color" stacked>Village</ion-label>\n                <ion-input [formControl]="village_name" (tap)="getmodal(\'Village\',village)" type="text" readonly=\'true\'></ion-input>\n                <button item-right ion-button clear color="dark" class="no-padding no-margin" (click)="getmodal(\'Village\',village)" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n            </ion-item>          -->\n          <!--   <ion-item no-padding>\n                <ion-label color="label-color" stacked>Pincode<span class="required"> *</span></ion-label>\n                <ion-input type="tel" [formControl]="pincode" maxlength="6"></ion-input>\n            </ion-item> -->\n            <ion-item no-padding>\n                <ion-label color="label-color" stacked>Pincode<span class="required"> *</span></ion-label>\n                <ion-input type="tel" [formControl]="pincode" (ngModelChange)="pinserch($event)" maxlength="6"></ion-input>\n            </ion-item>\n    \n            <ion-item no-padding *ngIf="pincode_show || registerForm.controls[\'village_name\']?.value">\n              <ion-label color="label-color" stacked>Select Area<span class="required"> *</span></ion-label>\n              <ion-input [formControl]="village_name" type="text" readonly=\'true\' (tap)="getmodal(\'Village\',village)"></ion-input>\n              <button item-right ion-button clear color="dark" class="no-padding no-margin"\n                  >\n                  <ion-icon name="arrow-dropdown"></ion-icon>\n              </button>\n          </ion-item>\n            <!-- <ion-item no-padding>\n                <ion-label color="label-color" stacked>Select Religion</ion-label>\n                <ion-select [formControl]="religion">\n                    <ion-option value="1">Hindu</ion-option>\n                    <ion-option value="2">Muslim</ion-option>\n                    <ion-option value="3">Christian</ion-option>\n\n                </ion-select>\n            </ion-item>   -->\n             <!--<ion-item no-padding>\n                <ion-label color="label-color" stacked>Gender</ion-label>\n                <ion-select [formControl]="gender">\n                    <ion-option value="0">Male</ion-option>\n                    <ion-option value="1">Female</ion-option>\n                    <ion-option value="3">Others</ion-option>\n                </ion-select>\n            </ion-item>   -->\n            <ion-item no-padding>\n                <ion-label color="label-color" stacked>Customer Type</ion-label>\n                <ion-select [formControl]="cus_type" (ionChange)="usertypecheck()">\n                    <ion-option value="1">Individual</ion-option>\n                    <ion-option value="2">Company</ion-option>\n                </ion-select>\n            </ion-item>\n            <ion-item *ngIf="registerForm.controls[\'cus_type\'].value == 2" no-padding>\n              <ion-label color="label-color" stacked>GST Number </ion-label>\n              <ion-input type="text" [formControl]="gst_number"  maxlength="15" (ionChange)="validateCaptilize(gst_number,\'gstno\')"></ion-input>\n          </ion-item>\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Aadhaar Card No </ion-label>\n            <ion-input type="text" [formControl]="aadharid"  (ionChange)="validateCaptilize(aadharid,\'adhar\')"></ion-input>\n        </ion-item>\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Pancard No </ion-label>\n            <ion-input type="text" [formControl]="pan" maxlength="10" (ionChange)="validateCaptilize(pan,\'pancard\')"></ion-input>\n        </ion-item>\n        <ion-item no-padding>\n            <ion-label color="label-color" stacked>Voter ID No </ion-label>\n            <ion-input type="text" [formControl]="voterid"  maxlength="10" (ionChange)="validateCaptilize(voterid,\'voter\')"></ion-input>\n        </ion-item>\n            <ion-item no-padding>\n                <ion-label color="label-color" stacked>Date Of Birth</ion-label>\n                <ion-input readonly="true" class="ion_datetime"  [formControl]="date_of_birth" displayFormat="DD-MM-YYYY" (tap)="birth(\'common\',\'\')"></ion-input>\n            </ion-item>\n            <ion-item no-padding>\n                <ion-label color="label-color" stacked>Date Of Wed</ion-label>\n                <ion-input readonly="true" class="ion_datetime"  [formControl]="date_of_wed" displayFormat="DD-MM-YYYY" (tap)="wed()"></ion-input>\n            </ion-item>\n\n            <ion-item no-padding>\n                <ion-label color="label-color" stacked>Refered Person</ion-label>\n                <ion-input type="text" [formControl]="refperson"></ion-input>\n            </ion-item>\n            <ion-item no-padding>\n                <ion-label color="label-color" stacked>Refered Person Mobile</ion-label>\n                <ion-input type="tel" [formControl]="refmobile" placeholder="10 Digit Mobile Number" (ionChange)="validateCaptilize(refmobile,\'refermob\')" maxlength="10">\n                </ion-input>\n            </ion-item>\n\n<!--         <ion-row style="padding-left: 10px;padding-right: 0; position: relative; font-weight: normal;" *ngIf="branchSettings[\'settings\'][\'branch_settings\'] == 1 && branchSettings[\'settings\'][\'is_branchwise_cus_reg\'] == 1 ">\n          <ion-col col-10 style="margin: auto;">\n              <ion-input [formControl]="branchname" (tap)="openmodal()" type="text" readonly=\'true\' placeholder="Select Branch" style="font-size: medium;"></ion-input>\n          </ion-col>\n          <ion-col col-2>\n              <ion-icon (tap)="openmodal()" style="margin-top: 10px !important;" name="arrow-dropdown"></ion-icon>\n          </ion-col>\n      </ion-row> -->\n\n  </span>\n\n        <!-- <span *ngIf="type == \'o\'">\n            <ion-item no-padding>\n                <ion-label color="label-color" stacked>Nominee Name </ion-label>\n                <ion-input type="text" [formControl]="nominee_name" ></ion-input>\n            </ion-item>\n\n            <ion-item no-padding>\n                <ion-label color="label-color" stacked>Relationship </ion-label>\n                <ion-input type="text" [formControl]="nominee_relationship" ></ion-input>\n            </ion-item>\n\n            <ion-item no-padding>\n                <ion-label color="label-color" stacked>Mobile </ion-label>\n                <ion-input type="number" [formControl]="nominee_mobile" placeholder="10 Digit Mobile Number" maxlength="10"></ion-input>\n            </ion-item>\n\n            <ion-item no-padding>\n                <ion-label color="label-color" stacked>Company Name </ion-label>\n                <ion-input type="text" [formControl]="company_name" ></ion-input>\n            </ion-item>\n\n            <ion-item no-padding>\n                <ion-label color="label-color" stacked>GST Number </ion-label>\n                <ion-input type="text" [formControl]="gst_number"  maxlength="15" (ionChange)="validateCaptilize(gst_number,\'gstno\')"></ion-input>\n            </ion-item>\n\n\n            <ion-item no-padding>\n                <ion-label color="label-color" stacked>Pancard No </ion-label>\n                <ion-input type="text" [formControl]="pan" maxlength="10" (ionChange)="validateCaptilize(pan,\'pancard\')"></ion-input>\n            </ion-item>\n\n            <ion-item no-padding>\n                <ion-label color="label-color" stacked>Voter ID No </ion-label>\n                <ion-input type="text" [formControl]="voterid"  maxlength="10" (ionChange)="validateCaptilize(voterid,\'voter\')"></ion-input>\n            </ion-item>\n\n            <ion-item no-padding>\n                <ion-label color="label-color" stacked>Rationcard No </ion-label>\n                <ion-input type="text" [formControl]="rationcard" maxlength="15" (ionChange)="validateCaptilize(rationcard,\'ration\')"></ion-input>\n            </ion-item>\n\n            <ion-item no-padding>\n                <ion-label color="label-color" stacked>Comments </ion-label>\n                <ion-textarea [formControl]="comments" placeholder="Enter a description"></ion-textarea>\n            </ion-item>\n        </span> -->\n\n\n        <!-- <ion-row style="border: none !important;" *ngIf="type == \'o\'">\n            <ion-col style="text-align: -webkit-center !important;">\n                <button (click)="onSubmit(registerForm.value)" ion-button class="joinbtn" block color="dark">\n                  Submit</button>\n            </ion-col>\n        </ion-row> -->\n\n    </form>\n</div>\n</ion-content>\n<ion-footer>\n    <!-- <button ion-button *ngIf="type != \'o\'" icon-start full class="theme-btn" (click)="next($event)">Next</button> -->\n    <button ion-button  icon-start full class="theme-btn" (click)="onSubmit(registerForm.value)">Save</button>\n</ion-footer>\n\n\n\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\cusupdate\cusupdate.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */], __WEBPACK_IMPORTED_MODULE_4__ionic_native_date_picker__["a" /* DatePicker */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["x" /* Platform */], __WEBPACK_IMPORTED_MODULE_2__angular_forms__["b" /* FormBuilder */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["r" /* MenuController */], __WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */], __WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */]])
    ], CusupdatePage);
    return CusupdatePage;
}());

//# sourceMappingURL=cusupdate.js.map

/***/ }),

/***/ 189:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AddQuickCus; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__(26);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ionic_native_date_picker__ = __webpack_require__(66);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__modal_countrymodel_countrymodel__ = __webpack_require__(92);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__home_home__ = __webpack_require__(31);
// import { Component } from '@angular/core';
// import { IonicPage, NavController, NavParams,ViewController,LoadingController,ModalController,ToastController } from 'ionic-angular';
// import { CommonProvider } from '../../../providers/common';
// import { CusSearchPage } from '../customer/customer';
// import { CountrymodelPage } from '../countrymodel/countrymodel';
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// /**
//  * Generated class for the AddQuickCus page.
//  *
//  * See https://ionicframework.com/docs/components/#navigation for more info on
//  * Ionic pages and navigation.
//  */
// // @IonicPage()
// @Component({
//   selector: 'page-add-quick-cus',
//template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\modal\add-quick-cus\add-quick-cus.html"*/'<!-- <ion-header>\n  <ion-navbar>\n    <ion-title>\n      Customer Detail\n      <ion-icon style="float: right;" name="close-circle" (click)="close()"></ion-icon>\n    </ion-title>\n  </ion-navbar>\n</ion-header>\n\n<ion-content padding>\n  <ion-card class="errorMsg" padding *ngIf="errorMsg">\n    {{errorMsg}}\n  </ion-card>\n  <ion-card class="msg" padding *ngIf="msg">\n    {{msg}}\n  </ion-card>\n\n  <br/>\n  <div align="center">\n      <ion-note >New Customer? Fill below details to create customer</ion-note>\n  </div>\n\n  <ion-row>\n    <ion-col text-wrap offset-1 col-10>\n        <ion-item no-padding *ngIf="askBranch == 1">\n          <ion-label color="label-color" stacked>Branch <span class="required">*</span></ion-label>\n          <ion-select [(ngModel)]="cusData[\'id_branch\']">\n            <ion-option *ngFor="let b of branches" [value]="b.id_branch">{{b.name}}</ion-option>\n          </ion-select>\n          <ion-icon style="margin-top: 10px !important;" name="arrow-dropdown"></ion-icon>\n        </ion-item>\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>First Name <span class="required">*</span></ion-label>\n          <ion-input type="text" [(ngModel)]="cusData[\'firstname\']" required [readonly]="cusData[\'id_customer\'] > 0"></ion-input>\n        </ion-item>\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Mobile <span class="required">*</span></ion-label>\n          <ion-input type="tel" [(ngModel)]="cusData[\'mobile\']"  required [readonly]="cusData[\'id_customer\'] > 0"  maxlength="10"></ion-input>\n        </ion-item>\n\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>City</ion-label>\n          <ion-input [(ngModel)]="cusData[\'cityname\']" type="text" readonly=\'true\'></ion-input>\n          <button item-right ion-button clear color="dark" class="no-padding no-margin" (click)="getmodal(\'City\',city)" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n      </ion-item>\n        <ion-item no-padding>\n            <ion-label color="label-color" stacked>Area</ion-label>\n            <ion-input type="text"  (tap)="getmodal(\'Village\',village)" [(ngModel)]="cusData[\'village_name\']" readonly=\'true\'></ion-input>\n            <button item-right ion-button clear color="dark" class="no-padding no-margin" (click)="getmodal(\'Village\',village)" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n        </ion-item>\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Customer Type</ion-label>\n          <ion-select interface="popover" [(ngModel)]="cusData[\'cus_type\']" (ionChange)="usertypecheck()">\n              <ion-option value="1">Individual</ion-option>\n              <ion-option value="2">Company</ion-option>\n          </ion-select>\n        </ion-item>\n        <ion-item *ngIf="cusData[\'cus_type\'] == 2" no-padding>\n          <ion-label color="label-color" stacked>GST Number </ion-label>\n          <ion-input type="text" [(ngModel)]="cusData[\'gst_number\']"  maxlength="15" (ionChange)="validateCaptilize(cusData[\'gst_number\'])"></ion-input>\n      </ion-item>\n    </ion-col>\n  </ion-row>\n</ion-content>\n\n<ion-footer *ngIf="cusData[\'id_customer\'] != \'\' || cusData[\'mobile\'] != \'\' ">\n  <button ion-button icon-start full class="theme-btn" (click)="proceed()">Proceed</button>\n</ion-footer> -->\n<ion-header>\n  <ion-navbar>\n      <!-- <button ion-button menuToggle>\n          <ion-icon name="menu"></ion-icon>\n      </button> -->\n      <ion-title style="text-align: center !important;\n" >\n<img class="header-logo" src=\'assets/header.svg\' />\n        <ion-icon style="float: right;color: black;margin-top: 10px;" name="close-circle" (click)="close()"></ion-icon>\n\n      </ion-title>\n  </ion-navbar>\n</ion-header>\n\n\n<ion-content text-center padding>\n  <ion-segment [(ngModel)]="type" (ngModelChange)="checkseg()" mode="ios" color="label-color">\n      <ion-segment-button value="p">\n          Personal\n      </ion-segment-button>\n      <ion-segment-button value="o">\n          Business\n      </ion-segment-button>\n  </ion-segment>\n\n\n\n\n\n\n  <form [formGroup]="registerForm" novalidate padding>\n\n      <span *ngIf="type == \'p\'">\n        \n        <ion-row >\n            <ion-col col-4 style="text-align: left;margin-left: -5px;">\n        <ion-label style="color: black !important;">VIP<span class="required"> *</span></ion-label>\n            </ion-col>\n            <ion-col col-8>\n        <ion-list radio-group [formControl]="is_vip" style="display: flex; flex-direction: row;">\n          <ion-item no-lines style="margin-right: 15px;">\n            <ion-label style="color: black !important;">Yes</ion-label>\n            <ion-radio value="1" slot="start"></ion-radio>\n          </ion-item>\n          <ion-item no-lines>\n            <ion-label style="color: black !important;">No</ion-label>\n            <ion-radio value="0" slot="start"></ion-radio>\n          </ion-item>\n        </ion-list>\n      </ion-col>\n        </ion-row>\n          <!-- <ion-item no-padding> -->\n            <ion-label style="text-align: left;" color="label-color" stacked>First Name<span class="required"> *</span></ion-label>\n            <input type="text" style="font-size: 1.6rem;\n            font-weight: normal;color: #000;padding-top: 10px;\n    padding-bottom: 10px;margin: 5px 0px;width: calc(100% - 0px - 0px);border:none !important;background:transparent;    border-bottom: 1px solid lightgray !important;"   [formControl]="firstname" (keyup)="texto($event)"/>\n\n          <!-- </ion-item> -->\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Relation Type</ion-label>\n              <ion-select [formControl]="relation_type">\n                  <ion-option value="1">S/O</ion-option>\n                  <ion-option value="2">D/O</ion-option>\n                  <ion-option value="3">W/O</ion-option>\n              </ion-select>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Relation Name</ion-label>\n              <ion-input type="text" [formControl]="relation_name"></ion-input>\n          </ion-item> -->\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Mobile<span class="required"> *</span></ion-label>\n              <ion-input type="tel" [formControl]="mobile" placeholder="10 Digit Mobile Number" maxlength="10">\n              </ion-input>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Email</ion-label>\n              <ion-input type="email" [formControl]="email" placeholder="youremailid@domain.com"></ion-input>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Gender</ion-label>\n              <ion-select [formControl]="gender">\n                  <ion-option value="0">Male</ion-option>\n                  <ion-option value="1">Female</ion-option>\n                  <ion-option value="3">Others</ion-option>\n              </ion-select>\n          </ion-item>\n\n\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Marital Status</ion-label>\n              <ion-select (ionChange)="onSelectChange($event)" [formControl]="marital_status">\n                  <ion-option value="1">Single</ion-option>\n                  <ion-option value="2">Married</ion-option>\n                  <ion-option value="3">Others</ion-option>\n              </ion-select>\n          </ion-item>\n\n          <ion-item no-padding *ngIf="selected == 2 || selected == 3 ">\n              <ion-label color="label-color" stacked>Spouse Name</ion-label>\n              <ion-input type="text" placeholder="Spouse Name" [formControl]="spouse_name"></ion-input>\n          </ion-item>\n\n          <ion-item no-padding *ngIf="selected == 2 || selected == 3 ">\n              <ion-label color="label-color" stacked>Spouse DOB</ion-label>\n              <ion-input readonly="true" class="ion_datetime" [formControl]="spouse_dob" displayFormat="DD-MM-YYYY" placeholder="Spouse DOB"\n                  (tap)="birth(\'spouse\',\'\')"></ion-input>\n          </ion-item> -->\n\n       <!--    <ion-item no-padding *ngIf="selected == 2 || selected == 3 ">\n              <ion-label color="label-color" stacked>Wedding Date</ion-label>\n              <ion-input readonly="true" class="ion_datetime" [formControl]="spouse_wed" displayFormat="DD-MM-YYYY" placeholder="Wedding date"\n                  (tap)="wed(\'spouse\')"></ion-input>\n          </ion-item> -->\n\n          <!-- <div formArrayName="childrendata" *ngIf="(selected == 2 || selected == 3)">\n              <ion-label  color="label-color" align="left" stacked>Add Childrens  </ion-label>\n              <div *ngFor="let p of registerForm.get(\'childrendata\').controls; let i = index;">\n                  <div [formGroupName]="i">\n                      <ion-row no-padding>\n                          <ion-col col-5>\n                              <ion-input type="text" formControlName="child_name" placeholder="name"\n                                  style="border-bottom: 1px solid gray;"></ion-input>\n                          </ion-col>\n                          <ion-col col-5>\n                              <ion-input readonly="true" class="ion_datetime" formControlName="child_dob" displayFormat="DD-MM-YYYY" placeholder="DOB"\n                              (tap)="birth(\'child\',i)" style="border-bottom: 1px solid gray;"></ion-input>\n                          </ion-col>\n                          <ion-col col-1 style="margin: auto;">\n                              <ion-icon (click)="add(i)"\n                                  style="color: red;text-transform: initial;float: right;font-size: 2rem;" name="add">\n                              </ion-icon>\n                          </ion-col>\n                          <ion-col col-1 style="margin: auto;" *ngIf="i != 0">\n                              <ion-icon (click)="delete(i)"\n                                  style="color: red;text-transform: initial;float: right;font-size: 2rem;"\n                                  name="trash"></ion-icon>\n                          </ion-col>\n                      </ion-row>\n                  </div>\n              </div>\n          </div> -->\n          <!--   </ion-item> -->\n\n\n\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Password<span class="required"> *</span></ion-label>\n              <ion-input [formControl]="passwd" type="{{typechecknew}}"></ion-input>\n              <button style="padding: 0px !important" *ngIf="!showPassnew" ion-button clear color="dark" type="button" item-right (click)="shownewPassword()"> <ion-icon style="background:none !important;"  name="eye"></ion-icon></button>\n              <button style="padding: 0px !important" *ngIf="showPassnew" ion-button clear color="dark" type="button" item-right (click)="shownewPassword()">  <ion-icon style="background:none !important;" name="eye-off"></ion-icon></button>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Confirm Password<span class="required"> *</span></ion-label>\n              <ion-input [formControl]="cpasswd" type="{{typecheckconfirm}}"></ion-input>\n              <button style="padding: 0px !important" *ngIf="!showPassconfirm" ion-button clear color="dark" type="button" item-right (click)="showconfirmPassword()"> <ion-icon style="background:none !important;"  name="eye"></ion-icon></button>\n              <button style="padding: 0px !important" *ngIf="showPassconfirm" ion-button clear color="dark" type="button" item-right (click)="showconfirmPassword()">  <ion-icon style="background:none !important;" name="eye-off"></ion-icon></button>\n          </ion-item>   -->\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Address 1<span class="required"> *</span></ion-label>\n              <ion-input type="text" [formControl]="address1"></ion-input>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Address 2</ion-label>\n              <ion-input type="text" [formControl]="address2"></ion-input>\n          </ion-item>\n\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Passport</ion-label>\n            <ion-input type="text" [formControl]="passport"></ion-input>\n        </ion-item>\n\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>DL Number</ion-label>\n          <ion-input type="text" [formControl]="dl_number"  (ionChange)="validateCaptilize(dl_number,\'dl_num\')"></ion-input>\n      </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Country<span class="required"> *</span></ion-label>\n              <ion-input (tap)="getmodal(\'Country\',country)" type="text" readonly=\'true\' [formControl]="countryname">\n              </ion-input>\n              <button item-right ion-button clear color="dark" class="no-padding no-margin"\n                 >\n                  <ion-icon name="arrow-dropdown"></ion-icon>\n              </button>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>State<span class="required"> *</span></ion-label>\n              <ion-input [formControl]="statename" type="text" readonly=\'true\'  (tap)="getmodal(\'State\',state)"></ion-input>\n              <button item-right ion-button clear color="dark" class="no-padding no-margin"\n                 >\n                  <ion-icon name="arrow-dropdown"></ion-icon>\n              </button>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>City<span class="required"> *</span></ion-label>\n              <ion-input [formControl]="cityname" (tap)="getmodal(\'City\',city)" type="text" readonly=\'true\'></ion-input>\n              <button item-right ion-button clear color="dark" class="no-padding no-margin"\n                 >\n                  <ion-icon name="arrow-dropdown"></ion-icon>\n              </button>\n          </ion-item>\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Village</ion-label>\n              <ion-input [formControl]="village_name" (tap)="getmodal(\'Village\',village)" type="text" readonly=\'true\'></ion-input>\n              <button item-right ion-button clear color="dark" class="no-padding no-margin" (click)="getmodal(\'Village\',village)" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n          </ion-item>          -->\n         <!--  <ion-item no-padding>\n              <ion-label color="label-color" stacked>Pincode<span class="required"> *</span></ion-label>\n              <ion-input type="tel" [formControl]="pincode" maxlength="6"></ion-input>\n          </ion-item> -->\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Pincode<span class="required"> *</span></ion-label>\n            <ion-input type="tel" [formControl]="pincode" (ngModelChange)="pinserch($event)" maxlength="6"></ion-input>\n        </ion-item>\n        <ion-item no-padding *ngIf="pincode_show">\n            <ion-label color="label-color" stacked>Select Area<span class="required"> *</span></ion-label>\n            <ion-input [formControl]="village_name" type="text" readonly=\'true\' (tap)="getmodal(\'Village\',village)"></ion-input>\n            <button item-right ion-button clear color="dark" class="no-padding no-margin">\n                <ion-icon name="arrow-dropdown"></ion-icon>\n            </button>\n        </ion-item>\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Select Religion</ion-label>\n              <ion-select interface="popover" [formControl]="religion">\n                  <ion-option value="1">Hindu</ion-option>\n                  <ion-option value="2">Muslim</ion-option>\n                  <ion-option value="3">Christian</ion-option>\n              </ion-select>\n          </ion-item> -->\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Gender</ion-label>\n              <ion-select [formControl]="gender">\n                  <ion-option value="0">Male</ion-option>\n                  <ion-option value="1">Female</ion-option>\n                  <ion-option value="3">Others</ion-option>\n              </ion-select>\n          </ion-item>   -->\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Customer Type</ion-label>\n              <ion-select interface="popover" [formControl]="cus_type" (ionChange)="typecheck()">\n                  <ion-option value="1" >Individual</ion-option>\n              </ion-select>\n          </ion-item>    -->\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Date Of Birth</ion-label>\n              <ion-input readonly="true" class="ion_datetime" [formControl]="date_of_birth" displayFormat="DD-MM-YYYY"\n                  (tap)="birth(\'common\',\'\')"></ion-input>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Date Of Wed</ion-label>\n              <ion-input readonly="true" class="ion_datetime" [formControl]="date_of_wed" displayFormat="DD-MM-YYYY"\n                  (tap)="wed(\'common\',\'\')"></ion-input>\n          </ion-item>\n\n          <!--         <ion-row style="padding-left: 10px;padding-right: 0; position: relative; font-weight: normal;" *ngIf="branchSettings[\'settings\'][\'branch_settings\'] == 1 && branchSettings[\'settings\'][\'is_branchwise_cus_reg\'] == 1 ">\n        <ion-col col-10 style="margin: auto;">\n            <ion-input [formControl]="branchname" (tap)="openmodal()" type="text" readonly=\'true\' placeholder="Select Branch" style="font-size: medium;"></ion-input>\n        </ion-col>\n        <ion-col col-2>\n            <ion-icon (tap)="openmodal()" style="margin-top: 10px !important;" name="arrow-dropdown"></ion-icon>\n        </ion-col>\n    </ion-row> -->\n\n\n          <!-- <ion-item no-padding>\n      <ion-label color="label-color" stacked>Company Name </ion-label>\n      <ion-input type="text" [formControl]="company_name" ></ion-input>\n  </ion-item>\n\n  <ion-item no-padding>\n      <ion-label color="label-color" stacked>GST Number </ion-label>\n      <ion-input type="text" [formControl]="gst_number"  maxlength="15" (ionChange)="validateCaptilize(gst_number,\'gstno\')"></ion-input>\n  </ion-item> -->\n\n\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Pancard No </ion-label>\n              <ion-input type="text" [formControl]="pan" maxlength="10"\n                  (ionChange)="validateCaptilize(pan,\'pancard\')"></ion-input>\n          </ion-item>\n\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Voter ID No </ion-label>\n              <ion-input type="text" [formControl]="voterid" maxlength="10"\n                  (ionChange)="validateCaptilize(voterid,\'voter\')"></ion-input>\n          </ion-item>\n          <!--\n  <ion-item no-padding>\n      <ion-label color="label-color" stacked>Rationcard No </ion-label>\n      <ion-input type="text" [formControl]="rationcard" maxlength="15" (ionChange)="validateCaptilize(rationcard,\'ration\')"></ion-input>\n  </ion-item> -->\n  <ion-item no-padding>\n    <ion-label color="label-color" stacked>Refered Person</ion-label>\n    <ion-input type="text" [formControl]="refperson"></ion-input>\n</ion-item>\n<ion-item no-padding>\n    <ion-label color="label-color" stacked>Refered Person Mobile</ion-label>\n    <ion-input type="tel" [formControl]="refmobile" placeholder="10 Digit Mobile Number" (ionChange)="validateCaptilize(refmobile,\'refermob\')" maxlength="10">\n    </ion-input>\n</ion-item>\n<ion-item no-padding>\n    <ion-label color="label-color" stacked>Spouse Name</ion-label>\n    <ion-input type="text" placeholder="Spouse Name" [formControl]="spouse_name"></ion-input>\n</ion-item>\n\n<ion-item no-padding>\n    <ion-label color="label-color" stacked>Spouse DOB</ion-label>\n    <ion-input readonly="true" class="ion_datetime" [formControl]="spouse_dob" displayFormat="DD-MM-YYYY" placeholder="Spouse DOB"\n        (tap)="birth(\'spouse\',\'\')"></ion-input>\n</ion-item>\n\n\n\n<div formArrayName="childrendata" >\n    <ion-label  color="label-color" align="left" stacked>Add Childrens  </ion-label>\n    <div *ngFor="let p of registerForm.get(\'childrendata\').controls; let i = index;">\n        <div [formGroupName]="i">\n            <ion-row no-padding>\n                <ion-col col-5>\n                    <ion-input type="text" formControlName="child_name" placeholder="name"\n                        style="border-bottom: 1px solid gray;"></ion-input>\n                </ion-col>\n                <ion-col col-5>\n                    <ion-input readonly="true" class="ion_datetime" formControlName="child_dob" displayFormat="DD-MM-YYYY" placeholder="DOB"\n                    (tap)="birth(\'child\',i)" style="border-bottom: 1px solid gray;"></ion-input>\n                </ion-col>\n                <ion-col col-1 style="margin: auto;">\n                    <ion-icon (click)="add(i)"\n                        style="color: red;text-transform: initial;float: right;font-size: 2rem;" name="add">\n                    </ion-icon>\n                </ion-col>\n                <ion-col col-1 style="margin: auto;" *ngIf="i != 0">\n                    <ion-icon (click)="delete(i)"\n                        style="color: red;text-transform: initial;float: right;font-size: 2rem;"\n                        name="trash"></ion-icon>\n                </ion-col>\n            </ion-row>\n        </div>\n    </div>\n</div>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Comments </ion-label>\n              <ion-textarea [formControl]="comments" placeholder="Enter a description"></ion-textarea>\n          </ion-item>\n      </span>\n\n      <span *ngIf="type == \'o\'">\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>First Name<span class="required"> *</span></ion-label>\n              <ion-input type="text" [formControl]="firstname"></ion-input>\n          </ion-item> -->\n          <ion-label style="text-align: left;" color="label-color" stacked>Company Name<span class="required"> *</span></ion-label>\n          <input type="text" style="font-size: 1.6rem;\n          font-weight: normal;color: #000;padding-top: 10px;\n  padding-bottom: 10px;margin: 5px 0px;width: calc(100% - 0px - 0px);border:none !important;background:transparent;    border-bottom: 1px solid lightgray !important;"   [formControl]="firstname" (keyup)="texto($event)"/>\n\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Last Name</ion-label>\n              <ion-input type="text" [formControl]="lastname"></ion-input>\n          </ion-item>  -->\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Mobile<span class="required"> *</span></ion-label>\n              <ion-input type="tel" [formControl]="mobile" placeholder="10 Digit Mobile Number" maxlength="10">\n              </ion-input>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Email</ion-label>\n              <ion-input type="email" [formControl]="email" placeholder="youremailid@domain.com"></ion-input>\n          </ion-item>\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Password<span class="required"> *</span></ion-label>\n              <ion-input [formControl]="passwd" type="{{typechecknew}}"></ion-input>\n              <button style="padding: 0px !important" *ngIf="!showPassnew" ion-button clear color="dark" type="button" item-right (click)="shownewPassword()"> <ion-icon style="background:none !important;"  name="eye"></ion-icon></button>\n              <button style="padding: 0px !important" *ngIf="showPassnew" ion-button clear color="dark" type="button" item-right (click)="shownewPassword()">  <ion-icon style="background:none !important;" name="eye-off"></ion-icon></button>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Confirm Password<span class="required"> *</span></ion-label>\n              <ion-input [formControl]="cpasswd" type="{{typecheckconfirm}}"></ion-input>\n              <button style="padding: 0px !important" *ngIf="!showPassconfirm" ion-button clear color="dark" type="button" item-right (click)="showconfirmPassword()"> <ion-icon style="background:none !important;"  name="eye"></ion-icon></button>\n              <button style="padding: 0px !important" *ngIf="showPassconfirm" ion-button clear color="dark" type="button" item-right (click)="showconfirmPassword()">  <ion-icon style="background:none !important;" name="eye-off"></ion-icon></button>\n          </ion-item>   -->\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Address 1<span class="required"> *</span></ion-label>\n              <ion-input type="text" [formControl]="address1"></ion-input>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Address 2</ion-label>\n              <ion-input type="text" [formControl]="address2"></ion-input>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Country<span class="required"> *</span></ion-label>\n              <ion-input (tap)="getmodal(\'Country\',country)" type="text" readonly=\'true\' [formControl]="countryname">\n              </ion-input>\n              <button item-right ion-button clear color="dark" class="no-padding no-margin"\n                  (click)="getmodal(\'Country\',country)">\n                  <ion-icon name="arrow-dropdown"></ion-icon>\n              </button>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>State<span class="required"> *</span></ion-label>\n              <ion-input [formControl]="statename" type="text" readonly=\'true\'></ion-input>\n              <button item-right ion-button clear color="dark" class="no-padding no-margin"\n                  (click)="getmodal(\'State\',state)">\n                  <ion-icon name="arrow-dropdown"></ion-icon>\n              </button>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>City<span class="required"> *</span></ion-label>\n              <ion-input [formControl]="cityname" type="text" readonly=\'true\'></ion-input>\n              <button item-right ion-button clear color="dark" class="no-padding no-margin"\n                  (click)="getmodal(\'City\',city)">\n                  <ion-icon name="arrow-dropdown"></ion-icon>\n              </button>\n          </ion-item>\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Village</ion-label>\n              <ion-input [formControl]="village_name" (tap)="getmodal(\'Village\',village)" type="text" readonly=\'true\'></ion-input>\n              <button item-right ion-button clear color="dark" class="no-padding no-margin" (click)="getmodal(\'Village\',village)" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n          </ion-item>          -->\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Pincode<span class="required"> *</span></ion-label>\n              <ion-input type="tel" [formControl]="pincode" maxlength="6"></ion-input>\n          </ion-item> -->\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Pincode<span class="required"> *</span></ion-label>\n            <ion-input type="tel" [formControl]="pincode" (ngModelChange)="pinserch($event)" maxlength="6"></ion-input>\n        </ion-item>\n        <ion-item no-padding *ngIf="pincode_show">\n            <ion-label color="label-color" stacked>Select Area<span class="required"> *</span></ion-label>\n            <ion-input [formControl]="village_name" type="text" readonly=\'true\'></ion-input>\n            <button item-right ion-button clear color="dark" class="no-padding no-margin"\n                (click)="getmodal(\'Village\',village)">\n                <ion-icon name="arrow-dropdown"></ion-icon>\n            </button>\n        </ion-item>\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Select Religion</ion-label>\n              <ion-select interface="popover" [formControl]="religion">\n                  <ion-option value="1">Hindu</ion-option>\n                  <ion-option value="2">Muslim</ion-option>\n                  <ion-option value="3">Christian</ion-option>\n              </ion-select>\n          </ion-item>   -->\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Gender</ion-label>\n              <ion-select [formControl]="gender">\n                  <ion-option value="0">Male</ion-option>\n                  <ion-option value="1">Female</ion-option>\n                  <ion-option value="3">Others</ion-option>\n              </ion-select>\n          </ion-item>   -->\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Customer Type</ion-label>\n              <ion-select interface="popover" [formControl]="cus_type" (ionChange)="typecheck()">\n                  <ion-option value="2" >Company</ion-option>\n              </ion-select>\n          </ion-item>    -->\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Date Of Birth</ion-label>\n              <ion-input readonly="true" class="ion_datetime"  [formControl]="date_of_birth" displayFormat="DD-MM-YYYY" (tap)="birth()"></ion-input>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Date Of Wed</ion-label>\n              <ion-input readonly="true" class="ion_datetime"  [formControl]="date_of_wed" displayFormat="DD-MM-YYYY" (tap)="wed()"></ion-input>\n          </ion-item>    -->\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Nominee Name </ion-label>\n              <ion-input type="text" [formControl]="nominee_name" ></ion-input>\n          </ion-item>\n\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Relationship </ion-label>\n              <ion-input type="text" [formControl]="nominee_relationship" ></ion-input>\n          </ion-item> -->\n\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Mobile </ion-label>\n              <ion-input type="number" [formControl]="nominee_mobile" placeholder="10 Digit Mobile Number" maxlength="10"></ion-input>\n          </ion-item> -->\n\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Company Name </ion-label>\n              <ion-input type="text" [formControl]="company_name"></ion-input>\n          </ion-item> -->\n\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>GST Number<span class="required"> *</span> </ion-label>\n              <ion-input type="text" [formControl]="gst_number" maxlength="15"\n                  (ionChange)="validateCaptilize(gst_number,\'gstno\')"></ion-input>\n          </ion-item>\n\n\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Pancard No </ion-label>\n              <ion-input type="text" [formControl]="pan" maxlength="10"\n                  (ionChange)="validateCaptilize(pan,\'pancard\')"></ion-input>\n          </ion-item>\n\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Voter ID No </ion-label>\n              <ion-input type="text" [formControl]="voterid"  maxlength="10" (ionChange)="validateCaptilize(voterid,\'voter\')"></ion-input>\n          </ion-item> -->\n          <!--\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Rationcard No </ion-label>\n              <ion-input type="text" [formControl]="rationcard" maxlength="15" (ionChange)="validateCaptilize(rationcard,\'ration\')"></ion-input>\n          </ion-item> -->\n\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Comments </ion-label>\n              <ion-textarea [formControl]="comments" placeholder="Enter a description"></ion-textarea>\n          </ion-item>\n      </span>\n\n\n      <!-- <ion-row style="border: none !important;" *ngIf="type == \'o\'">\n          <ion-col style="text-align: -webkit-center !important;">\n              <button (click)="onSubmit(registerForm.value)" ion-button class="joinbtn" block color="dark">\n                Submit</button>\n          </ion-col>\n      </ion-row> -->\n\n  </form>\n\n</ion-content>\n<ion-footer>\n  <!-- <button ion-button *ngIf="type != \'o\'" icon-start full class="theme-btn" (click)="next($event)">Next</button> -->\n  <button ion-button icon-start full class="theme-btn" (click)="onSubmit(registerForm.value)">Save</button>\n</ion-footer>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\modal\add-quick-cus\add-quick-cus.html"*/,
//   providers: [CommonProvider]
// })
// export class AddQuickCus {
//   page;
//   empData = JSON.parse(localStorage.getItem('empDetail'));
//   askBranch = 0;
//   loggedInBranch;
//   branches = [];
//   cusData = {"cus_type" : 0,'mobile':''};
//   errorMsg = "";
//   village = [];
//   city: any = [];
//   gstPattern:any = /^([0-9]{2}[a-zA-Z]{4}([a-zA-Z]{1}|[0-9]{1})[0-9]{4}[a-zA-Z]{1}([a-zA-Z]|[0-9]){3}){0,15}$/;
//   result  = true;
//   // regex = /^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/;
//   constructor(public toast:ToastController,public load:LoadingController, public common:CommonProvider,public viewCtrl: ViewController,public navCtrl: NavController, public navParams: NavParams,  public modal: ModalController) {
//     this.common.getVillages().then(data => {
//       this.village = data;
//       console.log(this.village);
//     })
//     this.common.getcity('35').then(data => {
//       this.city = data;
//       this.cusData['cityname'] = 'Palani';
//       this.cusData['id_city'] = '4065';
//     })
//     this.page = this.navParams.get('page');
//     this.loggedInBranch = this.empData['id_branch'];
//     console.log(this.loggedInBranch)
//     console.log(this.navParams.get('askBranch'))
//     console.log(this.empData['branch_settings'])
//     if(this.page == "esti"){
//       this.askBranch = this.navParams.get('askBranch');
//       this.branches = this.navParams.get('branches');
//     }else{
//       let loader = this.load.create({
//         content: 'Please Wait',
//         spinner: 'bubbles',
//       });
//       loader.present();
//       if((this.loggedInBranch == 0 || this.loggedInBranch == '' || this.loggedInBranch == null) && this.empData['branch_settings'] == 1){
//         this.askBranch = 1;
//         this.common.getbranch().then(data=>{
//           this.branches = data;
//           loader.dismiss();
//         })
//       }else{
//         loader.dismiss();
//       }
//     }
//   }
//   close(){
//     this.viewCtrl.dismiss();
//   }
//   proceed(){
//     if(this.cusData['mobile'].length == 10){
//     if(this.cusData['id_customer'] > 0){
//       this.viewCtrl.dismiss(this.cusData);
//     }else{
//       this.createQuickCus();
//     }
//   }
//   else{
//     this.errorMsg = "Please Enter Valid Mobile Number";
//     setTimeout(()=>{
//       this.errorMsg = "";
//     },this.common.msgTimeout);
//   }
//   }
//   createQuickCus(){
//     console.log(this.result)
//     if(this.result){
//       let loader = this.load.create({
//         content: 'Please Wait',
//         spinner: 'bubbles',
//       });
//       loader.present();
//       this.cusData['id_branch'] = this.loggedInBranch;
//       this.common.createQuickCustomer(this.cusData).then(res => {
//         if (res) {
//           if (res.success) {
//             console.log(res.response)
//             this.cusData = res.response;
//             this.viewCtrl.dismiss(this.cusData);
//           } else {
//             this.errorMsg = res.message;
//             setTimeout(()=>{
//               this.errorMsg = "";
//             },this.common.msgTimeout);
//           }
//           loader.dismiss();
//         }
//       }, error => {
//         loader.dismiss();
//       });
//     }
//       else {
//         console.log('gst');
//         let toast = this.toast.create({
//           message: 'Please Enter Correct Gst Number',
//           position: 'bottom',
//           duration: 6000
//         });
//         toast.present();
//     }
//   }
//   openCusModal() {
//     let modal = this.modal.create(CusSearchPage)
//     modal.present();
//     modal.onDidDismiss(mData => {
//       if(mData != null){
//         this.cusData = mData;
//         this.cusData['customer'] = mData['label'];
//       }
//     });
//   }
//   getmodal(name, details) {
//     let mod = this.modal.create(CountrymodelPage, { data: details, name: name })
//     mod.present();
//     mod.onDidDismiss((mData, name) => {
//       if (mData != undefined) {
//         let loader = this.load.create({
//           content: 'Please Wait',
//           spinner: 'bubbles',
//         });
//         loader.present();
//         if (name == 'Village') {
//           this.cusData['village_name'] = mData['village_name'];
//           this.cusData['id_village'] = mData['id_village'];
//           loader.dismiss();
//         }
//         if (name == 'City') {
//           this.cusData['cityname'] = mData['name'];
//           this.cusData['id_city'] = mData['id_city'];
//           console.log(this.cusData['cityname'])
//           loader.dismiss();
//         }
//       }
//     });
//   }
//   ionViewDidLoad() {
//     console.log('ionViewDidLoad AddQuickCus');
//   }
//   validateCaptilize(e) {
//       this.cusData['gst_number'] = e.toUpperCase();
//       this.usertypecheck();
//   }
//   usertypecheck(){
//     console.log('******')
//     if(this.cusData['cus_type'] == 2){
//        this.result = this.gstPattern.test(this.cusData['gst_number']);
//     }
//     else if(this.cusData['cus_type'] == 1){
//       this.result = true;
//     }
//   }
// }







/*
  Generated class for the Register page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
*/
var AddQuickCus = /** @class */ (function () {
    function AddQuickCus(viewCtrl, datePicker, platform, builder, nav, events, menu, commonservice, toastCtrl, loadingCtrl, event, modal, common) {
        var _this = this;
        this.viewCtrl = viewCtrl;
        this.datePicker = datePicker;
        this.platform = platform;
        this.builder = builder;
        this.nav = nav;
        this.events = events;
        this.menu = menu;
        this.commonservice = commonservice;
        this.toastCtrl = toastCtrl;
        this.loadingCtrl = loadingCtrl;
        this.event = event;
        this.modal = modal;
        this.common = common;
        this.type = "p";
        this.count = 0;
        this.animateClass = { 'zoom-in': true };
        this.countries = [];
        this.states = [];
        this.cities = [];
        this.submitted = false;
        this.isDisabled = false;
        this.errorMessage = '';
        this.typechecknew = 'password';
        this.showPassnew = false;
        this.typecheckconfirm = 'password';
        this.showPassconfirm = false;
        this.reg = /^[a-zA-Z ]*$/;
        this.emailPattern = "^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$";
        this.gstPattern = "^([0-9]{2}[a-zA-Z]{4}([a-zA-Z]{1}|[0-9]{1})[0-9]{4}[a-zA-Z]{1}([a-zA-Z]|[0-9]){3}){0,15}$";
        this.panPattern = "^([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}?$";
        this.votterPattern = "^([a-zA-Z]){3}([0-9]){7}?$";
        this.rationPattern = "^([a-zA-Z0-9]){8,12}\s*$";
        this.passportPattern = "^[A-PR-WY][1-9]\\d\\s?\\d{4}[1-9]$";
        this.pwd = false;
        this.accept = false;
        this.deviceid = JSON.parse(localStorage.getItem('DeviceData'));
        this.branch_name = '';
        this.branchid = '';
        this.branch_settings = '';
        this.is_branchwise_cus_reg = '';
        this.id_branch = '';
        this.details = { 'countryname': 'India', 'id_country': '101', 'statename': '', 'id_state': '', 'cityname': '', 'id_city': '' };
        this.country = [];
        this.state = [];
        this.city = [];
        this.village = [];
        this.address1 = '';
        this.address2 = '';
        this.passport = '';
        this.dl_number = '';
        this.pincode = [];
        this.religion = [];
        this.gender = [];
        this.cus_type = [];
        this.date_of_birth = [];
        this.date_of_wed = [];
        this.selected = 0;
        this.showinput = false;
        this.empData = JSON.parse(localStorage.getItem('empDetail'));
        console.log(this.empData);
        console.log(JSON.parse(localStorage.getItem('empDetail'))['idcity']);
        console.log(JSON.parse(localStorage.getItem('empDetail'))['cityname']);
        console.log(JSON.parse(localStorage.getItem('empDetail'))['idstate']);
        console.log(JSON.parse(localStorage.getItem('empDetail'))['statename']);
        console.log(JSON.parse(localStorage.getItem('empDetail'))['idcountry']);
        console.log(JSON.parse(localStorage.getItem('empDetail'))['countryname']);
        this.nav = nav;
        this.menu = menu;
        this.platform = platform;
        this.registerForm = builder.group({
            'is_vip': [0, __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].required])],
            'firstname': ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].required])],
            'relation_name': [''],
            'relation_type': [''],
            'mobile': ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].required, __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].minLength(10), __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].maxLength(10)])],
            'email': ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].pattern(this.emailPattern)])],
            // 'passwd': ['', Validators.compose([Validators.required, Validators.minLength(8), Validators.maxLength(16)])],
            // 'cpasswd': ['', Validators.compose([Validators.required, Validators.minLength(8), Validators.maxLength(16)])],
            'address1': ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].required]), this.address1 != null ? this.address1['address1'] : null],
            'address2': this.address2 != null ? this.address1['address2'] : null,
            'passport': ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].pattern(this.passportPattern)])],
            'dl_number': [''],
            'pincode': ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].required, __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].minLength(6)]), this.pincode != null ? this.pincode['pincode'] : null],
            'religion': this.religion != null ? this.religion['religion'] : null,
            'gender': this.gender != null ? this.gender['gender'] : null,
            // 'cus_type': this.cus_type != null ? this.cus_type['cus_type'] : null,
            'cus_type': 1,
            'date_of_birth': this.date_of_birth != null ? this.date_of_birth['date_of_birth'] : null,
            'date_of_wed': this.date_of_wed != null ? this.date_of_wed['date_of_wed'] : null,
            'countryname': this.details['countryname'],
            'id_country': this.details['id_country'],
            'statename': this.details['statename'],
            'id_state': this.details['id_state'],
            'cityname': this.details['cityname'],
            'id_city': this.details['id_city'],
            'village_name': ['', this.village_name != null ? this.village_name['village_name'] : null],
            'id_village': this.details['id_village'],
            //  'branchname': ['', Validators.compose([Validators.required]), this.branchname != null ? this.branchname['branchname'] : null],
            'id_branch': this.empData['id_branch'] != null ? this.empData['id_branch'] : null,
            'nominee_name': this.nominee_name != null ? this.nominee_name['nominee_name'] : null,
            'nominee_relationship': this.nominee_relationship != null ? this.nominee_relationship['nominee_relationship'] : null,
            'nominee_mobile': this.nominee_mobile != null ? this.nominee_mobile['nominee_mobile'] : null,
            'company_name': this.company_name != null ? this.company_name['company_name'] : null,
            'gst_number': ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].pattern(this.gstPattern)]), this.gst_number != null ? this.gst_number['gst_number'] : null],
            'pan': ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].pattern(this.panPattern)]), this.pan != null ? this.pan['pan'] : null],
            'voterid': ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].pattern(this.votterPattern)]), this.voterid != null ? this.voterid['voterid'] : null],
            'rationcard': ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].pattern(this.rationPattern)]), this.rationcard != null ? this.rationcard['rationcard'] : null],
            //'pan': this.pan != null ? this.pan['pan'] : null,
            // 'voterid': this.voterid != null ? this.voterid['voterid'] : null,
            //'rationcard': this.rationcard != null ? this.rationcard['rationcard'] : null,
            'comments': this.comments != null ? this.comments['comments'] : null,
            'marital_status': this.marital_status != null ? this.marital_status['marital_status'] : null,
            'spouse_name': this.spouse_name != null ? this.spouse_name['spouse_name'] : null,
            'spouse_dob': this.spouse_dob != null ? this.spouse_dob['spouse_dob'] : null,
            //  'spouse_wed': this.spouse_wed != null ? this.spouse_wed['spouse_wed'] : null,
            childrendata: new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["a" /* FormArray */]([]),
            'refperson': this.details['refperson'],
            'refmobile': this.details['refmobile'],
        });
        this.add();
        this.firstname = this.registerForm.controls['firstname'];
        this.relation_name = this.registerForm.controls['relation_name'];
        this.relation_type = this.registerForm.controls['relation_type'];
        this.mobile = this.registerForm.controls['mobile'];
        this.email = this.registerForm.controls['email'];
        // this.passwd = this.registerForm.controls['passwd'];
        // this.cpasswd = this.registerForm.controls['cpasswd'];
        this.address1 = this.registerForm.controls['address1'];
        this.address2 = this.registerForm.controls['address2'];
        this.passport = this.registerForm.controls['passport'];
        this.dl_number = this.registerForm.controls['dl_number'];
        this.pincode = this.registerForm.controls['pincode'];
        this.religion = this.registerForm.controls['religion'];
        this.gender = this.registerForm.controls['gender'];
        this.cus_type = this.registerForm.controls['cus_type'];
        this.date_of_birth = this.registerForm.controls['date_of_birth'];
        this.date_of_wed = this.registerForm.controls['date_of_wed'];
        this.countryname = this.registerForm.controls['countryname'];
        this.statename = this.registerForm.controls['statename'];
        this.cityname = this.registerForm.controls['cityname'];
        this.village_name = this.registerForm.controls['village_name'];
        this.id_country = this.registerForm.controls['id_country'];
        this.id_state = this.registerForm.controls['id_state'];
        this.id_city = this.registerForm.controls['id_city'];
        this.id_village = this.registerForm.controls['id_village'];
        this.branchname = this.registerForm.controls['branchname'];
        this.id_branch = this.empData['id_branch'];
        this.nominee_name = this.registerForm.controls['nominee_name'];
        this.nominee_relationship = this.registerForm.controls['nominee_relationship'];
        this.nominee_mobile = this.registerForm.controls['nominee_mobile'];
        this.company_name = this.registerForm.controls['company_name'];
        this.nominee_name = this.registerForm.controls['nominee_name'];
        this.gst_number = this.registerForm.controls['gst_number'];
        this.pan = this.registerForm.controls['pan'];
        this.voterid = this.registerForm.controls['voterid'];
        this.rationcard = this.registerForm.controls['rationcard'];
        this.comments = this.registerForm.controls['comments'];
        this.marital_status = this.registerForm.controls['marital_status'];
        this.spouse_name = this.registerForm.controls['spouse_name'];
        this.spouse_dob = this.registerForm.controls['spouse_dob'];
        //   this.spouse_wed = this.registerForm.controls['spouse_wed'];
        this.refperson = this.registerForm.controls['refperson'];
        this.refmobile = this.registerForm.controls['refmobile'];
        this.is_vip = this.registerForm.controls['is_vip'];
        var loader = this.loadingCtrl.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        /*     this.common.getcountry().then(data => {
              this.country = data;
              this.common.getstate(this.details['id_country']).then(data => {
                this.registerForm.controls['countryname'].setValue(this.details['countryname']);
                this.registerForm.controls['id_country'].setValue(this.details['id_country']);
                this.state = data;
                this.common.getcity(this.details['id_state']).then(data => {
                  this.registerForm.controls['statename'].setValue(this.details['statename']);
                  this.registerForm.controls['id_state'].setValue(this.details['id_state']);
        
                  this.registerForm.controls['cityname'].setValue(this.details['cityname']);
                  this.registerForm.controls['id_city'].setValue(this.details['id_city']);
                  this.city = data;
                  loader.dismiss();
        
                })
              })
        
            })
        
            this.common.getVillages().then(data => {
              this.village = data;
              console.log(this.village);
            })
         */
        this.common.getcountry().then(function (countryData) {
            _this.country = countryData;
            var selectedCountryId = _this.details['id_country']; // Default to details
            var defaultCountry = _this.country.find(function (c) { return c.is_default == "1"; });
            if (defaultCountry) {
                console.log("Default Country ID:", defaultCountry.id_country);
                _this.registerForm.controls['countryname'].setValue(defaultCountry.name);
                _this.registerForm.controls['id_country'].setValue(defaultCountry.id_country);
                selectedCountryId = defaultCountry.id_country; // Use default country if found
            }
            else {
                console.log("Using details country ID:", _this.details['id_country']);
                _this.registerForm.controls['countryname'].setValue(_this.details['countryname']);
                _this.registerForm.controls['id_country'].setValue(_this.details['id_country']);
            }
            console.log("Final id_country for getstate():", selectedCountryId);
            // Ensure valid id_country before calling getstate()
            if (selectedCountryId) {
                _this.common.getstate(selectedCountryId).then(function (stateData) {
                    _this.state = stateData;
                    var selectedStateId = _this.details['id_state']; // Default to details
                    var defaultState = _this.state.find(function (s) { return s.is_default == "1"; });
                    if (defaultState) {
                        console.log("Default State ID:", defaultState.id_state);
                        _this.registerForm.controls['statename'].setValue(defaultState.name);
                        _this.registerForm.controls['id_state'].setValue(defaultState.id_state);
                        selectedStateId = defaultState.id_state;
                    }
                    else {
                        console.log("Using details state ID:", _this.details['id_state']);
                        _this.registerForm.controls['statename'].setValue(_this.details['statename']);
                        _this.registerForm.controls['id_state'].setValue(_this.details['id_state']);
                    }
                    console.log("Final id_state for getcity():", selectedStateId);
                    // Ensure valid id_state before calling getcity()
                    if (selectedStateId) {
                        _this.common.getcity(selectedStateId).then(function (cityData) {
                            _this.city = cityData;
                            var defaultCity = _this.city.find(function (c) { return c.is_default == "1"; });
                            if (defaultCity) {
                                _this.registerForm.controls['cityname'].setValue(defaultCity.name);
                                _this.registerForm.controls['id_city'].setValue(defaultCity.id_city);
                            }
                            else {
                                _this.registerForm.controls['cityname'].setValue(_this.details['cityname']);
                                _this.registerForm.controls['id_city'].setValue(_this.details['id_city']);
                            }
                            loader.dismiss();
                        });
                    }
                    else {
                        console.warn("id_state is empty, cannot fetch cities!");
                    }
                });
            }
            else {
                console.warn("id_country is empty, cannot fetch states!");
            }
        });
    }
    AddQuickCus.prototype.newchild = function () {
        return this.builder.group({
            'child_name': this.child_name != null ? this.child_name['child_name'] : null,
            'child_dob': this.child_dob != null ? this.child_dob['child_dob'] : null
        });
    };
    AddQuickCus.prototype.add = function () {
        this.childrendata = this.registerForm.get('childrendata');
        this.childrendata.push(this.newchild());
    };
    AddQuickCus.prototype.delete = function (i) {
        this.childrendata.removeAt(i);
    };
    AddQuickCus.prototype.checkIfMatchingPasswords = function (passwordKey, passwordConfirmationKey) {
        var _this = this;
        console.log('1111111');
        return function (group) {
            var passwordInput = group.controls[passwordKey], passwordConfirmationInput = group.controls[passwordConfirmationKey];
            if (passwordInput.value !== passwordConfirmationInput.value) {
                // this.errorMessage = 'PasswordMismatch';
                _this.pwd = true;
                return passwordConfirmationInput.setErrors({ notEquivalent: true });
            }
            else {
                // this.errorMessage = '';
                _this.pwd = false;
                return passwordConfirmationInput.setErrors(null);
            }
        };
    };
    AddQuickCus.prototype.ionViewDidLoad = function () {
    };
    AddQuickCus.prototype.segmentChanged = function (e) {
        this.content.scrollToTop();
    };
    AddQuickCus.prototype.next = function (e) {
        this.type = 'o';
        this.content.scrollToTop();
    };
    AddQuickCus.prototype.validateCaptilize = function (e, type) {
        console.log(e['value']);
        console.log(type);
        console.log((e['value']).toUpperCase());
        if (type == 'gstno') {
            this.registerForm.controls['gst_number'].setValue(e['value'].toUpperCase());
            if (this.registerForm.controls['gst_number'].value.length > 15) {
                var v = this.registerForm.controls['gst_number'].value.slice(0, 15);
                this.registerForm.controls['gst_number'].setValue(v.toUpperCase());
            }
        }
        else if (type == 'pancard') {
            this.registerForm.controls['pan'].setValue(e['value'].toUpperCase());
            if (this.registerForm.controls['pan'].value.length > 10) {
                var v = this.registerForm.controls['pan'].value.slice(0, 10);
                this.registerForm.controls['pan'].setValue(v.toUpperCase());
            }
        }
        else if (type == 'voter') {
            this.registerForm.controls['voterid'].setValue(e['value'].toUpperCase());
            if (this.registerForm.controls['voterid'].value.length > 10) {
                var v = this.registerForm.controls['voterid'].value.slice(0, 10);
                this.registerForm.controls['voterid'].setValue(v.toUpperCase());
            }
            else if (type == 'dl_num') {
                if (this.registerForm.controls['dl_number'].value.length > 15) {
                    var v = this.registerForm.controls['dl_number'].value.slice(0, 15);
                    this.registerForm.controls['dl_number'].setValue(v.toUpperCase());
                }
            }
            else if (type == 'refermob') {
                if (this.registerForm.controls['refmobile'].value.length > 10) {
                    var v = this.registerForm.controls['refmobile'].value.slice(0, 10);
                    this.registerForm.controls['refmobile'].setValue(v.toUpperCase());
                }
            }
        }
        else {
            if (type == 'ration') {
                this.registerForm.controls['rationcard'].setValue(e['value'].toUpperCase());
            }
        }
    };
    /* for footer as hide in default. it's assigned in app.components.ts */
    AddQuickCus.prototype.ionViewWillEnter = function () {
        var user = false;
        this.events.publish('user:created', user);
        this.events.publish('entered', true);
        this.events.publish('pageno', 1);
    };
    AddQuickCus.prototype.shownewPassword = function () {
        this.showPassnew = !this.showPassnew;
        if (this.showPassnew) {
            this.typechecknew = 'text';
        }
        else {
            this.typechecknew = 'password';
        }
    };
    AddQuickCus.prototype.showconfirmPassword = function () {
        this.showPassconfirm = !this.showPassconfirm;
        if (this.showPassconfirm) {
            this.typecheckconfirm = 'text';
        }
        else {
            this.typecheckconfirm = 'password';
        }
    };
    AddQuickCus.prototype.birth = function (type, index) {
        var _this = this;
        this.datePicker.show({
            date: new Date(),
            mode: 'date',
            androidTheme: this.datePicker.ANDROID_THEMES.THEME_HOLO_DARK
        }).then(function (date) {
            var ddd = date.getDate();
            var mmm = date.getMonth() + 1;
            var yy = date.getFullYear();
            //var today = new Date(yy+"-"+mmm+"-"+ddd).toISOString().substring(0, 10);
            var today = date.toISOString().substring(0, 10);
            //this.fromdate= today;
            _this.details['date_of_birth'] = yy + "-" + mmm + "-" + ddd;
            _this.details['spouse_dob'] = yy + "-" + mmm + "-" + ddd;
            _this.details['child_dob'] = yy + "-" + mmm + "-" + ddd;
            if (type == 'common') {
                _this.registerForm.controls['date_of_birth'].setValue(ddd + "-" + mmm + "-" + yy);
            }
            else if (type == 'spouse') {
                _this.registerForm.controls['spouse_dob'].setValue(ddd + "-" + mmm + "-" + yy);
            }
            else {
                _this.registerForm.get('childrendata').at(index).get('child_dob').patchValue(ddd + "-" + mmm + "-" + yy);
            }
            // console.log( this.productdet.due_date)
        });
    };
    AddQuickCus.prototype.wed = function (type) {
        var _this = this;
        this.datePicker.show({
            date: new Date(),
            mode: 'date',
            androidTheme: this.datePicker.ANDROID_THEMES.THEME_HOLO_DARK
        }).then(function (date) {
            var ddd = date.getDate();
            var mmm = date.getMonth() + 1;
            var yy = date.getFullYear();
            //var today = new Date(yy+"-"+mmm+"-"+ddd).toISOString().substring(0, 10);
            var today = date.toISOString().substring(0, 10);
            //this.fromdate= today;
            _this.details.date_of_wed = yy + "-" + mmm + "-" + ddd;
            //  this.details.spouse_wed = yy + "-" + mmm + "-" + ddd;
            // this.registerForm.controls['date_of_wed'].setValue(yy + "-" + mmm + "-" + ddd);
            _this.registerForm.controls['date_of_wed'].setValue(ddd + "-" + mmm + "-" + yy);
            // console.log( this.productdet.due_date)
        });
    };
    AddQuickCus.prototype.onSelectChange = function (selectedValue) {
        console.log(selectedValue);
        this.selected = selectedValue;
        console.log(this.selected);
    };
    AddQuickCus.prototype.onSubmit = function (values) {
        var _this = this;
        console.log(this.registerForm);
        console.log(values);
        /*     var proceed = (this.branch_settings == 1 && this.is_branchwise_cus_reg == 1) ? true : false;
            console.log(proceed);
         */
        if (this.registerForm.get('is_vip').valid) {
            if (this.registerForm.get('firstname').valid) {
                if (this.registerForm.get('email').valid) {
                    if (this.registerForm.get('mobile').valid) {
                        // if (this.registerForm.get('passwd').valid && this.registerForm.get('cpasswd').valid && this.registerForm.controls['passwd'].value == this.registerForm.controls['cpasswd'].value) {
                        if (this.registerForm.controls['pincode'].valid) {
                            if (this.registerForm.controls['address1'].valid) {
                                if (this.registerForm.controls['passport'].valid) {
                                    if (this.registerForm.controls['gst_number'].valid) {
                                        if (this.registerForm.controls['pan'].valid) {
                                            if (this.registerForm.controls['voterid'].valid) {
                                                if (this.registerForm.controls['rationcard'].valid) {
                                                    this.errorMessage = 'Doing Register...';
                                                    this.isDisabled = true;
                                                    var loader_1 = this.loadingCtrl.create({
                                                        content: 'Please Wait',
                                                        spinner: 'bubbles',
                                                    });
                                                    loader_1.present();
                                                    var postData = Object.assign({}, values);
                                                    console.log(JSON.stringify(postData));
                                                    this.commonservice.createCustomer(JSON.stringify(postData)).then(function (res) {
                                                        if (res) {
                                                            console.log(res);
                                                            if (res['status']) {
                                                                var toast = _this.toastCtrl.create({
                                                                    message: res.msg,
                                                                    duration: 6000
                                                                });
                                                                toast.present();
                                                                _this.viewCtrl.dismiss(res.response);
                                                            }
                                                            else {
                                                                var toast = _this.toastCtrl.create({
                                                                    message: res.msg,
                                                                    duration: 6000
                                                                });
                                                                toast.present();
                                                                _this.errorMessage = res.msg;
                                                                _this.isDisabled = false;
                                                            }
                                                            loader_1.dismiss();
                                                        }
                                                    }, function (error) {
                                                        _this.isDisabled = false;
                                                        loader_1.dismiss();
                                                    });
                                                }
                                                else {
                                                    console.log('ration');
                                                    var toast = this.toastCtrl.create({
                                                        message: 'Please Enter Correct RationCard',
                                                        position: 'bottom',
                                                        duration: 6000
                                                    });
                                                    toast.present();
                                                }
                                            }
                                            else {
                                                console.log('voter id');
                                                var toast = this.toastCtrl.create({
                                                    message: 'Please Enter Correct VoterCard',
                                                    position: 'bottom',
                                                    duration: 6000
                                                });
                                                toast.present();
                                            }
                                        }
                                        else {
                                            console.log('pan');
                                            var toast = this.toastCtrl.create({
                                                message: 'Please Enter Correct PanCard',
                                                position: 'bottom',
                                                duration: 6000
                                            });
                                            toast.present();
                                        }
                                    }
                                    else {
                                        console.log('gst');
                                        var toast = this.toastCtrl.create({
                                            message: 'Please Enter Correct Gst Number',
                                            position: 'bottom',
                                            duration: 6000
                                        });
                                        toast.present();
                                    }
                                }
                                else {
                                    console.log('passport');
                                    var toast = this.toastCtrl.create({
                                        message: 'Please Enter Passport Details',
                                        position: 'bottom',
                                        duration: 6000
                                    });
                                    toast.present();
                                }
                            }
                            else {
                                console.log('village');
                                var toast = this.toastCtrl.create({
                                    message: 'Please Enter Address',
                                    position: 'bottom',
                                    duration: 6000
                                });
                                toast.present();
                            }
                        }
                        else {
                            console.log('tc');
                            var toast = this.toastCtrl.create({
                                message: 'Enter Valid Pincode',
                                position: 'bottom',
                                duration: 6000
                            });
                            toast.present();
                        }
                        // }
                        // else {
                        //   if (this.registerForm.controls['passwd'].value != this.registerForm.controls['cpasswd'].value) {
                        //     let toast = this.toastCtrl.create({
                        //       message: 'Password and Confirm Password Mismatch',
                        //       position: 'bottom',
                        //       duration: 6000
                        //     });
                        //     toast.present();
                        //   }
                        //   else {
                        //     let toast = this.toastCtrl.create({
                        //       message: 'Minimum 8 to 16 Characters Only Allowed',
                        //       position: 'bottom',
                        //       duration: 6000
                        //     });
                        //     toast.present();
                        //   }
                        // }
                    }
                    else {
                        var toast = this.toastCtrl.create({
                            message: ' Enter Valid Mobile Number',
                            position: 'bottom',
                            duration: 6000
                        });
                        toast.present();
                    }
                }
                else {
                    var toast = this.toastCtrl.create({
                        message: 'Enter Valid Email Id',
                        position: 'bottom',
                        duration: 6000
                    });
                    toast.present();
                }
            }
            else {
                var toast = this.toastCtrl.create({
                    message: 'FirstName Must Contain Alphabets Only',
                    position: 'bottom',
                    duration: 6000
                });
                toast.present();
            }
        }
        else {
            var toast = this.toastCtrl.create({
                message: 'Please Select VIP',
                position: 'bottom',
                duration: 6000
            });
            toast.present();
        }
    };
    AddQuickCus.prototype.scrollToTop = function () {
        this.content.scrollToTop();
    };
    AddQuickCus.prototype.close = function () {
        this.viewCtrl.dismiss();
    };
    AddQuickCus.prototype.getmodal = function (name, details) {
        var _this = this;
        var mod = this.modal.create(__WEBPACK_IMPORTED_MODULE_5__modal_countrymodel_countrymodel__["a" /* CountrymodelPage */], { data: details, name: name });
        mod.present();
        mod.onDidDismiss(function (dataa, name) {
            if (dataa != undefined) {
                var loader_2 = _this.loadingCtrl.create({
                    content: 'Please Wait',
                    spinner: 'bubbles',
                });
                loader_2.present();
                if (name == 'Country') {
                    _this.common.getstate(dataa['id_country']).then(function (data) {
                        _this.registerForm.controls['countryname'].setValue(dataa['name']);
                        _this.registerForm.controls['id_country'].setValue(dataa['id_country']);
                        _this.state = data;
                        loader_2.dismiss();
                    });
                }
                if (name == 'State') {
                    _this.common.getcity(dataa['id_state']).then(function (data) {
                        _this.registerForm.controls['statename'].setValue(dataa['name']);
                        _this.registerForm.controls['id_state'].setValue(dataa['id_state']);
                        _this.registerForm.controls['cityname'].setValue('');
                        _this.registerForm.controls['id_city'].setValue('');
                        _this.city = data;
                        loader_2.dismiss();
                    });
                }
                if (name == 'City') {
                    _this.registerForm.controls['cityname'].setValue(dataa['name']);
                    _this.registerForm.controls['id_city'].setValue(dataa['id_city']);
                    loader_2.dismiss();
                }
                if (name == 'Village') {
                    _this.registerForm.controls['village_name'].setValue(dataa['village_name']);
                    _this.registerForm.controls['id_village'].setValue(dataa['id_village']);
                    loader_2.dismiss();
                }
            }
        });
    };
    AddQuickCus.prototype.goto = function () {
        this.nav.setRoot(__WEBPACK_IMPORTED_MODULE_6__home_home__["a" /* HomePage */]);
    };
    AddQuickCus.prototype.typecheck = function () {
        if (this.registerForm.controls["cus_type"].value == '2') {
            this.registerForm.controls["gst_number"].setValidators([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].required, __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].pattern(this.gstPattern)]);
            this.registerForm.controls['gst_number'].updateValueAndValidity();
        }
        else if (this.registerForm.controls["cus_type"].value == '1') {
            // this.registerForm.controls['gst_number'].clearValidators();
            this.registerForm.controls["gst_number"].setValidators([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].pattern(this.gstPattern)]);
            this.registerForm.controls['gst_number'].updateValueAndValidity();
        }
    };
    AddQuickCus.prototype.checkseg = function () {
        if (this.type == 'o') {
            this.registerForm.controls['cus_type'].setValue(2);
            this.typecheck();
        }
        else {
            this.registerForm.controls['cus_type'].setValue(1);
            this.typecheck();
        }
    };
    AddQuickCus.prototype.texto = function (event) {
        console.log(event);
        var NUMBER_REGEXP = /^[a-zA-Z ]*$/;
        var newValue = event.target.value;
        var regExp = new RegExp(NUMBER_REGEXP);
        console.log(regExp);
        var withNoDigits = event.target.value.replace(/[0-9]/g, '');
        this.registerForm.controls['firstname'].setValue(withNoDigits);
        //  if (!regExp.test(newValue)) {
        //   let v:any = this.registerForm.controls['firstname'].value.slice(0, -1);
        //   this.registerForm.controls['firstname'].setValue(v);
        //  }
    };
    AddQuickCus.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    AddQuickCus.prototype.pinserch = function (e) {
        var _this = this;
        console.log(e.length);
        this.registerForm.controls['id_village'].setValue('');
        this.registerForm.controls['village_name'].setValue('');
        if (e != '' && e.length == 6) {
            var post = {
                'pin_code': e
            };
            this.common.getarea(post).then(function (data) {
                _this.pincode_show = true;
                _this.village = data;
                console.log(_this.village);
            });
        }
        else {
            this.pincode_show = false;
            // let toast = this.toastCtrl.create({
            //   message: 'Please Enter Correct Pincode',
            //   position: 'bottom',
            //   duration: 1000
            // });
            // toast.present();
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_8" /* ViewChild */])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* Content */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* Content */])
    ], AddQuickCus.prototype, "content", void 0);
    AddQuickCus = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-add-quick-cus',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\modal\add-quick-cus\add-quick-cus.html"*/'<!-- <ion-header>\n  <ion-navbar>\n    <ion-title>\n      Customer Detail\n      <ion-icon style="float: right;" name="close-circle" (click)="close()"></ion-icon>\n    </ion-title>\n  </ion-navbar>\n</ion-header>\n\n<ion-content padding>\n  <ion-card class="errorMsg" padding *ngIf="errorMsg">\n    {{errorMsg}}\n  </ion-card>\n  <ion-card class="msg" padding *ngIf="msg">\n    {{msg}}\n  </ion-card>\n\n  <br/>\n  <div align="center">\n      <ion-note >New Customer? Fill below details to create customer</ion-note>\n  </div>\n\n  <ion-row>\n    <ion-col text-wrap offset-1 col-10>\n        <ion-item no-padding *ngIf="askBranch == 1">\n          <ion-label color="label-color" stacked>Branch <span class="required">*</span></ion-label>\n          <ion-select [(ngModel)]="cusData[\'id_branch\']">\n            <ion-option *ngFor="let b of branches" [value]="b.id_branch">{{b.name}}</ion-option>\n          </ion-select>\n          <ion-icon style="margin-top: 10px !important;" name="arrow-dropdown"></ion-icon>\n        </ion-item>\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>First Name <span class="required">*</span></ion-label>\n          <ion-input type="text" [(ngModel)]="cusData[\'firstname\']" required [readonly]="cusData[\'id_customer\'] > 0"></ion-input>\n        </ion-item>\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Mobile <span class="required">*</span></ion-label>\n          <ion-input type="tel" [(ngModel)]="cusData[\'mobile\']"  required [readonly]="cusData[\'id_customer\'] > 0"  maxlength="10"></ion-input>\n        </ion-item>\n\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>City</ion-label>\n          <ion-input [(ngModel)]="cusData[\'cityname\']" type="text" readonly=\'true\'></ion-input>\n          <button item-right ion-button clear color="dark" class="no-padding no-margin" (click)="getmodal(\'City\',city)" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n      </ion-item>\n        <ion-item no-padding>\n            <ion-label color="label-color" stacked>Area</ion-label>\n            <ion-input type="text"  (tap)="getmodal(\'Village\',village)" [(ngModel)]="cusData[\'village_name\']" readonly=\'true\'></ion-input>\n            <button item-right ion-button clear color="dark" class="no-padding no-margin" (click)="getmodal(\'Village\',village)" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n        </ion-item>\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Customer Type</ion-label>\n          <ion-select interface="popover" [(ngModel)]="cusData[\'cus_type\']" (ionChange)="usertypecheck()">\n              <ion-option value="1">Individual</ion-option>\n              <ion-option value="2">Company</ion-option>\n          </ion-select>\n        </ion-item>\n        <ion-item *ngIf="cusData[\'cus_type\'] == 2" no-padding>\n          <ion-label color="label-color" stacked>GST Number </ion-label>\n          <ion-input type="text" [(ngModel)]="cusData[\'gst_number\']"  maxlength="15" (ionChange)="validateCaptilize(cusData[\'gst_number\'])"></ion-input>\n      </ion-item>\n    </ion-col>\n  </ion-row>\n</ion-content>\n\n<ion-footer *ngIf="cusData[\'id_customer\'] != \'\' || cusData[\'mobile\'] != \'\' ">\n  <button ion-button icon-start full class="theme-btn" (click)="proceed()">Proceed</button>\n</ion-footer> -->\n<ion-header>\n  <ion-navbar>\n      <!-- <button ion-button menuToggle>\n          <ion-icon name="menu"></ion-icon>\n      </button> -->\n      <ion-title style="text-align: center !important;\n" >\n<img class="header-logo" src=\'assets/header.svg\' />\n        <ion-icon style="float: right;color: black;margin-top: 10px;" name="close-circle" (click)="close()"></ion-icon>\n\n      </ion-title>\n  </ion-navbar>\n</ion-header>\n\n\n<ion-content text-center padding>\n  <ion-segment [(ngModel)]="type" (ngModelChange)="checkseg()" mode="ios" color="label-color">\n      <ion-segment-button value="p">\n          Personal\n      </ion-segment-button>\n      <ion-segment-button value="o">\n          Business\n      </ion-segment-button>\n  </ion-segment>\n\n\n\n\n\n\n  <form [formGroup]="registerForm" novalidate padding>\n\n      <span *ngIf="type == \'p\'">\n        \n        <ion-row >\n            <ion-col col-4 style="text-align: left;margin-left: -5px;">\n        <ion-label style="color: black !important;">VIP<span class="required"> *</span></ion-label>\n            </ion-col>\n            <ion-col col-8>\n        <ion-list radio-group [formControl]="is_vip" style="display: flex; flex-direction: row;">\n          <ion-item no-lines style="margin-right: 15px;">\n            <ion-label style="color: black !important;">Yes</ion-label>\n            <ion-radio value="1" slot="start"></ion-radio>\n          </ion-item>\n          <ion-item no-lines>\n            <ion-label style="color: black !important;">No</ion-label>\n            <ion-radio value="0" slot="start"></ion-radio>\n          </ion-item>\n        </ion-list>\n      </ion-col>\n        </ion-row>\n          <!-- <ion-item no-padding> -->\n            <ion-label style="text-align: left;" color="label-color" stacked>First Name<span class="required"> *</span></ion-label>\n            <input type="text" style="font-size: 1.6rem;\n            font-weight: normal;color: #000;padding-top: 10px;\n    padding-bottom: 10px;margin: 5px 0px;width: calc(100% - 0px - 0px);border:none !important;background:transparent;    border-bottom: 1px solid lightgray !important;"   [formControl]="firstname" (keyup)="texto($event)"/>\n\n          <!-- </ion-item> -->\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Relation Type</ion-label>\n              <ion-select [formControl]="relation_type">\n                  <ion-option value="1">S/O</ion-option>\n                  <ion-option value="2">D/O</ion-option>\n                  <ion-option value="3">W/O</ion-option>\n              </ion-select>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Relation Name</ion-label>\n              <ion-input type="text" [formControl]="relation_name"></ion-input>\n          </ion-item> -->\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Mobile<span class="required"> *</span></ion-label>\n              <ion-input type="tel" [formControl]="mobile" placeholder="10 Digit Mobile Number" maxlength="10">\n              </ion-input>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Email</ion-label>\n              <ion-input type="email" [formControl]="email" placeholder="youremailid@domain.com"></ion-input>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Gender</ion-label>\n              <ion-select [formControl]="gender">\n                  <ion-option value="0">Male</ion-option>\n                  <ion-option value="1">Female</ion-option>\n                  <ion-option value="3">Others</ion-option>\n              </ion-select>\n          </ion-item>\n\n\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Marital Status</ion-label>\n              <ion-select (ionChange)="onSelectChange($event)" [formControl]="marital_status">\n                  <ion-option value="1">Single</ion-option>\n                  <ion-option value="2">Married</ion-option>\n                  <ion-option value="3">Others</ion-option>\n              </ion-select>\n          </ion-item>\n\n          <ion-item no-padding *ngIf="selected == 2 || selected == 3 ">\n              <ion-label color="label-color" stacked>Spouse Name</ion-label>\n              <ion-input type="text" placeholder="Spouse Name" [formControl]="spouse_name"></ion-input>\n          </ion-item>\n\n          <ion-item no-padding *ngIf="selected == 2 || selected == 3 ">\n              <ion-label color="label-color" stacked>Spouse DOB</ion-label>\n              <ion-input readonly="true" class="ion_datetime" [formControl]="spouse_dob" displayFormat="DD-MM-YYYY" placeholder="Spouse DOB"\n                  (tap)="birth(\'spouse\',\'\')"></ion-input>\n          </ion-item> -->\n\n       <!--    <ion-item no-padding *ngIf="selected == 2 || selected == 3 ">\n              <ion-label color="label-color" stacked>Wedding Date</ion-label>\n              <ion-input readonly="true" class="ion_datetime" [formControl]="spouse_wed" displayFormat="DD-MM-YYYY" placeholder="Wedding date"\n                  (tap)="wed(\'spouse\')"></ion-input>\n          </ion-item> -->\n\n          <!-- <div formArrayName="childrendata" *ngIf="(selected == 2 || selected == 3)">\n              <ion-label  color="label-color" align="left" stacked>Add Childrens  </ion-label>\n              <div *ngFor="let p of registerForm.get(\'childrendata\').controls; let i = index;">\n                  <div [formGroupName]="i">\n                      <ion-row no-padding>\n                          <ion-col col-5>\n                              <ion-input type="text" formControlName="child_name" placeholder="name"\n                                  style="border-bottom: 1px solid gray;"></ion-input>\n                          </ion-col>\n                          <ion-col col-5>\n                              <ion-input readonly="true" class="ion_datetime" formControlName="child_dob" displayFormat="DD-MM-YYYY" placeholder="DOB"\n                              (tap)="birth(\'child\',i)" style="border-bottom: 1px solid gray;"></ion-input>\n                          </ion-col>\n                          <ion-col col-1 style="margin: auto;">\n                              <ion-icon (click)="add(i)"\n                                  style="color: red;text-transform: initial;float: right;font-size: 2rem;" name="add">\n                              </ion-icon>\n                          </ion-col>\n                          <ion-col col-1 style="margin: auto;" *ngIf="i != 0">\n                              <ion-icon (click)="delete(i)"\n                                  style="color: red;text-transform: initial;float: right;font-size: 2rem;"\n                                  name="trash"></ion-icon>\n                          </ion-col>\n                      </ion-row>\n                  </div>\n              </div>\n          </div> -->\n          <!--   </ion-item> -->\n\n\n\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Password<span class="required"> *</span></ion-label>\n              <ion-input [formControl]="passwd" type="{{typechecknew}}"></ion-input>\n              <button style="padding: 0px !important" *ngIf="!showPassnew" ion-button clear color="dark" type="button" item-right (click)="shownewPassword()"> <ion-icon style="background:none !important;"  name="eye"></ion-icon></button>\n              <button style="padding: 0px !important" *ngIf="showPassnew" ion-button clear color="dark" type="button" item-right (click)="shownewPassword()">  <ion-icon style="background:none !important;" name="eye-off"></ion-icon></button>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Confirm Password<span class="required"> *</span></ion-label>\n              <ion-input [formControl]="cpasswd" type="{{typecheckconfirm}}"></ion-input>\n              <button style="padding: 0px !important" *ngIf="!showPassconfirm" ion-button clear color="dark" type="button" item-right (click)="showconfirmPassword()"> <ion-icon style="background:none !important;"  name="eye"></ion-icon></button>\n              <button style="padding: 0px !important" *ngIf="showPassconfirm" ion-button clear color="dark" type="button" item-right (click)="showconfirmPassword()">  <ion-icon style="background:none !important;" name="eye-off"></ion-icon></button>\n          </ion-item>   -->\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Address 1<span class="required"> *</span></ion-label>\n              <ion-input type="text" [formControl]="address1"></ion-input>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Address 2</ion-label>\n              <ion-input type="text" [formControl]="address2"></ion-input>\n          </ion-item>\n\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Passport</ion-label>\n            <ion-input type="text" [formControl]="passport"></ion-input>\n        </ion-item>\n\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>DL Number</ion-label>\n          <ion-input type="text" [formControl]="dl_number"  (ionChange)="validateCaptilize(dl_number,\'dl_num\')"></ion-input>\n      </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Country<span class="required"> *</span></ion-label>\n              <ion-input (tap)="getmodal(\'Country\',country)" type="text" readonly=\'true\' [formControl]="countryname">\n              </ion-input>\n              <button item-right ion-button clear color="dark" class="no-padding no-margin"\n                 >\n                  <ion-icon name="arrow-dropdown"></ion-icon>\n              </button>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>State<span class="required"> *</span></ion-label>\n              <ion-input [formControl]="statename" type="text" readonly=\'true\'  (tap)="getmodal(\'State\',state)"></ion-input>\n              <button item-right ion-button clear color="dark" class="no-padding no-margin"\n                 >\n                  <ion-icon name="arrow-dropdown"></ion-icon>\n              </button>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>City<span class="required"> *</span></ion-label>\n              <ion-input [formControl]="cityname" (tap)="getmodal(\'City\',city)" type="text" readonly=\'true\'></ion-input>\n              <button item-right ion-button clear color="dark" class="no-padding no-margin"\n                 >\n                  <ion-icon name="arrow-dropdown"></ion-icon>\n              </button>\n          </ion-item>\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Village</ion-label>\n              <ion-input [formControl]="village_name" (tap)="getmodal(\'Village\',village)" type="text" readonly=\'true\'></ion-input>\n              <button item-right ion-button clear color="dark" class="no-padding no-margin" (click)="getmodal(\'Village\',village)" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n          </ion-item>          -->\n         <!--  <ion-item no-padding>\n              <ion-label color="label-color" stacked>Pincode<span class="required"> *</span></ion-label>\n              <ion-input type="tel" [formControl]="pincode" maxlength="6"></ion-input>\n          </ion-item> -->\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Pincode<span class="required"> *</span></ion-label>\n            <ion-input type="tel" [formControl]="pincode" (ngModelChange)="pinserch($event)" maxlength="6"></ion-input>\n        </ion-item>\n        <ion-item no-padding *ngIf="pincode_show">\n            <ion-label color="label-color" stacked>Select Area<span class="required"> *</span></ion-label>\n            <ion-input [formControl]="village_name" type="text" readonly=\'true\' (tap)="getmodal(\'Village\',village)"></ion-input>\n            <button item-right ion-button clear color="dark" class="no-padding no-margin">\n                <ion-icon name="arrow-dropdown"></ion-icon>\n            </button>\n        </ion-item>\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Select Religion</ion-label>\n              <ion-select interface="popover" [formControl]="religion">\n                  <ion-option value="1">Hindu</ion-option>\n                  <ion-option value="2">Muslim</ion-option>\n                  <ion-option value="3">Christian</ion-option>\n              </ion-select>\n          </ion-item> -->\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Gender</ion-label>\n              <ion-select [formControl]="gender">\n                  <ion-option value="0">Male</ion-option>\n                  <ion-option value="1">Female</ion-option>\n                  <ion-option value="3">Others</ion-option>\n              </ion-select>\n          </ion-item>   -->\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Customer Type</ion-label>\n              <ion-select interface="popover" [formControl]="cus_type" (ionChange)="typecheck()">\n                  <ion-option value="1" >Individual</ion-option>\n              </ion-select>\n          </ion-item>    -->\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Date Of Birth</ion-label>\n              <ion-input readonly="true" class="ion_datetime" [formControl]="date_of_birth" displayFormat="DD-MM-YYYY"\n                  (tap)="birth(\'common\',\'\')"></ion-input>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Date Of Wed</ion-label>\n              <ion-input readonly="true" class="ion_datetime" [formControl]="date_of_wed" displayFormat="DD-MM-YYYY"\n                  (tap)="wed(\'common\',\'\')"></ion-input>\n          </ion-item>\n\n          <!--         <ion-row style="padding-left: 10px;padding-right: 0; position: relative; font-weight: normal;" *ngIf="branchSettings[\'settings\'][\'branch_settings\'] == 1 && branchSettings[\'settings\'][\'is_branchwise_cus_reg\'] == 1 ">\n        <ion-col col-10 style="margin: auto;">\n            <ion-input [formControl]="branchname" (tap)="openmodal()" type="text" readonly=\'true\' placeholder="Select Branch" style="font-size: medium;"></ion-input>\n        </ion-col>\n        <ion-col col-2>\n            <ion-icon (tap)="openmodal()" style="margin-top: 10px !important;" name="arrow-dropdown"></ion-icon>\n        </ion-col>\n    </ion-row> -->\n\n\n          <!-- <ion-item no-padding>\n      <ion-label color="label-color" stacked>Company Name </ion-label>\n      <ion-input type="text" [formControl]="company_name" ></ion-input>\n  </ion-item>\n\n  <ion-item no-padding>\n      <ion-label color="label-color" stacked>GST Number </ion-label>\n      <ion-input type="text" [formControl]="gst_number"  maxlength="15" (ionChange)="validateCaptilize(gst_number,\'gstno\')"></ion-input>\n  </ion-item> -->\n\n\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Pancard No </ion-label>\n              <ion-input type="text" [formControl]="pan" maxlength="10"\n                  (ionChange)="validateCaptilize(pan,\'pancard\')"></ion-input>\n          </ion-item>\n\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Voter ID No </ion-label>\n              <ion-input type="text" [formControl]="voterid" maxlength="10"\n                  (ionChange)="validateCaptilize(voterid,\'voter\')"></ion-input>\n          </ion-item>\n          <!--\n  <ion-item no-padding>\n      <ion-label color="label-color" stacked>Rationcard No </ion-label>\n      <ion-input type="text" [formControl]="rationcard" maxlength="15" (ionChange)="validateCaptilize(rationcard,\'ration\')"></ion-input>\n  </ion-item> -->\n  <ion-item no-padding>\n    <ion-label color="label-color" stacked>Refered Person</ion-label>\n    <ion-input type="text" [formControl]="refperson"></ion-input>\n</ion-item>\n<ion-item no-padding>\n    <ion-label color="label-color" stacked>Refered Person Mobile</ion-label>\n    <ion-input type="tel" [formControl]="refmobile" placeholder="10 Digit Mobile Number" (ionChange)="validateCaptilize(refmobile,\'refermob\')" maxlength="10">\n    </ion-input>\n</ion-item>\n<ion-item no-padding>\n    <ion-label color="label-color" stacked>Spouse Name</ion-label>\n    <ion-input type="text" placeholder="Spouse Name" [formControl]="spouse_name"></ion-input>\n</ion-item>\n\n<ion-item no-padding>\n    <ion-label color="label-color" stacked>Spouse DOB</ion-label>\n    <ion-input readonly="true" class="ion_datetime" [formControl]="spouse_dob" displayFormat="DD-MM-YYYY" placeholder="Spouse DOB"\n        (tap)="birth(\'spouse\',\'\')"></ion-input>\n</ion-item>\n\n\n\n<div formArrayName="childrendata" >\n    <ion-label  color="label-color" align="left" stacked>Add Childrens  </ion-label>\n    <div *ngFor="let p of registerForm.get(\'childrendata\').controls; let i = index;">\n        <div [formGroupName]="i">\n            <ion-row no-padding>\n                <ion-col col-5>\n                    <ion-input type="text" formControlName="child_name" placeholder="name"\n                        style="border-bottom: 1px solid gray;"></ion-input>\n                </ion-col>\n                <ion-col col-5>\n                    <ion-input readonly="true" class="ion_datetime" formControlName="child_dob" displayFormat="DD-MM-YYYY" placeholder="DOB"\n                    (tap)="birth(\'child\',i)" style="border-bottom: 1px solid gray;"></ion-input>\n                </ion-col>\n                <ion-col col-1 style="margin: auto;">\n                    <ion-icon (click)="add(i)"\n                        style="color: red;text-transform: initial;float: right;font-size: 2rem;" name="add">\n                    </ion-icon>\n                </ion-col>\n                <ion-col col-1 style="margin: auto;" *ngIf="i != 0">\n                    <ion-icon (click)="delete(i)"\n                        style="color: red;text-transform: initial;float: right;font-size: 2rem;"\n                        name="trash"></ion-icon>\n                </ion-col>\n            </ion-row>\n        </div>\n    </div>\n</div>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Comments </ion-label>\n              <ion-textarea [formControl]="comments" placeholder="Enter a description"></ion-textarea>\n          </ion-item>\n      </span>\n\n      <span *ngIf="type == \'o\'">\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>First Name<span class="required"> *</span></ion-label>\n              <ion-input type="text" [formControl]="firstname"></ion-input>\n          </ion-item> -->\n          <ion-label style="text-align: left;" color="label-color" stacked>Company Name<span class="required"> *</span></ion-label>\n          <input type="text" style="font-size: 1.6rem;\n          font-weight: normal;color: #000;padding-top: 10px;\n  padding-bottom: 10px;margin: 5px 0px;width: calc(100% - 0px - 0px);border:none !important;background:transparent;    border-bottom: 1px solid lightgray !important;"   [formControl]="firstname" (keyup)="texto($event)"/>\n\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Last Name</ion-label>\n              <ion-input type="text" [formControl]="lastname"></ion-input>\n          </ion-item>  -->\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Mobile<span class="required"> *</span></ion-label>\n              <ion-input type="tel" [formControl]="mobile" placeholder="10 Digit Mobile Number" maxlength="10">\n              </ion-input>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Email</ion-label>\n              <ion-input type="email" [formControl]="email" placeholder="youremailid@domain.com"></ion-input>\n          </ion-item>\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Password<span class="required"> *</span></ion-label>\n              <ion-input [formControl]="passwd" type="{{typechecknew}}"></ion-input>\n              <button style="padding: 0px !important" *ngIf="!showPassnew" ion-button clear color="dark" type="button" item-right (click)="shownewPassword()"> <ion-icon style="background:none !important;"  name="eye"></ion-icon></button>\n              <button style="padding: 0px !important" *ngIf="showPassnew" ion-button clear color="dark" type="button" item-right (click)="shownewPassword()">  <ion-icon style="background:none !important;" name="eye-off"></ion-icon></button>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Confirm Password<span class="required"> *</span></ion-label>\n              <ion-input [formControl]="cpasswd" type="{{typecheckconfirm}}"></ion-input>\n              <button style="padding: 0px !important" *ngIf="!showPassconfirm" ion-button clear color="dark" type="button" item-right (click)="showconfirmPassword()"> <ion-icon style="background:none !important;"  name="eye"></ion-icon></button>\n              <button style="padding: 0px !important" *ngIf="showPassconfirm" ion-button clear color="dark" type="button" item-right (click)="showconfirmPassword()">  <ion-icon style="background:none !important;" name="eye-off"></ion-icon></button>\n          </ion-item>   -->\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Address 1<span class="required"> *</span></ion-label>\n              <ion-input type="text" [formControl]="address1"></ion-input>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Address 2</ion-label>\n              <ion-input type="text" [formControl]="address2"></ion-input>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Country<span class="required"> *</span></ion-label>\n              <ion-input (tap)="getmodal(\'Country\',country)" type="text" readonly=\'true\' [formControl]="countryname">\n              </ion-input>\n              <button item-right ion-button clear color="dark" class="no-padding no-margin"\n                  (click)="getmodal(\'Country\',country)">\n                  <ion-icon name="arrow-dropdown"></ion-icon>\n              </button>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>State<span class="required"> *</span></ion-label>\n              <ion-input [formControl]="statename" type="text" readonly=\'true\'></ion-input>\n              <button item-right ion-button clear color="dark" class="no-padding no-margin"\n                  (click)="getmodal(\'State\',state)">\n                  <ion-icon name="arrow-dropdown"></ion-icon>\n              </button>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>City<span class="required"> *</span></ion-label>\n              <ion-input [formControl]="cityname" type="text" readonly=\'true\'></ion-input>\n              <button item-right ion-button clear color="dark" class="no-padding no-margin"\n                  (click)="getmodal(\'City\',city)">\n                  <ion-icon name="arrow-dropdown"></ion-icon>\n              </button>\n          </ion-item>\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Village</ion-label>\n              <ion-input [formControl]="village_name" (tap)="getmodal(\'Village\',village)" type="text" readonly=\'true\'></ion-input>\n              <button item-right ion-button clear color="dark" class="no-padding no-margin" (click)="getmodal(\'Village\',village)" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n          </ion-item>          -->\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Pincode<span class="required"> *</span></ion-label>\n              <ion-input type="tel" [formControl]="pincode" maxlength="6"></ion-input>\n          </ion-item> -->\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Pincode<span class="required"> *</span></ion-label>\n            <ion-input type="tel" [formControl]="pincode" (ngModelChange)="pinserch($event)" maxlength="6"></ion-input>\n        </ion-item>\n        <ion-item no-padding *ngIf="pincode_show">\n            <ion-label color="label-color" stacked>Select Area<span class="required"> *</span></ion-label>\n            <ion-input [formControl]="village_name" type="text" readonly=\'true\'></ion-input>\n            <button item-right ion-button clear color="dark" class="no-padding no-margin"\n                (click)="getmodal(\'Village\',village)">\n                <ion-icon name="arrow-dropdown"></ion-icon>\n            </button>\n        </ion-item>\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Select Religion</ion-label>\n              <ion-select interface="popover" [formControl]="religion">\n                  <ion-option value="1">Hindu</ion-option>\n                  <ion-option value="2">Muslim</ion-option>\n                  <ion-option value="3">Christian</ion-option>\n              </ion-select>\n          </ion-item>   -->\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Gender</ion-label>\n              <ion-select [formControl]="gender">\n                  <ion-option value="0">Male</ion-option>\n                  <ion-option value="1">Female</ion-option>\n                  <ion-option value="3">Others</ion-option>\n              </ion-select>\n          </ion-item>   -->\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Customer Type</ion-label>\n              <ion-select interface="popover" [formControl]="cus_type" (ionChange)="typecheck()">\n                  <ion-option value="2" >Company</ion-option>\n              </ion-select>\n          </ion-item>    -->\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Date Of Birth</ion-label>\n              <ion-input readonly="true" class="ion_datetime"  [formControl]="date_of_birth" displayFormat="DD-MM-YYYY" (tap)="birth()"></ion-input>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Date Of Wed</ion-label>\n              <ion-input readonly="true" class="ion_datetime"  [formControl]="date_of_wed" displayFormat="DD-MM-YYYY" (tap)="wed()"></ion-input>\n          </ion-item>    -->\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Nominee Name </ion-label>\n              <ion-input type="text" [formControl]="nominee_name" ></ion-input>\n          </ion-item>\n\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Relationship </ion-label>\n              <ion-input type="text" [formControl]="nominee_relationship" ></ion-input>\n          </ion-item> -->\n\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Mobile </ion-label>\n              <ion-input type="number" [formControl]="nominee_mobile" placeholder="10 Digit Mobile Number" maxlength="10"></ion-input>\n          </ion-item> -->\n\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Company Name </ion-label>\n              <ion-input type="text" [formControl]="company_name"></ion-input>\n          </ion-item> -->\n\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>GST Number<span class="required"> *</span> </ion-label>\n              <ion-input type="text" [formControl]="gst_number" maxlength="15"\n                  (ionChange)="validateCaptilize(gst_number,\'gstno\')"></ion-input>\n          </ion-item>\n\n\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Pancard No </ion-label>\n              <ion-input type="text" [formControl]="pan" maxlength="10"\n                  (ionChange)="validateCaptilize(pan,\'pancard\')"></ion-input>\n          </ion-item>\n\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Voter ID No </ion-label>\n              <ion-input type="text" [formControl]="voterid"  maxlength="10" (ionChange)="validateCaptilize(voterid,\'voter\')"></ion-input>\n          </ion-item> -->\n          <!--\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Rationcard No </ion-label>\n              <ion-input type="text" [formControl]="rationcard" maxlength="15" (ionChange)="validateCaptilize(rationcard,\'ration\')"></ion-input>\n          </ion-item> -->\n\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Comments </ion-label>\n              <ion-textarea [formControl]="comments" placeholder="Enter a description"></ion-textarea>\n          </ion-item>\n      </span>\n\n\n      <!-- <ion-row style="border: none !important;" *ngIf="type == \'o\'">\n          <ion-col style="text-align: -webkit-center !important;">\n              <button (click)="onSubmit(registerForm.value)" ion-button class="joinbtn" block color="dark">\n                Submit</button>\n          </ion-col>\n      </ion-row> -->\n\n  </form>\n\n</ion-content>\n<ion-footer>\n  <!-- <button ion-button *ngIf="type != \'o\'" icon-start full class="theme-btn" (click)="next($event)">Next</button> -->\n  <button ion-button icon-start full class="theme-btn" (click)="onSubmit(registerForm.value)">Save</button>\n</ion-footer>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\modal\add-quick-cus\add-quick-cus.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["B" /* ViewController */], __WEBPACK_IMPORTED_MODULE_4__ionic_native_date_picker__["a" /* DatePicker */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["x" /* Platform */], __WEBPACK_IMPORTED_MODULE_2__angular_forms__["b" /* FormBuilder */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["r" /* MenuController */], __WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */], __WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */]])
    ], AddQuickCus);
    return AddQuickCus;
}());

//# sourceMappingURL=add-quick-cus.js.map

/***/ }),

/***/ 190:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OrderStatusPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__modal_employee_employee__ = __webpack_require__(49);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__order_status_view_order_status_view__ = __webpack_require__(405);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__ionic_native_date_picker__ = __webpack_require__(66);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__providers_retail__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__home_home__ = __webpack_require__(31);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









/**
 * Generated class for the OrderStatusPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
// @IonicPage()
var OrderStatusPage = /** @class */ (function () {
    function OrderStatusPage(zone, datePicker, actionSheetCtrl, loadingCtrl, common, navCtrl, navParams, modalCtrl, toastCtrl) {
        var _this = this;
        this.zone = zone;
        this.datePicker = datePicker;
        this.actionSheetCtrl = actionSheetCtrl;
        this.loadingCtrl = loadingCtrl;
        this.common = common;
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.modalCtrl = modalCtrl;
        this.toastCtrl = toastCtrl;
        this.empData = JSON.parse(localStorage.getItem('empDetail'));
        this.whole = [];
        this.ind = '';
        this.swhole = [];
        this.non_filter = [];
        this.page_no = 1;
        this.whole1 = [];
        this.branch = [];
        this.order = [];
        this.employee = [];
        this.type = 1;
        this.view_type = 1;
        this.date_option = "intial";
        this.type = this.navParams.get('type');
        if (this.type == 2) {
            this.view_type = 2;
        }
        var date = new Date();
        var ddd = date.getDate();
        var mmm = date.getMonth() + 1;
        var yy = date.getFullYear();
        // var today = date.toISOString().substring(0, 10);
        this.to = yy + "-" + mmm + "-" + ddd;
        this.branto = this.to;
        var ddd = date.getDate();
        var mmm = date.getMonth() == 0 ? 12 : date.getMonth();
        var yy = date.getMonth() == 0 ? date.getFullYear() - 1 : date.getFullYear();
        // var today = date.toISOString().substring(0, 10);
        this.from = yy + "-" + mmm + "-" + ddd;
        date.setDate(date.getDate() - 7); // this line fetchecd only 7 days data .
        this.from = date.getFullYear() + '-' + (date.getMonth() + 1) + '-' + date.getDate();
        this.branfrom = this.from;
        console.log(this.branfrom);
        var loader = this.loadingCtrl.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        var postData = {
            'id_employee': this.empData != null ? this.empData['uid'] : null,
            'page_no': this.page_no,
            'id_branch': this.empData['id_branch'],
            "from_date": this.from,
            "to_date": this.to,
            'filter_by': 1
        };
        console.log(postData);
        this.common.get_order_list(postData).then(function (data) {
            _this.whole = data;
            _this.non_filter = data;
            console.log(_this.whole, '11111111111');
            _this.swhole = data;
            data.forEach(function (element) {
                element['tog'] = 'View More';
            });
            loader.dismiss();
        }, function (err) {
            loader.dismiss();
        });
        this.common.getbranch().then(function (data) {
            _this.branch = data;
            var branch1 = _this.branch.filter(function (data) { return data['id_branch'] == _this.empData['id_branch']; });
            _this.select_branch = branch1[0];
        });
        this.common.getBranchEmployees(this.empData['id_branch']).then(function (data) {
            _this.employee = data;
            var empname = _this.employee.filter(function (data) { return data['id_employee'] == _this.empData['uid']; });
            _this.select_emp = empname[0]['emp_name'];
            _this.id_employee = empname[0].id_employee;
        });
        this.common.getOrder_status().then(function (data) {
            _this.order = data['order_status'];
        });
    }
    OrderStatusPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad NotconvertedPage');
    };
    OrderStatusPage.prototype.open = function (i) {
        if (this.whole[i]['tog'] == 'View More') {
            this.whole[i]['tog'] = 'View Less';
        }
        else {
            this.whole[i]['tog'] = 'View More';
        }
        console.log(this.ind);
    };
    OrderStatusPage.prototype.fromdate = function () {
        var _this = this;
        this.date_option = "from";
        this.datePicker.show({
            date: new Date(this.from),
            mode: 'date',
            androidTheme: this.datePicker.ANDROID_THEMES.THEME_HOLO_DARK
        }).then(function (date) {
            var ddd = date.getDate();
            var mmm = date.getMonth() + 1;
            var yy = date.getFullYear();
            //var today = new Date(yy+"-"+mmm+"-"+ddd).toISOString().substring(0, 10);
            var today = date.toISOString().substring(0, 10);
            //this.fromdate= today;
            _this.from = yy + "-" + mmm + "-" + ddd;
            var fromdate = new Date(_this.from);
            var todate = new Date();
            var old = new Date(_this.from);
            var now = new Date('2014-01-01');
            _this.from_frm = _this.from;
            _this.to_frm = _this.to;
            if (old >= now) {
                if (fromdate <= todate) {
                    var loader_1 = _this.loadingCtrl.create({
                        content: 'Please Wait',
                        spinner: 'bubbles',
                    });
                    loader_1.present();
                    var postData = {
                        'id_employee': _this.empData != null ? _this.empData['uid'] : null,
                        'page_no': _this.page_no,
                        'id_branch': _this.empData['id_branch'],
                        "from_date": _this.from,
                        "to_date": _this.to,
                        'filter_by': 1
                    };
                    console.log(postData);
                    _this.common.get_order_list(postData).then(function (data) {
                        _this.whole = data;
                        _this.non_filter = data;
                        console.log(_this.whole, '11111111111');
                        _this.swhole = data;
                        data.forEach(function (element) {
                            element['tog'] = 'View More';
                        });
                        loader_1.dismiss();
                    }, function (err) {
                        loader_1.dismiss();
                    });
                }
                else {
                    var toast = _this.toastCtrl.create({
                        message: 'Orders Not Available For Future Dates',
                        position: 'bottom',
                        duration: 6000
                    });
                    toast.present();
                }
            }
            else {
                var toast = _this.toastCtrl.create({
                    message: 'Please Select Date After 2014-01-01',
                    position: 'bottom',
                    duration: 6000
                });
                toast.present();
            }
        });
    };
    OrderStatusPage.prototype.todate = function () {
        var _this = this;
        this.date_option = "to";
        this.datePicker.show({
            date: new Date(this.to),
            mode: 'date',
            androidTheme: this.datePicker.ANDROID_THEMES.THEME_HOLO_DARK
        }).then(function (date) {
            var ddd = date.getDate();
            var mmm = date.getMonth() + 1;
            var yy = date.getFullYear();
            //var today = new Date(yy+"-"+mmm+"-"+ddd).toISOString().substring(0, 10);
            var today = date.toISOString().substring(0, 10);
            //this.fromdate= today;
            _this.to = yy + "-" + mmm + "-" + ddd;
            var fromdate = new Date(_this.to);
            var todate = new Date();
            var old = new Date(_this.to);
            var now = new Date('2014-01-01');
            _this.from_to = _this.from;
            _this.to_to = _this.to;
            if (old >= now) {
                if (fromdate <= todate) {
                    var loader_2 = _this.loadingCtrl.create({
                        content: 'Please Wait',
                        spinner: 'bubbles',
                    });
                    loader_2.present();
                    var postData = {
                        'id_employee': _this.empData != null ? _this.empData['uid'] : null,
                        'page_no': _this.page_no,
                        'id_branch': _this.empData['id_branch'],
                        "from_date": _this.from,
                        "to_date": _this.to,
                        'filter_by': 1
                    };
                    console.log(postData);
                    _this.common.get_order_list(postData).then(function (data) {
                        _this.whole = data;
                        _this.non_filter = data;
                        console.log(_this.whole, '11111111111');
                        _this.swhole = data;
                        data.forEach(function (element) {
                            element['tog'] = 'View More';
                        });
                        loader_2.dismiss();
                    }, function (err) {
                        loader_2.dismiss();
                    });
                }
                else {
                    var toast = _this.toastCtrl.create({
                        message: 'Orders Not Available For Future Dates',
                        position: 'bottom',
                        duration: 6000
                    });
                    toast.present();
                }
            }
            else {
                var toast = _this.toastCtrl.create({
                    message: 'Please Select Date After 2014-01-01',
                    position: 'bottom',
                    duration: 6000
                });
                toast.present();
            }
        });
    };
    OrderStatusPage.prototype.openModal = function (data) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__order_status_view_order_status_view__["a" /* OrderStatusViewPage */], { 'item': data });
        // const modal = this.modalCtrl.create(StatusViewPage,{'item':data});
        // modal.present();
    };
    OrderStatusPage.prototype.filterNumbers = function () {
        var _this = this;
        var loader = this.loadingCtrl.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        this.page_no = this.page_no + 1;
        var postData = {
            'id_employee': this.empData['uid'] != null ? this.empData['uid'] : null,
            'id_branch': this.empData['id_branch'],
            "from_date": '',
            "to_date": '',
            'filter_by': 1,
            'order_no': this.filterValue
        };
        this.common.get_order_list(postData).then(function (data) {
            _this.whole = data;
            _this.whole1 = data;
            _this.non_filter = data;
            console.log(_this.whole, '11111111111');
            _this.swhole = data;
            loader.dismiss();
            // this.from = ''
            // this.to = ''
            // this.select_emp = '';
            // this.select_branch = '';
        }, function (err) {
            loader.dismiss();
        });
    };
    OrderStatusPage.prototype.order_filter_empty = function (e) {
        var _this = this;
        if (e._value.length == 0) {
            var date = new Date();
            var ddd = date.getDate();
            var mmm = date.getMonth() + 1;
            var yy = date.getFullYear();
            // var today = date.toISOString().substring(0, 10);
            this.to = yy + "-" + mmm + "-" + ddd;
            this.branto = this.to;
            var ddd = date.getDate();
            var mmm = date.getMonth() == 0 ? 12 : date.getMonth();
            var yy = date.getMonth() == 0 ? date.getFullYear() - 1 : date.getFullYear();
            // var today = date.toISOString().substring(0, 10);
            this.from = yy + "-" + mmm + "-" + ddd;
            // date.setDate(date.getDate() - 7); // this line fetchecd only 7 days data .
            // this.from = date.getFullYear() + '-' + (date.getMonth() + 1) + '-' + date.getDate();
            this.branfrom = this.from;
            console.log(this.branfrom);
            var loader_3 = this.loadingCtrl.create({
                content: 'Please Wait',
                spinner: 'bubbles',
            });
            loader_3.present();
            var postData = {
                'id_employee': this.empData != null ? this.empData['uid'] : null,
                'page_no': this.page_no,
                'id_branch': this.empData['id_branch'],
                "from_date": this.from,
                "to_date": this.to,
                'filter_by': 1
            };
            console.log(postData);
            this.common.get_order_list(postData).then(function (data) {
                _this.whole = data;
                _this.non_filter = data;
                console.log(_this.whole, '11111111111');
                _this.swhole = data;
                data.forEach(function (element) {
                    element['tog'] = 'View More';
                });
                loader_3.dismiss();
            }, function (err) {
                loader_3.dismiss();
            });
        }
        this.filterValue = e._value.toUpperCase();
        this.whole = this.non_filter;
    };
    OrderStatusPage.prototype.handleFilter = function (change_event) {
        var _this = this;
        var loader = this.loadingCtrl.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        this.get_date();
        var order_id = (this.select_order != '' && this.select_order != undefined) ? this.select_order['id_order_msg'] : null;
        if (change_event == 'branch') {
            this.select_emp = '';
            this.id_employee = '';
            this.select_order = '';
            order_id = '';
            var branch_id = (this.select_branch != '' && this.select_branch != undefined) ? this.select_branch['id_branch'] : this.empData['id_branch'];
            var id_employee = (this.id_employee != '' && this.id_employee != undefined) ? this.id_employee : null;
            var postData = {
                'id_employee': id_employee,
                'page_no': this.page_no,
                'id_branch': branch_id,
                "from_date": this.from,
                "to_date": this.to,
                'filter_by': 1,
                'orderstatus': order_id
            };
            this.common.get_order_list(postData).then(function (data) {
                if (data != null) {
                    loader.dismiss();
                    _this.whole = data;
                }
            });
            this.common.getBranchEmployees(branch_id).then(function (data) {
                _this.employee = data;
                console.log(_this.employee, 'lllllllllll');
            });
        }
        else if (change_event == 'employee') {
            order_id = '';
            this.select_order = '';
            var branch_id = (this.select_branch != '' && this.select_branch != undefined) ? this.select_branch['id_branch'] : this.empData['id_branch'];
            var id_employee = (this.id_employee != '' && this.id_employee != undefined) ? this.id_employee : null;
            var postData = {
                'id_employee': id_employee,
                'page_no': this.page_no,
                'id_branch': branch_id,
                "from_date": this.from,
                "to_date": this.to,
                'filter_by': 1,
                'orderstatus': order_id
            };
            this.common.get_order_list(postData).then(function (data) {
                _this.whole = data;
            });
            loader.dismiss();
        }
        else if (change_event == 'status') {
            this.from = '';
            this.to = '';
            console.log('bran : ', this.select_branch);
            console.log(this.select_branch['id_branch']);
            console.log(this.empData['id_branch'], 'id_branch');
            console.log(this.id_employee);
            // var branch_id = ( select_branch != '' &&  select_branch != undefined) ? select_branch : this.empData['id_branch']
            var branch_id = (this.select_branch != '' && this.select_branch != undefined) ? this.select_branch['id_branch'] : this.empData['id_branch'];
            var id_employee = (this.id_employee != '' && this.id_employee != undefined) ? this.id_employee : this.empData['id_employee'];
            // console.log(this.select_order.id_order_msg,'status');
            var postData = {
                'id_employee': id_employee,
                'page_no': this.page_no,
                'id_branch': branch_id,
                "from_date": null,
                "to_date": null,
                'filter_by': 1,
                'orderstatus': order_id
            };
            this.common.get_order_list(postData).then(function (data) {
                loader.dismiss();
                _this.whole = data;
            });
        }
    };
    OrderStatusPage.prototype.get_date = function () {
        console.log(this.date_option);
        if (this.date_option == 'intial') {
            var date = new Date();
            var ddd = date.getDate();
            var mmm = date.getMonth() + 1;
            var yy = date.getFullYear();
            // var today = date.toISOString().substring(0, 10);
            this.to = yy + "-" + mmm + "-" + ddd;
            this.branto = this.to;
            var ddd = date.getDate();
            var mmm = date.getMonth() == 0 ? 12 : date.getMonth();
            var yy = date.getMonth() == 0 ? date.getFullYear() - 1 : date.getFullYear();
            // var today = date.toISOString().substring(0, 10);
            this.from = yy + "-" + mmm + "-" + ddd;
            date.setDate(date.getDate() - 7); // this line fetchecd only 7 days data .
            this.from = date.getFullYear() + '-' + (date.getMonth() + 1) + '-' + date.getDate();
        }
        else if (this.date_option == 'from') {
            this.from = this.from_frm;
            this.to = this.to_frm;
        }
        else if (this.date_option == 'to') {
            this.from = this.from_to;
            this.to = this.to_to;
        }
    };
    // naveen
    OrderStatusPage.prototype.openEmpModal = function () {
        var _this = this;
        console.log(this.select_branch);
        var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_3__modal_employee_employee__["a" /* EmpSearchPage */], { "empData": this.employee });
        modal.present();
        modal.onDidDismiss(function (data) {
            if (data != null) {
                _this.select_emp = data.emp_name;
                _this.id_employee = data.id_employee;
                _this.handleFilter('employee');
            }
        });
    };
    OrderStatusPage.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        this.page_no = this.page_no + 1;
        // let loader = this.loadingCtrl.create({
        // 	content: 'Please Wait',
        // 	spinner: 'bubbles',
        //   });
        //   loader.present();
        var order_id = (this.select_order != '' && this.select_order != undefined) ? this.select_order['id_order_msg'] : null;
        var postData = {
            'id_employee': (this.id_employee != '' && this.id_employee != undefined) ? this.id_employee : this.empData['id_employee'],
            'page_no': this.page_no,
            'id_branch': (this.select_branch != '' && this.select_branch != undefined) ? this.select_branch['id_branch'] : this.empData['id_branch'],
            "from_date": this.from,
            "to_date": this.to,
            'filter_by': 1,
            'orderstatus': order_id
        };
        this.common.get_order_list(postData).then(function (data) {
            console.log(data);
            for (var index = 0; index < data.length; index++) {
                data[index]['tog'] = 'View More';
                _this.whole.push(data[index]);
                // this.whole1.push(data[index])
                // this.non_filter.push(data[index])
                // this.swhole.push(data[index])
            }
            infiniteScroll.complete();
            // loader.dismiss();
        });
    };
    OrderStatusPage.prototype.redirect = function () {
        if (this.type == undefined) {
            this.type = 1;
        }
        if (this.type == 1 || this.type == 2) {
            this.navCtrl.setRoot(__WEBPACK_IMPORTED_MODULE_7__home_home__["a" /* HomePage */]);
        }
        // else if (this.type == 2) {
        //   this.navCtrl.push(CartPage)
        // }
    };
    OrderStatusPage.prototype.refresh = function () {
        this.navCtrl.setRoot(this.navCtrl.getActive().component);
    };
    OrderStatusPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-order-status',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\order-status\order-status.html"*/'<!-- <ion-header> <ion-navbar>\n  <button ion-button menuToggle>\n    <ion-icon name="menu"></ion-icon>\n  </button>\n  <ion-title>Order Status -->\n    <!-- <ion-icon  name="md-funnel" (click)="filter()" style="color:black !important;float: right;font-size:1.4em !important" ></ion-icon> -->\n\n  <!-- </ion-title> </ion-navbar>\n </ion-header> -->\n <ion-header>\n  <ion-navbar  hideBackButton="true">\n    <ion-row>\n      <ion-col col-4>\n        <ion-icon style="font-size: 22px;margin-left: 15px;"  (click)="redirect()" name="md-arrow-back"></ion-icon>\n      </ion-col>\n      <ion-col col-8 style="margin: auto;">\n        <ion-title>Order Status\n    <ion-icon   name=\'md-refresh-circle\' (click)="refresh()" style="color:black !important;float: right;font-size:28px !important" ></ion-icon>\n  \n          <!-- <ion-icon  name="md-funnel" (click)="filter()" style="color:black !important;float: right;font-size:1.4em !important" ></ion-icon> -->\n        </ion-title>\n      </ion-col>\n    </ion-row>\n  </ion-navbar>\n  <!-- <ion-navbar *ngIf="view_type == 2" >\n  <button (click)="redirect()" ion-button  menuToggle>\n    <ion-icon name="menu"></ion-icon>\n  </button>\n  <ion-title>Order Status\n    <ion-icon   name=\'md-refresh-circle\' (click)="refresh()" style="color:black !important;float: right;font-size:28px !important" ></ion-icon>\n\n\n\n  </ion-title>\n </ion-navbar> -->\n </ion-header>\n\n  <ion-content>\n    <!-- <ion-refresher slot="fixed" (ionRefresh)="handleRefresh($event)">\n      <ion-refresher-content> -->\n\n    <ion-row>\n      <ion-col col-12 class="ser_key">\n      <ion-item no-padding >\n        <ion-label color="label-color" stacked>Order No<span class="required"> *</span></ion-label>\n        <ion-input type="text" [(ngModel)]="filterValue"   (ionChange)="order_filter_empty($event)"></ion-input>\n        <button ion-button outline small color="dark" type="button" item-right (click)="filterNumbers()"> Search </button>\n    </ion-item>\n  </ion-col>\n    </ion-row>\n\n\n   <ion-row>\n          <ion-col style="text-align: -webkit-center !important;">\n        <ion-label color="label-color" stacked>From Date</ion-label>\n            <ion-input style="text-align: center !important;color: #000 !important;font-weight: bold;border: none !important;width: 75% !important;height:90% !important;font-size: 12px !important;border-radius: 4px !important;" readonly="true" class="ion_datetime"\n              [(ngModel)]="from" displayFormat="DD-MM-YYYY" (focusin)="fromdate()"></ion-input>\n          </ion-col>\n          <ion-col style="text-align: -webkit-center !important;">\n        <ion-label color="label-color" stacked>To Date</ion-label>\n            <ion-input style="text-align: center !important; color: #000 !important;font-weight: bold;border: none !important;width: 75% !important;height:90% !important;font-size: 12px !important;border-radius: 4px !important;" readonly="true" class="ion_datetime"\n              [(ngModel)]="to" displayFormat="DD-MM-YYYY" (focusin)="todate()"></ion-input>\n          </ion-col>\n        </ion-row> \n\n\n    <br>\n\n\n    <ion-row>\n      <ion-col col-4>\n        <ion-item >\n          <!-- <ion-label class="font-s" *ngIf="!select_branch">{{placeholderLabel_branch}}</ion-label> -->\n          <ion-select interface="popover" style="max-width: 100%;" [(ngModel)]="select_branch" placeholder=" Select Branch" (ionChange)="handleFilter(\'branch\')">\n            <ion-option  *ngFor="let data of branch" [value]="data">{{data.name}}</ion-option>\n\n          </ion-select>\n        </ion-item>\n      </ion-col>\n      <ion-col col-4 style="left: 5px;">  \n          <ion-item>  \n            <ion-input type="text" [(ngModel)]="select_emp" placeholder="Select Employee" (tap)="openEmpModal()"  readonly> \n            </ion-input> \n          </ion-item> \n      </ion-col>\n\n<ion-col col-4>\n  <ion-item >\n    <!-- <ion-label class="font-s">Order</ion-label> -->\n    <ion-select interface="popover" style="max-width: 100%;" [(ngModel)]="select_order" placeholder="Select Order" (ionChange)="handleFilter(\'status\')">\n      <ion-option *ngFor="let data of order"  [value]="data">{{data.order_status}}</ion-option>\n\n    </ion-select>\n  </ion-item>\n</ion-col>\n\n</ion-row>\n\n   <p *ngIf="whole.length == 0" class="empty">No result found</p>\n<br>\n    <ion-card\n       *ngFor=" let order of whole ;let i=index ">\n    <ion-item> <ion-badge color="light">{{order.tag_code}}</ion-badge></ion-item>\n    <div>\n      <ion-badge [ngStyle]="{\'background\':order.color,\'float\':\'right\'}" >{{order.order_status}}</ion-badge>\n    </div>\n\n    <ion-item>\n      <ion-avatar item-left>\n  <!-- <img *ngIf="order[\'image_details\'].length > 0" style="height: 50px;width: 50px;margin: 0 auto;object-fit: cover;"   src="{{order[\'image_details\'][0]}}" imageViewer="{{order[\'image_details\'][0]}}"  onerror="this.src=\'assets/no-img.png\'" imageCache/> -->\n      <img  style="height: 50px;width: 50px;margin: 0 auto;object-fit: cover;"   src="{{order[\'default_image\']}}" imageViewer="{{order[\'default_image\']}}"  onerror="this.src=\'assets/no-img.png\'" imageCache/>\n\n      </ion-avatar>\n     \n      <ion-row  no-padding> <ion-col style="max-width:37% !important;margin-bottom: 5px;">\n        <h3 style="font-weight: bold;">Branch</h3>\n        </ion-col>\n        <ion-col style="max-width:3% !important;margin: auto;">\n          :\n          </ion-col>\n          <ion-col style="max-width:60% !important;margin: auto;overflow: scroll;">\n            <ion-badge style="background: linear-gradient(to right,#000000 0%,#000000 75%,#000000 100%);overflow: scroll;">{{order.branch_name}}</ion-badge>\n          </ion-col>\n       </ion-row>\n       <ion-row  no-padding> <ion-col style="max-width:37% !important">\n        <h3 style="font-weight: bold;">Order Type</h3>\n        </ion-col>\n        <ion-col style="max-width:3% !important;margin: auto;">\n          :\n          </ion-col>\n          <ion-col style="max-width:60% !important;margin: auto;">\n            {{order.order_type}}\n            </ion-col>\n       </ion-row>\n       <ion-row  no-padding> <ion-col style="max-width:37% !important">\n        <h3 style="font-weight: bold;">Order No</h3>\n        </ion-col>\n        <ion-col style="max-width:3% !important;margin: auto;">\n          :\n          </ion-col>\n          <ion-col style="max-width:60% !important;margin: auto;">\n            {{order.order_no}}<span (click)="openModal(order)" style="float: right;color:\n           #000000">View more>></span>\n            </ion-col>\n       </ion-row>\n\n    </ion-item>\n    </ion-card>\n\n\n    <ion-infinite-scroll (ionInfinite)="doInfinite($event)">\n      <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="Loading more data..."></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n\n<!-- </ion-refresher-content>\n</ion-refresher> -->\n\n  </ion-content>\n\n  <ion-footer style="bottom: 70px !important;">\n  <ion-toolbar>\n    <ion-title text-center>\n      Showing 1 to {{ whole.length }} of entries\n    </ion-title>\n  </ion-toolbar>\n</ion-footer>\n\n\n\n\n\n\n\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\order-status\order-status.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_6__providers_retail__["a" /* RetailProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["M" /* NgZone */], __WEBPACK_IMPORTED_MODULE_5__ionic_native_date_picker__["a" /* DatePicker */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["a" /* ActionSheetController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */]])
    ], OrderStatusPage);
    return OrderStatusPage;
}());

//# sourceMappingURL=order-status.js.map

/***/ }),

/***/ 191:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Addstone2Page; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_retail__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__stonesearch_stonesearch__ = __webpack_require__(192);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





/**
 * Generated class for the AddStoneDetailPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
// @IonicPage()
var Addstone2Page = /** @class */ (function () {
    function Addstone2Page(modal, events, toast, load, retail, common, viewCtrl, navParams) {
        var _this = this;
        this.modal = modal;
        this.events = events;
        this.toast = toast;
        this.load = load;
        this.retail = retail;
        this.common = common;
        this.viewCtrl = viewCtrl;
        this.navParams = navParams;
        this.stoneData = [{ "is_apply_in_lwt": 0, "lwt": false, "stone_id": 0, "stone_pcs": '', "stone_wt": '', "stone_price": '' }];
        this.stoneSelected = { "rate_type": "1" };
        this.tagstoneData = [
            {
                amount: '',
                is_apply_in_lwt: 0,
                pieces: '',
                rate_per_gram: '',
                stone_cal_type: 0,
                stone_id: 0,
                stone_type: 0,
                tag_id: 0,
                uom_id: 0,
                wt: '',
                lwt: false
            }
        ];
        this.fixed_rate_type = "";
        this.stoneMasData = [];
        this.stones = [];
        this.uom = [];
        this.cut = [];
        this.clarity = [];
        this.color = [];
        this.shape = [];
        this.proceedSave = false;
        this.ptype = "";
        this.gross = 0;
        this.ctype = [{ 'name': 'By Wt', 'stone_cal_type': '1' }, { 'name': 'By Pcs', 'stone_cal_type': '2' }];
        this.gtype_filter = [{ 'name': 'Carat', 'uom_id': '6' }, { 'name': 'Gram', 'uom_id': '1' }];
        this.totalvalue = 0;
        this.totalgram = 0;
        this.totalct = 0;
        this.stoneMasTypes = [];
        this.gtype = [];
        this.uomtype = [];
        this.page = this.navParams.get('page');
        this.ptype = this.navParams.get('ptype');
        this.gross = this.navParams.get('gross');
        this.stoneMasData = this.navParams.get('stoneMasData');
        this.stoneMasTypes = this.navParams.get('stoneMasTypes');
        if (this.stoneMasData) {
            this.stones = this.stoneMasData;
            this.uom = this.stoneMasData;
            this.cut = this.stoneMasData;
            this.clarity = this.stoneMasData;
            this.color = this.stoneMasData;
            this.shape = this.stoneMasData;
        }
        console.log(this.stoneMasData);
        console.log(this.navParams.get('stone_details'));
        if (this.navParams.get('stone_details').length > 0 && this.ptype == 'tag') {
            this.tagstoneData = this.navParams.get('stone_details');
            this.get_total();
            this.uomchange();
            this.tagstoneData.forEach(function (element, index) {
                _this.tagstoneData[index]['lwt'] = _this.tagstoneData[index]['is_apply_in_lwt'] == 1 ? true : false;
                var tr = _this.stones.filter(function (data) { return data['stone_id'] == element['stone_id']; });
                _this.tagstoneData[index]['stone_name'] = tr.length > 0 ? tr[0]['stone_name'] : [];
            });
        }
        else if (this.navParams.get('stone_details').length > 0 && this.ptype != 'tag') {
            this.stoneData = this.navParams.get('stone_details');
            this.get_total();
            this.uomchange();
            this.stoneData.forEach(function (element, index) {
                console.log(element['stone_id']);
                _this.stoneData[index]['lwt'] = _this.stoneData[index]['is_apply_in_lwt'] == 1 ? true : false;
                var tr = _this.stones.filter(function (data) { return data['stone_id'] == element['stone_id']; });
                _this.stoneData[index]['stone_name'] = tr.length > 0 ? tr[0]['stone_name'] : [];
            });
        }
        this.action = this.navParams.get('action');
    }
    Addstone2Page.prototype.dismiss = function () {
        this.viewCtrl.dismiss();
    };
    Addstone2Page.prototype.updateStone = function (submitType) {
        var _this = this;
        if (this.ptype == 'tag') {
            this.viewCtrl.dismiss(this.tagstoneData);
        }
        else {
            this.viewCtrl.dismiss(this.stoneData);
        }
        // Alert Message Timeout
        setTimeout(function () {
            _this.errorMsg = "";
        }, this.common.msgTimeout);
    };
    Addstone2Page.prototype.addStone = function (submitType) {
        var _this = this;
        console.log(this.stoneData);
        console.log(this.gross);
        if (this.ptype != 'tag') {
            for (var index = 0; index < this.stoneData.length; index++) {
                console.log(this.stoneData[index]);
                // if (this.stoneData[index].stone_id > 0 && this.stoneData[index].stone_pcs > 0 && this.stoneData[index].stone_price > 0 && this.stoneData[index].stone_wt > 0) {
                var stData = this.calcStoneDetail();
                console.log(stData);
                // (this.stoneData[index]['uom_id'] == '6' ? Number(this.stoneData[index]['stone_wt']) / 5 : Number(this.stoneData[index]['stone_wt']))
                if (stData['comparestone_wt'] < this.gross) {
                    if (this.stoneData.length - 1 == index) {
                        if (this.ptype == 'tag') {
                            this.viewCtrl.dismiss(this.tagstoneData);
                        }
                        else {
                            console.log(this.stoneData);
                            this.viewCtrl.dismiss(this.stoneData);
                        }
                    }
                }
                else {
                    var ctrl = this.toast.create({
                        message: "Please Enter Valid Stone Weight ",
                        duration: this.common.toastTimeout,
                        position: 'bottom'
                    });
                    ctrl.present();
                    break;
                }
                // } else {
                //   let ctrl = this.toast.create({
                //     message: "* Fields are Mandatory",
                //     duration: this.common.toastTimeout,
                //     position: 'bottom'
                //   });
                //   ctrl.present();
                //   break;
                // }
            }
            // Alert Message Timeout
            setTimeout(function () {
                _this.errorMsg = "";
            }, this.common.msgTimeout);
        }
        if (this.ptype == 'tag') {
            for (var index = 0; index < this.tagstoneData.length; index++) {
                console.log(this.tagstoneData[index]);
                // if (this.tagstoneData[index].stone_id > 0 && this.tagstoneData[index].pieces > 0 && this.tagstoneData[index].amount > 0 && this.tagstoneData[index].wt > 0) {
                var stData = this.calcStoneDetail();
                console.log(stData);
                if (stData['comparestone_wt'] < this.gross) {
                    if (this.tagstoneData.length - 1 == index) {
                        if (this.ptype == 'tag') {
                            this.viewCtrl.dismiss(this.tagstoneData);
                        }
                        else {
                            this.viewCtrl.dismiss(this.stoneData);
                        }
                    }
                }
                else {
                    var ctrl = this.toast.create({
                        message: "Please Enter Valid Stone Weight ",
                        duration: this.common.toastTimeout,
                        position: 'bottom'
                    });
                    ctrl.present();
                    break;
                }
                // }
                // else {
                //   let ctrl = this.toast.create({
                //     message: "* Fields are Mandatory",
                //     duration: this.common.toastTimeout,
                //     position: 'bottom'
                //   });
                //   ctrl.present();
                //   break;
                // }
            }
            // Alert Message Timeout
            setTimeout(function () {
                _this.errorMsg = "";
            }, this.common.msgTimeout);
        }
    };
    Addstone2Page.prototype.stoneChanged = function () {
        // this.stoneData['rate'] = 0;
        // this.stoneData['stone_price'] = 0;
        // if(this.stoneData['stone_id'] > 0){
        //   let filterData =  this.stones.filter((s: any) => s.stone_id == this.stoneData['stone_id']);
        //   this.stoneSelected = filterData[0];
        //   this.stoneData['rate'] = parseFloat(this.stoneSelected['rate_type']) == 1 ? parseFloat(this.stoneSelected['fixed_rate']) : "";
        //   this.fixed_rate_type = parseFloat(this.stoneSelected['fixed_rate_type']) == 1 ? "Per Gram" : (parseFloat(this.stoneSelected['fixed_rate_type']) == 2 ? "Per Piece" : "" );
        // }
    };
    Addstone2Page.prototype.calcStoneValue = function () {
        // let stn_price:any = 0; 
        // if(this.stoneData['stone_id'] > 0 && this.stoneData['stone_pcs'] > 0 && this.stoneData['stone_wt'] > 0 && this.stoneData['stone_price'] > 0  ){
        //   this.proceedSave = true; 
        // }else{
        //   this.proceedSave = false;
        // }
        // if(this.stoneData['stone_id'] > 0 && this.stoneData['stone_pcs'] > 0 && this.stoneData['stone_wt'] > 0 && this.stoneData['stone_price'] > 0){
        // let rate_type = parseFloat(this.stoneSelected['rate_type']);
        // let fixed_rate_type = parseFloat(this.stoneSelected['fixed_rate_type']);
        // Rate Type => 1-Fixed, 2 - Rate From Master, 3 - Manual
        // if(rate_type == 1 || rate_type == 3)	
        // {
        //   if(fixed_rate_type == 1) //Fixed Rate Type => 1-Per Gram,2-Per Piece
        //   {
        //     stn_price = this.stoneData['rate']*parseFloat(this.stoneData['stone_wt']); 
        //   }
        //   else{
        //     stn_price = this.stoneData['rate']*parseFloat(this.stoneData['stone_pcs']); 
        //   }
        // }
        // else if(rate_type == 2)
        // {
        //   console.log(this.stoneData['rate_details']);
        //   this.stoneData['rate_details'].forEach( rate => {
        //     if(rate.cent_from <= this.stoneData['stone_wt'] && this.stoneData['stone_wt'] <= rate.cent_to)
        //     {
        //       this.stoneData['rate'] = rate.rate;
        //       stn_price = parseFloat(rate.rate)*parseFloat(this.stoneData['stone_wt']);
        //     }
        //   })
        // }
        // }
        // this.stoneData['stone_price'] = parseFloat(stn_price) + parseFloat(this.stoneData['certif_charge']);
    };
    Addstone2Page.prototype.add = function () {
        if (this.ptype == 'tag') {
            this.tagstoneData.push({
                amount: '',
                is_apply_in_lwt: 0,
                pieces: '',
                rate_per_gram: '',
                stone_cal_type: 0,
                stone_id: 0,
                stone_type: 0,
                tag_id: 0,
                uom_id: 0,
                wt: '',
                lwt: false
            });
        }
        else {
            this.stoneData.push({ "is_apply_in_lwt": 0, "lwt": false, "stone_id": 0, "stone_pcs": '', "stone_wt": '', "stone_price": '' });
        }
    };
    Addstone2Page.prototype.remove = function (i) {
        this.totalvalue = 0;
        this.totalgram = 0;
        this.totalct = 0;
        if (this.ptype == 'tag') {
            if (this.tagstoneData.length > 1) {
                this.tagstoneData.splice(i, 1);
            }
            else if (this.tagstoneData.length == 1) {
                this.tagstoneData.splice(i, 1);
                this.tagstoneData.push({
                    amount: '',
                    is_apply_in_lwt: 0,
                    pieces: '',
                    rate_per_gram: '',
                    stone_cal_type: 0,
                    stone_id: 0,
                    stone_type: 0,
                    tag_id: 0,
                    uom_id: 0,
                    wt: '',
                    lwt: false
                });
            }
            for (var index = 0; index < this.tagstoneData.length; index++) {
                this.totalvalue += parseFloat(this.tagstoneData[index].amount);
                if (this.tagstoneData[index]['uom_id'] == 1) {
                    // this.totalgram += parseFloat(this.tagstoneData[index]['wt'] )
                    var data = Number(this.totalgram) + Number(this.tagstoneData[index]['wt']);
                    this.totalgram = data.toFixed(3);
                }
                else if (this.tagstoneData[index]['uom_id'] == 6) {
                    // this.totalct += parseFloat(this.tagstoneData[index]['wt'] )
                    var data = Number(this.totalct) + Number(this.tagstoneData[index]['wt']);
                    this.totalct = data.toFixed(3);
                }
            }
            //   this.totalvalue = 0;
            //   for (let index = 0; index <this.tagstoneData.length; index++) {
            //     this.totalvalue += parseFloat(this.tagstoneData[index].amount)
            //  }
        }
        else {
            if (this.stoneData.length > 1) {
                this.stoneData.splice(i, 1);
                console.log(this.stoneData);
            }
            else if (this.stoneData.length == 1) {
                this.stoneData.splice(i, 1);
                this.stoneData.push({ "is_apply_in_lwt": 0, "lwt": false, "stone_id": 0, "stone_pcs": '', "stone_wt": '', "stone_price": '' });
            }
            for (var index = 0; index < this.stoneData.length; index++) {
                this.totalvalue += parseFloat(this.stoneData[index].stone_price);
                if (this.stoneData[index]['uom_id'] == 1) {
                    // this.totalgram += parseFloat(this.stoneData[index]['stone_wt'] )
                    var data = Number(this.totalgram) + Number(this.stoneData[index]['stone_wt']);
                    this.totalgram = data.toFixed(3);
                }
                else if (this.stoneData[index]['uom_id'] == 6) {
                    // this.totalct += parseFloat(this.stoneData[index]['stone_wt'] )
                    var data = Number(this.totalct) + Number(this.stoneData[index]['stone_wt']);
                    this.totalct = data.toFixed(3);
                }
            }
            //  this.totalvalue = 0;
            //     for (let index = 0; index <this.stoneData.length; index++) {
            //       this.totalvalue += parseFloat(this.stoneData[index].stone_price);
            //    }
        }
    };
    Addstone2Page.prototype.checkt = function (index) {
        this.tagstoneData[index]['is_apply_in_lwt'] = this.tagstoneData[index]['lwt'] == true ? 1 : 0;
    };
    Addstone2Page.prototype.checko = function (index) {
        this.stoneData[index]['is_apply_in_lwt'] = this.stoneData[index]['lwt'] == true ? 1 : 0;
    };
    Addstone2Page.prototype.tot = function (i) {
        this.tagstoneData[i]['amount'] = this.tagstoneData[i]['amount'] * this.tagstoneData[i]['wt'];
    };
    Addstone2Page.prototype.calcStoneDetail = function () {
        var _this = this;
        if (this.ptype == 'tag') {
            var data_1 = { "wt": 0, "amount": 0, "comparestone_wt": 0 };
            this.tagstoneData.forEach(function (i, index) {
                if (_this.tagstoneData[index]['lwt']) {
                    _this.tagstoneData[index]['is_apply_in_lwt'] = 1;
                }
                else {
                    _this.tagstoneData[index]['is_apply_in_lwt'] = 0;
                }
                data_1['wt'] = data_1['wt'] + Number(i['wt']);
                data_1['comparestone_wt'] = data_1['comparestone_wt'] + (i['uom_id'] == '6' ? Number(i['wt']) / 5 : Number(i['wt']));
                data_1['amount'] = data_1['amount'] + Number(i['amount']);
            });
            return data_1;
        }
        else {
            var data_2 = { "stone_wt": 0, "stone_price": 0, "comparestone_wt": 0 };
            this.stoneData.forEach(function (i, index) {
                if (_this.stoneData[index]['lwt']) {
                    _this.stoneData[index]['is_apply_in_lwt'] = 1;
                }
                else {
                    _this.stoneData[index]['is_apply_in_lwt'] = 0;
                }
                data_2['stone_wt'] = data_2['stone_wt'] + Number(i['stone_wt']);
                data_2['stone_price'] = data_2['stone_price'] + Number(i['stone_price']);
                console.log(data_2['comparestone_wt']);
                data_2['comparestone_wt'] = data_2['comparestone_wt'] + (i['uom_id'] == '6' ? Number(i['stone_wt']) / 5 : Number(i['stone_wt']));
                console.log(data_2['comparestone_wt']);
            });
            return data_2;
        }
    };
    Addstone2Page.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    Addstone2Page.prototype.ionViewWillEnter = function () {
        this.events.publish('entered', true);
        this.events.publish('pageno', 1);
    };
    Addstone2Page.prototype.ctypecheck = function (i) {
        console.log(this.tagstoneData[i]['stone_cal_type']);
        if (this.tagstoneData[i]['stone_cal_type'] == '2') {
            this.tagstoneData[i]['amount'] = this.tagstoneData[i]['pieces'] * this.tagstoneData[i]['rate_per_gram'];
        }
        else if (this.tagstoneData[i]['stone_cal_type'] == '1') {
            this.tagstoneData[i]['amount'] = this.tagstoneData[i]['wt'] * this.tagstoneData[i]['rate_per_gram'];
        }
    };
    Addstone2Page.prototype.ctypecheck2 = function (i, type) {
        if (this.stoneData[i]['stone_cal_type'] == '2') {
            this.stoneData[i]['stone_price'] = this.stoneData[i]['stone_pcs'] * this.stoneData[i]['rate'];
        }
        else if (this.stoneData[i]['stone_cal_type'] == '1') {
            this.stoneData[i]['stone_price'] = this.stoneData[i]['stone_wt'] * this.stoneData[i]['rate'];
            console.log(this.stoneData[i]['stone_price']);
        }
        if (type == 'rate') {
            this.get_total();
        }
    };
    Addstone2Page.prototype.openstoneModal = function (i) {
        var _this = this;
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_4__stonesearch_stonesearch__["a" /* StonesearchPage */], { "empData": this.stones });
        modal.present();
        modal.onDidDismiss(function (data) {
            if (data != null) {
                _this.tagstoneData[i]['stone_id'] = data.stone_id;
                _this.tagstoneData[i]['stone_name'] = data.stone_name;
            }
        });
    };
    Addstone2Page.prototype.openstoneModal2 = function (i) {
        var _this = this;
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_4__stonesearch_stonesearch__["a" /* StonesearchPage */], { empData: this.stones });
        modal.present();
        modal.onDidDismiss(function (data) {
            if (data != null) {
                _this.stoneData[i]["stone_id"] = data.stone_id;
                _this.stoneData[i]["stone_name"] = data.stone_name;
            }
        });
    };
    Addstone2Page.prototype.onKeyUp = function (event) {
    };
    Addstone2Page.prototype.get_total = function () {
        // console.log(this.stoneData[i]['stone_price']);
        console.log(this.stoneData);
        var data = this.stoneData;
        console.log(data);
        console.log(this.tagstoneData, 'ppppppppppp');
        console.log(this.stoneData, 'ooooooooooo');
        this.totalvalue = 0;
        // if (this.stoneData[i]['stone_price'] != isNaN && this.stoneData[i]['stone_price'] != '') {
        if (this.ptype == 'tag') {
            for (var index = 0; index < this.tagstoneData.length; index++) {
                console.log(this.tagstoneData[index].amount);
                this.totalvalue += parseFloat(this.tagstoneData[index]['amount']);
                if (this.tagstoneData[index]['stone_type'] == 1) {
                    this.gtype = [];
                    this.gtype.push(this.gtype_filter[0]);
                }
                else {
                    this.uomtype = [];
                    this.uomtype.push(this.gtype_filter[1]);
                }
            }
        }
        else {
            for (var index = 0; index < data.length; index++) {
                console.log(data[index].stone_price);
                this.totalvalue += parseFloat(data[index].stone_price);
                console.log(this.totalvalue);
                if (data[index]['stone_type'] == 1) {
                    this.gtype = [];
                    this.gtype.push(this.gtype_filter[0]);
                    console.log(this.gtype, 'pp');
                }
                else {
                    this.uomtype = [];
                    this.uomtype.push(this.gtype_filter[1]);
                }
            }
        }
        // }
    };
    Addstone2Page.prototype.uomchange = function () {
        this.totalgram = 0;
        this.totalct = 0;
        if (this.ptype == "tag") {
            for (var index = 0; index < this.tagstoneData.length; index++) {
                if (this.tagstoneData[index]['uom_id'] == 1) {
                    var data = Number(this.totalgram) + Number(this.tagstoneData[index]['wt']);
                    this.totalgram = data.toFixed(3);
                    console.log(this.totalgram, 'gram');
                    // this.totalgram += parseFloat(this.tagstoneData[index]['wt'] )
                    // console.log( this.totalgram);
                }
                else if (this.tagstoneData[index]['uom_id'] == 6) {
                    var data = Number(this.totalct) + Number(this.tagstoneData[index]['wt']);
                    this.totalct = data.toFixed(3);
                    console.log(this.totalct, 'cart');
                    // this.totalct += parseFloat(this.tagstoneData[index]['wt'] )
                }
            }
        }
        else {
            for (var index = 0; index < this.stoneData.length; index++) {
                if (this.stoneData[index]['uom_id'] == 1) {
                    var data = Number(this.totalgram) + Number(this.stoneData[index]['stone_wt']);
                    this.totalgram = data.toFixed(3);
                    console.log(this.totalgram, 'gram');
                }
                else if (this.stoneData[index]['uom_id'] == 6) {
                    var data = Number(this.totalct) + Number(this.stoneData[index]['stone_wt']);
                    this.totalct = data.toFixed(3);
                    console.log(this.totalct, 'cart');
                    // this.totalct += parseFloat(this.stoneData[index]['stone_wt'] )
                }
            }
        }
    };
    Addstone2Page.prototype.typechange = function (i) {
        var _this = this;
        if (this.ptype == "tag") {
            console.log(this.tagstoneData[i]['stone_type']);
            this.stones = this.stoneMasData;
            var typestone = this.stones.filter(function (data) { return data['stone_type'] == _this.tagstoneData[i]['stone_type']; });
            this.stones = typestone;
            console.log(this.stones);
            this.get_type(i);
        }
        else {
            console.log(this.stoneData[i]['stone_type']);
            this.stones = this.stoneMasData;
            var typestone = this.stones.filter(function (data) { return data['stone_type'] == _this.stoneData[i]['stone_type']; });
            this.stones = typestone;
            console.log(this.stones);
            this.get_type(i);
        }
    };
    Addstone2Page.prototype.get_type = function (i) {
        for (var index = 0; index < this.gtype_filter.length; index++) {
            if (this.stoneData[i]['stone_type'] == 1) {
                this.gtype = [];
                this.gtype.push(this.gtype_filter[0]);
            }
            else {
                this.uomtype = [];
                this.uomtype.push(this.gtype_filter[1]);
            }
        }
    };
    Addstone2Page = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-addstone2',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\addstone2\addstone2.html"*/'<ion-header>\n  <ion-navbar>\n    <ion-title>\n      Add Stone\n    </ion-title>\n    <ion-buttons end *ngIf="action == \'add\'">\n      <!-- <button ion-button icon-only (click)="add()">\n        <ion-icon item-right name="add"></ion-icon>\n    </button> -->\n        <button ion-button icon-only (click)="dismiss()">\n            <ion-icon item-right name="ios-close-outline"></ion-icon>\n        </button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content no-padding>\n  <div *ngIf="ptype == \'tag\'">\n  <ion-card class="errorMsg" padding *ngIf="errorMsg">\n    {{errorMsg}}\n  </ion-card>\n  <ion-card class="msg" padding *ngIf="msg">\n    {{msg}}\n  </ion-card>\n     <!-- <ion-row nowrap style="overflow:scroll">\n      <ion-col col-2>\n        <ion-label color="label-color" stacked>LWT</ion-label>\n\n     </ion-col>\n       <ion-col col-3>\n        <ion-label color="label-color" stacked>Stone <span class="required"> *</span></ion-label>\n\n       </ion-col>\n\n      <ion-col col-2>\n        <ion-label color="label-color" stacked>Pcs <span class="required"> *</span></ion-label>\n\n      </ion-col>\n      <ion-col col-2>\n        <ion-label color="label-color" stacked>Wgt <span class="required"> *</span></ion-label>\n\n      </ion-col>\n      <ion-col col-3>\n        <ion-label color="label-color" stacked>Cal.Type <span class="required"> *</span></ion-label>\n\n      </ion-col>\n\n      <ion-col col-3>\n        <ion-label color="label-color" stacked>Rate <span class="required"> *</span></ion-label>\n\n      </ion-col>\n\n      <ion-col col-3>\n        <ion-label color="label-color" stacked>Amount <span class="required"> *</span></ion-label>\n\n      </ion-col>\n    </ion-row> -->\n\n\n\n    <ion-card *ngFor="let s of tagstoneData;let i = index;">\n     <ion-row>\n       <ion-col style="margin: auto;" col-1>\n        <ion-checkbox  [(ngModel)]="tagstoneData[i][\'lwt\']" (ngModelChange)="checkt(i)"></ion-checkbox>\n       </ion-col>\n       <!-- type -->\n                         <!-- type -->\n\n        <ion-col col-2 >\n         <ion-select style="border: 1px solid lightgrey;" [(ngModel)]="stoneData[i][\'stone_type\']" (ngModelChange)="typechange(i)" interface="popover" placeholder="Type"  >\n         <ion-option *ngFor="let s of stoneMasTypes" [value]="s.stone_type">{{s.stone_type_name}}</ion-option>\n            </ion-select>\n          </ion-col>\n       <ion-col col-2>\n        <ion-input style="border: 1px solid lightgrey;" (click)="openstoneModal(i)" type="text" placeholder="Type" [(ngModel)]="stoneData[i][\'stone_name\']" readonly></ion-input>\n        </ion-col>\n\n\n      <ion-col col-2>\n          <!-- <ion-select style="border: 1px solid lightgrey;" [(ngModel)]="tagstoneData[i][\'stone_id\']" placeholder="Stone"  >\n            <ion-option *ngFor="let s of stones" [value]="s.stone_id">{{s.stone_name}}</ion-option>\n          </ion-select> -->\n          <ion-input style="border: 1px solid lightgrey;" (click)="openstoneModal(i)" type="text" placeholder="Stone" [(ngModel)]="tagstoneData[i][\'stone_name\']" readonly></ion-input>\n\n      </ion-col>\n      <ion-col col-1>\n          <ion-input style="border: 1px solid lightgrey;" type="number" (keyup)="onKeyUp($event)" [readonly] ="tagstoneData[i][\'pieces\'] !=\'\'" [(ngModel)]="tagstoneData[i][\'pieces\']"  placeholder="Pcs" (ngModelChange)="ctypecheck(i)"></ion-input>\n      </ion-col>\n      <ion-col col-2>\n        <ion-row no-padding>\n          <ion-col col-12 no-padding >\n              <ion-input style="border: 1px solid lightgrey;" type="number" [readonly] ="tagstoneData[i][\'wt\'] !=\'\'"  [(ngModel)]="tagstoneData[i][\'wt\']"  placeholder="Wgt" (ngModelChange)="ctypecheck(i)"></ion-input>\n          </ion-col>\n\n        </ion-row>\n      </ion-col>\n      <ion-col col-3 *ngIf="tagstoneData[i][\'stone_type\'] == 1">\n        <ion-select style="border: 1px solid lightgrey;" [(ngModel)]="tagstoneData[i][\'uom_id\']" (ngModelChange)="uomchange()" interface="popover" placeholder="Stone UOM"  >\n          <ion-option *ngFor="let s of gtype" [value]="s.uom_id">{{s[\'uom_name\']}}</ion-option>\n        </ion-select>\n    </ion-col>\n\n    <ion-col col-3 *ngIf="tagstoneData[i][\'stone_type\'] != 1">\n      <ion-select style="border: 1px solid lightgrey;" [(ngModel)]="tagstoneData[i][\'uom_id\']" (ngModelChange)="uomchange()" interface="popover" placeholder="Stone UOM"  >\n        <ion-option *ngFor="let s of uomtype" [value]="s.uom_id">{{s[\'uom_name\']}}</ion-option>\n      </ion-select>\n  </ion-col>\n      <!-- <ion-col col-3 >\n        <ion-select style="border: 1px solid lightgrey;" [(ngModel)]="tagstoneData[i][\'uom_id\']" (ngModelChange)="uomchange()" interface="popover" placeholder="Stone UOM"  >\n          <ion-option *ngFor="let s of gtype" [value]="s.uom_id">{{s[\'uom_name\']}}</ion-option>\n        </ion-select>\n    </ion-col> -->\n\n      <ion-col col-3 >\n        <ion-select style="border: 1px solid lightgrey;" [(ngModel)]="tagstoneData[i][\'stone_cal_type\']" interface="popover" placeholder="Cal.Type" (ngModelChange)="ctypecheck(i)" >\n          <ion-option *ngFor="let s of ctype" [value]="s.stone_cal_type">{{s.name}}</ion-option>\n        </ion-select>\n    </ion-col>\n\n      <ion-col col-3 >\n          <ion-input style="border: 1px solid lightgrey;" type="number" (keyup)="onKeyUp($event)" placeholder="Rate" [(ngModel)]="tagstoneData[i][\'rate_per_gram\']" (ngModelChange)="ctypecheck(i)"></ion-input>\n      </ion-col>\n\n      <ion-col col-3 >\n        <ion-input style="border: 1px solid lightgrey;" type="number" (keyup)="onKeyUp($event)" [(ngModel)]="tagstoneData[i][\'amount\']" placeholder="Amount" readonly></ion-input>\n    </ion-col>\n\n      <ion-col col-2 style="margin:auto">\n        <ion-icon style="float: right;" (click)="remove(i)" name="remove"></ion-icon>\n\n        <ion-icon style="float: right;margin-right: 3px;" (click)="add()" name="add"></ion-icon>\n      </ion-col>\n\n\n     </ion-row>\n    </ion-card>\n     </div>\n\n\n     <div *ngIf="ptype != \'tag\'">\n\n      <ion-card class="errorMsg" padding *ngIf="errorMsg">\n        {{errorMsg}}\n      </ion-card>\n      <ion-card class="msg" padding *ngIf="msg">\n        {{msg}}\n      </ion-card>\n         <!-- <ion-row nowrap style="overflow:scroll">\n          <ion-col col-2>\n            <ion-label color="label-color" stacked>LWT</ion-label>\n\n         </ion-col>\n           <ion-col col-3>\n            <ion-label color="label-color" stacked>Stone <span class="required"> *</span></ion-label>\n\n           </ion-col>\n\n          <ion-col col-2>\n            <ion-label color="label-color" stacked>Pcs <span class="required"> *</span></ion-label>\n\n          </ion-col>\n          <ion-col col-2>\n            <ion-label color="label-color" stacked>Wgt <span class="required"> *</span></ion-label>\n\n          </ion-col>\n          <ion-col col-3>\n            <ion-label color="label-color" stacked>Cal.Type <span class="required"> *</span></ion-label>\n\n          </ion-col>\n\n          <ion-col col-3>\n            <ion-label color="label-color" stacked>Rate <span class="required"> *</span></ion-label>\n\n          </ion-col>\n\n          <ion-col col-3>\n            <ion-label color="label-color" stacked>Amount <span class="required"> *</span></ion-label>\n\n          </ion-col>\n        </ion-row> -->\n\n        <!-- <ion-row>\n          <ion-col>Stone Visible</ion-col>\n            <ion-col style="margin: auto;" col-1>\n             <ion-checkbox  [(ngModel)]="old_stone_settings" (ngModelChange)="oldstone()"></ion-checkbox>\n            </ion-col>\n        </ion-row> -->\n        <ion-card *ngFor="let s of stoneData;let i = index;">\n         <ion-row>\n           <ion-col style="margin: auto;" col-1>\n            <ion-checkbox  [(ngModel)]="stoneData[i][\'lwt\']" (ngModelChange)="checko(i)"></ion-checkbox>\n           </ion-col>\n                  <!-- type -->\n\n        <ion-col col-2 >\n          <ion-select style="border: 1px solid lightgrey;" [(ngModel)]="stoneData[i][\'stone_type\']" (ngModelChange)="typechange(i)" interface="popover" placeholder="Type"  >\n            <ion-option *ngFor="let s of stoneMasTypes" [value]="s.stone_type">{{s.stone_type_name}}</ion-option>\n          </ion-select>\n      </ion-col>\n\n          <ion-col col-2 >\n              <!-- <ion-select style="border: 1px solid lightgrey;" [(ngModel)]="stoneData[i][\'stone_id\']" placeholder="Stone"  >\n                <ion-option *ngFor="let s of stones" [value]="s.stone_id">{{s.stone_name}}</ion-option>\n              </ion-select> -->\n              <ion-input style="border: 1px solid lightgrey;" (click)="openstoneModal2(i)" type="text" placeholder="Stone" [(ngModel)]="stoneData[i][\'stone_name\']" readonly></ion-input>\n\n          </ion-col>\n          <ion-col col-1>\n              <ion-input style="border: 1px solid lightgrey;" type="number" (keyup)="onKeyUp($event)" [(ngModel)]="stoneData[i][\'stone_pcs\']" placeholder="Pcs" (ngModelChange)="ctypecheck2(i)" ></ion-input>\n          </ion-col>\n          <ion-col col-2>\n            <ion-row no-padding>\n              <ion-col col-12 no-padding >\n                  <ion-input style="border: 1px solid lightgrey;" type="number" (keyup)="onKeyUp($event)" [(ngModel)]="stoneData[i][\'stone_wt\']" placeholder="Wgt" (ngModelChange)="ctypecheck2(i)"></ion-input>\n              </ion-col>\n\n            </ion-row>\n          </ion-col>\n\n          <ion-col col-3 *ngIf="stoneData[i][\'stone_type\'] == 1">\n            <ion-select style="border: 1px solid lightgrey;" [(ngModel)]="stoneData[i][\'uom_id\']" (ngModelChange)="uomchange()" interface="popover" placeholder="Stone UOM"  >\n              <ion-option *ngFor="let s of gtype" [value]="s.uom_id">{{s.name}}</ion-option>\n            </ion-select>\n        </ion-col>\n\n        <ion-col col-3  *ngIf="stoneData[i][\'stone_type\'] != 1">\n          <ion-select style="border: 1px solid lightgrey;" [(ngModel)]="stoneData[i][\'uom_id\']" (ngModelChange)="uomchange()" interface="popover" placeholder="Stone UOM"  >\n            <ion-option *ngFor="let s of uomtype" [value]="s.uom_id">{{s.name}}</ion-option>\n          </ion-select>\n      </ion-col>\n\n          <!-- <ion-col col-3 >\n            <ion-select style="border: 1px solid lightgrey;" [(ngModel)]="stoneData[i][\'uom_id\']" (ngModelChange)="uomchange()" interface="popover" placeholder="Stone UOM"  >\n              <ion-option *ngFor="let s of gtype" [value]="s.uom_id">{{s.name}}</ion-option>\n            </ion-select>\n        </ion-col> -->\n\n          <ion-col col-3 >\n            <ion-select style="border: 1px solid lightgrey;" [(ngModel)]="stoneData[i][\'stone_cal_type\']" interface="popover" placeholder="Cal.Type" (ngModelChange)="ctypecheck2(i,\'caltype\')" >\n              <ion-option *ngFor="let s of ctype" [value]="s.stone_cal_type">{{s.name}}</ion-option>\n            </ion-select>\n        </ion-col>\n        <ion-col col-3 >\n          <ion-input style="border: 1px solid lightgrey;" type="number" (keyup)="onKeyUp($event)" [(ngModel)]="stoneData[i][\'rate\']" placeholder="Rate" (ngModelChange)="ctypecheck2(i,\'rate\')"></ion-input>\n      </ion-col>\n\n          <ion-col col-3 >\n              <ion-input style="border: 1px solid lightgrey;" type="number" (keyup)="onKeyUp($event)"  [(ngModel)]="stoneData[i][\'stone_price\']" placeholder="Amount" readonly></ion-input>\n          </ion-col>\n\n          <ion-col col-2 style="margin:auto">\n            <ion-icon style="float: right;" (click)="remove(i)" name="remove"></ion-icon>\n\n            <ion-icon style="float: right;" (click)="add()" name="add"></ion-icon>\n          </ion-col>\n\n\n         </ion-row>\n         </ion-card>\n         </div>\n\n</ion-content>\n<ion-footer>\n\n  <ion-card>\n    <ion-row>\n      <ion-col col-6 style="font-weight: bold;font-size: 15px !important;">\n        Tot.Stn.Amt :  {{totalvalue}}\n      </ion-col>\n      <ion-col col-3 style="font-weight: bold;font-size: 15px !important;">\n        C.Stn.Wgt : {{totalgram}} Gm\n      </ion-col>\n      <ion-col col-3 style="font-weight: bold;font-size: 15px !important;">\n        Dia.Wgt : {{totalct}} Ct\n      </ion-col>\n    </ion-row>\n  </ion-card>\n\n\n    <ion-row *ngIf="action == \'add\'">\n      <ion-col col-6>\n        <button ion-button icon-start full color="danger" (click)="dismiss()">Close</button>\n      </ion-col>\n      <ion-col col-6>\n        <button ion-button icon-start full color="primary" (click)="addStone(\'S\')">Save</button>\n      </ion-col>\n    </ion-row>\n    <ion-row *ngIf="action == \'edit\'">\n      <ion-col col-12>\n        <button ion-button icon-start full color="primary" (click)="updateItem(\'S\')">Update</button>\n      </ion-col>\n    </ion-row>\n</ion-footer>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\addstone2\addstone2.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_3__providers_retail__["a" /* RetailProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_3__providers_retail__["a" /* RetailProvider */], __WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["B" /* ViewController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */]])
    ], Addstone2Page);
    return Addstone2Page;
}());

//# sourceMappingURL=addstone2.js.map

/***/ }),

/***/ 192:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return StonesearchPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



/**
 * Generated class for the CustomPopupPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
// @IonicPage()
var StonesearchPage = /** @class */ (function () {
    function StonesearchPage(keyboard, events, navCtrl, renderer, viewCtrl, navParams) {
        this.keyboard = keyboard;
        this.events = events;
        this.navCtrl = navCtrl;
        this.renderer = renderer;
        this.viewCtrl = viewCtrl;
        this.navParams = navParams;
        this.details = [];
        this.empData = [];
        this.input = '';
        this.renderer.setElementClass(viewCtrl.pageRef().nativeElement, 'countrymodel', true);
        this.empData = this.navParams.get('empData');
        this.details = this.navParams.get('empData');
    }
    StonesearchPage.prototype.selected = function (temp) {
        this.viewCtrl.dismiss(temp);
    };
    StonesearchPage.prototype.dismiss = function (temp) {
        this.viewCtrl.dismiss();
    };
    StonesearchPage.prototype.search = function () {
        var _this = this;
        this.details = this.empData.filter(function (item) { return item['stone_name'].toUpperCase().includes(_this.input.toUpperCase()); });
    };
    StonesearchPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    StonesearchPage.prototype.ionViewWillEnter = function () {
        this.events.publish('entered', true);
        this.events.publish('pageno', 111);
    };
    StonesearchPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-stonesearch',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\stonesearch\stonesearch.html"*/'<ion-header>\n  <ion-navbar>\n    <ion-title>\n      Choose Stone\n    </ion-title>\n    <ion-buttons end>\n        <button ion-button icon-only (click)="dismiss()">\n            <ion-icon item-right name="ios-close-outline"></ion-icon>\n        </button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n<ion-content>\n    <ion-searchbar [(ngModel)]="input" placeholder="Search Stone" (ionChange)="search()"></ion-searchbar>\n    <ion-list>\n        <ion-item *ngFor="let data of details" (click)="selected(data)">\n             {{data[\'stone_name\']}} \n        </ion-item>\n    </ion-list>\n</ion-content>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\stonesearch\stonesearch.html"*/,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["p" /* Keyboard */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_0__angular_core__["V" /* Renderer */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["B" /* ViewController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */]])
    ], StonesearchPage);
    return StonesearchPage;
}());

//# sourceMappingURL=stonesearch.js.map

/***/ }),

/***/ 193:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AddEstiItemPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_retail__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__modal_mas_search_mas_search__ = __webpack_require__(96);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__modal_add_stone_detail_add_stone_detail__ = __webpack_require__(194);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__other_other__ = __webpack_require__(407);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__charges_charges__ = __webpack_require__(94);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__mass3_mass3__ = __webpack_require__(408);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










/**
 * Generated class for the CusSearchPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
// @IonicPage()
var AddEstiItemPage = /** @class */ (function () {
    function AddEstiItemPage(cd, events, load, retail, common, viewCtrl, navParams, modal, toast) {
        var _this = this;
        this.cd = cd;
        this.events = events;
        this.load = load;
        this.retail = retail;
        this.common = common;
        this.viewCtrl = viewCtrl;
        this.navParams = navParams;
        this.modal = modal;
        this.toast = toast;
        this.terrorMsg = '';
        this.metal_error_msg = '';
        this.stoneMasData = [];
        this.uom = [];
        this.stone_details = [];
        this.esti = [];
        this.tagData = { "tag_code": "", "tag_code1": "", "tag_code2": "", "is_partial": 0, "stone_details": [] };
        // NonTag
        this.ntData = { 'mc_type': '2', "stone_details": [] };
        this.products = [];
        this.designs = [];
        this.selectedNTStock = [];
        this.section = [];
        // Home Bill
        this.hbData = { 'charge_value': 0, 'mc_type': '2', 'id_charge': '', 'chargecode': '', "tag_code": "", "tag_code1": "", "tag_code2": "", "is_partly_sold": 0, "stone_details": [], 'allcharges': [], 'charges': [] };
        this.purities = [];
        this.collections = [];
        this.hbProducts = [];
        this.hbDesigns = [];
        this.hbPurities = [];
        this.hbsubDesigns = [];
        this.ntPurities = [];
        // Old metal
        this.omData = { "stone_details": [], 'touch': '100' }; /* krishna */
        this.oldMetalCat = [];
        this.oldMetalTypes = [];
        this.metalCatTypes = [];
        this.ret_settings = [];
        this.oldrates = [];
        this.oldcategory = [];
        this.oldfullrates = [];
        this.oldfullcategory = [];
        this.oldamount = 0;
        this.homeback = false;
        this.nonback = false;
        this.oldback = false;
        this.other = [];
        this.charges = [];
        this.mr = false;
        this.nontag_sections = [];
        this.homebill_sections = [];
        this.sections = [];
        this.checkold = false; //naveen 31-08-23
        this.empData = JSON.parse(localStorage.getItem('empDetail'));
        this.show_home = false;
        this.show_mc = false;
        this.sub_designs = [];
        this.stoneMasTypes = [];
        this.initial = false;
        this.purity_show = false;
        console.log(this.ntData, '99999999999');
        this.item_type = this.navParams.get('type');
        console.log(this.item_type, 'tyep');
        this.ret_settings = this.navParams.get('ret_settings');
        this.id_branch = this.navParams.get('id_branch');
        this.metalRate = this.navParams.get('metal_rates');
        console.log(this.metalRate, 'metal rates');
        this.tax_details = this.navParams.get('taxGroupItems');
        this.nonTagStock = this.navParams.get('nonTagStock');
        localStorage.setItem('st', JSON.stringify(this.navParams.get('nonTagStock')));
        this.nonTagStock1 = JSON.parse(localStorage.getItem('st'));
        this.products = this.nonTagStock.products;
        // this.section = this.nonTagStock.section;
        if (this.nonTagStock.sections != undefined) {
            if (this.item_type == 'home_bill') {
                console.log(this.nonTagStock.sections, '9999999999999');
                this.homebill_sections = this.nonTagStock.sections.filter(function (data) { return (data['is_home_bill_counter'] == 1); });
                console.log(this.homebill_sections);
            }
            else if (this.item_type == 'non_tag') {
                this.nontag_sections = this.nonTagStock.sections.filter(function (data) { return (data['is_home_bill_counter'] == 0); });
                console.log(this.nontag_sections);
            }
        }
        this.homeBillStock = this.navParams.get('homeBillStock');
        this.purities = this.navParams.get('purities');
        this.collections = this.navParams.get('collections');
        this.oldMetalCat = this.navParams.get('oldMetalCat');
        console.log(this.oldMetalCat);
        console.log(this.nonTagStock);
        console.log(this.nonTagStock1);
        this.stoneMasData = this.navParams.get('stoneMasData');
        this.stoneMasTypes = this.navParams.get('stoneMasTypes');
        console.log(this.stoneMasTypes, 'ppppppppppp');
        this.action = this.navParams.get('action');
        console.log(this.action, '0000000000');
        this.oldMetalTypes = this.navParams.get('oldMetalTypes');
        if (this.item_type == 'tag' && this.action == 'edit') {
            //  localStorage.setItem('actualTag', JSON.stringify(this.navParams.get('esti')));
            localStorage.removeItem('actualTag');
            console.log('clear : ', JSON.parse(localStorage.getItem('actualTag')));
            localStorage.setItem('actualTag', JSON.stringify(this.navParams.get('esti')));
            console.log('clear 1 : ', JSON.parse(localStorage.getItem('actualTag')));
            var tempesti = this.navParams.get('esti');
            console.log('tempesti : ', tempesti);
            this.tagData = Object.assign({}, tempesti);
            localStorage.setItem('tag_data', JSON.stringify(this.tagData));
            console.log(this.navParams.get('esti'));
            console.log(Object.assign({}, this.navParams.get('esti')));
            this.other = this.tagData.hasOwnProperty('othermetal_details') ? this.tagData['othermetal_details'] : [];
            // this.stone_details = this.tagData['stone_details'] ;
            this.stone_details = this.tagData.hasOwnProperty('stone_details') ? this.tagData['stone_details'] : [];
            this.common.getset({
                "id_product": this.tagData['product_id'],
                "id_design": this.tagData['design_id'],
                "id_sub_design": this.tagData['id_sub_design'],
                "gross_wt": this.tagData['gross_wt'],
                "type": 1,
                "lot_no": this.tagData['lot_no'],
                "id_branch": this.id_branch
            }).then(function (data) {
                _this.tagData['checkwas'] = data['data']['wastag_min'];
                _this.tagData['mc_min'] = data['data']['mc_min'];
            });
            this.calcSaleValue('');
        }
        else if (this.item_type == 'non_tag' && this.action == 'edit') {
            this.ntData = Object.assign({}, this.navParams.get('esti'));
            this.productSelected(this.ntData['pro_id']);
            this.selectedNTStock['AVgross_wt'] = this.ntData['AVgross_wt'];
            this.selectedNTStock['AVpiece'] = this.ntData['AVpiece'];
            this.stone_details = this.ntData['stone_details'];
            // this.setNTitemData(this.ntData['design'])
            console.log(this.ntData);
            this.common.getset({
                "id_product": this.ntData['pro_id'],
                "id_design": this.ntData['design'],
                "id_sub_design": this.ntData['id_sub_design'],
                "gross_wt": this.ntData['gross_wt'],
                "type": 2,
                "lot_no": "",
                "id_branch": this.id_branch
            }).then(function (data) {
                _this.ntData['checkwas'] = data['data']['wastag_min'];
            });
        }
        else if (this.item_type == 'home_bill' && this.action == 'edit') {
            this.hbData = Object.assign({}, this.navParams.get('esti'));
            this.stone_details = this.hbData['stone_details'];
            this.charges = this.hbData['charges'];
            console.log(this.stone_details);
            this.common.getset({
                "id_product": this.hbData['pro_id'],
                "id_design": this.hbData['design_no'],
                "id_sub_design": this.hbData['sub_design_no'],
                "gross_wt": this.hbData['gross_wt'],
                "type": 3,
                "lot_no": this.hbData['lot_no'],
                "id_branch": this.id_branch
            }).then(function (data) {
                _this.hbData['checkwas'] = data['data']['wastag_min'];
            });
        }
        else if (this.item_type == 'old_metal' && this.action == 'edit') {
            this.omData = Object.assign({}, this.navParams.get('esti'));
            this.stone_details = this.omData['stone_details'];
            // this.calcOldmetalValue('id_old_metal_cat_type');
            var metaltype = this.oldMetalTypes.filter(function (i) { return i.id_metal == _this.omData['id_category']; });
            this.metalCatTypes = metaltype;
        }
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        this.common.getdivision().then(function (data) {
            _this.hbData['allcharges'] = data['charges'];
            // loader.dismiss();
        });
        this.common.getSections(this.id_branch).then(function (data) {
            if (_this.item_type == 'home_bill') {
                _this.sections = data.filter(function (data) { return (data['is_home_bill_counter'] == 1); });
            }
            else if (_this.item_type == 'non_tag') {
                _this.sections = data.filter(function (data) { return (data['is_home_bill_counter'] == 0); });
            }
            console.log(_this.sections);
            // loader.dismiss();
        });
        // let loader = this.load.create({
        //   content: 'Please Wait',
        //   spinner: 'bubbles',
        // });
        // loader.present();
        this.common.getoldrates().then(function (data) {
            _this.oldrates = data;
            _this.oldfullrates = data;
            _this.common.getoldcategory().then(function (data) {
                _this.oldcategory = data;
                _this.oldfullcategory = data;
                loader.dismiss();
                console.log(_this.omData['id_category']);
                console.log(_this.omData['id_old_metal_type']);
                console.log(_this.omData['id_old_metal_cat_type']);
                console.log(_this.omData['id_purpose']);
                console.log(_this.omData['gross_wt']);
                if (_this.item_type == 'old_metal' && _this.action != 'edit') {
                    _this.omData['id_category'] = _this.oldMetalCat.length > 0 ? _this.oldMetalCat[0]['id_category'] : '';
                    _this.calcOldmetalValue('id_category');
                    console.log(_this.oldMetalTypes);
                    console.log(_this.oldcategory);
                    var metaltype = _this.oldMetalTypes.filter(function (i) { return i.id_metal == _this.omData['id_category']; });
                    _this.metalCatTypes = metaltype;
                    console.log(_this.metalCatTypes, 'cat types');
                    _this.omData['id_old_metal_type'] = _this.metalCatTypes.length > 0 ? _this.metalCatTypes[0]['id_metal_type'] : '';
                    _this.calcOldmetalValue('id_old_metal_type');
                    console.log(_this.omData['id_old_metal_type'], 'metal type');
                    metaltype = _this.oldfullcategory.filter(function (i) { return i.id_old_metal_type == _this.omData['id_old_metal_type']; });
                    _this.oldcategory = metaltype;
                    console.log(_this.oldcategory, 'category');
                    _this.omData['id_old_metal_cat_type'] = _this.oldcategory.length > 0 ? _this.oldcategory[0]['id_old_metal_cat'] : '';
                    console.log(_this.omData['id_old_metal_cat_type']);
                    _this.calcOldmetalValue('id_old_metal_cat_type');
                    _this.omData['old_pcs'] = 1;
                    _this.omData['id_purpose'] = "2";
                    _this.omData['remark'] = '';
                    // this.omData['purity'] = '';
                    _this.calcOldmetalValue('id_purpose');
                }
                // if(this.item_type == 'non_tag' && this.action != 'edit'){
                // this.ntData['mc_type'] = "2";
                // }
            }, function (err) {
                loader.dismiss();
            });
        }, function (err) {
            loader.dismiss();
        });
        console.log(this.ntData);
        console.log('tag data', this.tagData);
    }
    AddEstiItemPage.prototype.dismiss = function () {
        this.viewCtrl.dismiss();
    };
    AddEstiItemPage.prototype.updateItem = function (submitType) {
        var _this = this;
        var data = [];
        data['submitType'] = submitType;
        if (this.item_type == 'tag') {
            console.log(this.tagData['is_partial']);
            if (this.tagData['is_partial'] == 0) {
                if (this.tagData['actual_gross_wt'] < this.tagData['gross_wt'] || this.tagData['actual_net_wt'] < this.tagData['net_wt'] || this.tagData['net_wt'] < 0.001) {
                    this.msg = "";
                    this.errorMsg = "Invalid Tag weight..";
                }
                else {
                    console.log(this.tagData['is_partial']);
                    console.log(this.tagData['gross_wt']);
                    console.log(this.tagData['actual_gross_wt']);
                    data['item_data'] = this.tagData;
                    this.viewCtrl.dismiss(data);
                }
            }
            else if (this.tagData['is_partial'] == 1) {
                console.log(this.tagData['gross_wt']);
                console.log(this.tagData['actual_gross_wt']);
                if (this.tagData['gross_wt'] == this.tagData['actual_gross_wt'] || this.tagData['less_wt'] > this.tagData['gross_wt'] || parseFloat(this.tagData['net_wt']) < 0.001) {
                    var toastMsg = this.toast.create({
                        message: 'Weight must be Lessthan the actual weight for Partly Sale',
                        duration: this.common.toastTimeout,
                        position: 'middle'
                    });
                    toastMsg.present();
                }
                else {
                    data['item_data'] = this.tagData;
                    this.viewCtrl.dismiss(data);
                }
            }
        }
        else if (this.item_type == 'non_tag') {
            if (this.ntData['id_nontag_item'] == '' || this.ntData['id_nontag_item'] == null || this.ntData['gross_wt'] <= 0) {
                this.msg = "";
                this.errorMsg = "Invalid Non-Tag details..";
            }
            else {
                data['item_data'] = this.ntData;
                this.viewCtrl.dismiss(data);
            }
        }
        else if (this.item_type == 'home_bill') {
            if (((this.hbData['tag_id'] > 0 || this.hbData['gross_wt'] > 0) && this.hbData['piece'] != '' && this.hbData['purname'] != '') || this.hbData['calculation_based_on'] == 3) {
                data['item_data'] = this.hbData;
                this.viewCtrl.dismiss(data);
            }
            else {
                this.msg = "";
                this.errorMsg = "Invalid Home Bill details..";
            }
        }
        else if (this.item_type == 'old_metal') {
            if (this.omData['amount'] > 0 && this.omData['id_purpose'] > 0 && this.omData['id_category'] > 0 && this.omData['id_old_metal_type'] > 0 && this.omData['id_old_metal_cat_type'] > 0 && this.omData['purity'] > 0 && (this.omData['id_purpose'] == '1' && this.omData['amount'] <= parseInt(this.ret_settings['max_cash_allowed']) || this.omData['id_purpose'] == '2' && this.omData['amount'] != 0) && ((this.omData['id_category'] == '1' && this.omData['rate'] <= parseInt(this.ret_settings['max_old_gold_rate']) && this.omData['rate'] >= parseInt(this.ret_settings['min_old_gold_rate']) || this.omData['id_category'] == '2' && this.omData['rate'] <= parseInt(this.ret_settings['max_old_silver_rate']) && this.omData['rate'] >= parseInt(this.ret_settings['min_old_silver_rate'])))) {
                // if(this.omData['amount'] > 0 && this.omData['id_purpose'] > 0 && this.omData['id_category'] > 0 && this.omData['id_old_metal_type'] > 0 && this.omData['id_old_metal_cat_type'] > 0 && this.omData['purity'] > 0 && (this.omData['id_category'] == '1' && this.omData['rate'] <= parseInt(this.ret_settings['max_old_gold_rate']) && this.omData['rate'] >= parseInt(this.ret_settings['min_old_gold_rate'])  ||  this.omData['id_category'] == '2' && this.omData['rate'] <= parseInt(this.ret_settings['max_old_silver_rate']) && this.omData['rate'] >= parseInt(this.ret_settings['min_old_silver_rate']))){
                data['item_data'] = this.omData;
                data['old_stone_settings'] = this.old_stone_settings;
                console.log(this.old_stone_settings);
                this.viewCtrl.dismiss(data);
            }
            else {
                this.msg = "";
                if (this.omData['id_purpose'] == '1' && this.omData['amount'] > parseInt(this.ret_settings['max_cash_allowed'])) {
                    this.errorMsg = "Cash Return should be in below Rs." + parseInt(this.ret_settings['max_cash_allowed']);
                }
                else {
                    this.errorMsg = "Invalid Old metal details..";
                }
                var toast = this.toast.create({
                    message: "please enter valid Metal Rate",
                    duration: 2000,
                    position: "bottom"
                });
                toast.present();
            }
        }
        // Alert Message Timeout
        setTimeout(function () {
            _this.errorMsg = "";
        }, this.common.msgTimeout);
    };
    AddEstiItemPage.prototype.addItem = function (submitType) {
        var _this = this;
        var data = [];
        data['submitType'] = submitType;
        console.log(data['submitType'], 'jjjjjjjjjj');
        if (this.item_type == 'tag') {
            if (this.tagData['tag_id'] == '' || this.tagData['tag_id'] == null || this.ntData['gross_wt'] <= 0) {
                this.msg = "";
                this.errorMsg = "Invalid Tag details..";
            }
            else {
                data['item_data'] = this.tagData;
                this.viewCtrl.dismiss(data);
            }
        }
        else if (this.item_type == 'non_tag') {
            console.log('11111111111');
            console.log(this.ntData, '22222222222222');
            if (this.ntData['id_nontag_item'] == '' || this.ntData['id_nontag_item'] == null || this.ntData['gross_wt'] <= 0) {
                this.msg = "";
                this.errorMsg = "Invalid Non-Tag details..";
            }
            else {
                // data['item_data'] = this.ntData;
                // this.ntData['sections'] = this.sections;
                data['item_data'] = this.ntData;
                console.log(data['item_data']);
                this.viewCtrl.dismiss(data);
            }
        }
        else if (this.item_type == 'home_bill') {
            // if(this.hbData['tag_id'] > 0 || this.hbData['gross_wt'] > 0){
            if (((this.hbData['tag_id'] > 0 || this.hbData['gross_wt'] > 0) && this.hbData['piece'] != '' && this.hbData['purname'] != '' && this.hbData['taxable'] > 0) || this.hbData['calculation_based_on'] == 3) {
                // data['item_data'] = this.hbData;
                // this.hbData['sections'] = this.sections;
                // this.viewCtrl.dismiss(data);
                data['item_data'] = this.hbData;
                this.viewCtrl.dismiss(data);
            }
            else {
                this.msg = "";
                this.errorMsg = "Invalid Home Bill details..";
            }
        }
        else if (this.item_type == 'old_metal') {
            console.log(this.omData, '88888888888');
            if (this.omData['amount'] > 0 && this.omData['id_purpose'] > 0 && this.omData['id_category'] > 0 && this.omData['id_old_metal_type'] > 0 && this.omData['id_old_metal_cat_type'] > 0 && this.omData['purity'] > 0 &&
                (this.omData['id_purpose'] == '1' && this.omData['amount'] <= parseInt(this.ret_settings['max_cash_allowed']) || this.omData['id_purpose'] == '2' && this.omData['amount'] != 0) &&
                ((this.omData['id_category'] == '1' && this.omData['rate'] <= parseInt(this.ret_settings['max_old_gold_rate']) && this.omData['rate'] >= parseInt(this.ret_settings['min_old_gold_rate']) || this.omData['id_category'] == '2' && this.omData['rate'] <= parseInt(this.ret_settings['max_old_silver_rate']) && this.omData['rate'] >= parseInt(this.ret_settings['min_old_silver_rate'])))) {
                // if(this.omData['amount'] > 0 && this.omData['id_purpose'] > 0 && this.omData['id_category'] > 0 && this.omData['id_old_metal_type'] > 0 && this.omData['id_old_metal_cat_type'] > 0 && this.omData['purity'] > 0 && (this.omData['id_category'] == '1' && this.omData['rate'] <= parseInt(this.ret_settings['max_old_gold_rate']) && this.omData['rate'] >= parseInt(this.ret_settings['min_old_gold_rate'])  ||  this.omData['id_category'] == '2' && this.omData['rate'] <= parseInt(this.ret_settings['max_old_silver_rate']) && this.omData['rate'] >= parseInt(this.ret_settings['min_old_silver_rate']))){
                data['item_data'] = this.omData;
                data['item_data']['old_stone_settings'] = this.old_stone_settings;
                console.log(data['item_data']);
                console.log(this.omData);
                console.log(this.old_stone_settings);
                this.viewCtrl.dismiss(data);
            }
            else {
                this.msg = "";
                if (this.omData['id_purpose'] == '1' && this.omData['amount'] > parseInt(this.ret_settings['max_cash_allowed'])) {
                    this.errorMsg = "Cash Return should be in below Rs." + parseInt(this.ret_settings['max_cash_allowed']);
                }
                else {
                    this.errorMsg = "Invalid Old metal details..";
                }
                var toast = this.toast.create({
                    message: "please enter valid Metal Rate",
                    duration: 2000,
                    position: "bottom"
                });
                toast.present();
            }
        }
        // Alert Message Timeout
        setTimeout(function () {
            _this.errorMsg = "";
        }, this.common.msgTimeout);
    };
    // calcStoneDetail(){
    //   let data = {"stone_wt" : 0, "stone_price" : 0};
    //   this.stone_details.forEach( i => {
    //     data['stone_wt']   = data['stone_wt'] + Number(i['stone_wt']);
    //     data['stone_price'] = data['stone_price'] + Number(i['stone_price']);
    //   })
    //   return data;
    // }
    AddEstiItemPage.prototype.calcStoneDetail = function () {
        var _this = this;
        if (this.item_type == 'tag') {
            var data_1 = { "wt": 0, "amount": 0 };
            console.log('details', this.stone_details);
            this.stone_details.forEach(function (i, index) {
                if (_this.stone_details[index]['lwt'] && _this.stone_details[index]['lwt'] != 0) {
                    _this.stone_details[index]['is_apply_in_lwt'] = 1;
                    // data['wt']   = data['wt'] + Number(i['wt']);
                    data_1['wt'] = data_1['wt'] + (i['uom_id'] == '6' ? Number(i['wt']) / 5 : Number(i['wt']));
                }
                else {
                    _this.stone_details[index]['is_apply_in_lwt'] = 0;
                }
                data_1['amount'] = data_1['amount'] + Number(i['amount']);
            });
            return data_1;
        }
        else {
            var data_2 = { "stone_wt": 0, "stone_price": 0 };
            this.stone_details.forEach(function (i, index) {
                if (_this.stone_details[index]['lwt']) {
                    _this.stone_details[index]['is_apply_in_lwt'] = 1;
                    // data['stone_wt']   = data['stone_wt'] + Number(i['stone_wt']);
                    data_2['stone_wt'] = data_2['stone_wt'] + (i['uom_id'] == '6' ? Number(i['stone_wt']) / 5 : Number(i['stone_wt']));
                }
                else {
                    _this.stone_details[index]['is_apply_in_lwt'] = 0;
                }
                data_2['stone_price'] = data_2['stone_price'] + Number(i['stone_price']);
            });
            return data_2;
        }
    };
    AddEstiItemPage.prototype.calcSaleValuemc = function () {
        var _this = this;
        if (this.item_type == 'tag') {
            console.log(this.tagData['checkwas']);
            console.log((this.tagData['checkwas'] >= 10 && this.tagData['retail_max_wastage_percent'] >= 10) || (this.tagData['checkwas'] < 10 && this.tagData['retail_max_wastage_percent'] < 10));
            if ((this.tagData['checkwas'] >= 10 && this.tagData['retail_max_wastage_percent'] >= 10) || (this.tagData['checkwas'] < 10 && this.tagData['retail_max_wastage_percent'] < 10)) {
                this.terrorMsg = "";
                console.log('11111111111111111');
                if (parseFloat(this.tagData['gross_wt']) <= parseFloat(this.tagData['actual_gross_wt']) && parseFloat(this.tagData['net_wt']) <= parseFloat(this.tagData['actual_net_wt'])) {
                    this.tagData['net_wt'] = this.tagData['gross_wt'] - this.tagData['less_wt'];
                    var detail = { itemData: this.tagData, metalRate: this.metalRate, tax_details: this.tax_details, item_type: this.item_type };
                    this.tagData = this.retail.calculateSaleValueBasedMc(detail);
                }
                else {
                    this.errorMsg = "Entered weight greater than tag weight";
                    // this.tagData['gross_wt']  = this.tagData['actual_gross_wt'] ;
                    // this.tagData['less_wt']   = this.tagData['actual_less_wt'];
                    // this.tagData['net_wt']    = this.tagData['actual_net_wt'];
                    // Alert Message Timeout
                    console.log(parseFloat(this.tagData['gross_wt']) > parseFloat(this.tagData['actual_gross_wt']));
                    console.log(parseFloat(this.tagData['less_wt']) > parseFloat(this.tagData['actual_less_wt']));
                    if (parseFloat(this.tagData['gross_wt']) > parseFloat(this.tagData['actual_gross_wt'])) {
                        this.tagData['gross_wt'] = this.tagData['actual_gross_wt'];
                    }
                    else if (parseFloat(this.tagData['less_wt']) > parseFloat(this.tagData['actual_less_wt'])) {
                        this.tagData['less_wt'] = this.tagData['actual_less_wt'];
                    }
                    setTimeout(function () {
                        _this.errorMsg = "";
                    }, this.common.msgTimeout);
                }
            }
            else {
                console.log('11111111111111111');
                this.errorMsg = "Please Enter required wastage";
                this.terrorMsg = "Please Enter required wastage";
            }
        }
    };
    AddEstiItemPage.prototype.calcSaleValue = function (changedInput) {
        var _this = this;
        console.log(this.tagData);
        console.log(this.item_type);
        console.log(this.hbData['taxable'], 'taxbleeeee');
        console.log('changedInputttttttt : ', changedInput);
        if (this.item_type == 'tag') {
            // this.checkingtag();
            console.log('details', this.stone_details);
            var stData_1 = this.calcStoneDetail();
            this.tagData['stone_wt'] = stData_1['wt'];
            this.tagData['stone_price'] = stData_1['amount'];
            this.tagData['stone_details'] = this.stone_details;
            console.log('****', this.stone_details);
            console.log('****', stData_1['wt']);
            if (this.stone_details.length != 0) {
                this.stone_details.forEach(function (element, index) {
                    if (_this.stone_details[index]["lwt"] == 1) {
                        console.log('1 => ', _this.stone_details[index]["lwt"]);
                        _this.tagData['less_wt'] = _this.retail.setAsNumber(stData_1['wt']);
                        _this.tagData['net_wt'] = _this.tagData['gross_wt'] - _this.tagData['less_wt'];
                        if (_this.tagData['net_wt'] < 0) {
                            // Add the extra difference into less_wt
                            _this.tagData['gross_wt'] = _this.tagData['less_wt'];
                            _this.tagData['net_wt'] = 0;
                        }
                        else {
                            _this.tagData['net_wt'] = _this.tagData['net_wt'];
                        }
                        _this.tagData['net_wt'] = _this.retail.setAsNumber(_this.tagData['net_wt']).toFixed(3);
                        _this.tagData['actual_net_wt'] = _this.tagData['net_wt'];
                        console.log('2 => ', _this.tagData['less_wt']);
                        console.log('3 => ', _this.tagData['net_wt']);
                        console.log('4 => ', _this.tagData['actual_net_wt']);
                    }
                });
            }
            else {
                this.tagData['less_wt'] = 0;
            }
            // this.tagData['mc_value'] =  this.tagData['making_charge'];
            console.log(this.tagData['retail_max_wastage_percent'] >= parseInt(this.tagData['checkwas']));
            // if (parseInt(this.tagData['mc_value']) <= parseInt(this.tagData['mc_min'])) {
            //   this.tagData['mc_value'] = this.tagData['mc_min']
            // }
            console.log('11111111111');
            console.log(this.tagData['retail_max_wastage_percent']);
            console.log(this.tagData['checkwas']);
            var mcMin = parseFloat(this.tagData['mc_min']) || 0;
            var val = parseFloat(this.tagData['mc_value']) || 0;
            if ((this.tagData['retail_max_wastage_percent'] >= parseInt(this.tagData['checkwas'])) && (val >= mcMin)) {
                console.log('22222222222');
                this.terrorMsg = "";
                if (parseFloat(this.tagData['gross_wt']) <= parseFloat(this.tagData['actual_gross_wt']) && parseFloat(this.tagData['net_wt']) <= parseFloat(this.tagData['actual_net_wt'])) {
                    console.log('3333333333333');
                    if (this.stone_details.length == 0) {
                        this.tagData['net_wt'] = this.tagData['gross_wt'] - this.tagData['less_wt'];
                    }
                    // if(this.tagData['calculation_based_on'] == 3){
                    //   this.tagData['sales_value'] = this.tagData['taxable'];
                    // }
                    // if(changedInput == 'wastage_wt'){
                    //   let wast_percent= parseFloat((((this.retail.setAsNumber(this.tagData['wast_wgt']))*100)/this.retail.setAsNumber(this.tagData['net_wt'])).toFixed(3));
                    //   this.tagData['retail_max_wastage_percent']  = wast_percent;
                    // }
                    // else if(changedInput == 'wast'){
                    //   let wast_wgt    = parseFloat( (this.tagData['net_wt'] * (this.retail.setAsNumber(this.tagData['retail_max_wastage_percent']) / 100)).toFixed(3));
                    //   this.tagData['wast_wgt']  = wast_wgt;
                    // }
                    var detail = { itemData: this.tagData, metalRate: this.metalRate, tax_details: this.tax_details, item_type: this.item_type };
                    console.log('*******', this.tagData['taxable']);
                    this.tagData = this.retail.calculateSaleValue(detail);
                }
                else {
                    this.errorMsg = "Entered weight greater than tag weight";
                    console.log(parseFloat(this.tagData['gross_wt']) > parseFloat(this.tagData['actual_gross_wt']));
                    console.log(parseFloat(this.tagData['less_wt']) > parseFloat(this.tagData['actual_less_wt']));
                    if (parseFloat(this.tagData['gross_wt']) > parseFloat(this.tagData['actual_gross_wt'])) {
                        this.tagData['gross_wt'] = this.tagData['actual_gross_wt'];
                    }
                    else if (parseFloat(this.tagData['less_wt']) > parseFloat(this.tagData['actual_less_wt'])) {
                        this.tagData['less_wt'] = this.tagData['actual_less_wt'];
                    }
                    else if (parseFloat(this.tagData['less_wt']) > parseFloat(this.tagData['gross_wt'])) {
                        this.tagData['gross_wt'] = this.tagData['less_wt'];
                    }
                    // Alert Message Timeout
                    setTimeout(function () {
                        _this.errorMsg = "";
                    }, this.common.msgTimeout);
                }
            }
            else {
                console.log('11111111111111111');
                this.errorMsg = "Please Enter required wastage";
                this.terrorMsg = "Please Enter required wastage";
                // Alert Message Timeout
                setTimeout(function () {
                    _this.errorMsg = "";
                }, this.common.msgTimeout);
            }
            console.log('Final =======> ', this.tagData['stone_details']);
        }
        else if (this.item_type == 'non_tag') {
            // this.checkingnon();
            this.ntData['gross_wt'] = this.ntData['gross_wt'] < 0 ? 0 : this.ntData['gross_wt'];
            this.ntData['rate_per'] = this.ntData['rate_per'] < 0 ? 0 : this.ntData['rate_per'];
            this.ntData['mc_value'] = this.ntData['mc_value'] < 0 ? 0 : this.ntData['mc_value'];
            this.ntData['taxable'] = this.ntData['taxable'] < 0 ? 0 : this.ntData['taxable'];
            this.ntData["less_wt"] = this.ntData["less_wt"] != isNaN ? 0 : this.ntData["less_wt"];
            console.log(this.ntData['mc_type']);
            console.log(this.ntData.hasOwnProperty('mc_type'));
            if (!this.ntData.hasOwnProperty('mc_type')) {
                this.ntData['mc_type'] = "2";
            }
            var stData = this.calcStoneDetail();
            this.ntData['stone_wt'] = stData['stone_wt'];
            this.ntData['stone_price'] = stData['stone_price'];
            this.ntData['stone_details'] = this.stone_details;
            console.log(this.ntData['stone_details']);
            if (this.stone_details.length != 0) {
                this.ntData['less_wt'] = this.retail.setAsNumber(stData['stone_wt']);
            }
            this.ntData['net_wt'] = parseFloat(this.ntData['gross_wt']) - this.retail.setAsNumber(this.ntData['less_wt']);
            this.selectedNTStock['AVgross_wt'] = parseFloat((this.selectedNTStock['gross_wt'] - this.ntData['gross_wt']).toFixed(3));
            console.log('available g wt : ', this.selectedNTStock['AVgross_wt']);
            this.ntData['AVgross_wt'] = this.selectedNTStock['AVgross_wt'];
            // this.ntData['AVgross_wt'] = this.selectedNTStock['AVgross_wt'];
            if (parseFloat(this.ntData['gross_wt']) > parseFloat(this.selectedNTStock['gross_wt'])) {
                this.ntData['gross_wt'] = this.selectedNTStock['gross_wt'];
            }
            if (parseFloat(this.ntData['less_wt']) > parseFloat(this.selectedNTStock['less_wt'])) {
                this.ntData['less_wt'] = this.retail.setAsNumber(this.selectedNTStock['less_wt']);
            }
            if (parseFloat(this.ntData['piece']) > parseFloat(this.selectedNTStock['piece'])) {
                this.ntData['piece'] = this.selectedNTStock['piece'];
            }
            if (parseInt(this.ntData['mc_value']) <= parseInt(this.ntData['mc_min'])) {
                this.ntData['mc_value'] = this.ntData['mc_min'];
            }
            this.ntData['net_wt'] = parseFloat(this.ntData['gross_wt']) - this.retail.setAsNumber(this.ntData['less_wt']);
            if (changedInput == 'wastage_wt') {
                var wast_percent = parseFloat((((this.retail.setAsNumber(this.ntData['wast_wgt'])) * 100) / this.retail.setAsNumber(this.ntData['net_wt'])).toFixed(3));
                this.ntData['retail_max_wastage_percent'] = wast_percent;
            }
            else if (changedInput == 'wast') {
                if (parseInt(this.ntData['retail_max_wastage_percent']) <= parseInt(this.ntData['checkwas'])) {
                    this.ntData['retail_max_wastage_percent'] = this.ntData['checkwas'];
                }
                var wast_wgt = parseFloat((this.ntData['net_wt'] * (this.retail.setAsNumber(this.ntData['retail_max_wastage_percent']) / 100)).toFixed(3));
                this.ntData['wast_wgt'] = wast_wgt;
            }
            console.log(this.ntData);
            console.log(this.ntData['retail_max_wastage_percent'] >= parseInt(this.ntData['checkwas']));
            if (this.ntData['retail_max_wastage_percent'] >= parseInt(this.ntData['checkwas']) || changedInput == 'gross') {
                var detail = { itemData: this.ntData, metalRate: this.metalRate, tax_details: this.tax_details, item_type: this.item_type };
                if (this.ntData['calculation_based_on'] == 3) {
                    this.ntData['sales_value'] = this.ntData['taxable'];
                }
                this.ntData = this.retail.calculateSaleValue(detail);
                console.log(this.ntData);
            }
            else {
                console.log('11111111111111111');
                this.errorMsg = "Please Enter required wastage";
                this.terrorMsg = "Please Enter required wastage";
                // Alert Message Timeout
                setTimeout(function () {
                    _this.errorMsg = "";
                }, this.common.msgTimeout);
            }
        }
        else if (this.item_type == 'home_bill') {
            console.log(this.hbData);
            this.hbData['gross_wt'] = this.hbData['gross_wt'] < 0 ? 0 : this.hbData['gross_wt'];
            this.hbData['retail_max_wastage_percent'] = this.hbData['retail_max_wastage_percent'] < 0 ? 0 : this.hbData['retail_max_wastage_percent'];
            this.hbData['wast_wgt'] = this.hbData['wast_wgt'] < 0 ? 0 : this.hbData['wast_wgt'];
            this.hbData['rate_per'] = this.hbData['rate_per'] < 0 ? 0 : this.hbData['rate_per'];
            this.hbData['mc_value'] = this.hbData['mc_value'] < 0 ? 0 : this.hbData['mc_value'];
            this.hbData['taxable'] = this.hbData['taxable'] < 0 ? 0 : this.hbData['taxable'];
            console.log(this.hbData);
            this.hbData["less_wt"] = this.hbData["less_wt"] != isNaN ? 0 : this.hbData["less_wt"];
            console.log(this.hbData["less_wt"]);
            console.log(this.hbData['stone_details']);
            this.checkinghome();
            var stData = this.calcStoneDetail();
            console.log(stData, 'st data');
            this.hbData['stone_wt'] = stData['stone_wt'];
            this.hbData['stone_price'] = stData['stone_price'];
            this.hbData['stone_details'] = this.stone_details;
            console.log(this.hbData['stone_details']);
            if (this.hbData['calculation_based_on'] != 3) {
                if (this.hbData['is_partly_sold'] == 1) {
                    if (parseFloat(this.hbData['gross_wt']) > parseFloat(this.hbData['stock_gross_wt'])) {
                        this.hbData['gross_wt'] = this.retail.setAsNumber(this.hbData['stock_gross_wt']);
                    }
                    if (parseFloat(this.hbData['less_wt']) > parseFloat(this.hbData['stock_less_wt'])) {
                        this.hbData['less_wt'] = this.retail.setAsNumber(this.hbData['stock_less_wt']);
                    }
                }
                if (this.stone_details.length != 0) {
                    this.hbData['less_wt'] = this.retail.setAsNumber(stData['stone_wt']);
                }
                //  if (this.stone_details.length != 0) {
                //     this.stone_details.forEach((element, index) => {
                //       if (this.stone_details[index]["lwt"] == 1) {
                //         console.log('1 => ', this.stone_details[index]["lwt"]);
                //           this.hbData['less_wt'] = this.retail.setAsNumber(stData['wt']);
                //           this.hbData['net_wt'] = this.hbData['gross_wt'] - this.hbData['less_wt'];
                //           if (this.hbData['net_wt'] < 0) {
                //             // Add the extra difference into less_wt
                //             this.hbData['gross_wt'] = this.hbData['less_wt'];
                //             this.hbData['net_wt'] = 0;
                //           } else {
                //             this.hbData['net_wt'] = this.hbData['net_wt'];
                //           }
                //           this.hbData['net_wt'] = this.retail.setAsNumber(this.hbData['net_wt']).toFixed(3);
                //           this.hbData['actual_net_wt'] = this.hbData['net_wt'];
                //           console.log('2 => ', this.hbData['less_wt']);
                //           console.log('3 => ', this.hbData['net_wt']);
                //           console.log('4 => ', this.hbData['actual_net_wt']);
                //       }
                //     });
                //         }else{
                //             this.hbData['less_wt'] = 0;
                //         }
                if (parseInt(this.hbData['mc_value']) <= parseInt(this.hbData['mc_min'])) {
                    this.hbData['mc_value'] = this.hbData['mc_min'];
                }
                this.hbData['net_wt'] = parseFloat(this.hbData['gross_wt']) - this.retail.setAsNumber(this.hbData['less_wt']);
                if (changedInput == 'wastage_wt') {
                    var wast_percent = parseFloat((((this.retail.setAsNumber(this.hbData['wast_wgt'])) * 100) / this.retail.setAsNumber(this.hbData['net_wt'])).toFixed(3));
                    this.hbData['retail_max_wastage_percent'] = wast_percent;
                }
                else if (changedInput == 'wast') {
                    if (parseInt(this.hbData['retail_max_wastage_percent']) <= parseInt(this.hbData['checkwas'])) {
                        this.hbData['retail_max_wastage_percent'] = this.hbData['checkwas'];
                    }
                    var wast_wgt = parseFloat((this.hbData['net_wt'] * (this.retail.setAsNumber(this.hbData['retail_max_wastage_percent']) / 100)).toFixed(3));
                    this.hbData['wast_wgt'] = wast_wgt;
                }
                console.log(this.hbData['checkwas']);
                console.log(this.hbData);
                if (this.hbData['retail_max_wastage_percent'] >= parseInt(this.hbData['checkwas']) || changedInput == 'hbgross') {
                    var detail = { itemData: this.hbData, metalRate: this.metalRate, tax_details: this.tax_details, item_type: this.item_type };
                    console.log(detail);
                    if (this.hbData['calculation_based_on'] == 3) {
                        this.hbData['sales_value'] = this.hbData['taxable'];
                        this.hbData['gross_wt'] = 0.000;
                    }
                    console.log('taxable amount : ', this.hbData['taxable']);
                    console.log('sales val : ', this.hbData['sales_value']);
                    this.hbData = this.retail.calculateSaleValue(detail);
                }
                else {
                    var detail = { itemData: this.hbData, metalRate: this.metalRate, tax_details: this.tax_details, item_type: this.item_type };
                    console.log(detail);
                    this.hbData = this.retail.calculateSaleValue(detail);
                    // console.log('11111111111111111')
                    // this.errorMsg = "Please Enter required wastage";
                    // this.terrorMsg = "Please Enter required wastage";
                    // Alert Message Timeout
                    setTimeout(function () {
                        _this.errorMsg = "";
                    }, this.common.msgTimeout);
                }
                console.log(this.hbData['is_partly_sold'], 'partial');
                if (this.hbData['is_partly_sold'] == 1) {
                    var detail = { itemData: this.hbData, metalRate: this.metalRate, tax_details: this.tax_details, item_type: this.item_type };
                    console.log(detail);
                    this.hbData = this.retail.calculateSaleValue(detail);
                }
            }
            else if (this.hbData['calculation_based_on'] == 3) {
                console.log(this.hbData['taxable'], 'taxable amount');
                console.log(this.hbData, 'hbdata');
                this.hbData['size'] = '0';
                this.hbData['gross_wt'] = '0.000';
                this.hbData['less_wt'] = '0.000';
                this.hbData['net_wt'] = '0.000';
                this.hbData['wast_wgt'] = '0.000';
                this.hbData['mc_type'] = '2';
                this.hbData['mc_value'] = '0';
                this.hbData['making_charge'] = '0';
                this.hbData['rate_per'] = 0;
                var detail = { itemData: this.hbData, metalRate: this.metalRate, tax_details: this.tax_details, item_type: this.item_type };
                console.log(detail);
                this.calc_taxable_amount(detail);
                // this.hbData = this.retail.calculateSaleValue(detail);
            }
        }
    };
    // Tag Item
    AddEstiItemPage.prototype.getTagData = function (tag_code) {
        var _this = this;
        if (tag_code.length > 0) {
            var loader_1 = this.load.create({
                content: 'Please Wait',
                spinner: 'bubbles',
            });
            loader_1.present();
            var postData = { "type": 'EstiTag', "searchTxt": tag_code, "searchField": "tag_code", "id_branch": this.id_branch };
            this.retail.getTagData(postData).then(function (data) {
                if (data.status) {
                    _this.msg = data.msg;
                    _this.errorMsg = "";
                    setTimeout(function () {
                        _this.msg = "";
                    }, _this.common.msgTimeout);
                    data.tagData['actual_gross_wt'] = data.tagData['gross_wt'];
                    data.tagData['charge_value'] = data.tagData['charge_value'];
                    data.tagData['charges'] = data.tagData['charges'];
                    data.tagData['actual_less_wt'] = data.tagData['less_wt'];
                    data.tagData['actual_net_wt'] = data.tagData['net_wt'];
                    data.tagData['checkwas'] = data.tagData['retail_max_wastage_percent'];
                    _this.stone_details = data.tagData['stone_details'];
                    data.tagData['product_name'] = (data.tagData['parent_prods_name'] != null ? (data.tagData['parent_prods_name'] + ',' + data.tagData['product_name']) : data.tagData['product_name']);
                    var detail = { itemData: data.tagData, metalRate: _this.metalRate, tax_details: _this.tax_details, item_type: _this.item_type };
                    _this.tagData = _this.retail.calculateSaleValue(detail);
                }
                else {
                    _this.tagData = { "tag_code": "", "tag_code1": "", "tag_code2": "", "is_partial": 0, "stone_details": [] };
                    _this.msg = "";
                    _this.errorMsg = data.msg;
                    setTimeout(function () {
                        _this.errorMsg = "";
                    }, _this.common.msgTimeout);
                }
                loader_1.dismiss();
            });
        }
        else {
            console.log(tag_code);
            this.errorMsg = "Enter Tag Code";
            setTimeout(function () {
                _this.errorMsg = "";
            }, this.common.msgTimeout);
        }
    };
    AddEstiItemPage.prototype.partlySale = function () {
        console.log('1111', this.tagData['is_partial']);
        console.log('details', this.stone_details);
        this.tagData['is_partial'] = this.tagData['is_partial'] ? 1 : 0;
        if (this.tagData['is_partial'] == 0) {
            this.tagData['gross_wt'] = this.tagData['actual_gross_wt'];
            this.tagData['less_wt'] = this.tagData['actual_less_wt'];
            this.tagData['net_wt'] = this.tagData['actual_net_wt'];
        }
    };
    // ./Tag Item
    // Non Tag
    AddEstiItemPage.prototype.collectionSelected = function (id_collection) {
        var _this = this;
        this.products = [];
        this.nonTagStock['products'].forEach(function (prod) {
            if (prod.id_collection == id_collection) {
                _this.products.push(prod);
            }
        });
    };
    AddEstiItemPage.prototype.isFormInvalid = function () {
        return (this.hbData['gross_wt'] === '' || this.hbData['gross_wt'] == null ||
            this.hbData['net_wt'] === '' || this.hbData['net_wt'] == null ||
            this.hbData['purname'] === '' || this.hbData['purname'] == null);
    };
    AddEstiItemPage.prototype.sectionSelected = function (id_section) {
        var _this = this;
        this.sections = [];
        console.log(id_section);
        this.nontag_sections.forEach(function (element) {
            // console.log(element)
            // console.log(element.id_section)
            if (element.id_section == id_section) {
                _this.sections.push(element);
                _this.id_section = element.id_section;
                _this.section_name = element.section_name;
                console.log('id_section : ', _this.id_section);
            }
        });
        // this.designs = [];
        // this.ntData['pro_id'] = ''
        // this.ntData['product_name'] = ''
        // this.ntData['design'] = ''
        // this.ntData['sub_design'] = ''
        // this.ntData['sub_design_name'] = ''
        // this.nontag_products = this.products.filter(data => data['id_section'] ==  this.id_section);
        console.log(this.nontag_products);
    };
    /* Home Bill Sections */
    AddEstiItemPage.prototype.HbSelected = function (id_section) {
        var _this = this;
        this.sections = [];
        console.log(id_section);
        this.homebill_sections.forEach(function (element) {
            console.log(element);
            console.log(element.id_section);
            if (element.id_section == id_section) {
                _this.id_section = element.id_section;
                _this.section_name = element.section_name;
            }
        });
        this.nontag_products = this.products.filter(function (data) { return data['id_section'] == _this.id_section; });
        console.log(this.nontag_products);
    };
    AddEstiItemPage.prototype.append = function () {
        if (this.item_type == 'tag') {
            var one = document.getElementById('one1').value;
            var two = document.getElementById('two1').value;
            console.log(one);
            console.log(two);
            this.tagData['tag_code'] = one + '-' + two;
            var test = new String(two);
            console.log(test.length);
            if (test.length == 5 && one != '') {
                this.getTagData(this.tagData['tag_code']);
            }
        }
        else if (this.item_type == 'home_bill') {
            var one = document.getElementById('one2').value.toUpperCase();
            var two = document.getElementById('two2').value.toUpperCase();
            this.hbData['tag_code1'] = this.hbData['tag_code1'].toUpperCase();
            this.hbData['tag_code2'] = this.hbData['tag_code2'].toUpperCase();
            console.log(one);
            console.log(two);
            var tagCode = one + '-' + two;
            if (typeof tagCode === 'string' && tagCode.startsWith('-')) {
                tagCode = tagCode.substring(1);
            }
            this.hbData['tag_code'] = tagCode;
            // let test:any = new String(two);
            // console.log(test.length)
            // if(test.length == 5 && one != ''){
            //   this.getHomeStockByTag();
            // }
        }
    };
    AddEstiItemPage.prototype.productSelected = function (id_product) {
        var _this = this;
        // naveen
        // this.designs = [];
        // this.ntData['design'] = ''
        // this.ntData['sub_design'] = ''
        // this.ntData['sub_design_name'] = ''
        // this.selectedNTStock['AVgross_wt'] = ''
        // this.ntData['purname'] = ''
        console.log('product : ', this.nonTagStock['designs']);
        console.log('id_product', id_product);
        if (this.id_section != undefined && this.id_section != '') {
            this.nonTagStock['designs'].forEach(function (design) {
                if (design.pro_id == id_product) {
                    _this.designs.push(design);
                    console.log('designs : ', _this.designs);
                }
            });
            this.retail.getAllPurities(id_product).then(function (data) {
                _this.ntPurities = data;
            });
        }
        else {
            // this.designs = [];
            // this.ntData['pro_id'] = ''
            // this.ntData['product_name'] = ''
            // this.ntData['design'] = ''
            // this.ntData['sub_design'] = ''
            // this.ntData['sub_design_name'] = ''
            var toastMsg = this.toast.create({
                message: 'You must  Select Sections..',
                duration: this.common.toastTimeout,
                position: 'middle'
            });
            toastMsg.present();
        }
    };
    AddEstiItemPage.prototype.clear = function () {
        if (this.item_type == 'old_metal') {
            this.omData['id_category'] = '';
            this.omData['id_old_metal_type'] = '';
            this.omData['id_old_metal_cat_type'] = '';
            this.omData['id_purpose'] = '';
            this.omData['gross_wt'] = '';
            this.omData['dust_wt'] = '';
            this.omData['stone_wt'] = '';
            this.omData['wastage'] = '';
            this.omData['wastage_wt'] = '';
            this.omData['net_wt'] = '';
            this.omData['rate'] = '';
            this.omData['amount'] = '';
            this.omData['purity'] = '';
            this.omData['sub_design_name'] = '';
            this.omData['old_pcs'] = '';
        }
        else if (this.item_type == 'home_bill') {
            this.hbData['is_partly_sold'] = 0;
            this.hbData['tag_code'] = '';
            this.hbData['tag_code1'] = '';
            this.hbData['tag_code2'] = '';
            this.hbData['sub_design_name'] = '';
            this.hbData['collection'] = '';
            this.hbData['product_name'] = '';
            this.hbData['design_name'] = '';
            this.hbData['purname'] = '';
            this.hbData['size'] = '';
            this.hbData['piece'] = 1;
            this.hbData['gross_wt'] = '';
            this.hbData['less_wt'] = '';
            this.hbData['net_wt'] = '';
            this.hbData['retail_max_wastage_percent'] = '';
            this.hbData['wast_wgt'] = '';
            this.hbData['mc_type'] = '2';
            this.hbData['mc_value'] = '';
            this.hbData['making_charge'] = '';
            this.hbData['taxable'] = 0;
            this.hbData['tax_price'] = '';
            this.hbData['sales_value'] = '';
            this.hbPurities = [];
        }
        else if (this.item_type == 'non_tag') {
        }
    };
    AddEstiItemPage.prototype.setNTitemData = function (id_design) {
        var _this = this;
        console.log(id_design, '000000000000000');
        this.sub_designs = [];
        this.ntData['sub_design'] = '';
        this.ntData['sub_design_name'] = '';
        this.selectedNTStock['AVgross_wt'] = '';
        this.nonTagStock['sub_designs'].forEach(function (sub_design) {
            if (sub_design.pro_id == id_design.pro_id && sub_design.design_no == id_design.design_no) {
                _this.sub_designs.push(sub_design);
                console.log('sub designs : ', _this.sub_designs);
            }
        });
        console.log(this.ntData);
    };
    // ./Non Tag
    // Home Bill
    AddEstiItemPage.prototype.getHomeStockByTag = function () {
        var _this = this;
        console.log('clicked');
        var tag_code = this.hbData['tag_code'];
        console.log(tag_code);
        console.log(tag_code && tag_code.trim() != '' && tag_code.length > 0);
        if (tag_code && tag_code.trim() != '' && tag_code.length > 0) {
            var loader_2 = this.load.create({
                content: 'Please Wait',
                spinner: 'bubbles',
            });
            loader_2.present();
            if (this.checkold == true) {
                var postData = { "type": "byTag", "searchTxt": tag_code, "searchField": "old_tag_id", "id_branch": this.id_branch };
            }
            else if (this.checkold == false) {
                var postData = { "type": "byTag", "searchTxt": tag_code, "searchField": "tag_code", "id_branch": this.id_branch };
            }
            this.retail.getHomeStock(postData).then(function (data) {
                if (data.status) {
                    _this.msg = data.msg;
                    _this.errorMsg = "";
                    setTimeout(function () {
                        _this.msg = "";
                    }, _this.common.msgTimeout);
                    data.homeStock['stock_gross_wt'] = data.homeStock['gross_wt'];
                    data.homeStock['stock_less_wt'] = data.homeStock['less_wt'];
                    data.homeStock['stock_net_wt'] = data.homeStock['net_wt'];
                    if (data.homeStock['stone_details'] && data.homeStock['stone_details'].length > 0) {
                        // reset before summing
                        data.homeStock['less_wt'] = 0;
                        data.homeStock['stone_price'] = 0;
                        data.homeStock['stone_details'].forEach(function (element) {
                            var wt = parseFloat(element['stone_wt']) || 0; // ensure number
                            if (element['is_apply_in_lwt'] == '1') {
                                if (element['uom_id'] == '6') {
                                    wt = wt / 5;
                                    // element['wt'] = wt.toString(); // keep as string if needed
                                }
                                data.homeStock['less_wt'] = parseFloat((data.homeStock['less_wt'] + wt).toFixed(3)); // proper numeric additio
                            }
                            _this.tag_stoneamount_calc(element);
                            var amt = parseFloat(element['stone_price']) || 0; // ensure number
                            data.homeStock['stone_price'] = parseFloat((data.homeStock['stone_price'] + amt).toFixed(3)); // proper numeric addition
                        });
                    }
                    _this.stone_details = data.homeStock['stone_details'];
                    var detail = { itemData: data.homeStock, metalRate: _this.metalRate, tax_details: _this.tax_details, item_type: _this.item_type };
                    _this.hbData = _this.retail.calculateSaleValue(detail);
                    _this.hbData['is_partly_sold'] = 1;
                }
                else {
                    _this.hbData = { 'charge_value': 0, 'mc_type': '1', 'id_charge': '', 'chargecode': '', "tag_code": "", "tag_code1": "", "tag_code2": "", "is_partly_sold": 0, "stone_details": [], 'allcharges': [], 'charges': [] };
                    _this.msg = "";
                    _this.errorMsg = data.msg;
                    setTimeout(function () {
                        _this.errorMsg = "";
                    }, _this.common.msgTimeout);
                }
                loader_2.dismiss();
            });
        }
    };
    AddEstiItemPage.prototype.tag_stoneamount_calc = function (data) {
        if (data["stone_cal_type"] == "2") {
            data["amount"] =
                (data["pieces"] * data["rate_per_gram"]).toFixed(3);
        }
        else if (data["stone_cal_type"] == "1") {
            data["amount"] =
                (data["wt"] * data["rate_per_gram"]).toFixed(3);
        }
    };
    AddEstiItemPage.prototype.hbIsPartlySold = function (is_partly_sold) {
        //alert(is_partly_sold);
        this.hbData['is_partly_sold'] = is_partly_sold ? 1 : 0;
        console.log(this.hbData['is_partly_sold']);
    };
    AddEstiItemPage.prototype.checkcode = function () {
        var _this = this;
        var temp = this.hbData['allcharges'].filter(function (data) { return data['id_charge'] == _this.hbData['id_charge']; });
        this.hbData['chargecode'] = temp[0]['code_charge'];
        this.hbData['charge_value'] = temp[0]['value_charge'];
        this.calcSaleValue('');
    };
    AddEstiItemPage.prototype.hbProdSelected = function () {
        var _this = this;
        // if(this.hbDesigns.length == 0) {
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        this.retail.getDesigns({ "type": "active", "id_product": this.hbData['pro_id'], "last_id": -1 }).then(function (data) {
            _this.hbDesigns = data;
            if (_this.hbDesigns.length == 1) {
                _this.hbData['design_no'] = _this.hbDesigns[0].id_design;
                _this.hbData['design_name'] = _this.hbDesigns[0].label;
                _this.hbdesignSelected();
            }
            else {
                _this.hbData['design_name'] = '';
                _this.hbData['design_no'] = '';
            }
            loader.dismiss();
        });
        // }
        // if(this.hbPurities.length == 0) {
        // let loader = this.load.create({
        //   content: 'Please Wait',
        //   spinner: 'bubbles',
        // });
        // loader.present();
        this.retail.getAllPurities(this.hbData['pro_id']).then(function (data) {
            _this.hbPurities = data;
            if (_this.hbPurities.length == 1) {
                _this.hbData['purity'] = _this.hbPurities[0].id_purity;
                _this.hbData['purname'] = _this.hbPurities[0].label;
                _this.hbData['metal_type'] = _this.hbPurities[0].rate_field;
                _this.hbData['market_metal_type'] = _this.hbPurities[0].market_rate_field;
                // this.hbProdSelected();
                _this.calcSaleValue('');
            }
            else {
                _this.hbData['purity'] = '';
                _this.hbData['purname'] = '';
            }
            // loader.dismiss();
        });
        // }
    };
    AddEstiItemPage.prototype.hbdesignSelected = function () {
        var _this = this;
        // if(this.hbDesigns.length == 0) {
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        this.common.getsubdesigns({ "id_product": this.hbData['pro_id'], "design_no": this.hbData['design_no'] }).then(function (data) {
            _this.hbsubDesigns = data;
            if (_this.hbsubDesigns.length == 1) {
                _this.hbData['sub_design_no'] = _this.hbsubDesigns[0].id_sub_design;
                _this.hbData['sub_design_name'] = _this.hbsubDesigns[0].label;
            }
            else {
                _this.hbData['sub_design_no'] = '';
                _this.hbData['sub_design_name'] = '';
            }
            loader.dismiss();
        });
        // }
    };
    AddEstiItemPage.prototype.openMasSearch = function (master) {
        var _this = this;
        this.errorMsg = "";
        if (master == 'Product') {
            var loader_3 = this.load.create({
                content: 'Please Wait',
                spinner: 'bubbles',
            });
            loader_3.present();
            if (this.ret_settings['subproduct_required'] == 1) {
                var filter_by = (this.ret_settings['collections_required'] == 1 ? "collection" : "category");
                var collection_id = (this.item_type == "home_bill" ? this.hbData['collection'] : this.ntData['collection']);
                if (collection_id > 0) {
                    this.retail.getProductTreeList({ "filter_by": filter_by, "id": collection_id }).then(function (data) {
                        if (_this.item_type == "home_bill") {
                            _this.hbProducts = data;
                        }
                        loader_3.dismiss();
                        _this.openMasModal({ 'searchArr': data, page: master, listType: "tree" }, master);
                    });
                }
                else {
                    loader_3.dismiss();
                    this.errorMsg = "Collection required !!";
                    setTimeout(function () {
                        _this.errorMsg = "";
                    }, this.common.msgTimeout);
                }
            }
            else {
                if (this.hbProducts.length == 0) {
                    this.retail.getProducts({ "type": "active", "id_category": "", "last_id": -1 }).then(function (data) {
                        _this.hbProducts = data;
                        loader_3.dismiss();
                        _this.openMasModal({ 'searchArr': _this.hbProducts, page: master, listType: "normal" }, master);
                    });
                }
                else {
                    loader_3.dismiss();
                    this.openMasModal({ 'searchArr': this.hbProducts, page: master, listType: "normal" }, master);
                }
            }
        }
        else if (master == 'Design') {
            if (this.hbData['pro_id']) {
                this.openMasModal({ 'searchArr': this.hbDesigns, page: master, listType: "normal" }, master);
            }
        }
        else if (master == 'subDesign') {
            if (this.hbData['design_no']) {
                this.openMasModal({ 'searchArr': this.hbsubDesigns, page: master, listType: "normal" }, master);
            }
        }
        else if (master == 'Purity') {
            if (this.hbData['pro_id']) {
                this.openMasModal({ 'searchArr': this.hbPurities, page: master, listType: "normal" }, master);
            }
        }
    };
    AddEstiItemPage.prototype.openMasSearch_nonTag = function (master) {
        this.errorMsg = "";
        console.log(this.nontag_sections);
        console.log(this.products);
        console.log(this.designs);
        console.log(this.sub_designs);
        switch (master) {
            case 'Section':
                this.openMasModal({ searchArr: this.nontag_sections, page: master, listType: "normal" }, master);
                break;
            case 'Product':
                this.openMasModal({ searchArr: this.products, page: master, listType: "normal" }, master);
                break;
            case 'Design':
                // if (this.ntData['pro_id']) {
                this.openMasModal({ searchArr: this.designs, page: master, listType: "normal" }, master);
                // }
                break;
            case 'subDesign':
                // if (this.ntData['design']) {
                this.openMasModal({ searchArr: this.sub_designs, page: master, listType: "normal" }, master);
                // }
                break;
            default:
                // Optional: handle invalid master values
                console.log('Invalid master type:', master);
                break;
        }
    };
    AddEstiItemPage.prototype.opennon = function () {
        var _this = this;
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_4__modal_mas_search_mas_search__["a" /* MasSearchPage */], { 'searchArr': this.ntPurities, page: 'Purity', listType: "normal" });
        modal.present();
        modal.onDidDismiss(function (data) {
            if (data != null) {
                _this.ntData['purity'] = data.id_purity;
                _this.ntData['purname'] = data.label;
                _this.ntData['metal_type'] = data.rate_field;
                _this.ntData['market_metal_type'] = data.market_rate_field;
                // this.calcSaleValue('');
                var detail = { itemData: _this.ntData, metalRate: _this.metalRate, tax_details: _this.tax_details, item_type: _this.item_type };
                _this.ntData = _this.retail.calculateSaleValue(detail);
                console.log(_this.ntData);
            }
        });
    };
    AddEstiItemPage.prototype.openMasModal = function (data, master) {
        var _this = this;
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_4__modal_mas_search_mas_search__["a" /* MasSearchPage */], data);
        modal.present();
        modal.onDidDismiss(function (data) {
            if (data != null) {
                if (_this.item_type == "non_tag") {
                    if (master == 'Section') {
                        _this.ntData['id_section'] = data.id_section;
                        _this.ntData['section_name'] = data.section_name;
                        _this.sectionSelected(_this.ntData['id_section']);
                    }
                    else if (master == 'Product') {
                        _this.ntData['pro_id'] = data.pro_id;
                        _this.ntData['product_name'] = data.product_name;
                        _this.pro_metal_type = data.pro_metal_type;
                        _this.productSelected(_this.ntData['pro_id']);
                    }
                    else if (master == 'Design') {
                        _this.ntData['design_name'] = data['design_name'];
                        _this.ntData['design'] = data;
                        _this.setNTitemData(data);
                    }
                    else if (master == 'subDesign') {
                        console.log(data, 'sub design');
                        _this.ntData['sub_design_name'] = data['sub_design_name'];
                        _this.ntData['sub_design'] = data;
                        console.log(_this.ntData['sub_design_name'], 'sub design');
                        _this.ntsubdesign(data);
                    }
                }
                else if (_this.item_type == "home_bill") {
                    if (master == 'Design') {
                        _this.hbData['design_no'] = data.id_design;
                        _this.hbData['design_name'] = data.label;
                        _this.hbdesignSelected();
                    }
                    else if (master == 'subDesign') {
                        _this.hbData['sub_design_no'] = data.id_sub_design;
                        _this.hbData['sub_design_name'] = data.label;
                        _this.common.getset({
                            "id_product": _this.hbData['pro_id'],
                            "id_design": _this.hbData['design_no'],
                            "id_sub_design": _this.hbData['sub_design_no'],
                            "gross_wt": _this.hbData['gross_wt'],
                            "type": 3,
                            "lot_no": '',
                            "id_branch": _this.id_branch
                        }).then(function (data) {
                            _this.hbData['checkwas'] = data['data']['wastag_min'];
                            _this.hbData['mc_min'] = data['data']['mc_min'];
                            if (_this.hbData['mc_min'] != undefined) {
                                _this.show_home = true;
                            }
                        });
                    }
                    else if (master == 'Product') {
                        _this.hbData['tax_type'] = data.tax_type;
                        _this.hbData['scheme_closure_benefit'] = data.scheme_closure_benefit;
                        _this.hbData['pro_id'] = data.pro_id;
                        _this.hbData['tax_group_id'] = data.tax_group_id;
                        _this.hbData['tax_percentage'] = data.tax_percentage;
                        _this.hbData['calculation_based_on'] = data.calculation_based_on;
                        _this.pro_metal_type = data.pro_metal_type;
                        _this.hbData['product_name'] = (data.parent_prods_name != null ? data.parent_prods_name + ',' + data.label : data.label);
                        _this.hbProdSelected();
                    }
                    else if (master == 'Purity') {
                        _this.hbData['purity'] = data.id_purity;
                        _this.hbData['purname'] = data.label;
                        _this.hbData['metal_type'] = data.rate_field;
                        _this.hbData['market_metal_type'] = data.market_rate_field;
                        _this.common.getset({
                            "id_product": _this.hbData['pro_id'],
                            "id_design": _this.hbData['design_no'],
                            "id_sub_design": _this.hbData['sub_design_no'],
                            "gross_wt": _this.hbData['gross_wt'],
                            "type": 3,
                            "lot_no": '',
                            "id_branch": _this.id_branch
                        }).then(function (data) {
                            _this.hbData['checkwas'] = data['data']['wastag_min'];
                            _this.hbData['mc_min'] = data['data']['mc_min'];
                            if (_this.hbData['mc_min'] != undefined) {
                                _this.show_home = true;
                            }
                        });
                        _this.calcSaleValue('hbgross');
                    }
                }
            }
        });
    };
    // ./Home Bill
    // Old Metal
    AddEstiItemPage.prototype.calcOldmetalValue2 = function (changedInput) {
        var _this = this;
        this.omData['other_stone_wt'] = 0;
        this.omData['other_stone_price'] = 0;
        if (changedInput == 'id_category') {
            var cat = this.oldMetalCat.filter(function (i) { return i.id_category == _this.omData['id_category']; });
            this.omData['category'] = cat[0].cat_name;
            var metaltype = this.oldMetalTypes.filter(function (i) { return i.id_metal == _this.omData['id_category']; });
            this.metalCatTypes = metaltype;
            if (this.metalCatTypes.length == 1) {
                this.omData['id_old_metal_type'] = this.metalCatTypes[0]['id_metal_type'];
            }
            else {
                this.omData['id_old_metal_type'] = '';
            }
            //  let metaltype =  this.oldfullrates.filter((i: any) => i.id_metal == this.omData['id_category']);
            // this.oldrates = metaltype;
            // this.oldcategory = [];
            // this.omData['rate']  = 0;
        }
        else if (changedInput == 'id_purpose') {
            this.omData['purpose'] = (this.omData['id_purpose'] == 1 ? "Cash" : "Exchange");
        }
        console.log(this.omData['rate']);
        if (changedInput == 'stone') {
            var stData = this.calcStoneDetail();
            this.omData['other_stone_wt'] = stData['stone_wt'];
            this.omData['other_stone_price'] = stData['stone_price'];
        }
        this.omData['stone_details'] = this.stone_details;
        var gross_wt = this.retail.setAsNumber(this.omData['gross_wt']);
        var dust_wt = this.retail.setAsNumber(this.omData['dust_wt']);
        var stone_wt = this.retail.setAsNumber(this.omData['stone_wt']);
        var other_stone_wt = this.retail.setAsNumber(this.omData['other_stone_wt']);
        var other_stone_price = this.retail.setAsNumber(this.omData['other_stone_price']);
        var rate_per_grm = this.retail.setAsNumber(this.omData['rate']);
        var wast_wgt = this.retail.setAsNumber(this.omData['wastage_wt']);
        var wast_percent = this.retail.setAsNumber(this.omData['wastage']);
        var net_wt = parseFloat(((gross_wt) - (dust_wt) - (stone_wt) - (other_stone_wt)).toFixed(3));
        console.log(net_wt);
        if (changedInput == 'wastage_wt') {
            // let net_wt 			= parseFloat(((gross_wt) - (dust_wt) - (stone_wt) - (other_stone_wt) - (wast_wgt)).toFixed(3));
            //let wast_percent= ((net_wt * (wast_wgt / 100)));
            var wast_percent_1 = parseFloat((((wast_wgt) * 100) / net_wt).toFixed(3));
            this.omData['wastage'] = wast_percent_1;
            net_wt = parseFloat(((gross_wt) - (dust_wt) - (stone_wt) - (other_stone_wt) - (wast_wgt)).toFixed(3));
            var amount = Math.round((net_wt * rate_per_grm) + (other_stone_price));
            this.omData['net_wt'] = net_wt;
            this.omData['amount'] = amount;
        }
        else {
            var wast_wgt_1 = parseFloat((net_wt * (wast_percent / 100)).toFixed(2));
            this.omData['wastage_wt'] = wast_wgt_1;
            console.log(this.omData['wastage']);
            net_wt = parseFloat(((gross_wt) - (dust_wt) - (stone_wt) - (other_stone_wt) - (wast_wgt_1)).toFixed(3));
            var amount = Math.round((net_wt * rate_per_grm) + (other_stone_price));
            this.omData['net_wt'] = net_wt;
            this.omData['amount'] = amount;
        }
        // else{
        //   net_wt 			= parseFloat(((gross_wt) - (dust_wt) - (stone_wt) - (other_stone_wt) - (wast_wgt)).toFixed(3));
        //   let amount 	= Math.round((net_wt*rate_per_grm)+(other_stone_price));
        //   this.omData['net_wt']  = net_wt;
        //   this.omData['amount']  = amount;
        // }
        console.log(this.omData);
    };
    AddEstiItemPage.prototype.calcOldmetalValue = function (changedInput) {
        var _this = this;
        //  this.checking();
        console.log(changedInput);
        this.omData['gross_wt'] = this.omData['gross_wt'] < 0 ? 0 : this.omData['gross_wt'];
        this.omData['rate'] = this.omData['rate'] < 0 ? 0 : this.omData['rate'];
        this.omData['touch'] = parseFloat(this.omData['touch']) < 0 ? '0' : this.omData['touch'];
        this.omData['other_stone_wt'] = 0;
        this.omData['other_stone_price'] = 0;
        if (changedInput == 'id_category') {
            console.log('id_category');
            var cat = this.oldMetalCat.filter(function (i) { return i.id_category == _this.omData['id_category']; });
            this.omData['category'] = cat[0].cat_name;
            var metaltype = this.oldMetalTypes.filter(function (i) { return i.id_metal == _this.omData['id_category']; });
            this.metalCatTypes = metaltype;
            console.log(this.metalCatTypes);
            //  console.log(this.metalCatTypes[0]['id_metal'], 'zzzzz');
            this.omData['id_old_metal_type'] = this.metalCatTypes.length > 0 ? this.metalCatTypes[0]['id_metal_type'] : '';
            console.log(this.oldfullcategory, 'pppp');
            this.omData['id_metal_type'] = 1;
            console.log(this.omData['id_old_metal_type'], 'oooooo');
            metaltype = this.oldfullcategory.filter(function (i) { return i.id_old_metal_type == _this.omData['id_old_metal_type']; });
            if (metaltype.length != 0) {
                this.get_purity_default(metaltype[0]);
            }
            this.oldcategory = metaltype;
            console.log(this.oldcategory);
            var metaltype1 = this.oldfullrates.filter(function (i) { return i.id_metal == _this.omData['id_category']; });
            console.log(metaltype1);
            if (metaltype1.length != 0) {
                this.oldamount = metaltype1[0].rate;
            }
            else {
                console.log("metal type is empty");
            }
            this.omData['id_old_metal_cat_type'] = this.oldcategory.length > 0 ? this.oldcategory[0]['id_old_metal_cat'] : '';
            console.log(this.omData['id_old_metal_cat_type']);
            console.log('old :', this.oldfullcategory);
            metaltype = this.oldfullcategory.filter(function (i) { return i.id_old_metal_cat == _this.omData['id_old_metal_cat_type']; });
            console.log(metaltype);
            if (metaltype.length != 0) {
                // this.omData['rate'] = this.oldamount - this.oldamount * metaltype[0].old_metal_perc / 100;
                // naveen
            }
            //  let metaltype =  this.oldfullrates.filter((i: any) => i.id_metal == this.omData['id_category']);
            // this.oldrates = metaltype;
            // this.oldcategory = [];
            // this.omData['rate']  = 0;
        }
        else if (changedInput == 'id_old_metal_type') {
            console.log('id_old_metal_type');
            console.log(this.oldfullcategory);
            console.log(this.omData['id_old_metal_type']);
            var metaltype = this.oldfullcategory.filter(function (i) { return i.id_old_metal_type == _this.omData['id_old_metal_type']; });
            this.oldcategory = metaltype;
            console.log(this.oldcategory);
            var metaltype1 = this.oldfullrates.filter(function (i) { return i.id_metal == _this.omData['id_category']; });
            if (metaltype1.length != 0) {
                this.oldamount = metaltype1[0].rate;
            }
            else {
                console.log("metal type is empty");
            }
            // this.oldamount = metaltype1[0].rate;
            console.log(this.oldamount);
            console.log(this.omData['id_old_metal_cat_type']);
        }
        else if (changedInput == 'id_old_metal_cat_type') {
            console.log('id_old_metal_cat_type');
            console.log(this.omData, 'ondata');
            console.log(this.omData['id_old_metal_cat_type']);
            console.log(this.oldfullcategory);
            var metaltype = this.oldfullcategory.filter(function (i) { return i.id_old_metal_cat == _this.omData['id_old_metal_cat_type']; });
            console.log(metaltype, 'metal type');
            if (metaltype.length != 0) {
                this.get_purity_default(metaltype[0]);
                // this.omData['rate'] = this.oldamount - this.oldamount * metaltype[0].old_metal_perc / 100;
                // naveen
            }
            //  this.omData['rate'] = Math.round(Math.ceil(this.omData['rate']/10))*10 ;
            console.log(this.omData['rate']);
        }
        else if (changedInput == 'id_purpose') {
            console.log('id_purpose');
            this.omData['purpose'] = (this.omData['id_purpose'] == 1 ? "Cash" : "Exchange");
        }
        else if (changedInput == 'touch') {
            console.log('touch');
            console.log(parseFloat(this.omData['touch']) <= 100);
            if (parseFloat(this.omData['touch']) <= 100) {
                this.errorMsg = '';
            }
            else if (parseFloat(this.omData['touch']) > 100) {
                this.omData['touch'] = '100';
                // this.errorMsg = "Please Enter Lessthan 100%";
            }
        }
        // console.log(this.omData['rate'])
        // if(changedInput == 'stone')
        // {
        var stData = this.calcStoneDetail();
        // this.omData['other_stone_wt'] = stData['stone_wt'];
        // this.omData['other_stone_price'] = stData['stone_price'];
        this.omData['stone_price'] = stData['stone_price'];
        this.omData['stone_details'] = this.stone_details;
        this.omData['stone_wt'] = stData['stone_wt'];
        this.omData['other_stone_wt'] = stData['stone_wt'];
        this.omData['other_stone_price'] = stData['stone_price'];
        // }
        this.omData['stone_details'] = this.stone_details;
        var gross_wt = this.retail.setAsNumber(this.omData['gross_wt']);
        var dust_wt = this.retail.setAsNumber(this.omData['dust_wt']);
        var stone_wt = this.retail.setAsNumber(this.omData['stone_wt']);
        var other_stone_wt = this.retail.setAsNumber(this.omData['other_stone_wt']);
        var other_stone_price = this.retail.setAsNumber(this.omData['other_stone_price']);
        // let rate_per_grm: any = this.retail.setAsNumber(this.omData['rate']);
        var rate_per_grm;
        console.log(this.omData, 'omdata');
        if (!this.mr) {
            if (this.omData['id_category'] == '1') {
                if (this.omData['purity'] == "75.00") {
                    rate_per_grm = this.retail.setAsNumber(this.metalRate['goldrate_18ct']);
                    console.log(rate_per_grm, 'rate');
                }
                else {
                    rate_per_grm = this.retail.setAsNumber(this.metalRate['goldrate_22ct']);
                    console.log(rate_per_grm, 'rate');
                }
            }
            else if (this.omData['id_category'] == '2') {
                rate_per_grm = this.retail.setAsNumber(this.metalRate['silverrate_1gm']);
            }
            else if (this.omData['id_category'] == '3') {
                rate_per_grm = this.retail.setAsNumber(this.metalRate['platinum_1g']);
            }
            this.omData['rate'] = rate_per_grm;
        }
        else {
            rate_per_grm = this.omData['rate'];
        }
        var wast_wgt = this.retail.setAsNumber(this.omData['wastage_wt']);
        var wast_percent = this.retail.setAsNumber(this.omData['wastage']);
        var net_wt = parseFloat(((gross_wt) - (dust_wt) - (other_stone_wt)).toFixed(3));
        console.log(net_wt);
        if (changedInput == 'wastage_wt') {
            // let net_wt 			= parseFloat(((gross_wt) - (dust_wt) - (stone_wt) - (other_stone_wt) - (wast_wgt)).toFixed(3));
            //let wast_percent= ((net_wt * (wast_wgt / 100)));
            var wast_percent_2 = parseFloat((((wast_wgt) * 100) / net_wt).toFixed(3));
            this.omData['wastage'] = wast_percent_2;
            net_wt = parseFloat(((gross_wt) - (dust_wt) - (other_stone_wt) - (wast_wgt)).toFixed(3));
            var amount = Math.round((net_wt * rate_per_grm) + (other_stone_price));
            this.omData['net_wt'] = net_wt;
            // amount = parseFloat(net_wt) * parseFloat(this.omData['touch']) / 100 * parseFloat(rate_per_grm);
            amount = parseFloat(net_wt) * parseFloat(this.omData['touch']) / 100 * parseFloat(rate_per_grm) + (other_stone_price);
            this.omData['amount'] = amount.toFixed(2);
            this.omData['amount'] = amount;
        }
        else {
            var wast_wgt_2 = parseFloat((net_wt * (wast_percent / 100)).toFixed(3));
            this.omData['wastage_wt'] = wast_wgt_2;
            console.log(this.omData['wastage']);
            net_wt = parseFloat(((gross_wt) - (dust_wt) - (other_stone_wt) - (wast_wgt_2)).toFixed(3));
            var amount = Math.round((net_wt * rate_per_grm) + (other_stone_price));
            this.omData['net_wt'] = net_wt;
            amount = parseFloat(net_wt) * parseFloat(this.omData['touch']) / 100 * parseFloat(rate_per_grm) + (other_stone_price);
            this.omData['amount'] = amount.toFixed(2);
        }
        // else{
        //   net_wt 			= parseFloat(((gross_wt) - (dust_wt) - (stone_wt) - (other_stone_wt) - (wast_wgt)).toFixed(3));
        //   let amount 	= Math.round((net_wt*rate_per_grm)+(other_stone_price));
        //   this.omData['net_wt']  = net_wt;
        //   this.omData['amount']  = amount;
        // }
        console.log(this.omData);
    };
    // ./Old Metal
    AddEstiItemPage.prototype.addother = function () {
        var _this = this;
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_6__other_other__["a" /* OtherPage */], { "stoneMasData": this.stoneMasData, "action": "add", "other_metal": this.other });
        modal.present();
        modal.onDidDismiss(function (data) {
            if (data != null) {
                console.log('stone : ', data);
                _this.tagData['othermetal_details'] = data;
                _this.other = data;
                _this.tagData['othermetal_charges'] = 0;
                data.forEach(function (element) {
                    _this.tagData['othermetal_charges'] += element['price'];
                });
                _this.calcSaleValue('');
                console.log(data);
            }
        });
    };
    // Stone Details
    AddEstiItemPage.prototype.addStone = function () {
        var _this = this;
        var gross = 0;
        if (this.item_type == 'old_metal') {
            gross = this.omData['gross_wt'];
        }
        else if (this.item_type == 'non_tag') {
            gross = this.ntData['gross_wt'];
        }
        else if (this.item_type == 'home_bill') {
            gross = this.hbData['gross_wt'];
        }
        else if (this.item_type == 'tag') {
            gross = this.tagData['gross_wt'];
        }
        console.log('addStone : ', this.stone_details);
        // if(this.initial == true){
        //   console.log('add true :  ');
        //   var temp = JSON.parse(localStorage.getItem('actualTag'));
        //   console.log('tempp: ', temp[0]);
        //   this.tagData = Object.assign({}, temp[0]);
        //   this.stone_details = this.tagData.hasOwnProperty('stone_details') ? this.tagData['stone_details'] : [];
        //   console.log(this.stone_details);
        //   //this.tagData['stone_details'] = this.stone_details;
        // }else{
        //   console.log('add else : ');
        //   this.tagData['stone_details'] = this.stone_details;
        //   console.log(this.tagData['stone_details']);
        // }
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_5__modal_add_stone_detail_add_stone_detail__["a" /* AddStoneDetailPage */], { "tagData": this.tagData, "stoneMasData": this.stoneMasData, "action": "add", "stone_details": JSON.parse(JSON.stringify(this.stone_details)), "ptype": this.item_type, 'gross': gross, "stoneMasTypes": this.stoneMasTypes, "is_partial": this.hbData['is_partly_sold'] });
        modal.present();
        modal.onDidDismiss(function (data) {
            console.log(data, 'modal dataaaaaaaaaaaaaa');
            console.log(_this.tagData, 'tag data');
            console.log(_this.stone_details, 'stone');
            if (data != null) {
                _this.stone_details = data['data'];
                _this.old_stone_settings = data['old_stone_settings'];
                console.log(data);
                console.log(_this.stone_details);
                // Remove the old 'tag_data'
                // let freshData = JSON.parse(JSON.stringify(this.tagData));
                // localStorage.setItem('tag_data', JSON.stringify(freshData));
                // this.tagData = JSON.parse(localStorage.getItem('tag_data') || '[]');
                //       console.log(this.tagData,'tag data');
                if (_this.item_type == 'old_metal') {
                    _this.calcOldmetalValue('');
                }
                else if (_this.item_type == 'home_bill') {
                    _this.hbData['stone_details'] = _this.stone_details;
                    _this.calcSaleValue('');
                }
                else if (_this.item_type == 'non_tag') {
                    _this.ntData['stone_details'] = _this.stone_details;
                    _this.calcSaleValue('');
                }
                else if (_this.item_type == 'tag') {
                    // this.hbData['stone_details'] = this.stone_details;
                    _this.calcSaleValue('');
                    console.log(_this.tagData, 'tag data');
                }
                console.log(data);
            }
            else {
                // naveen
                // var temp = JSON.parse(localStorage.getItem('actualTag'));
                // console.log('tempp: ', temp);
                // this.tagData = Object.assign({}, this.tagData);
                // this.stone_details = this.tagData.hasOwnProperty('stone_details') ? this.tagData['stone_details'] : [];
                // console.log(this.stone_details);
                // this.initial = true;
                // console.log('clear 1 : ',JSON.parse(localStorage.getItem('tag_data')));
                // // let tempesti = JSON.parse(localStorage.getItem('tag_data'));
                // //   this.tagData = Object.assign({}, tempesti);
                // this.stone_details = this.tagData['stone_details'];
                // this.calcSaleValue('');
                // this.stone_details = this.tagData.hasOwnProperty('stone_details') ? this.tagData['stone_details'] : [];
                // console.log(this.stone_details,'stone');
            }
        });
        /*let addRow = true;
        this.stone_details.forEach( i => {
          if(i['stone_id'] == ''){
            addRow = false;
          }
        })
        if(addRow){
          this.stone_details.push({"stone_id" : "", "stone_pcs" : "1", "stone_wt" : "0", "st_price" : "0"});
        }
        else{
          setTimeout(()=>{
            this.stnErrMsg = "Invalid stone detail..";
          },this.common.msgTimeout);
        }
        console.log(this.stone_details) ;*/
    };
    AddEstiItemPage.prototype.deleteStone = function (idx) {
        this.stone_details.splice(idx, 1);
        this.calcOldmetalValue('stone');
    };
    // ./Stone Details
    /*getCatPurities(id_category){
      let loader = this.load.create({
        content: 'Please Wait',
        spinner: 'bubbles',
      });
      loader.present();
      this.retail.getCatPurities(postData).then(data=>{
        loader.dismiss();
      })
    }*/
    AddEstiItemPage.prototype.ionViewDidLoad = function () {
    };
    AddEstiItemPage.prototype.next = function (data) {
        this.homeback = data;
        this.content.scrollToTop();
    };
    AddEstiItemPage.prototype.back = function (data) {
        this.homeback = data;
        this.content.scrollToTop();
    };
    AddEstiItemPage.prototype.oldnext = function (data) {
        this.oldback = data;
        this.content.scrollToTop();
    };
    AddEstiItemPage.prototype.oback = function (data) {
        this.oldback = data;
        this.content.scrollToTop();
    };
    AddEstiItemPage.prototype.nnext = function (data) {
        this.nonback = data;
        this.content.scrollToTop();
    };
    AddEstiItemPage.prototype.nback = function (data) {
        this.nonback = data;
        this.content.scrollToTop();
    };
    AddEstiItemPage.prototype.checkingtagretail_max_wastage_percent = function () {
        this.tagData['retail_max_wastage_percent'] = this.tagData['retail_max_wastage_percent'] < 0 ? 0 : this.tagData['retail_max_wastage_percent'];
        console.log(this.tagData['retail_max_wastage_percent']);
        if (parseInt(this.tagData['retail_max_wastage_percent']) > 100) {
            this.cd.detectChanges();
            this.tagData['retail_max_wastage_percent'] = '';
            this.tagData['wastage_wt'] = '';
            this.cd.detectChanges();
            this.content.resize();
            this.calcSaleValue('');
        }
        else {
            this.calcSaleValue('');
        }
    };
    AddEstiItemPage.prototype.checkingtagless_wt = function () {
        console.log(parseInt(this.tagData['less_wt']) > parseInt(this.tagData['net_wt']));
        if (parseInt(this.tagData['less_wt']) > parseInt(this.tagData['net_wt'])) {
            this.cd.detectChanges();
            this.tagData['less_wt'] = '';
            this.cd.detectChanges();
            this.content.resize();
            this.calcSaleValue('');
        }
        else {
            this.calcSaleValue('');
        }
    };
    AddEstiItemPage.prototype.checkingnonless_wt = function () {
        var _this = this;
        this.ntData['less_wt'] = this.ntData['less_wt'] < 0 ? 0 : this.ntData['less_wt'];
        console.log(parseInt(this.ntData['less_wt']) > parseInt(this.ntData['net_wt']));
        if (parseInt(this.ntData['less_wt']) > parseInt(this.ntData['net_wt'])) {
            this.cd.detectChanges();
            this.ntData['less_wt'] = '';
            this.cd.detectChanges();
            setTimeout(function () {
                _this.cd.detectChanges();
                _this.ntData['less_wt'] = '';
                _this.cd.detectChanges();
            }, 100);
            this.content.resize();
            this.calcSaleValue('');
        }
        else {
            this.calcSaleValue('');
        }
    };
    AddEstiItemPage.prototype.checkingnonretail_max_wastage_percent = function () {
        var _this = this;
        this.ntData['retail_max_wastage_percent'] = this.ntData['retail_max_wastage_percent'] < 0 ? 0 : this.ntData['retail_max_wastage_percent'];
        if (parseInt(this.ntData['retail_max_wastage_percent']) > 100) {
            this.cd.detectChanges();
            this.ntData['retail_max_wastage_percent'] = '';
            this.ntData['wast_wgt'] = '';
            this.cd.detectChanges();
            setTimeout(function () {
                _this.cd.detectChanges();
                _this.ntData['retail_max_wastage_percent'] = '';
                _this.ntData['wast_wgt'] = '';
                _this.cd.detectChanges();
            }, 100);
            this.content.resize();
            this.calcSaleValue('wast');
        }
        else {
            this.calcSaleValue('wast');
        }
    };
    AddEstiItemPage.prototype.checkingnonwast_wgt = function () {
        var _this = this;
        this.ntData['wast_wgt'] = this.ntData['wast_wgt'] < 0 ? 0 : this.ntData['wast_wgt'];
        if (parseInt(this.ntData['wast_wgt']) > parseInt(this.ntData['net_wt'])) {
            this.cd.detectChanges();
            this.ntData['retail_max_wastage_percent'] = '';
            this.ntData['wast_wgt'] = '';
            this.cd.detectChanges();
            setTimeout(function () {
                _this.cd.detectChanges();
                _this.ntData['retail_max_wastage_percent'] = '';
                _this.ntData['wast_wgt'] = '';
                _this.cd.detectChanges();
            }, 100);
            this.content.resize();
            this.calcSaleValue('wastage_wt');
        }
        else {
            this.calcSaleValue('wastage_wt');
        }
    };
    AddEstiItemPage.prototype.checkinghome = function () {
        var _this = this;
        console.log(this.hbData['wast_wgt']);
        console.log(parseInt(this.hbData['net_wt']));
        if (parseInt(this.hbData['wast_wgt']) > parseInt(this.hbData['net_wt'])) {
            console.log('if1');
            this.cd.detectChanges();
            this.hbData['retail_max_wastage_percent'] = '';
            this.hbData['wast_wgt'] = '';
            this.cd.detectChanges();
            setTimeout(function () {
                _this.cd.detectChanges();
                _this.hbData['retail_max_wastage_percent'] = '';
                _this.hbData['wast_wgt'] = '';
                _this.cd.detectChanges();
            }, 100);
            this.content.resize();
            this.calcSaleValue('');
        }
        if (parseInt(this.hbData['retail_max_wastage_percent']) > 100) {
            console.log('if2');
            this.cd.detectChanges();
            this.hbData['retail_max_wastage_percent'] = '';
            this.hbData['wast_wgt'] = '';
            this.cd.detectChanges();
            setTimeout(function () {
                _this.cd.detectChanges();
                _this.hbData['retail_max_wastage_percent'] = '';
                _this.hbData['wast_wgt'] = '';
                _this.cd.detectChanges();
            }, 100);
            this.content.resize();
            this.calcSaleValue('');
        }
    };
    AddEstiItemPage.prototype.checkingwastage = function () {
        var _this = this;
        this.omData['wastage'] = this.omData['wastage'] < 0 ? 0 : this.omData['wastage'];
        if (parseInt(this.omData['wastage']) > 100) {
            this.cd.detectChanges();
            this.omData['wastage'] = '';
            this.omData['wastage_wt'] = '';
            this.cd.detectChanges();
            setTimeout(function () {
                _this.cd.detectChanges();
                _this.omData['wastage'] = '';
                _this.omData['wastage_wt'] = '';
                _this.cd.detectChanges();
            }, 100);
            this.content.resize();
            this.calcOldmetalValue('wastage');
        }
        else {
            this.calcOldmetalValue('wastage');
        }
    };
    AddEstiItemPage.prototype.checkingwastage_wt = function () {
        var _this = this;
        this.omData['wastage_wt'] = this.omData['wastage_wt'] < 0 ? 0 : this.omData['wastage_wt'];
        if (parseInt(this.omData['wastage_wt']) > parseInt(this.omData['net_wt'])) {
            this.cd.detectChanges();
            this.omData['wastage'] = '';
            this.omData['wastage_wt'] = '';
            this.cd.detectChanges();
            setTimeout(function () {
                _this.cd.detectChanges();
                _this.omData['wastage'] = '';
                _this.omData['wastage_wt'] = '';
                _this.cd.detectChanges();
            }, 100);
            this.content.resize();
            this.calcOldmetalValue('wastage_wt');
        }
        else {
            this.calcOldmetalValue('wastage_wt');
        }
    };
    AddEstiItemPage.prototype.checkingstone_wt = function () {
        var _this = this;
        if (parseInt(this.omData['stone_wt']) > parseInt(this.omData['net_wt'])) {
            this.cd.detectChanges();
            this.omData['stone_wt'] = '';
            this.cd.detectChanges();
            setTimeout(function () {
                _this.cd.detectChanges();
                _this.omData['stone_wt'] = '';
                _this.cd.detectChanges();
            }, 100);
            this.content.resize();
            this.calcOldmetalValue('stone_wt');
        }
        else {
            this.calcOldmetalValue('stone_wt');
        }
    };
    AddEstiItemPage.prototype.checkingdust_wt = function () {
        var _this = this;
        this.omData['dust_wt'] = this.omData['dust_wt'] < 0 ? 0 : this.omData['dust_wt'];
        console.log(parseInt(this.omData['dust_wt']) > parseInt(this.omData['net_wt']));
        if (parseInt(this.omData['dust_wt']) > parseInt(this.omData['net_wt'])) {
            this.cd.detectChanges();
            this.omData['dust_wt'] = '';
            this.cd.detectChanges();
            setTimeout(function () {
                _this.cd.detectChanges();
                _this.omData['dust_wt'] = '';
                _this.cd.detectChanges();
            }, 100);
            this.content.resize();
            this.calcOldmetalValue('dust_wt');
        }
        else {
            this.calcOldmetalValue('dust_wt');
        }
    };
    AddEstiItemPage.prototype.oldsubdesign = function () {
        var _this = this;
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_8__mass3_mass3__["a" /* Mass3Page */]);
        modal.present();
        modal.onDidDismiss(function (data) {
            if (data != null) {
                _this.omData['old_metal_prod_id'] = data['old_metal_prod_id'];
                _this.omData['old_metal_prod_name'] = data['old_metal_prod_name'];
            }
        });
    };
    AddEstiItemPage.prototype.ntsubdesign = function (id_design) {
        var _this = this;
        // if (nt_item.design == id_design.design_no && nt_item.pro_id == id_design.pro_id)
        // this.ntData['design_no'] = id_design.design_no;
        // this.ntData['design'] = id_design.design_name;
        console.log('design_no  :', this.ntData['design_no']);
        console.log('designs : ', this.ntData['design']);
        var set_design = this.ntData['design'];
        var sub_design = id_design;
        console.log(id_design.id_section);
        console.log('sundesigna choose : ', this.id_section);
        this.selectedNTStock = [];
        this.ntData['mc_type'] = '2';
        this.ntData['stone_details'] = [];
        console.log(this.nonTagStock1);
        this.nonTagStock1['nt_items'].forEach(function (nt_item) {
            // console.log('1 : ',nt_item.design);
            // console.log('2 : ',id_design.design_no);
            // console.log('3 :',nt_item.pro_id);
            // console.log('4 : ',id_design.pro_id);
            if (nt_item.design == id_design.design_no && nt_item.pro_id == id_design.pro_id && nt_item.id_sub_design == id_design.id_sub_design && nt_item.id_section == _this.id_section) {
                console.log(nt_item, '00000000000');
                console.log('designs : ', _this.ntData['design']);
                _this.selectedNTStock['AVgross_wt'] = nt_item['AVgross_wt'];
                console.log('selectedNTStock : ', _this.selectedNTStock['AVgross_wt']);
                _this.selectedNTStock['gross_wt'] = nt_item['AVgross_wt'];
                _this.selectedNTStock['less_wt'] = nt_item.less_wt;
                _this.selectedNTStock['net_wt'] = nt_item.net_wt;
                _this.selectedNTStock['piece'] = nt_item.piece;
                nt_item.product_name = (nt_item.parent_prods_name != null ? nt_item.parent_prods_name + ',' + nt_item.product_name : nt_item.product_name);
                // this.ntData = nt_item;
                // this.ntData['design'] = nt_item.design_name
                _this.ntData['pro_id'] = nt_item.pro_id;
                console.log(_this.ntData['design'], '999999999999999');
                _this.ntData['design_no'] = nt_item.design;
                _this.ntData['AVgross_wt'] = nt_item.AVgross_wt;
                console.log('AVgross_wt', _this.ntData['AVgross_wt']);
                // naveen1
                _this.ntData['design'] = set_design;
                _this.ntData['sub_design'] = sub_design;
                _this.selectedNTStock['AVpiece'] = nt_item['AVpiece'];
                _this.selectedNTStock['AVpieces'] = nt_item['AVpiece'];
                _this.ntData['id_section'] = _this.id_section;
                _this.ntData['section_name'] = _this.section_name;
                _this.ntData['market_metal_type'] = nt_item['market_metal_type'];
                _this.ntData['metal_name'] = nt_item['metal_name'];
                _this.ntData['metal_type'] = nt_item['metal_type'];
                _this.ntData['calculation_based_on'] = nt_item['calculation_based_on'];
                _this.ntData['tax_group_id'] = nt_item['tax_group_id'];
                _this.ntData['id_nontag_item'] = nt_item['id_nontag_item'];
                console.log('this.ntData nontag : ', _this.ntData['id_nontag_item']);
                if (parseFloat(nt_item.gross_wt) == 0) {
                    _this.errorMsg = "Requested item is currently Out of Stock!!";
                    _this.msg = "";
                    setTimeout(function () {
                        _this.errorMsg = "";
                    }, _this.common.msgTimeout);
                }
                if (parseFloat(nt_item.gross_wt) > 0) {
                    _this.ntData['gross_wt'] = "";
                    _this.ntData['less_wt'] = "";
                    _this.ntData['net_wt'] = "";
                    _this.ntData['piece'] = 1;
                    _this.ntData['size'] = '';
                    _this.ntData['purname'] = '';
                }
                console.log(_this.ntData);
            }
        });
        console.log(this.ntData['sub_design_name'], 'sub design');
        // let modal = this.modal.create(Mass2Page)
        // modal.present();
        // modal.onDidDismiss(data => {
        //   if (data != null) {
        //     this.ntData['sub_design_name'] = data['label'];
        //     this.ntData['sub_design_id'] = data['value'];
        //   }
        // });
    };
    AddEstiItemPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    AddEstiItemPage.prototype.ionViewWillEnter = function () {
        this.events.publish('entered', true);
        this.events.publish('pageno', 1);
    };
    AddEstiItemPage.prototype.addcharge = function () {
        var _this = this;
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_7__charges_charges__["a" /* ChargesPage */], { "stoneMasData": this.stoneMasData, "action": "add", "stone_details": this.charges, "ptype": 'pro', 'gross': '' });
        modal.present();
        modal.onDidDismiss(function (data) {
            if (data != null) {
                _this.charges = data;
                _this.hbData['charges'] = _this.charges;
                if (_this.charges.length != 0) {
                    _this.hbData['charge_value'] = 0;
                    _this.charges.forEach(function (tag) {
                        _this.hbData['charge_value'] = Number(_this.hbData['charge_value']) + Number(tag.charge_value);
                    });
                    _this.calcSaleValue('');
                }
            }
        });
    };
    AddEstiItemPage.prototype.calculatecus = function () {
        var max_tol = this.pro_metal_type == '1' || this.tagData['id_metal'] == '1' ? parseFloat(this.empData['emp_setting']['max_gold_tol']) : parseFloat(this.empData['emp_setting']['max_silver_tol']);
        var min_tol = this.pro_metal_type == '1' || this.tagData['id_metal'] == '1' ? parseFloat(this.empData['emp_setting']['min_gold_tol']) : parseFloat(this.empData['emp_setting']['min_silver_tol']);
        if (this.item_type == 'tag') {
            this.tagData['metalratec'] = 'true';
            var metal_rate = parseFloat(this.metalRate[this.tagData['metal_type']]);
            var max_metal_val = metal_rate + (metal_rate * max_tol / 100);
            var min_metal_value = metal_rate - (metal_rate * min_tol / 100);
            var rate_per = parseFloat(this.tagData['rate_per']);
            console.log(max_metal_val);
            console.log(min_metal_value);
            if (rate_per >= min_metal_value && rate_per <= max_metal_val) {
                this.terrorMsg = '';
                this.calcSaleValue(this.item_type);
            }
            else {
                this.terrorMsg = "Please Enter Valid Metal Rate";
            }
        }
        else if (this.item_type == 'non_tag') {
            this.ntData['metalratec'] = 'true';
            var metal_rate = parseFloat(this.metalRate[this.ntData['metal_type']]);
            var max_metal_val = metal_rate + (metal_rate * max_tol / 100);
            var min_metal_value = metal_rate - (metal_rate * min_tol / 100);
            var rate_per = parseFloat(this.ntData['rate_per']);
            console.log(max_metal_val);
            console.log(min_metal_value);
            if (rate_per >= min_metal_value && rate_per <= max_metal_val) {
                this.metal_error_msg = '';
                this.calcSaleValue(this.item_type);
            }
            else {
                this.metal_error_msg = "Please Enter Valid Metal Rate";
            }
        }
        else if (this.item_type == 'home_bill') {
            this.hbData['metalratec'] = 'true';
            var metal_rate = parseFloat(this.metalRate[this.hbData['metal_type']]);
            var max_metal_val = metal_rate + (metal_rate * max_tol / 100);
            var min_metal_value = metal_rate - (metal_rate * min_tol / 100);
            var rate_per = parseFloat(this.hbData['rate_per']);
            console.log(max_metal_val);
            console.log(min_metal_value);
            if (rate_per >= min_metal_value && rate_per <= max_metal_val) {
                this.metal_error_msg = '';
                this.calcSaleValue(this.item_type);
            }
            else {
                this.metal_error_msg = "Please Enter Valid Metal Rate";
            }
        }
    };
    AddEstiItemPage.prototype.onKeyUp = function (event) {
        // let newValue = event.target.value;
        // const charCode = (event.which) ? event.which : event.keyCode;
        // console.log(charCode)
        // console.log(newValue)
        // console.log(event)
        // console.log(event.key)
        // if (charCode > 31 && (charCode < 48 || charCode > 57)) {
        //   event.target.value = newValue.slice(0, -1);
        //   return false;
        // }
        // return true;
        this.selectedNTStock['AVpieces'] = this.selectedNTStock['AVpiece'] - this.ntData['piece'];
        this.selectedNTStock['AVpieces'] = this.selectedNTStock['AVpieces'] < 0 ? 0 : this.selectedNTStock['AVpieces'];
        // this.ntData['piece'] = this.selectedNTStock['AVpiece'] < this.ntData['piece'] ? this.selectedNTStock['AVpiece'] : this.ntData['piece'];
        // if (parseFloat(this.selectedNTStock['AVpiece']) > parseFloat(this.ntData['piece'])) {
        //    this.ntData['piece'] = this.selectedNTStock['AVpiece'];
        // }
    };
    AddEstiItemPage.prototype.non_pcs = function () {
        this.selectedNTStock['AVpieces'] = this.selectedNTStock['AVpiece'] - this.ntData['piece'];
        this.selectedNTStock['AVpieces'] = this.selectedNTStock['AVpieces'] < 0 ? 0 : this.selectedNTStock['AVpieces'];
        // this.ntData['piece'] = this.selectedNTStock['AVpiece'] < this.ntData['piece'] ? this.selectedNTStock['AVpiece'] : this.ntData['piece'];
        if (parseFloat(this.selectedNTStock['AVpiece']) < parseFloat(this.ntData['piece'])) {
            this.ntData['piece'] = this.selectedNTStock['AVpiece'];
        }
    };
    // purcheck() {
    // this.omData['purity'] = isNaN(parseFloat(this.omData['purity'])) || this.omData['purity'] < 0 || this.omData['purity'] > 100? 0 : parseFloat(this.omData['purity']);
    //     this.omData['wastage'] = !this.purity_show? (100 - parseFloat(this.omData['purity'])).toFixed(2):0;
    //     console.log(this.omData['wastage'],'wast');
    //   // if (this.omData['id_category'] == '2') {
    //   //   this.omData['wastage'] = 0 // 100 - this.omData['purity'];
    //   //   this.checkingwastage();
    //   // }
    //    let purity = Number(this.omData['purity']); // convert to number safely
    // // if (purity < 100) {
    // //   // Option 1: Reset to 10
    // //   this.omData['purity'] = 100;
    // //   // Option 2: Show alert/toast
    // //   let toast = this.toast.create({
    // //     message: "please enter valid purity",
    // //     duration: 2000,
    // //     position: "bottom"
    // //   });
    // //   toast.present();
    // // }
    // }
    AddEstiItemPage.prototype.purcheck = function () {
        this.omData['purity'] = this.omData['purity'] < 0 ? 0 : this.omData['purity'];
        if (this.omData['id_category'] == '2') {
            this.omData['wastage'] = 100 - this.omData['purity'];
            this.checkingwastage();
        }
    };
    AddEstiItemPage.prototype.mobonKeyUp = function (event) {
        var NUMBER_REGEXP = /^[0-9]*$/;
        var newValue = event.target.value;
        var regExp = new RegExp(NUMBER_REGEXP);
        if (!regExp.test(newValue)) {
            event.target.value = newValue.slice(0, -1);
            return true;
        }
        else {
            return false;
        }
    };
    AddEstiItemPage.prototype.hbgross = function () {
        this.calcSaleValue('hbgross');
    };
    AddEstiItemPage.prototype.non_gross = function () {
        var _this = this;
        this.common.getset({
            "id_product": this.ntData['pro_id'],
            "id_design": this.ntData['design']['design_no'],
            "id_sub_design": this.ntData['sub_design_id'],
            "gross_wt": this.ntData['gross_wt'],
            "type": 2,
            "lot_no": "",
            "id_branch": this.id_branch
        }).then(function (data) {
            console.log(data, '9999999999999');
            _this.ntData['checkwas'] = data['data']['wastag_min'];
            _this.ntData['mc_min'] = data['data']['mc_min'];
            if (_this.ntData['mc_min'] != undefined) {
                _this.show_mc = true;
            }
            _this.calcSaleValue('gross');
        });
    };
    AddEstiItemPage.prototype.get_purity_default = function (data) {
        if (data['id_old_metal_cat'] == 39 || data['id_old_metal_cat'] == 37) {
            this.purity_show = true;
            this.omData['purity'] = data.id_old_metal_cat == 39 ? '75.00' : '91.60';
            this.omData['wastage'] = 0;
            console.log(this.omData['wastage'], 'wastage');
        }
        else {
            this.omData['purity'] = '';
            this.purity_show = false;
        }
    };
    AddEstiItemPage.prototype.calc_taxable_amount = function (data) {
        var itemData = data.itemData;
        this.hbData['sales_value'] = 0;
        if (itemData['tax_type'] == 1) {
            var tax_rate = this.calculate_inclusive_value_tax(itemData['taxable'], itemData['tax_group_id']);
            console.log(tax_rate, 'tax rate ');
            this.hbData['tax_price'] = parseFloat(tax_rate).toFixed(2);
            this.hbData['sales_value'] = parseFloat(this.amt_without_gst).toFixed(2);
        }
        else {
            var tax_rate = this.calculate_exclusive_value_tax(itemData['taxable'], itemData['tax_group_id']);
            console.log(tax_rate, 'tax rate ');
            this.hbData['tax_price'] = parseFloat(tax_rate).toFixed(2);
            this.hbData['sales_value'] = (parseFloat(itemData['taxable']) + parseFloat(tax_rate)).toFixed(2);
        }
        console.log(this.hbData['tax_price'], "tax price");
        console.log(this.hbData['sales_value'], "tax price");
    };
    AddEstiItemPage.prototype.calculate_exclusive_value_tax = function (taxcallrate, taxgroup) {
        var totaltax = 0;
        console.log(taxcallrate, 'cal rate');
        console.log(taxgroup, 'cal rate');
        this.tax_details.forEach(function (taxitem) {
            if (taxitem.tgi_tgrpcode == taxgroup) {
                if (taxitem.tgi_calculation == 1) {
                    if (taxitem.tgi_type == '1') {
                        totaltax += (taxcallrate) * ((taxitem.tax_percentage) / 100);
                        console.log(totaltax, 'total tax');
                    }
                    else {
                        totaltax -= (taxcallrate) * ((taxitem.tax_percentage) / 100);
                    }
                }
            }
        });
        return totaltax;
    };
    AddEstiItemPage.prototype.calculate_inclusive_value_tax = function (taxcallrate, taxgroup) {
        var _this = this;
        var totaltax = 0;
        this.amt_without_gst = 0;
        this.tax_details.forEach(function (taxitem) {
            if (taxitem.tgi_tgrpcode == taxgroup) {
                if (taxitem.tgi_calculation == 1) {
                    if (taxitem.tgi_type == '1') {
                        var rate = parseFloat(taxcallrate) || 0;
                        var taxPercent = parseFloat(taxitem.tax_percentage) || 0;
                        _this.amt_without_gst = (rate * 100) / (100 + taxPercent);
                        totaltax = rate - _this.amt_without_gst;
                        console.log(totaltax, 'total tax');
                    }
                }
            }
        });
        return totaltax;
    };
    AddEstiItemPage.prototype.forceMinValue = function () {
        var mcMin = parseFloat(this.tagData['mc_min']) || 0;
        var val = parseFloat(this.tagData['mc_value']) || 0;
        this.terrorMsg = '';
        if (val < mcMin) {
            // this.tagData['mc_value'] = mcMin; // force it back to min
            console.log('1111111111111', this.tagData['mc_value']);
            this.terrorMsg = "Please Enter required MC Value";
        }
        else {
            this.calcSaleValue('');
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_8" /* ViewChild */])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* Content */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* Content */])
    ], AddEstiItemPage.prototype, "content", void 0);
    AddEstiItemPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-add-esti-item',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\modal\add-esti-item\add-esti-item.html"*/'<ion-header>\n  <ion-navbar>\n    <ion-title>\n      Add Item\n    </ion-title>\n    <ion-buttons end >\n        <button  ion-button icon-only (click)="dismiss()">\n            <ion-icon item-right name="ios-close-outline"></ion-icon>\n        </button>\n        <button *ngIf="item_type != \'tag\' && item_type != \'non_tag\' " end ion-button icon-only (click)="clear()"><ion-icon name="trash"></ion-icon></button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content padding>\n  <ion-card class="errorMsg" padding *ngIf="errorMsg">\n    {{errorMsg}}\n  </ion-card>\n  <ion-card class="msg" padding *ngIf="msg">\n    {{msg}}\n  </ion-card>\n  <!-- <div style="text-align: end;">\n    <button style="    height: 32px;\n    border-radius: 6px;\n    width: 77px;" ion-button color="danger" (click)="clear()"><ion-icon name="trash"></ion-icon>Clear</button>\n\n  </div> -->\n\n   <div *ngIf="item_type == \'tag\'">\n     <!-- <ion-row *ngIf="tagData.image != \'\'">\n      <ion-col offset-4 col-4 align="center">\n        <img src="{{tagData.image}}" imageViewer="{{tagData.image}}" onerror="this.onerror=null;this.src=\'assets/no-img.png\';">\n      </ion-col>\n     </ion-row> -->\n     <ion-row>\n      <!-- <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">    -->\n         <!-- <ion-item no-padding>  -->\n            <!-- <ion-label color="label-color" stacked>Tag Code <span class="required">*</span></ion-label>\n            <ion-input type="text" [(ngModel)]="tagData[\'tag_code\']"></ion-input>\n            <button item-right ion-button margin-top color="light" (click)="getTagData(tagData[\'tag_code\'])"><ion-icon name="ios-search"></ion-icon></button> -->\n            <!-- <ion-label style="margin-bottom: 5px;" color="label-color" stacked>Tag Code <span class="required">*</span></ion-label>\n            <div class="row">\n              <div class="col" col-3 style="margin: auto;" >\n                <input  style="    border: 1px solid lightgray;height: 40px;width: -webkit-fill-available;" id="one1" type="text"   [(ngModel)]="tagData[\'tag_code1\']" onKeyPress="if(this.value.length==7) return false;" (ngModelChange)="append()" >\n\n                </div>\n                <div class="col" col-1 style="margin: auto;font-weight: bold;">\n                  <hr>\n                  </div>\n\n                <div class="col" col-6 style="margin: auto;" >\n                  <input  style="    border: 1px solid lightgray;height: 40px;width: -webkit-fill-available;" id="two1" type="number"    [(ngModel)]="tagData[\'tag_code2\']" onKeyPress="if(this.value.length==5) return false;" (ngModelChange)="append()" >\n\n                </div>\n                <div class="col" style="margin: auto;" col-2>\n                  <button style="" item-right ion-button  color="light" (click)="getTagData(tagData[\'tag_code\'])"><ion-icon name="ios-search"></ion-icon></button>\n\n                </div>\n            </div> -->\n            <!-- </ion-item> -->\n      <!-- </ion-col> -->\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col" *ngIf="ret_settings.collections_required == 1">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Collection</ion-label>\n          <ion-input type="text" [(ngModel)]="tagData[\'collection_name\']" readonly></ion-input>\n        </ion-item>\n      </ion-col>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n         <ion-item no-padding>\n           <ion-label color="label-color" stacked>Product</ion-label>\n           <ion-input type="text" [(ngModel)]="tagData[\'product_name\']" readonly></ion-input>\n         </ion-item>\n      </ion-col>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n         <ion-item no-padding>\n           <ion-label color="label-color" stacked>Order No</ion-label>\n           <ion-input type="text" [(ngModel)]="tagData[\'order_no\']" readonly></ion-input>\n         </ion-item>\n      </ion-col>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n         <ion-item no-padding>\n           <ion-label color="label-color" stacked>Purity</ion-label>\n           <ion-input type="number"   [(ngModel)]="tagData[\'purname\']" readonly></ion-input>\n         </ion-item>\n      </ion-col>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n         <ion-item no-padding>\n           <ion-label color="label-color" stacked>Size</ion-label>\n           <ion-input type="text" [(ngModel)]="tagData[\'size\']" readonly></ion-input>\n         </ion-item>\n      </ion-col>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n         <ion-item no-padding>\n           <ion-label color="label-color" stacked>Pieces</ion-label>\n           <ion-input type="number"   [(ngModel)]="tagData[\'piece\']" [readonly]="!tagData[\'is_partial\'] || tagData[\'is_partial\'] == 0"></ion-input>\n         </ion-item>\n      </ion-col>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n         <ion-item  no-lines>\n           <ion-label color="label-color" stacked>Partly Sale <span class="required">*</span></ion-label>\n           <ion-checkbox [ngModel]="tagData.is_partial == 1" (ionChange)="partlySale()"></ion-checkbox>\n         </ion-item>\n      </ion-col>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n         <ion-item no-padding>\n           <ion-label color="label-color" stacked>Gross Wgt(g) <span class="required">*</span></ion-label>\n           <ion-input type="number"   [(ngModel)]="tagData[\'gross_wt\']" (ionChange)="calcSaleValue()" [readonly]="!tagData[\'is_partial\'] || tagData[\'is_partial\'] == 0"></ion-input>\n         </ion-item>\n         <p align="right" *ngIf="tagData[\'is_partial\']" class="input-err">{{tagData[\'actual_gross_wt\']}}</p>\n      </ion-col>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n         <ion-item no-padding>\n          <ion-label color="label-color" stacked>Less Wgt(g)</ion-label>\n          <ion-input type="number"   [(ngModel)]="tagData[\'less_wt\']" (ngModelChange)="checkingtagless_wt()" readonly></ion-input>\n         </ion-item>\n         <p align="right" *ngIf="tagData[\'is_partial\']" class="input-err">{{tagData[\'actual_less_wt\']}}</p>\n      </ion-col>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n         <ion-item no-padding>\n           <ion-label color="label-color" stacked>Net Wgt(g) <span class="required">*</span></ion-label>\n           <ion-input type="number"   [(ngModel)]="tagData[\'net_wt\']" readonly></ion-input>\n         </ion-item>\n         <p align="right" *ngIf="tagData[\'is_partial\']" class="input-err">{{tagData[\'actual_net_wt\']}}</p>\n      </ion-col>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n         <ion-item no-padding>\n           <ion-label color="label-color" stacked>Wast %</ion-label>\n           <ion-input type="number"   [(ngModel)]="tagData[\'retail_max_wastage_percent\']" (ngModelChange)="checkingtagretail_max_wastage_percent()"></ion-input>\n         </ion-item>\n         <p align="right"  class="input-err">Min :{{tagData[\'checkwas\']}}%</p>\n\n      </ion-col>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n         <ion-item no-padding>\n           <ion-label color="label-color" stacked>Wast Wgt(g)</ion-label>\n           <ion-input type="number"   [(ngModel)]="tagData[\'wast_wgt\']" readonly></ion-input>\n         </ion-item>\n      </ion-col>\n      <ion-item *ngIf="empData[\'emp_setting\'][\'allow_manual_rate\'] == \'1\' ">\n        <ion-label style="" color="label-color" stacked>Manual Rate</ion-label>\n        <ion-toggle [(ngModel)]="mr" ></ion-toggle>\n      </ion-item>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Rate()</ion-label>\n          <ion-input type="number"   [readonly]="!mr" [(ngModel)]="tagData[\'rate_per\']" (ngModelChange)="calculatecus()"></ion-input>\n        </ion-item>\n     </ion-col>\n     <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n      <ion-item no-padding>\n        <ion-label color="label-color" stacked>MC Type</ion-label>\n        <ion-select interface="popover" [(ngModel)]="tagData[\'mc_type\']" placeholder="MC Type" (ionChange)="calcSaleValue()">\n          <ion-option [value]="1">Piece</ion-option>\n          <ion-option [value]="2">Gram</ion-option>\n        </ion-select>\n      </ion-item>\n     </ion-col>\n\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n         <ion-item no-padding>\n           <ion-label color="label-color" stacked>MC Value()</ion-label>\n           <ion-input type="number" [(ngModel)]="tagData[\'mc_value\']" \n             \n              (ionChange)="forceMinValue()"\n           ></ion-input>\n         </ion-item>\n         <p align="right"  class="input-err">Min :{{tagData[\'mc_min\']}}</p>\n\n      </ion-col>\n      <!-- <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Charges Amount()</ion-label>\n          <ion-input type="number"   [(ngModel)]="tagData[\'charge_value\']" readonly></ion-input>\n        </ion-item>\n     </ion-col> -->\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n         <ion-item no-padding>\n           <ion-label color="label-color" stacked>Taxable Amount()</ion-label>\n           <ion-input type="number"   [(ngModel)]="tagData[\'taxable\']" readonly></ion-input>\n         </ion-item>\n      </ion-col>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n         <ion-item no-padding>\n           <ion-label color="label-color" stacked>GST()</ion-label>\n           <ion-input type="number"   [(ngModel)]="tagData[\'tax_price\']" readonly></ion-input>\n         </ion-item>\n      </ion-col>\n      <ion-col col-12 col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n         <ion-item no-padding>\n           <ion-label color="label-color" stacked>Amount()</ion-label>\n           <ion-input type="number"   [(ngModel)]="tagData[\'sales_value\']" readonly></ion-input>\n         </ion-item>\n       </ion-col>\n     </ion-row>\n   </div>\n   <div *ngIf="item_type == \'non_tag\'">\n     <ion-row *ngIf="nonback == false">\n\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col" >\n        <ion-item no-padding>\n        <ion-label color="label-color" stacked>Section<span class="required"> *</span></ion-label>\n        <!-- <ion-select [(ngModel)]="ntData[\'id_section\']" placeholder="Section" (ngModelChange)="openMasSearch_nonTag(\'Section\')">\n        <ion-option *ngFor="let c of nontag_sections" [value]="c.id_section">{{c.section_name}}</ion-option>\n        </ion-select> -->\n          <ion-input  type="text" [(ngModel)]="ntData[\'section_name\']" [readonly] (click)="openMasSearch_nonTag(\'Section\')"></ion-input>\n            <button item-right ion-button clear color="dark" class="no-padding no-margin" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n\n        </ion-item>\n        </ion-col>\n\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col" *ngIf="ret_settings.collections_required == 1">\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Collection <span class="required"> *</span></ion-label>\n            <ion-select [(ngModel)]="ntData[\'collection\']" placeholder="Collection" (ionChange)="collectionSelected(ntData[\'collection\'])">\n              <ion-option *ngFor="let c of nonTagStock.collections" [value]="c.id_collection">{{c.collection_name}}</ion-option>\n            </ion-select>\n          </ion-item>\n        </ion-col>\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Product <span class="required"> *</span></ion-label>\n            <!-- <ion-select *ngIf="ret_settings.subproduct_required == 0" [(ngModel)]="ntData[\'pro_id\']" placeholder="Product" (ngModelChange)="openMasSearch_nonTag(\'Product\')">\n              <ion-option *ngFor="let p of products" [value]="p.pro_id">{{p.product_name}}</ion-option>\n            </ion-select> -->\n          <ion-input *ngIf="ret_settings.subproduct_required == 0" type="text" [(ngModel)]="ntData[\'product_name\']" [readonly] (click)="openMasSearch_nonTag(\'Product\')"></ion-input>\n\n\n            <ion-input *ngIf="ret_settings.subproduct_required == 1" type="text" [(ngModel)]="ntData[\'product_name\']" readonly (click)="openMasSearch(\'Product\')"></ion-input>\n            <button  item-right ion-button clear color="dark" class="no-padding no-margin" (click)="openMasSearch(\'Product\')" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n          </ion-item>\n        </ion-col>\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n          <!-- {{designs | json}} -->\n         <ion-item no-padding>\n           <ion-label color="label-color" stacked>Design <span class="required"> *</span></ion-label>\n         \n           <!-- <ion-select [(ngModel)]="ntData[\'design\']" placeholder="Design" (ngModelChange)="openMasSearch_nonTag(\'Design\')">\n             <ion-option *ngFor="let d of designs" [value]="d">{{d.design_name}}</ion-option>\n           </ion-select> -->\n\n          <ion-input  type="text" [(ngModel)]="ntData[\'design_name\']"  [readonly] (click)="openMasSearch_nonTag(\'Design\')"></ion-input>\n            <button item-right ion-button clear color="dark" class="no-padding no-margin" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n\n\n         </ion-item>\n        </ion-col>\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n          <ion-item no-padding>            \n            <ion-label color="label-color" stacked>Sub Design <span class="required"> *</span></ion-label>\n\n          <ion-input  type="text" [(ngModel)]="ntData[\'sub_design_name\']" [readonly] (click)="openMasSearch_nonTag(\'subDesign\')"></ion-input>\n            <button item-right ion-button clear color="dark" class="no-padding no-margin" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n\n\n            <!-- <ion-select [(ngModel)]="ntData[\'sub_design\']" placeholder="Sub Design" (ngModelChange)="openMasSearch_nonTag(\'subDesign\')">\n              <ion-option *ngFor="let d of sub_designs" [value]="d">{{d.sub_design_name}}</ion-option>\n            </ion-select> -->\n            <!-- <ion-input  type="text" [(ngModel)]="ntData[\'sub_design_name\']" [readonly] (click)="ntsubdesign()"></ion-input>\n            <button  item-right ion-button clear color="dark" class="no-padding no-margin" (click)="ntsubdesign()" ><ion-icon name="arrow-dropdown"></ion-icon></button> -->\n          </ion-item>\n        </ion-col>\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Purity</ion-label>\n            <ion-input  type="text" [(ngModel)]="ntData[\'purname\']" [readonly] (click)="opennon()"></ion-input>\n            <button item-right ion-button clear color="dark" class="no-padding no-margin" (click)="opennon()" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n          </ion-item>\n        </ion-col>\n         <!-- <ion-item no-padding>\n           <ion-label color="label-color" stacked>Purity</ion-label>\n           <ion-select [(ngModel)]="ntData[\'purity\']" placeholder="Purity">\n             <ion-option *ngFor="let purity of purities" [value]="purity">{{purity}}</ion-option>\n           </ion-select>\n         </ion-item> -->\n\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n         <ion-item no-padding>\n          <ion-label color="label-color" stacked> <span class="required">Available Gross Wgt(g)</span></ion-label>\n          <ion-input type="number"   [(ngModel)]="selectedNTStock[\'AVgross_wt\']" disabled></ion-input>\n         </ion-item>\n        </ion-col>\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n         <ion-item no-padding>\n           <ion-label color="label-color" stacked>Gross Wgt(g) <span class="required">*</span></ion-label>\n           <ion-input type="number"   [(ngModel)]="ntData[\'gross_wt\']" (ionChange)="non_gross()"></ion-input>\n         </ion-item>\n        </ion-col>\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n         <ion-item no-padding>\n           <ion-label color="label-color" stacked>Less Wgt(g)</ion-label>\n           <ion-input type="number"   [(ngModel)]="ntData[\'less_wt\']" (ionChange)="checkingnonless_wt()"></ion-input>\n         </ion-item>\n        </ion-col>\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n         <ion-item no-padding>\n           <ion-label color="label-color" stacked>Net Wgt(g) <span class="required">*</span></ion-label>\n           <ion-input type="number"   [(ngModel)]="ntData[\'net_wt\']" readonly></ion-input>\n         </ion-item>\n        </ion-col>\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Wast %</ion-label>\n            <ion-input type="number"   [(ngModel)]="ntData[\'retail_max_wastage_percent\']" (ionChange)="checkingnonretail_max_wastage_percent()"></ion-input>\n          </ion-item>\n            <p align="right"  class="input-err">Min :{{ntData[\'checkwas\']}}%</p>\n\n         </ion-col>\n         <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Wast Wgt(g)</ion-label>\n            <ion-input type="number"   [(ngModel)]="ntData[\'wast_wgt\']" (ionChange)="checkingnonwast_wgt(\'wastage_wt\')"></ion-input>\n          </ion-item>\n         </ion-col>\n    \n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col" style="text-align: end;">\n          <button [disabled]="ntData[\'net_wt\'] == \'\' || ntData?.design?.design_no == \'\' ||  ntData[\'gross_wt\'] == \'\' ||  ntData?.design?.design_no == undefined ||  ntData[\'net_wt\'] == undefined ||  ntData[\'gross_wt\'] == undefined" *ngIf="nonback == false" item-right ion-button clear color="dark" class="no-padding no-margin" (click)="nnext(true)" >Next<ion-icon name="arrow-forward"></ion-icon></button>\n      </ion-col>\n        </ion-row>\n        <ion-row *ngIf="nonback == true">\n          <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Size</ion-label>\n            <ion-input type="number" (keyup)="onKeyUp($event)"   [(ngModel)]="ntData[\'size\']"></ion-input>\n          </ion-item>\n         </ion-col>\n         <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n          <ion-item no-padding>\n           <ion-label color="label-color" stacked> <span class="required">Available Pieces</span></ion-label>\n           <ion-input type="number"   [(ngModel)]="selectedNTStock[\'AVpieces\']" disabled></ion-input>\n          </ion-item>\n         </ion-col>\n         <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Pieces</ion-label>\n            <ion-input type="number" (ionChange)="non_pcs()"  [(ngModel)]="ntData[\'piece\']" [value]=1></ion-input>\n          </ion-item>\n         </ion-col>\n         <ion-item *ngIf="empData[\'emp_setting\'][\'allow_manual_rate\'] == \'1\' ">\n          <ion-label style="" color="label-color" stacked>Manual Rate</ion-label>\n          <ion-toggle   [(ngModel)]="mr" ></ion-toggle>\n        </ion-item>\n         <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Rate()</ion-label>\n            <ion-input [readonly]="!mr" type="number"   [(ngModel)]="ntData[\'rate_per\']" (ngModelChange)="calculatecus()"></ion-input>\n          </ion-item>\n       </ion-col>\n\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n         <ion-item no-padding>\n           <ion-label color="label-color" stacked>MC Type</ion-label>\n           <ion-select interface="popover" [(ngModel)]="ntData[\'mc_type\']" placeholder="MC Type" (ionChange)="calcSaleValue()">\n             <ion-option [value]="1">Piece</ion-option>\n             <ion-option [value]="2"  [selected]="true">Gram</ion-option>\n           </ion-select>\n         </ion-item>\n        </ion-col>\n        <ng-template [ngIf] ="show_mc">\n          <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n            <ion-item no-padding>\n              <ion-label color="label-color" stacked><span class="required">Minimum MC Value</span></ion-label>\n              <ion-input type="number"   [(ngModel)]="ntData[\'mc_min\']" disabled></ion-input>\n            </ion-item>\n           </ion-col>\n        </ng-template>\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n         <ion-item no-padding>\n           <ion-label color="label-color" stacked>MC Value</ion-label>\n           <ion-input type="number"   [(ngModel)]="ntData[\'mc_value\']" (ionChange)="calcSaleValue()"></ion-input>\n         </ion-item>\n        </ion-col>\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n         <ion-item no-padding>\n           <ion-label color="label-color" stacked>Total MC()</ion-label>\n           <ion-input type="number"   [(ngModel)]="ntData[\'making_charge\']" readonly></ion-input>\n         </ion-item>\n        </ion-col>\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n         <ion-item no-padding>\n           <ion-label color="label-color" stacked>Taxable Amount()</ion-label>\n           <ion-input type="number"   [(ngModel)]="ntData[\'taxable\']" [readonly]="ntData[\'calculation_based_on\'] != 3" (ngModelChange)="calcSaleValue()"></ion-input>\n         </ion-item>\n        </ion-col>\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n         <ion-item no-padding>\n           <ion-label color="label-color" stacked>GST()</ion-label>\n           <ion-input type="number"   [(ngModel)]="ntData[\'tax_price\']" readonly></ion-input>\n         </ion-item>\n        </ion-col>\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n         <ion-item no-padding>\n           <ion-label color="label-color" stacked>Amount()</ion-label>\n           <ion-input type="number"   [(ngModel)]="ntData[\'sales_value\']" readonly></ion-input>\n         </ion-item>\n        </ion-col>\n\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n          <button *ngIf="nonback == true" item-left ion-button clear color="dark" class="no-padding no-margin" (click)="nback(false)" ><ion-icon name="arrow-back"></ion-icon>Back</button>\n      </ion-col>\n     </ion-row>\n   </div>\n   <!-- ./ Non Tag -->\n\n   <!-- Home Bill -->\n   <div *ngIf="item_type == \'home_bill\'">\n    <ion-row *ngIf="homeback == false">\n\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-lines>\n            <ion-label color="label-color" stacked>Is Partly Sold</ion-label>\n            <ion-checkbox [(ngModel)]="hbData[\'is_partly_sold\']" (ionChange)="hbIsPartlySold(hbData[\'is_partly_sold\'])"></ion-checkbox>\n        </ion-item>\n      </ion-col>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col"  *ngIf="hbData[\'is_partly_sold\'] == 1">\n\n<!-- <ion-row>\n  <ion-col col-8>\n    <ion-label *ngIf=" checkold != true" style="" color="label-color" stacked>Tag Code <span class="required">*</span></ion-label>\n    <ion-label *ngIf="checkold == true" style="" color="label-color" stacked>Old Tag Code <span class="required">*</span></ion-label>\n  </ion-col>\n\n  <ion-col col-4>\n    <ion-toggle [(ngModel)]="checkold"></ion-toggle>\n  </ion-col>\n</ion-row>\n -->\n\n<ion-row >\n  <ion-col col-8  class="custom-2col" style="padding-top: 0px !important;">\n    <ion-item>\n      <ion-label *ngIf=" checkold != true" style="" color="label-color" stacked>Tag Code <span class="required">*</span></ion-label>\n      <ion-label *ngIf="checkold == true" style="" color="label-color" stacked>Old Tag Code <span class="required">*</span></ion-label>\n      <ion-toggle [(ngModel)]="checkold"></ion-toggle>\n    </ion-item>\n    </ion-col>\n</ion-row>\n\n        <!-- <ion-label color="label-color" stacked>Tag Code <span class="required">*</span></ion-label> -->\n\n        <div class="row">\n          <div class="col" col-3 style="margin: auto;" >\n            <input  style="    border: 1px solid lightgray;height: 40px;width: -webkit-fill-available;" id="one2" type="text"  [(ngModel)]="hbData[\'tag_code1\']"  (ngModelChange)="append()" >\n\n            </div>\n            <div class="col" col-1 style="margin: auto;font-weight: bold;">\n              <hr>\n            </div>\n\n            <div class="col" col-6 style="margin: auto;" >\n              <input  style="    border: 1px solid lightgray;height: 40px;width: -webkit-fill-available;" id="two2" type="text"  [(ngModel)]="hbData[\'tag_code2\']"  (ngModelChange)="append()" >\n\n            </div>\n            <div class="col" style="margin: auto;" col-2>\n              <button style="" item-right ion-button  color="light" (tap)="getHomeStockByTag(hbData[\'tag_code\'])"><ion-icon name="ios-search"></ion-icon></button>\n\n            </div>\n        </div>\n          <!-- </ion-item> -->\n      </ion-col>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col" *ngIf="ret_settings.collections_required == 1">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Collection <span class="required"> *</span></ion-label>\n          <ion-select [(ngModel)]="hbData[\'collection\']" placeholder="Collection" *ngIf="hbData[\'is_partly_sold\'] == 0">\n            <ion-option *ngFor="let c of collections" [value]="c.id_collection">{{c.collection_name}}</ion-option>\n          </ion-select>\n          <ion-input *ngIf="hbData[\'is_partly_sold\'] == 1" type="text" [(ngModel)]="hbData[\'collection\']" readonly></ion-input>\n        </ion-item>\n      </ion-col>\n\n<!-- krishna -->\n\n<!-- <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col" >\n  <ion-item no-padding>\n  <ion-label color="label-color" stacked>Section</ion-label>\n  <ion-select [(ngModel)]="hbData[\'section\']" placeholder="Section" (ionChange)="HbSelected(hbData[\'section\'])">\n  <ion-option *ngFor="let c of homebill_sections" [value]="c">{{c.section_name}}</ion-option>\n  </ion-select>\n  </ion-item>\n  </ion-col> -->\n\n\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Product</ion-label>\n          <ion-input *ngIf="hbData[\'is_partly_sold\'] == 1" type="text" [(ngModel)]="hbData[\'product_name\']" readonly></ion-input>\n          <ion-input *ngIf="hbData[\'is_partly_sold\'] ==0" type="text" [(ngModel)]="hbData[\'product_name\']" [readonly] (click)="openMasSearch(\'Product\')"></ion-input>\n          <button *ngIf="hbData[\'is_partly_sold\'] == 0" item-right ion-button clear color="dark" class="no-padding no-margin" (click)="openMasSearch(\'Product\')" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n        </ion-item>\n      </ion-col>\n\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Design</ion-label>\n          <ion-input *ngIf="hbData[\'is_partly_sold\'] == 1" type="text" [(ngModel)]="hbData[\'design_name\']" readonly></ion-input>\n          <ion-input *ngIf="hbData[\'is_partly_sold\'] == 0" type="text" [(ngModel)]="hbData[\'design_name\']" [readonly] (click)="openMasSearch(\'Design\')"></ion-input>\n          <button *ngIf="hbData[\'is_partly_sold\'] == 0" item-right ion-button clear color="dark" class="no-padding no-margin" (click)="openMasSearch(\'Design\')" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n        </ion-item>\n      </ion-col>\n\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Sub Design</ion-label>\n          <ion-input *ngIf="hbData[\'is_partly_sold\'] == 1" type="text" [(ngModel)]="hbData[\'sub_design_name\']" readonly></ion-input>\n          <ion-input *ngIf="hbData[\'is_partly_sold\'] == 0" type="text" [(ngModel)]="hbData[\'sub_design_name\']" [readonly] (click)="openMasSearch(\'subDesign\')"></ion-input>\n          <button *ngIf="hbData[\'is_partly_sold\'] == 0" item-right ion-button clear color="dark" class="no-padding no-margin" (click)="openMasSearch(\'subDesign\')" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n        </ion-item>\n      </ion-col>\n\n           <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Purity <span class="required">*</span></ion-label>\n          <ion-input *ngIf="hbData[\'is_partly_sold\'] == 1" type="text" [(ngModel)]="hbData[\'purname\']" readonly></ion-input>\n          <ion-input *ngIf="hbData[\'is_partly_sold\'] == 0" type="text" [(ngModel)]="hbData[\'purname\']" [readonly] (click)="openMasSearch(\'Purity\')"></ion-input>\n          <button *ngIf="hbData[\'is_partly_sold\'] == 0" item-right ion-button clear color="dark" class="no-padding no-margin" (click)="openMasSearch(\'Purity\')" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n        </ion-item>\n      </ion-col>\n\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Gross Wgt(g) <span class="required">*</span></ion-label>\n          <ion-input type="number" [readonly]="hbData[\'calculation_based_on\'] == 3"  [(ngModel)]="hbData[\'gross_wt\']"  (ionChange)="hbgross()"></ion-input>\n          <p class="input-err">Stock :{{hbData.stock_gross_wt}}</p>\n        </ion-item>\n      </ion-col>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Less Wgt(g)</ion-label>\n          <ion-input type="number"[readonly]="hbData[\'calculation_based_on\'] == 3"   [(ngModel)]="hbData[\'less_wt\']" (ionChange)="calcSaleValue()" readonly></ion-input>\n        </ion-item>\n      </ion-col>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Net Wgt(g) <span class="required">*</span></ion-label>\n          <ion-input type="number" [readonly]="hbData[\'calculation_based_on\'] == 3"  [(ngModel)]="hbData[\'net_wt\']" readonly></ion-input>\n        </ion-item>\n      </ion-col>\n\n \n\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Size</ion-label>\n          <ion-input type="number" (keyup)="onKeyUp($event)" [(ngModel)]="hbData[\'size\']" [readonly]="hbData[\'is_partly_sold\'] == 1"></ion-input>\n        </ion-item>\n      </ion-col>\n\n\n      <!-- <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Other Charges</ion-label>\n          <ion-select  [(ngModel)]="hbData[\'id_charge\']" (ngModelChange)="checkcode()"  placeholder="Charges" >\n              <ion-option *ngFor="let b of hbData[\'allcharges\']" [value]="b[\'id_charge\']">{{b[\'code_charge\']}}</ion-option>\n          </ion-select>\n      </ion-item>\n      </ion-col> -->\n\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col" style="text-align: end;">\n          <button [disabled]="!isFormInvalid"  *ngIf="homeback == false" item-right ion-button clear color="dark" class="no-padding no-margin" (click)="next(true)" >Next<ion-icon name="arrow-forward"></ion-icon></button>\n      </ion-col>\n      <!-- [disabled]="isFormInvalid"  -->\n     </ion-row>\n\n      <ion-row *ngIf="homeback == true">\n\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Pieces</ion-label>\n            <ion-input type="number" (keyup)="onKeyUp($event)"   [(ngModel)]="hbData[\'piece\']" [value]=1 [readonly]="hbData[\'is_partly_sold\'] == 1"></ion-input>\n          </ion-item>\n        </ion-col>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Wast %</ion-label>\n          <ion-input type="number" [readonly]="hbData[\'calculation_based_on\'] == 3"   [(ngModel)]="hbData[\'retail_max_wastage_percent\']"  (ngModelChange)="calcSaleValue(\'wast\')" [readonly]="hbData[\'is_partly_sold\'] == 1"></ion-input>\n        </ion-item>\n            <p align="right"  class="input-err">Min :{{hbData[\'checkwas\']}}%</p>\n      </ion-col>\n\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Wast Wgt(g)</ion-label>\n          <ion-input type="number" [readonly]="hbData[\'calculation_based_on\'] == 3"   [(ngModel)]="hbData[\'wast_wgt\']" (ngModelChange)="calcSaleValue(\'wastage_wt\')"></ion-input>\n        </ion-item>\n      </ion-col>\n      <ion-item *ngIf="empData[\'emp_setting\'][\'allow_manual_rate\'] == \'1\' ">\n        <ion-label style="" color="label-color" stacked>Manual Rate</ion-label>\n        <ion-toggle  [(ngModel)]="mr" ></ion-toggle>\n      </ion-item>\n      <ion-item no-padding>\n        <ion-label color="label-color" stacked>Rate()</ion-label>\n        <ion-input [readonly]="!mr || hbData[\'calculation_based_on\'] == 3" type="number"   [(ngModel)]="hbData[\'rate_per\']"  (ngModelChange)="calculatecus()"></ion-input>\n      </ion-item>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>MC Type</ion-label>\n          <ion-select interface="popover" [(ngModel)]="hbData[\'mc_type\']" placeholder="MC Type" (ionChange)="calcSaleValue()" >\n            <ion-option [value]=1>Piece</ion-option>\n            <ion-option [value]=2>Gram</ion-option>\n            <ion-option [value]=3>Percentage</ion-option>\n\n          </ion-select>\n          <!-- <ion-input *ngIf="hbData[\'is_partly_sold\']" type="text" [(ngModel)]="hbData[\'mc_type\']" readonly></ion-input> -->\n        </ion-item>\n      </ion-col>\n      <ng-template [ngIf] ="show_home">\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked><span class="required">Minimum MC Value</span></ion-label>\n            <ion-input type="number"   [(ngModel)]="hbData[\'mc_min\']" disabled></ion-input>\n          </ion-item>\n         </ion-col>\n      </ng-template>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>MC Value</ion-label>\n          <ion-input type="number"   [(ngModel)]="hbData[\'mc_value\']" (ionChange)="calcSaleValue()" [readonly]="hbData[\'calculation_based_on\'] == 3"></ion-input>\n        </ion-item>\n      </ion-col>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Total MC()</ion-label>\n          <ion-input type="number"   [(ngModel)]="hbData[\'making_charge\']" readonly></ion-input>\n        </ion-item>\n      </ion-col>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Taxable Amount()</ion-label>\n          <ion-input type="number"   [(ngModel)]="hbData[\'taxable\']" (ionChange)="calcSaleValue(\'taxable\')"  [readonly]="hbData[\'calculation_based_on\'] != 3"></ion-input>\n        </ion-item>\n\n        \n      </ion-col>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>GST()</ion-label>\n          <ion-input type="number"   [(ngModel)]="hbData[\'tax_price\']" readonly></ion-input>\n        </ion-item>\n      </ion-col>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Amount()</ion-label>\n          <ion-input type="number"   [(ngModel)]="hbData[\'sales_value\']" readonly></ion-input>\n        </ion-item>\n      </ion-col>\n\n\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n          <button *ngIf="homeback == true" item-left ion-button clear color="dark" class="no-padding no-margin" (click)="back(false)" ><ion-icon name="arrow-back"></ion-icon>Back</button>\n      </ion-col>\n    </ion-row>\n  </div>\n   <!-- Home Bill -->\n   <!-- Old Metal -->\n   <div *ngIf="item_type == \'old_metal\'">\n    <ion-row *ngIf="oldback == false">\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Metal<span class="required"> *</span></ion-label>\n          <ion-select interface="popover" [(ngModel)]="omData[\'id_category\']" (ngModelChange)="calcOldmetalValue(\'id_category\')" placeholder="Metal">\n            <ion-option *ngFor="let m of oldMetalCat" [value]="m.id_category">{{m.cat_name}}</ion-option>\n          </ion-select>\n        </ion-item>\n      </ion-col>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Metal Type<span class="required"> *</span></ion-label>\n          <ion-select interface="popover" [(ngModel)]="omData[\'id_old_metal_type\']" (ngModelChange)="calcOldmetalValue(\'id_old_metal_type\')" placeholder="Type">\n            <ion-option *ngFor="let c of metalCatTypes" [value]="c.id_metal_type">{{c.metal_type}}</ion-option>\n          </ion-select>\n        </ion-item>\n      </ion-col>\n      <!-- <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Metal Type<span class="required"> *</span></ion-label>\n          <ion-select [(ngModel)]="omData[\'id_old_metal_type\']" (ngModelChange)="calcOldmetalValue(\'id_old_metal_type\')" placeholder="Type">\n            <ion-option *ngFor="let c of oldrates" [value]="c.id_metal">{{c.metal}}</ion-option>\n          </ion-select>\n        </ion-item>\n      </ion-col> -->\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Metal Category Type<span class="required"> *</span></ion-label>\n          <ion-select [(ngModel)]="omData[\'id_old_metal_cat_type\']" (ngModelChange)="calcOldmetalValue(\'id_old_metal_cat_type\')" placeholder="Type">\n            <ion-option *ngFor="let c of oldcategory" [value]="c.id_old_metal_cat">{{c.old_metal_cat}}</ion-option>\n          </ion-select>\n        </ion-item>\n      </ion-col>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Purity <span class="required"> *</span></ion-label>\n          <ion-input type="number"  [readonly]="purity_show"   [(ngModel)]="omData[\'purity\']" (ngModelChange)="purcheck()"  max="10"></ion-input>\n        </ion-item>\n\n        <!-- <ion-item no-padding>\n          <ion-label color="label-color" stacked>Product</ion-label>\n          <ion-input  type="text" [(ngModel)]="omData[\'old_metal_prod_name\']" [readonly] (click)="oldsubdesign()"></ion-input>\n          <button  item-right ion-button clear color="dark" class="no-padding no-margin" (click)="oldsubdesign()" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n        </ion-item> -->\n\n      </ion-col>\n\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Pcs</ion-label>\n          <ion-input type="number" (keyup)="onKeyUp($event)"   [(ngModel)]="omData[\'old_pcs\']" ></ion-input>\n        </ion-item>\n      </ion-col>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Gross Wgt(g) <span class="required">*</span></ion-label>\n          <ion-input type="number"   [(ngModel)]="omData[\'gross_wt\']" (ngModelChange)="calcOldmetalValue(\'gross_wt\')"></ion-input>\n        </ion-item>\n      </ion-col>\n\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Dust Wgt(g)</ion-label>\n          <ion-input type="number"   [(ngModel)]="omData[\'dust_wt\']" (ngModelChange)="checkingdust_wt(\'dust_wt\')"></ion-input>\n        </ion-item>\n      </ion-col>\n\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Stone Wgt(g)</ion-label>\n          <ion-input type="number"   [(ngModel)]="omData[\'stone_wt\']" (ngModelChange)="checkingstone_wt(\'stone_wt\')" readonly></ion-input>\n        </ion-item>\n      </ion-col>\n\n\n\n\n\n\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col" style="text-align: end;">\n        <button [disabled]="omData[\'id_category\'] == \'\' ||  omData[\'id_old_metal_type\'] == \'\' ||  omData[\'id_old_metal_cat_type\'] == \'\' ||  omData[\'purity\'] == \'\' || omData[\'purity\'] < 10 ||  omData[\'gross_wt\'] == \'\' || omData[\'id_category\'] == undefined ||  omData[\'id_old_metal_type\'] == undefined ||  omData[\'id_old_metal_cat_type\'] == undefined ||  omData[\'purity\'] == undefined ||  omData[\'gross_wt\'] == undefined" *ngIf="oldback == false" item-right ion-button clear color="dark" class="no-padding no-margin" (click)="oldnext(true)" >Next<ion-icon name="arrow-forward"></ion-icon></button>\n    </ion-col>\n    </ion-row>\n    <ion-row *ngIf="oldback == true">\n\n\n\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Wast %</ion-label>\n          <ion-input type="number"   [(ngModel)]="omData[\'wastage\']" (ngModelChange)="checkingwastage(\'wastage\')"></ion-input>\n        </ion-item>\n      </ion-col>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Wast Wgt(g)</ion-label>\n          <ion-input type="number"   [(ngModel)]="omData[\'wastage_wt\']" (ngModelChange)="checkingwastage_wt(\'wastage_wt\')"></ion-input>\n        </ion-item>\n      </ion-col>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Net Wgt(g) <span class="required">*</span></ion-label>\n          <ion-input type="number"   [(ngModel)]="omData[\'net_wt\']" readonly></ion-input>\n        </ion-item>\n      </ion-col>\n      <ion-item >\n        <ion-label style="" color="label-color" stacked>Manual Rate</ion-label>\n        <ion-toggle   [(ngModel)]="mr" ></ion-toggle>\n      </ion-item>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Rate() <span class="required">*</span></ion-label>\n          <ion-input type="number"   [readonly]="!mr" [(ngModel)]="omData[\'rate\']" (ngModelChange)="calcOldmetalValue(\'rate\')"></ion-input>\n        </ion-item>\n      </ion-col>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Exchange Value(%) <span class="required">*</span></ion-label>\n          <ion-input type="number" [(ngModel)]="omData[\'touch\']" (ngModelChange)="calcOldmetalValue(\'touch\')"></ion-input>\n        </ion-item>\n      </ion-col>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Amount()</ion-label>\n          <ion-input type="number"   [(ngModel)]="omData[\'amount\']" readonly></ion-input>\n        </ion-item>\n      </ion-col>\n\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Purpose <span class="required"> * </span></ion-label>\n          <ion-select interface="popover" [(ngModel)]="omData[\'id_purpose\']" (ionChange)="calcOldmetalValue(\'id_purpose\')" placeholder="Purpose" >\n            <ion-option [value]="1">Cash</ion-option>\n            <ion-option [value]="2">Exchange</ion-option>\n          </ion-select>\n        </ion-item>\n      </ion-col>\n\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Remarks </ion-label>\n          <ion-input type="text" [(ngModel)]="omData[\'remark\']"></ion-input>\n        </ion-item>\n      </ion-col>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <button *ngIf="oldback == true" item-left ion-button clear color="dark" class="no-padding no-margin" (click)="oback(false)" ><ion-icon name="arrow-back"></ion-icon>Back</button>\n    </ion-col>\n    </ion-row>\n  </div>\n   <!-- Old Metal -->\n   <div margin-top *ngIf="item_type == \'tag\'">\n    <ion-row>\n      <ion-col style="margin: auto" col-8>\n         <h5>Other Metal Detail</h5>\n      </ion-col>\n      <ion-col col-4>\n        <div float-right>\n           <!--  <button *ngIf="other.length == 0" ion-button icon-start outline small color="dark" (click)="addother()">\n              <ion-icon name="ios-add"></ion-icon>\n              Add\n            </button> -->\n            <button *ngIf="other.length != 0" ion-button icon-start outline small color="dark" (click)="addother()">\n              <ion-icon name="edit"></ion-icon>\n              Details\n            </button>\n        </div>\n      </ion-col>\n    </ion-row>\n    </div>\n\n    <div margin-top *ngIf="item_type == \'home_bill\' ">\n      <div class="row">\n\n          <div  class="col" style="margin: auto" col-8>\n            <h5>Other Charges</h5>\n          </div>\n          <div class="col" style="margin: auto" col-4>\n            <div float-right>\n              <button *ngIf="charges?.length == 0" ion-button icon-start outline small color="dark" (click)="addcharge()">\n                <ion-icon name="ios-add"></ion-icon>\n                Add\n              </button>\n              <button *ngIf="charges?.length != 0" ion-button icon-start outline small color="dark" (click)="addcharge()">\n                <ion-icon name="edit"></ion-icon>\n                Update\n              </button>\n          </div>\n          </div>\n        </div>\n        </div>\n  <div margin-top *ngIf="item_type == \'non_tag\' ||  (item_type == \'home_bill\' && hbData[\'calculation_based_on\'] != 3) || item_type == \'old_metal\' || (item_type == \'tag\' && tagData[\'calculation_based_on\'] != 3)">\n    <ion-row>\n      <ion-col col-8>\n         <h5>Stone Detail</h5>\n      </ion-col>\n      <ion-col col-4>\n        <div float-right>\n            <button *ngIf="stone_details.length == 0" ion-button icon-start outline small color="dark" (click)="addStone()">\n              <ion-icon name="ios-add"></ion-icon>\n              Add\n            </button>\n            <button *ngIf="stone_details.length != 0" ion-button icon-start outline small color="dark" (click)="addStone()">\n              <ion-icon name="edit"></ion-icon>\n              Update\n            </button>\n        </div>\n      </ion-col>\n    </ion-row>\n    <!-- <ion-card class="errorMsg" padding *ngIf="stnErrMsg">\n        {{stnErrMsg}}\n    </ion-card> -->\n    <!-- <ion-list >\n      <div *ngFor="let st of stone_details; let i=index"  style="font-size:smaller">\n        <ion-row>\n          <ion-col col-3>\n            <ion-item no-padding>\n              <ion-label color="label-color" stacked>Stone <span class="required"> *</span></ion-label>\n              <ion-select [(ngModel)]="st[\'stone_id\']" placeholder="Stone" >\n                <ion-option *ngFor="let s of stones" [value]="s.stone_id">{{s.stone_name}}</ion-option>\n              </ion-select>\n            </ion-item>\n          </ion-col>\n          <ion-col col-2>\n            <ion-item no-padding>\n              <ion-label color="label-color" stacked>Pieces</ion-label>\n              <ion-input type="number"   [(ngModel)]="st[\'stone_pcs\']" [value] = "1"></ion-input>\n            </ion-item>\n          </ion-col>\n          <ion-col col-3>\n            <ion-item no-padding>\n              <ion-label color="label-color" stacked>Weight(g) <span class="required"> *</span></ion-label>\n              <ion-input type="number"   [(ngModel)]="st[\'stone_wt\']" [value] = "0" (ionChange) = "calcOldmetalValue(\'stone\')"></ion-input>\n            </ion-item>\n          </ion-col>\n          <ion-col col-3>\n            <ion-item no-padding>\n              <ion-label color="label-color" stacked>Price() <span class="required"> *</span></ion-label>\n              <ion-input type="number"   [(ngModel)]="st[\'stone_price\']" [value] = "0" (ionChange) = "calcOldmetalValue(\'stone\')"></ion-input>\n            </ion-item>\n          </ion-col>\n          <ion-col col-1>\n              <button margin-top ion-button small color="danger" outline (click)="deleteStone(i)"><ion-icon name="trash"></ion-icon></button>\n          </ion-col>\n        </ion-row>\n      </div>\n    </ion-list> -->\n  </div>\n\n\n\n\n</ion-content>\n<ion-footer>\n    <ion-row *ngIf="action == \'add\'">\n      <ion-col col-6>\n        <button ion-button icon-start full color="primary" [disabled]="metal_error_msg != \'\' " (click)="addItem(\'S\')">Save</button>\n      </ion-col>\n      <ion-col col-6>\n        <button ion-button icon-start full color="secondary" [disabled]="metal_error_msg != \'\' " (click)="addItem(\'SN\')">Save & New</button>\n      </ion-col>\n    </ion-row>\n    <ion-row *ngIf="action == \'edit\'">\n      <ion-col col-12>\n        <button ion-button icon-start full color="primary" [disabled]="terrorMsg != \'\' || metal_error_msg != \'\'" (click)="updateItem(\'S\')">Update</button>\n      </ion-col>\n    </ion-row>\n</ion-footer>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\modal\add-esti-item\add-esti-item.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_3__providers_retail__["a" /* RetailProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["j" /* ChangeDetectorRef */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_3__providers_retail__["a" /* RetailProvider */], __WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["B" /* ViewController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */]])
    ], AddEstiItemPage);
    return AddEstiItemPage;
}());

//# sourceMappingURL=add-esti-item.js.map

/***/ }),

/***/ 194:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AddStoneDetailPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_retail__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__stonesearch_stonesearch__ = __webpack_require__(192);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





/**
 * Generated class for the AddStoneDetailPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
// @IonicPage()
var AddStoneDetailPage = /** @class */ (function () {
    function AddStoneDetailPage(modal, events, toast, load, retail, common, viewCtrl, navParams) {
        var _this = this;
        this.modal = modal;
        this.events = events;
        this.toast = toast;
        this.load = load;
        this.retail = retail;
        this.common = common;
        this.viewCtrl = viewCtrl;
        this.navParams = navParams;
        this.empData = JSON.parse(localStorage.getItem('empDetail'));
        this.stoneData = [
            {
                stone_cal_type: '',
                uom_id: '',
                is_apply_in_lwt: 0,
                lwt: false,
                stone_id: 0,
                stone_pcs: "",
                stone_wt: "",
                stone_price: "",
            },
        ];
        this.stoneSelected = { rate_type: "1" };
        this.old_stone_settings = 0;
        this.tagstoneData = [
            {
                amount: "",
                is_apply_in_lwt: 0,
                pieces: "",
                rate_per_gram: 0,
                stone_cal_type: '',
                stone_id: 0,
                stone_type: 0,
                tag_id: 0,
                uom_id: '',
                wt: "",
                lwt: false,
            },
        ];
        this.fixed_rate_type = "";
        this.stoneMasData = [];
        this.stones = [];
        this.uom = [];
        this.cut = [];
        this.clarity = [];
        this.color = [];
        this.shape = [];
        this.stnErrMsg = '';
        this.proceedSave = false;
        this.ptype = "";
        this.gross = 0;
        this.ctype = [
            { name: "By Wt", stone_cal_type: "1" },
            { name: "By Pcs", stone_cal_type: "2" },
        ];
        // gtype = [{'name':'Carat','uom_id':'2'},{'name':'Gram','uom_id':'1'}];
        this.gtype = [];
        this.totalvalue = 0;
        this.totalgram = 0;
        this.totalct = 0;
        this.stoneMasTypes = [];
        this.gtype_filter = [];
        this.uomtype = [];
        console.log(this.tagstoneData);
        this.tag_data = this.navParams.get("tagData");
        console.log(this.tag_data, 'tag data');
        this.retail.getAllStoneTypes({ "id_branch": this.empData['id_branch'] }).then(function (data) {
            _this.stoneMasTypes = data;
        });
        this.common.getuom().then(function (data) {
            _this.gtype_filter = data;
            console.log('UOM : ', _this.gtype_filter);
            // loader.dismiss();
            _this.page = _this.navParams.get("page");
            _this.ptype = _this.navParams.get("ptype");
            _this.gross = _this.navParams.get("gross");
            _this.hm_type = _this.navParams.get('is_partial');
            console.log(_this.gross);
            console.log(_this.ptype);
            // if(this.hm_type == 1){
            // this.ptype = 'tag';
            // this.tag_data['is_partial'] = 1
            // }
            // this.stoneMasTypes = this.navParams.get('stoneMasTypes');
            console.log(_this.stoneMasTypes, 'ppppppppp');
            _this.stoneMasData = _this.navParams.get("stoneMasData");
            if (_this.stoneMasData) {
                _this.stones = _this.stoneMasData;
                _this.uom = _this.stoneMasData;
                _this.cut = _this.stoneMasData;
                _this.clarity = _this.stoneMasData;
                _this.color = _this.stoneMasData;
                _this.shape = _this.stoneMasData;
            }
            console.log(_this.stoneMasData);
            console.log(_this.navParams.get("stone_details"));
            console.log(_this.ptype, 'ptyeeeeeee');
            if (_this.navParams.get("stone_details").length > 0 && _this.ptype == "tag") {
                _this.tagstoneData = _this.navParams.get("stone_details");
                console.log('taggggggggggggg');
                _this.get_total();
                _this.uomchange();
                _this.tagstoneData.forEach(function (element, index) {
                    _this.tagstoneData[index]["lwt"] = _this.tagstoneData[index]["is_apply_in_lwt"] == 1 ? true : false;
                    var tr = _this.stones.filter(function (data) { return data["stone_id"] == element["stone_id"]; });
                    _this.tagstoneData[index]["stone_name"] = tr.length > 0 ? tr[0]["stone_name"] : [];
                    _this.tagstoneData[index]["show"] = true;
                    _this.tag_stoneamount_calc(index);
                });
            }
            else if (_this.navParams.get("stone_details").length > 0 && _this.ptype != "tag") {
                _this.stoneData = _this.navParams.get("stone_details");
                console.log('stoneeeeeeeeeeeeeeeee');
                _this.get_total();
                _this.uomchange();
                _this.stoneData.forEach(function (element, index) {
                    _this.stoneData[index]["lwt"] = _this.stoneData[index]["is_apply_in_lwt"] == 1 ? true : false;
                    var tr = _this.stones.filter(function (data) { return data["stone_id"] == element["stone_id"]; });
                    _this.stoneData[index]["stone_name"] = tr.length > 0 ? tr[0]["stone_name"] : [];
                });
            }
            if (_this.stoneMasData) {
                _this.stones = _this.stoneMasData;
                _this.uom = _this.stoneMasData;
                _this.cut = _this.stoneMasData;
                _this.clarity = _this.stoneMasData;
                _this.color = _this.stoneMasData;
                _this.shape = _this.stoneMasData;
            }
            _this.action = _this.navParams.get("action");
        });
    }
    AddStoneDetailPage.prototype.dismiss = function () {
        this.viewCtrl.dismiss();
    };
    AddStoneDetailPage.prototype.updateStone = function (submitType) {
        var _this = this;
        if (this.ptype == "tag") {
            //  this.viewCtrl.dismiss(this.tagstoneData);
            this.viewCtrl.dismiss({
                data: this.tagstoneData,
                old_stone_settings: this.old_stone_settings,
            });
        }
        else {
            this.viewCtrl.dismiss({
                data: this.stoneData,
                old_stone_settings: this.old_stone_settings,
            });
        }
        // Alert Message Timeout
        setTimeout(function () {
            _this.errorMsg = "";
        }, this.common.msgTimeout);
    };
    /*   addStone(submitType) {
        console.log(this.stoneData);
        console.log(this.gross, '1111111');
    
        if (this.ptype != "tag") {
          console.log(this.stoneData, '22222222');
    
          for (let index = 0; index < this.stoneData.length; index++) {
            this.stone_type_data = this.stoneMasTypes.find(s => s.stone_type === this.stoneData[index]['stone_type']);
    
            this.get_stone_price_valid(index, this.stoneData[index]['rate'])
            if (this.stnErrMsg == "") {
              const stone = this.stoneData[index];
    
              //  Field validation (inline)
              if (
                !stone.stone_cal_type ||
                !stone.uom_id ||
                stone.stone_id <= 0 ||
                stone.stone_pcs === null || stone.stone_pcs === undefined || stone.stone_pcs === '' ||
                stone.stone_wt === null || stone.stone_wt === undefined || stone.stone_wt === '' ||
                stone.stone_price === null || stone.stone_price === undefined || stone.stone_price === ''
              ) {
                let ctrl = this.toast.create({
                  message: "* All fields in stone row are mandatory.",
                  duration: this.common.toastTimeout,
                  position: "bottom",
                });
                ctrl.present();
                break;
              }
    
              //  Process stone data
              let stData = this.calcStoneDetail();
              console.log(stData["comparestone_wt"], "333333333333");
    
              if (stData["comparestone_wt"] < this.gross) {
                if (this.stoneData.length - 1 == index) {
                  if (this.ptype == "tag") {
                    this.viewCtrl.dismiss({
                      data: this.tagstoneData,
                      old_stone_settings: this.old_stone_settings,
                    });
                  } else {
                    this.viewCtrl.dismiss({
                      data: this.stoneData,
                      old_stone_settings: this.old_stone_settings,
                      type: this.ptype,
                    });
                  }
                }
              } else {
                let ctrl = this.toast.create({
                  message: "Please Enter Valid Stone Weight",
                  duration: this.common.toastTimeout,
                  position: "bottom",
                });
                ctrl.present();
                break;
              }
    
            } else {
              let ctrl = this.toast.create({
                message: this.stnErrMsg,
                duration: this.common.toastTimeout,
                position: "bottom",
              });
              ctrl.present();
              break;
            }
          }
    
    
          // Alert Message Timeout
          setTimeout(() => {
            this.errorMsg = "";
          }, this.common.msgTimeout);
    
    
    
    
        }
    
        if (this.ptype == "tag") {
          console.log(this.tagstoneData, 'pppppppppppp');
    
          if (this.tagstoneData.length != 0) {
    
    
            for (let index = 0; index < this.tagstoneData.length; index++) {
              console.log(this.tagstoneData[index]);
              this.stone_type_data = this.stoneMasTypes.find(s => s.stone_type === this.tagstoneData[index]['stone_type']);
    
    
              // if (this.tagstoneData[index]['is_avail_Stone_Rate_Settings'] == 1) {
              //   this.get_stone_price_valid(index, this.tagstoneData[index]['rate_per_gram'])
              // }
    
              if (this.stnErrMsg == "") {
                const stone = this.tagstoneData[index];
    
                //  Field validation (inline)
                if (!stone.stone_cal_type || !stone.uom_id || !stone.stone_id || stone.pieces === null || stone.pieces === undefined || stone.pieces === '' || stone.wt === null || stone.wt === undefined || stone.wt === '' || stone.amount === null || stone.amount === undefined || stone.amount === '') {
                  let ctrl = this.toast.create({
                    message: "* All fields in stone row are mandatory.",
                    duration: this.common.toastTimeout,
                    position: "bottom",
                  });
                  ctrl.present();
                  break;
                }
    
                // if (this.tagstoneData[index].stone_id > 0 && this.tagstoneData[index].pieces > 0 && this.tagstoneData[index].amount > 0 && this.tagstoneData[index].wt > 0) {
                let stData = this.calcStoneDetail();
                if (stData["comparestone_wt"] < this.gross) {
                  if (this.tagstoneData.length - 1 == index) {
                    if (this.ptype == "tag") {
                      // this.viewCtrl.dismiss(this.tagstoneData);
                      this.viewCtrl.dismiss({
                        data: this.tagstoneData,
                        old_stone_settings: this.old_stone_settings,
                        type: this.ptype
                      });
                    } else {
                      console.log(this.stoneData);
                      this.viewCtrl.dismiss({
                        data: this.stoneData,
                        old_stone_settings: this.old_stone_settings,
                      });
                    }
                  }
                } else {
                  let ctrl = this.toast.create({
                    message: "Please Enter Valid Stone Weight ",
                    duration: this.common.toastTimeout,
                    position: "bottom",
                  });
                  ctrl.present();
                  break;
                }
    
              } else {
                let ctrl = this.toast.create({
                  message: this.stnErrMsg,
                  duration: this.common.toastTimeout,
                  position: "bottom",
                });
                ctrl.present();
                break;
              }
    
            }
          } else {
    
            this.viewCtrl.dismiss({
              data: this.tagstoneData,
              old_stone_settings: this.old_stone_settings,
              type: this.ptype
            });
          }
    
    
          // Alert Message Timeout
          setTimeout(() => {
            this.errorMsg = "";
          }, this.common.msgTimeout);
        }
      }
     */
    // -----------------------------
    // addStone() (use this in your component)
    // -----------------------------
    AddStoneDetailPage.prototype.addStone = function (submitType) {
        // reset global error
        this.stnErrMsg = '';
        // ---------- NON-TAG FLOW ----------
        if (this.ptype != "tag") {
            var _loop_1 = function (index) {
                var stone = this_1.stoneData[index];
                // ensure stone_type_data is set for the current stone
                this_1.stone_type_data = this_1.stoneMasTypes.find(function (s) { return String(s.stone_type) === String(stone['stone_type']); });
                // Step 1: Validate stone rate if required
                if (String(stone['is_avail_Stone_Rate_Settings']) === "1") {
                    var ok = this_1.get_stone_price_valid(index, stone['rate']);
                    if (!ok) {
                        // get_stone_price_valid already returns false and may have updated stone.rate -> show toast from here
                        var ctrl = this_1.toast.create({
                            message: this_1.stnErrMsg || 'Invalid stone rate.',
                            duration: this_1.common.toastTimeout,
                            position: "bottom",
                        });
                        ctrl.present();
                        return { value: void 0 };
                    }
                }
                // Step 2: Field validation
                if (!stone.stone_cal_type ||
                    !stone.uom_id ||
                    stone.stone_id <= 0 ||
                    stone.stone_pcs === null || stone.stone_pcs === undefined || stone.stone_pcs === '' ||
                    stone.stone_wt === null || stone.stone_wt === undefined || stone.stone_wt === '' ||
                    stone.stone_price === null || stone.stone_price === undefined || stone.stone_price === '') {
                    this_1.toast.create({
                        message: "* All fields in stone row are mandatory.",
                        duration: this_1.common.toastTimeout,
                        position: "bottom",
                    }).present();
                    return { value: void 0 };
                }
                // Step 3: weight compare
                var stData = this_1.calcStoneDetail();
                if (!(stData["comparestone_wt"] < this_1.gross)) {
                    this_1.toast.create({
                        message: "Please Enter Valid Stone Weight",
                        duration: this_1.common.toastTimeout,
                        position: "bottom",
                    }).present();
                    return { value: void 0 };
                }
                // if last index and all ok -> dismiss
                if (index === this_1.stoneData.length - 1) {
                    this_1.viewCtrl.dismiss({
                        data: this_1.stoneData,
                        old_stone_settings: this_1.old_stone_settings,
                        type: this_1.ptype,
                    });
                    return { value: void 0 };
                }
            };
            var this_1 = this;
            for (var index = 0; index < this.stoneData.length; index++) {
                var state_1 = _loop_1(index);
                if (typeof state_1 === "object")
                    return state_1.value;
            }
        }
        // ---------- TAG FLOW ----------
        if (this.ptype == "tag") {
            if (!this.tagstoneData || this.tagstoneData.length === 0) {
                this.viewCtrl.dismiss({
                    data: this.tagstoneData,
                    old_stone_settings: this.old_stone_settings,
                    type: this.ptype
                });
                return;
            }
            var _loop_2 = function (index) {
                var stone = this_2.tagstoneData[index];
                // ensure stone_type_data is set for the current stone
                this_2.stone_type_data = this_2.stoneMasTypes.find(function (s) { return String(s.stone_type) === String(stone['stone_type']); });
                // Step 1: Validate stone rate if required
                if (String(stone['is_avail_Stone_Rate_Settings']) === "1") {
                    var ok = this_2.get_stone_price_valid(index, stone['rate_per_gram']);
                    if (!ok) {
                        var ctrl = this_2.toast.create({
                            message: this_2.stnErrMsg || 'Invalid stone rate.',
                            duration: this_2.common.toastTimeout,
                            position: "bottom",
                        });
                        ctrl.present();
                        return { value: void 0 };
                    }
                }
                // Step 2: Field validation
                if (!stone.stone_cal_type ||
                    !stone.uom_id ||
                    !stone.stone_id ||
                    stone.pieces === null || stone.pieces === undefined || stone.pieces === '' ||
                    stone.wt === null || stone.wt === undefined || stone.wt === '' ||
                    stone.amount === null || stone.amount === undefined || stone.amount === '') {
                    this_2.toast.create({
                        message: "* All fields in stone row are mandatory.",
                        duration: this_2.common.toastTimeout,
                        position: "bottom",
                    }).present();
                    return { value: void 0 };
                }
                // Step 3: weight compare
                var stData = this_2.calcStoneDetail();
                if (!(stData["comparestone_wt"] < this_2.gross)) {
                    this_2.toast.create({
                        message: "Please Enter Valid Stone Weight",
                        duration: this_2.common.toastTimeout,
                        position: "bottom",
                    }).present();
                    return { value: void 0 };
                }
                console.log('tag : ', this_2.tagstoneData);
                // if last and all ok -> dismiss
                if (index === this_2.tagstoneData.length - 1) {
                    this_2.viewCtrl.dismiss({
                        data: this_2.tagstoneData,
                        old_stone_settings: this_2.old_stone_settings,
                        type: this_2.ptype,
                        tot_stone_value: this_2.totalvalue
                    });
                    return { value: void 0 };
                }
            };
            var this_2 = this;
            for (var index = 0; index < this.tagstoneData.length; index++) {
                var state_2 = _loop_2(index);
                if (typeof state_2 === "object")
                    return state_2.value;
            }
        }
    };
    AddStoneDetailPage.prototype.get_stone_price_valid = function (index, rate_per_gram) {
        var _this = this;
        var stone = this.ptype == "tag" ? this.tagstoneData[index] : this.stoneData[index];
        var stoneRate = Math.round(parseFloat(rate_per_gram)); //  Force whole number
        var stoneWt = parseFloat(stone['wt'] || stone['stone_wt']) || 0;
        var stonePcs = parseInt(stone['pieces'] || stone['stone_pcs']) || 0;
        var stoneCentWt = stonePcs > 0 ? parseFloat(((stoneWt / stonePcs) * 100).toFixed(3)) : 0;
        this.stnErrMsg = ""; // reset error
        var settings = (this.stone_type_data && this.stone_type_data.stone_rate_masters)
            ? this.stone_type_data.stone_rate_masters
            : [];
        var foundSetting = false;
        var isValid = false;
        //  If no validation needed, allow directly
        if (String(stone['is_avail_Stone_Rate_Settings']) === "0") {
            stone['rate_per_gram'] = stoneRate; // ensure stored as whole number
            return true;
        }
        settings.forEach(function (item) {
            if (stone['stone_type'] == item.stone_type &&
                stone['stone_id'] == item.stone_id &&
                stone['uom_id'] == item.uom_id &&
                (stone['quality_id'] == item.quality_id || item.quality_id == '')) {
                foundSetting = true;
                //  Range check
                if (stoneCentWt > 0) {
                    if (stoneCentWt >= parseFloat(item.from_cent) && stoneCentWt <= parseFloat(item.to_cent)) {
                        if (stoneRate >= parseFloat(item.min_rate) && stoneRate <= parseFloat(item.max_rate)) {
                            isValid = true;
                        }
                        else {
                            _this.stnErrMsg = "Entered Stone Rate must be within " + item.min_rate + " and " + item.max_rate + "!";
                        }
                    }
                }
                else {
                    if (stoneRate >= parseFloat(item.min_rate) && stoneRate <= parseFloat(item.max_rate)) {
                        isValid = true;
                    }
                    else {
                        _this.stnErrMsg = "Entered Stone Rate must be within " + item.min_rate + " and " + item.max_rate + "!";
                    }
                }
            }
        });
        if (!foundSetting) {
            this.stnErrMsg = "No valid stone rate setting found for this stone.";
        }
        //  Always store rate as integer (no decimals)
        stone['rate_per_gram'] = isNaN(stoneRate) ? 0 : parseInt(String(stoneRate), 10);
        return isValid;
    };
    /* old version of stone rate validation function
    
      get_stone_price_valid(index, data) {
        console.log(this.stone_type_data, 'stone type data');
        console.log(data, 'price');
        console.log('this.tagstoneData[index] : ', this.tagstoneData[index]);
    
        var rate_per = parseFloat(data);
        if (this.stone_type_data) {
          if (this.stone_type_data['stone_type'] == '1') {
    
            const wt = this.ptype == 'tag' ? parseFloat(this.tagstoneData[index]['wt']) * 100 : parseFloat(this.stoneData[index]['stone_wt']) * 100;
            console.log(wt, 'weight : ');
    
            let validRate = false;
    
            if (this.stone_type_data['stone_rate_masters'].length != 0) {
              this.stone_type_data['stone_rate_masters'].forEach(element => {
                const frm_cent = parseFloat(element['from_cent']);
                const to_cent = parseFloat(element['to_cent']);
    
                // check if weight falls in the range
                if (wt >= frm_cent && wt <= to_cent) {
                  const max_rate = parseFloat(element['max_rate']);
                  const min_rate = parseFloat(element['min_rate']);
    
                  if (rate_per >= min_rate && rate_per <= max_rate) {
                    validRate = true;
                  }
                } else {
                  validRate = true;
                }
              });
              // Set error message based on validation
              if (validRate) {
                this.stnErrMsg = '';
              } else {
                this.stnErrMsg = "Please Enter Valid Stone Rate";
              }
            } else {
              this.stnErrMsg = '';
            }
    
          } else {
    
            if (this.stone_type_data['stone_rate_masters'].length != 0) {
              this.stone_type_data['stone_rate_masters'].forEach(element => {
                var max_rate = parseFloat(element['max_rate']);
                var min_rate = parseFloat(element['min_rate']);
                if (rate_per <= max_rate && rate_per >= min_rate) {
                  this.stnErrMsg = '';
                } else {
                  this.stnErrMsg = "Please Enter Valid Stone Rate";
                }
    
                console.log(this.stnErrMsg, 'error');
    
    
              });
            } else {
              this.stnErrMsg = '';
            }
    
          }
    
    
        }
      }
     */
    AddStoneDetailPage.prototype.stoneChanged = function () {
        // this.stoneData['rate'] = 0;
        // this.stoneData['stone_price'] = 0;
        // if(this.stoneData['stone_id'] > 0){
        //   let filterData =  this.stones.filter((s: any) => s.stone_id == this.stoneData['stone_id']);
        //   this.stoneSelected = filterData[0];
        //   this.stoneData['rate'] = parseFloat(this.stoneSelected['rate_type']) == 1 ? parseFloat(this.stoneSelected['fixed_rate']) : "";
        //   this.fixed_rate_type = parseFloat(this.stoneSelected['fixed_rate_type']) == 1 ? "Per Gram" : (parseFloat(this.stoneSelected['fixed_rate_type']) == 2 ? "Per Piece" : "" );
        // }
    };
    AddStoneDetailPage.prototype.calcStoneValue = function () {
        // let stn_price:any = 0;
        // if(this.stoneData['stone_id'] > 0 && this.stoneData['stone_pcs'] > 0 && this.stoneData['stone_wt'] > 0 && this.stoneData['stone_price'] > 0  ){
        //   this.proceedSave = true;
        // }else{
        //   this.proceedSave = false;
        // }
        // if(this.stoneData['stone_id'] > 0 && this.stoneData['stone_pcs'] > 0 && this.stoneData['stone_wt'] > 0 && this.stoneData['stone_price'] > 0){
        // let rate_type = parseFloat(this.stoneSelected['rate_type']);
        // let fixed_rate_type = parseFloat(this.stoneSelected['fixed_rate_type']);
        // Rate Type => 1-Fixed, 2 - Rate From Master, 3 - Manual
        // if(rate_type == 1 || rate_type == 3)
        // {
        //   if(fixed_rate_type == 1) //Fixed Rate Type => 1-Per Gram,2-Per Piece
        //   {
        //     stn_price = this.stoneData['rate']*parseFloat(this.stoneData['stone_wt']);
        //   }
        //   else{
        //     stn_price = this.stoneData['rate']*parseFloat(this.stoneData['stone_pcs']);
        //   }
        // }
        // else if(rate_type == 2)
        // {
        //   console.log(this.stoneData['rate_details']);
        //   this.stoneData['rate_details'].forEach( rate => {
        //     if(rate.cent_from <= this.stoneData['stone_wt'] && this.stoneData['stone_wt'] <= rate.cent_to)
        //     {
        //       this.stoneData['rate'] = rate.rate;
        //       stn_price = parseFloat(rate.rate)*parseFloat(this.stoneData['stone_wt']);
        //     }
        //   })
        // }
        // }
        // this.stoneData['stone_price'] = parseFloat(stn_price) + parseFloat(this.stoneData['certif_charge']);
    };
    AddStoneDetailPage.prototype.add = function () {
        if (this.ptype == "tag") {
            this.tagstoneData.push({
                amount: "",
                is_apply_in_lwt: 0,
                pieces: "",
                rate_per_gram: 0,
                stone_cal_type: "",
                stone_id: 0,
                stone_type: 0,
                tag_id: 0,
                uom_id: "",
                wt: "",
                lwt: false,
                show: false
            });
        }
        else {
            this.stoneData.push({
                is_apply_in_lwt: 0,
                lwt: false,
                stone_id: 0,
                stone_pcs: "",
                stone_wt: "",
                stone_price: "",
                stone_cal_type: "",
                uom_id: "",
            });
        }
    };
    AddStoneDetailPage.prototype.remove = function (i) {
        this.totalvalue = 0;
        this.totalgram = 0;
        this.totalct = 0;
        if (this.ptype == "tag") {
            if (this.tagstoneData.length > 1) {
                this.tagstoneData.splice(i, 1);
            }
            else if (this.tagstoneData.length == 1) {
                this.tagstoneData.splice(i, 1);
                // this.tagstoneData.push({
                //   amount: 0,
                //   is_apply_in_lwt: 0,
                //   pieces: "",
                //   rate_per_gram: 0,
                //   stone_cal_type: "",
                //   stone_id: 0,
                //   stone_type: 0,
                //   tag_id: 0,
                //   uom_id: "",
                //   wt: "",
                //   lwt: false,
                // });
            }
            for (var index = 0; index < this.tagstoneData.length; index++) {
                // this.totalvalue += parseFloat(this.tagstoneData[index].amount)
                console.log(this.totalvalue, 'total value');
                var amt = parseFloat(this.tagstoneData[index].amount);
                if (!isNaN(amt)) {
                    this.totalvalue += amt;
                }
                if (this.tagstoneData[index]['uom_id'] == 1) {
                    // this.totalgram += parseFloat(this.tagstoneData[index]['wt'] )
                    var data = Number(this.totalgram) + Number(this.tagstoneData[index]['wt']);
                    this.totalgram = data.toFixed(3);
                }
                else if (this.tagstoneData[index]['uom_id'] == 6) {
                    // this.totalct += parseFloat(this.tagstoneData[index]['wt'] )
                    var data = Number(this.totalct) + Number(this.tagstoneData[index]['wt']);
                    this.totalct = data.toFixed(3);
                }
                this.get_stone_price_valid(index, this.tagstoneData[index]['rate_per_gram']);
            }
        }
        else {
            console.log(this.stoneData);
            if (this.stoneData.length > 1) {
                this.stoneData.splice(i, 1);
            }
            else if (this.stoneData.length == 1) {
                this.stoneData.splice(i, 1);
                this.stoneData.push({
                    is_apply_in_lwt: 0,
                    lwt: false,
                    stone_id: 0,
                    stone_pcs: "",
                    stone_wt: "",
                    stone_price: 0,
                    stone_cal_type: "",
                    uom_id: "",
                });
            }
            for (var index = 0; index < this.stoneData.length; index++) {
                // this.totalvalue += parseFloat(this.stoneData[index].stone_price)
                var amt = parseFloat(this.stoneData[index].stone_price);
                if (!isNaN(amt)) {
                    this.totalvalue += amt;
                }
                if (this.stoneData[index]['uom_id'] == 1) {
                    // this.totalgram += parseFloat(this.stoneData[index]['stone_wt'] )
                    var data = Number(this.totalgram) + Number(this.stoneData[index]['stone_wt']);
                    this.totalgram = data.toFixed(3);
                }
                else if (this.stoneData[index]['uom_id'] == 6) {
                    // this.totalct += parseFloat(this.stoneData[index]['stone_wt'] )
                    var data = Number(this.totalct) + Number(this.stoneData[index]['stone_wt']);
                    this.totalct = data.toFixed(3);
                }
                this.get_stone_price_valid(index, this.stoneData[index]['rate']);
            }
        }
    };
    AddStoneDetailPage.prototype.checkt = function (index) {
        this.tagstoneData[index]["is_apply_in_lwt"] = this.tagstoneData[index]["lwt"] == true ? 1 : 0;
        console.log('checkbox : ', this.tagstoneData[index]["is_apply_in_lwt"]);
        console.log('LWT :', this.tagstoneData[index]["lwt"]);
    };
    AddStoneDetailPage.prototype.checko = function (index) {
        this.stoneData[index]["is_apply_in_lwt"] = this.stoneData[index]["lwt"] == true ? 1 : 0;
    };
    AddStoneDetailPage.prototype.oldstone = function () {
        this.old_stone_settings = this.old_stone_settings == true ? 1 : 0;
        console.log(this.old_stone_settings);
    };
    AddStoneDetailPage.prototype.tot = function (i) {
        this.tagstoneData[i]["amount"] =
            this.tagstoneData[i]["amount"] * this.tagstoneData[i]["wt"];
    };
    AddStoneDetailPage.prototype.uomchange = function () {
        this.totalgram = 0;
        this.totalct = 0;
        if (this.ptype == "tag") {
            for (var index = 0; index < this.tagstoneData.length; index++) {
                if (this.tagstoneData[index]['uom_id'] == 1) {
                    // this.totalgram += parseFloat(this.tagstoneData[index]['wt'] )
                    var data = Number(this.totalgram) + Number(this.tagstoneData[index]['wt']);
                    this.totalgram = data.toFixed(3);
                    console.log(this.totalgram, 'gram');
                }
                else if (this.tagstoneData[index]['uom_id'] == 6) {
                    // this.totalct += parseFloat(this.tagstoneData[index]['wt'] )
                    var data = Number(this.totalct) + Number(this.tagstoneData[index]['wt']);
                    this.totalct = data.toFixed(3);
                    console.log(this.totalct, 'cart');
                }
            }
        }
        else {
            console.log('stone : ', this.stoneData);
            for (var index = 0; index < this.stoneData.length; index++) {
                if (this.stoneData[index]['uom_id'] == 1) {
                    // this.totalgram += parseFloat(this.stoneData[index]['stone_wt'] )
                    var data = Number(this.totalgram) + Number(this.stoneData[index]['stone_wt']);
                    this.totalgram = data.toFixed(3);
                    console.log(this.totalgram, 'gram');
                }
                else if (this.stoneData[index]['uom_id'] == 6) {
                    // this.totalct += parseFloat(this.stoneData[index]['stone_wt'] )
                    var data = Number(this.totalct) + Number(this.stoneData[index]['stone_wt']);
                    this.totalct = data.toFixed(3);
                    console.log(this.totalct, 'cart');
                }
            }
        }
    };
    AddStoneDetailPage.prototype.calcStoneDetail = function () {
        var _this = this;
        if (this.ptype == "tag") {
            var data_1 = { wt: 0, amount: 0, "comparestone_wt": 0 };
            this.tagstoneData.forEach(function (i, index) {
                if (_this.tagstoneData[index]["lwt"]) {
                    _this.tagstoneData[index]["is_apply_in_lwt"] = 1;
                }
                else {
                    _this.tagstoneData[index]["is_apply_in_lwt"] = 0;
                }
                data_1["wt"] = data_1["wt"] + Number(i["wt"]);
                data_1['comparestone_wt'] = data_1['comparestone_wt'] + (i['uom_id'] == '6' ? Number(i['wt']) / 5 : Number(i['wt']));
                data_1["amount"] = data_1["amount"] + Number(i["amount"]);
            });
            return data_1;
        }
        else {
            var data_2 = { stone_wt: 0, stone_price: 0, "comparestone_wt": 0 };
            this.stoneData.forEach(function (i, index) {
                if (_this.stoneData[index]["lwt"]) {
                    _this.stoneData[index]["is_apply_in_lwt"] = 1;
                }
                else {
                    _this.stoneData[index]["is_apply_in_lwt"] = 0;
                }
                data_2["stone_wt"] = data_2["stone_wt"] + Number(i["stone_wt"]);
                data_2['comparestone_wt'] = data_2['comparestone_wt'] + (i['uom_id'] == '6' ? Number(i['stone_wt']) / 5 : Number(i['stone_wt']));
                data_2["stone_price"] = data_2["stone_price"] + Number(i["stone_price"]);
            });
            return data_2;
        }
    };
    AddStoneDetailPage.prototype.ionViewWillLeave = function () {
        this.events.publish("entered", false);
    };
    AddStoneDetailPage.prototype.ionViewWillEnter = function () {
        this.events.publish("entered", true);
        this.events.publish("pageno", 1);
    };
    AddStoneDetailPage.prototype.tag_stoneamount_calc = function (i) {
        if (this.tagstoneData[i]["stone_cal_type"] == "2") {
            this.tagstoneData[i]["amount"] = (this.tagstoneData[i]["pieces"] * this.tagstoneData[i]["rate_per_gram"]).toFixed(3);
        }
        else if (this.tagstoneData[i]["stone_cal_type"] == "1") {
            this.tagstoneData[i]["amount"] = (this.tagstoneData[i]["wt"] * this.tagstoneData[i]["rate_per_gram"]).toFixed(3);
        }
    };
    AddStoneDetailPage.prototype.ctypecheck = function (i, type) {
        // if (this.tagstoneData[i]["stone_cal_type"] == "2") {
        //   this.tagstoneData[i]["amount"] =
        //     this.tagstoneData[i]["pieces"] * this.tagstoneData[i]["rate_per_gram"];
        // } else if (this.tagstoneData[i]["stone_cal_type"] == "1") {
        //   this.tagstoneData[i]["amount"] =
        //     this.tagstoneData[i]["wt"] * this.tagstoneData[i]["rate_per_gram"];
        //     this.uomchange()
        // }
        // if(type == 'rate'){
        //   this.get_total()
        //   }
        console.log('111111111111');
        if (type != 'amt') {
            console.log('2222222222222');
            if (this.tagstoneData[i]["stone_cal_type"] == "2") {
                this.tagstoneData[i]["amount"] =
                    (this.tagstoneData[i]["pieces"] * this.tagstoneData[i]["rate_per_gram"]).toFixed(3);
            }
            else if (this.tagstoneData[i]["stone_cal_type"] == "1") {
                this.tagstoneData[i]["amount"] =
                    (this.tagstoneData[i]["wt"] * this.tagstoneData[i]["rate_per_gram"]).toFixed(3);
            }
            this.uomchange();
        }
        else {
            console.log('3333333333333333');
            if (this.tagstoneData[i]["stone_cal_type"] == "2") {
                this.tagstoneData[i]["rate_per_gram"] =
                    (this.tagstoneData[i]["pieces"] * this.tagstoneData[i]["amount"]).toFixed(3);
            }
            else if (this.tagstoneData[i]["stone_cal_type"] == "1") {
                this.tagstoneData[i]["rate_per_gram"] = (this.tagstoneData[i]["amount"] / this.tagstoneData[i]["wt"]).toFixed(3);
            }
        }
        if (type == 'rate' || type == 'amt' || type == 'wt') {
            // this.stone_type_data= this.stoneMasTypes.find(s => s.stone_type === this.tagstoneData[i]['stone_type']);
            //  this.get_stone_price_valid(i,this.tagstoneData[i]["rate_per_gram"])
            this.get_total();
        }
    };
    AddStoneDetailPage.prototype.ctypecheck2 = function (i, type) {
        if (type != 'amt') {
            if (this.stoneData[i]["stone_cal_type"] == "2") {
                this.stoneData[i]["stone_price"] =
                    (this.stoneData[i]["stone_pcs"] * this.stoneData[i]["rate"]).toFixed(3);
            }
            else if (this.stoneData[i]["stone_cal_type"] == "1") {
                this.stoneData[i]["stone_price"] =
                    (this.stoneData[i]["stone_wt"] * this.stoneData[i]["rate"]).toFixed(3);
            }
            this.uomchange();
        }
        else {
            if (this.stoneData[i]["stone_cal_type"] == "2") {
                this.stoneData[i]["rate"] =
                    (this.stoneData[i]["stone_pcs"] * this.stoneData[i]["stone_price"]).toFixed(3);
            }
            else if (this.stoneData[i]["stone_cal_type"] == "1") {
                this.stoneData[i]["rate"] = (this.stoneData[i]["stone_price"] / this.stoneData[i]["stone_wt"]).toFixed(3);
            }
        }
        if (type == 'rate' || type == 'amt' || type == 'wt') {
            //  this.stone_type_data= this.stoneMasTypes.find(s => s.stone_type === this.stoneData[i]['stone_type']);
            //  this.get_stone_price_valid(i,this.stoneData[i]["rate"])
            this.get_total();
        }
    };
    /*  openstoneModal(i){
      let modal = this.modal.create(StonesearchPage,{"empData" : this.stones})
      modal.present();
      modal.onDidDismiss(data => {
        if(data != null){
        this.tagstoneData[i]['stone_id'] = data.stone_id;
        this.tagstoneData[i]['stone_name'] = data.stone_name;
   
        }
      });
      } */
    AddStoneDetailPage.prototype.openstoneModal = function (i) {
        var _this = this;
        console.log(this.tagstoneData[i]["stone_name"]);
        if (this.tagstoneData[i]["stone_name"] == undefined) {
            var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_4__stonesearch_stonesearch__["a" /* StonesearchPage */], { empData: this.stones });
            modal.present();
            modal.onDidDismiss(function (data) {
                if (data != null) {
                    _this.tagstoneData[i]["stone_id"] = data.stone_id;
                    _this.tagstoneData[i]["stone_name"] = data.stone_name;
                }
            });
        }
    };
    AddStoneDetailPage.prototype.openstoneModal2 = function (i) {
        var _this = this;
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_4__stonesearch_stonesearch__["a" /* StonesearchPage */], { empData: this.stones });
        modal.present();
        modal.onDidDismiss(function (data) {
            if (data != null) {
                _this.stoneData[i]["stone_id"] = data.stone_id;
                _this.stoneData[i]["stone_name"] = data.stone_name;
            }
        });
    };
    AddStoneDetailPage.prototype.onKeyUp = function (event) {
        // let newValue = event.target.value;
        // const charCode = (event.which) ? event.which : event.keyCode;
        // if (charCode > 31 && (charCode < 48 || charCode > 57)) {
        //   event.target.value = newValue.slice(0, -1);
        //   return false;
        // }
        // return true;
    };
    AddStoneDetailPage.prototype.get_total = function () {
        // console.log(this.stoneData);
        console.log(this.tagstoneData, 'ppppppppppp');
        console.log(this.stoneData, 'ooooooooooo');
        this.totalvalue = 0;
        // this.totalgram = 0;
        // this.totalct = 0;
        if (this.ptype == "tag") {
            for (var index = 0; index < this.tagstoneData.length; index++) {
                console.log(this.tagstoneData[index].amount);
                // this.totalvalue+=parseFloat(this.tagstoneData[index]['amount']);
                var amt = parseFloat(this.tagstoneData[index].amount);
                if (!isNaN(amt)) {
                    this.totalvalue = parseFloat((this.totalvalue + amt).toFixed(3));
                }
                // naveen 
                //     if(this.tagstoneData[index]['stone_type'] == 1){ 
                //       this.gtype =[]
                //       this.gtype.push(this.gtype_filter[1])  
                //    }else{
                //       this.uomtype = [];
                //       this.uomtype.push(this.gtype_filter[0]) 
                // }
                // if( this.tagstoneData[index]['uom_id'] == 1){
                //   this.totalgram += parseFloat(this.tagstoneData[index]['wt'] )
                // }else if( this.tagstoneData[index]['uom_id'] == 6){
                //   this.totalct += parseFloat(this.tagstoneData[index]['wt'] )
                // }
            }
        }
        else {
            for (var index = 0; index < this.stoneData.length; index++) {
                console.log(this.stoneData[index].stone_price);
                // this.totalvalue+=parseFloat( this.stoneData[index]['stone_price']); 
                var amt = parseFloat(this.stoneData[index].stone_price);
                if (!isNaN(amt)) {
                    this.totalvalue += amt;
                }
                if (this.stoneData[index]['stone_type'] == 1) {
                    this.gtype = [];
                    this.gtype.push(this.gtype_filter[1]);
                }
                else {
                    this.uomtype = [];
                    this.uomtype.push(this.gtype_filter[0]);
                }
                // if( this.tagstoneData[index]['uom_id'] == 1){
                //   this.totalgram += parseFloat(this.tagstoneData[index]['wt'] )
                // }else if( this.tagstoneData[index]['uom_id'] == 6){
                //   this.totalct += parseFloat(this.tagstoneData[index]['wt'] )
                // }
            }
        }
        //  this.totalvalue =Number(totalvalue1 + totalvalue2) 
        console.log(this.totalvalue);
    };
    AddStoneDetailPage.prototype.typechange = function (i) {
        var _this = this;
        if (this.ptype == "tag") {
            console.log(this.tagstoneData[i]['stone_type']);
            this.stones = this.stoneMasData;
            var typestone = this.stones.filter(function (data) { return data['stone_type'] == _this.tagstoneData[i]['stone_type']; });
            this.stones = typestone;
            console.log(this.stones);
            console.log('1 : ', i);
            // this.get_type(i)
        }
        else {
            this.stoneData[i]['uom_id'] = '';
            console.log('12 : ', this.stoneData[i]['stone_type']);
            this.stones = this.stoneMasData;
            var typestone = this.stones.filter(function (data) { return data['stone_type'] == _this.stoneData[i]['stone_type']; });
            this.stones = typestone;
            console.log('13 : ', this.stones);
            console.log('14 : ', i);
            this.get_type(i);
        }
    };
    AddStoneDetailPage.prototype.get_type = function (i) {
        console.log('15 : ', i);
        for (var index = 0; index < this.gtype_filter.length; index++) {
            if (this.stoneData[i]['stone_type'] == 1) {
                this.gtype = [];
                console.log('16 : ', this.gtype);
                this.gtype.push(this.gtype_filter[1]);
            }
            else {
                this.uomtype = [];
                console.log('17 : ', this.gtype);
                this.uomtype.push(this.gtype_filter[0]);
            }
        }
    };
    AddStoneDetailPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: "page-add-stone-detail",template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\modal\add-stone-detail\add-stone-detail.html"*/'<ion-header>\n  <ion-navbar>\n    <ion-title>\n      Add Stone\n    </ion-title>\n    <ion-buttons end *ngIf="action == \'add\'">\n      <!-- <button ion-button icon-only (click)="add()">\n        <ion-icon item-right name="add"></ion-icon>\n    </button> -->\n        <button ion-button icon-only (click)="dismiss()">\n            <ion-icon item-right name="ios-close-outline"></ion-icon>\n        </button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content no-padding>\n  <div *ngIf="ptype == \'tag\'">\n  <ion-card class="errorMsg" padding *ngIf="errorMsg">\n    {{errorMsg}}\n  </ion-card>\n  <ion-card class="msg" padding *ngIf="msg">\n    {{msg}}\n  </ion-card>\n     <!-- <ion-row nowrap style="overflow:scroll">\n      <ion-col col-2>\n        <ion-label color="label-color" stacked>LWT</ion-label>\n\n     </ion-col>\n       <ion-col col-3>\n        <ion-label color="label-color" stacked>Stone <span class="required"> *</span></ion-label>\n\n       </ion-col>\n\n      <ion-col col-2>\n        <ion-label color="label-color" stacked>Pcs <span class="required"> *</span></ion-label>\n\n      </ion-col>\n      <ion-col col-2>\n        <ion-label color="label-color" stacked>Wgt <span class="required"> *</span></ion-label>\n\n      </ion-col>\n      <ion-col col-3>\n        <ion-label color="label-color" stacked>Cal.Type <span class="required"> *</span></ion-label>\n\n      </ion-col>\n\n      <ion-col col-3>\n        <ion-label color="label-color" stacked>Rate <span class="required"> *</span></ion-label>\n\n      </ion-col>\n\n      <ion-col col-3>\n        <ion-label color="label-color" stacked>Amount <span class="required"> *</span></ion-label>\n\n      </ion-col>\n    </ion-row> -->\n\n\n\n    <ion-card *ngFor="let s of tagstoneData;let i = index;">\n     <ion-row>\n       <ion-col style="margin: auto;" col-1>\n        <ion-checkbox  [(ngModel)]="tagstoneData[i][\'lwt\']" (ngModelChange)="checkt(i)" [disabled]="tagstoneData[i][\'show\']"></ion-checkbox>\n       </ion-col>\n       <ion-col col-2 >\n        <ion-select style="border: 1px solid lightgrey;" [(ngModel)]="tagstoneData[i][\'stone_type\']" (ngModelChange)="typechange(i)" interface="popover" placeholder="Type" [disabled]="tagstoneData[i][\'show\']" >\n          <ion-option *ngFor="let s of stoneMasTypes" [value]="s.stone_type">{{s.stone_type_name}}</ion-option>\n        </ion-select>\n    </ion-col>\n      <ion-col col-2 >\n          <!-- <ion-select style="border: 1px solid lightgrey;" [(ngModel)]="tagstoneData[i][\'stone_id\']" placeholder="Stone"  >\n            <ion-option *ngFor="let s of stones" [value]="s.stone_id">{{s.stone_name}}</ion-option>\n          </ion-select> -->\n          <ion-input style="border: 1px solid lightgrey;" (click)="openstoneModal(i)" type="text" placeholder="Stone" [(ngModel)]="tagstoneData[i][\'stone_name\']" readonly></ion-input>\n\n      </ion-col>\n      <ion-col col-1>\n          <ion-input style="border: 1px solid lightgrey;" type="number" (keyup)="onKeyUp($event)" [readonly] ="tag_data?.is_partial == 0" [(ngModel)]="tagstoneData[i][\'pieces\']"  placeholder="Pcs" (ngModelChange)="ctypecheck(i,\'pcs\')"></ion-input>\n      </ion-col>\n      <ion-col col-2>\n        <ion-row no-padding>\n          <ion-col col-12 no-padding >\n              <ion-input style="border: 1px solid lightgrey;" type="number" [readonly] ="tag_data?.is_partial == 0"  [(ngModel)]="tagstoneData[i][\'wt\']"  placeholder="Wgt" (ngModelChange)="ctypecheck(i,\'wt\')"></ion-input>\n          </ion-col>\n\n        </ion-row>\n      </ion-col>\n\n   <ion-col col-3>\n        <ion-select style="border: 1px solid lightgrey;" [(ngModel)]="tagstoneData[i][\'uom_id\']"  [disabled]="tag_data?.is_partial == 0" (ngModelChange)="uomchange()" interface="popover" placeholder="Stone UOM"  >\n          <ion-option *ngFor="let s of gtype_filter" [value]="s.uom_id">{{s[\'uom_name\']}}</ion-option>\n        </ion-select>\n    </ion-col>\n<!-- naveen -->\n      <!-- <ion-col col-3 *ngIf="tagstoneData[i][\'stone_type\'] == 1">\n        <ion-select style="border: 1px solid lightgrey;" [(ngModel)]="tagstoneData[i][\'uom_id\']"  [disabled]="tag_data?.is_partial == 0" (ngModelChange)="uomchange()" interface="popover" placeholder="Stone UOM"  >\n          <ion-option *ngFor="let s of gtype" [value]="s.uom_id">{{s[\'uom_name\']}}</ion-option>\n        </ion-select>\n    </ion-col>\n\n    <ion-col col-3 *ngIf="tagstoneData[i][\'stone_type\'] != 1">\n      <ion-select style="border: 1px solid lightgrey;" [(ngModel)]="tagstoneData[i][\'uom_id\']"  [disabled]="tag_data?.is_partial == 0" (ngModelChange)="uomchange()" interface="popover" placeholder="Stone UOM"  >\n        <ion-option *ngFor="let s of uomtype" [value]="s.uom_id">{{s[\'uom_name\']}}</ion-option>\n      </ion-select>\n  </ion-col> -->\n\n      <ion-col col-3 >\n        <ion-select style="border: 1px solid lightgrey;" [(ngModel)]="tagstoneData[i][\'stone_cal_type\']"  [disabled]="tag_data?.is_partial == 0" interface="popover" placeholder="Cal.Type" (ngModelChange)="ctypecheck(i,\'caltype\')" >\n          <ion-option *ngFor="let s of ctype" [value]="s.stone_cal_type">{{s.name}}</ion-option>\n        </ion-select>\n    </ion-col>\n\n      <ion-col col-3 >\n          <ion-input style="border: 1px solid lightgrey;" type="number" (keyup)="onKeyUp($event)" placeholder="Rate"  [(ngModel)]="tagstoneData[i][\'rate_per_gram\']" (ngModelChange)="ctypecheck(i,\'rate\')"></ion-input>\n      </ion-col>\n\n      <ion-col col-3 >\n        <ion-input style="border: 1px solid lightgrey;" type="number"  [(ngModel)]="tagstoneData[i][\'amount\']" placeholder="Amount" (ngModelChange)="ctypecheck(i,\'amt\')" ></ion-input>\n    </ion-col>\n\n      <ion-col col-2 style="margin:auto" *ngIf="tag_data?.is_partial != 0">\n        <ion-icon style="float: right;" (click)="remove(i)" name="remove"></ion-icon>\n\n        <ion-icon style="float: right;margin-right: 3px;" (click)="add()" name="add"></ion-icon>\n      </ion-col>\n\n\n     </ion-row>\n    </ion-card>\n     </div>\n\n\n     <div *ngIf="ptype != \'tag\'">\n\n      <ion-card class="errorMsg" padding *ngIf="errorMsg">\n        {{errorMsg}}\n      </ion-card>\n      <ion-card class="msg" padding *ngIf="msg">\n        {{msg}}\n      </ion-card>\n         <!-- <ion-row nowrap style="overflow:scroll">\n          <ion-col col-2>\n            <ion-label color="label-color" stacked>LWT</ion-label>\n\n         </ion-col>\n           <ion-col col-3>\n            <ion-label color="label-color" stacked>Stone <span class="required"> *</span></ion-label>\n\n           </ion-col>\n\n          <ion-col col-2>\n            <ion-label color="label-color" stacked>Pcs <span class="required"> *</span></ion-label>\n\n          </ion-col>\n          <ion-col col-2>\n            <ion-label color="label-color" stacked>Wgt <span class="required"> *</span></ion-label>\n\n          </ion-col>\n          <ion-col col-3>\n            <ion-label color="label-color" stacked>Cal.Type <span class="required"> *</span></ion-label>\n\n          </ion-col>\n\n          <ion-col col-3>\n            <ion-label color="label-color" stacked>Rate <span class="required"> *</span></ion-label>\n\n          </ion-col>\n\n          <ion-col col-3>\n            <ion-label color="label-color" stacked>Amount <span class="required"> *</span></ion-label>\n\n          </ion-col>\n        </ion-row> -->\n\n        <ion-row>\n          <ion-col col-2 style="margin: 10px;">\n            <ion-checkbox  [(ngModel)]="old_stone_settings" (ngModelChange)="oldstone()"></ion-checkbox>\n           </ion-col>\n          <ion-col style="margin: auto;font-weight: 600;">STONE VISIBLE</ion-col>\n        </ion-row>\n        <ion-card *ngFor="let s of stoneData;let i = index;">\n         <ion-row>\n           <ion-col style="margin: auto;" col-1>\n            <ion-checkbox  [(ngModel)]="stoneData[i][\'lwt\']" (ngModelChange)="checko(i)"></ion-checkbox>\n\n           </ion-col>\n           <ion-col col-2 >\n            <ion-select style="border: 1px solid lightgrey;" [(ngModel)]="stoneData[i][\'stone_type\']" (ngModelChange)="typechange(i)" interface="popover" placeholder="Type"  >\n              <ion-option *ngFor="let s of stoneMasTypes" [value]="s.stone_type">{{s.stone_type_name}}</ion-option>\n            </ion-select>\n        </ion-col>\n          <ion-col col-2 >\n              <!-- <ion-select style="border: 1px solid lightgrey;" [(ngModel)]="stoneData[i][\'stone_id\']" placeholder="Stone"  >\n                <ion-option *ngFor="let s of stones" [value]="s.stone_id">{{s.stone_name}}</ion-option>\n              </ion-select> -->\n              <ion-input style="border: 1px solid lightgrey;" (click)="openstoneModal2(i)" type="text" placeholder="Stone" [(ngModel)]="stoneData[i][\'stone_name\']" readonly></ion-input>\n\n          </ion-col>\n          <ion-col col-1>\n              <ion-input style="border: 1px solid lightgrey;" type="number" (keyup)="onKeyUp($event)" [(ngModel)]="stoneData[i][\'stone_pcs\']" placeholder="Pcs" (ngModelChange)="ctypecheck2(i,\'pcs\')" ></ion-input>\n          </ion-col>\n          <ion-col col-2>\n            <ion-row no-padding>\n              <ion-col col-12 no-padding >\n                  <ion-input style="border: 1px solid lightgrey;" type="number" (keyup)="onKeyUp($event)" [(ngModel)]="stoneData[i][\'stone_wt\']" placeholder="Wgt" (ngModelChange)="ctypecheck2(i,\'wt\')"></ion-input>\n              </ion-col>\n\n            </ion-row>\n          </ion-col>\n\n          <ion-col col-3 *ngIf="stoneData[i][\'stone_type\'] == 1"  >\n            <ion-select style="border: 1px solid lightgrey;" [(ngModel)]="stoneData[i][\'uom_id\']" (ngModelChange)="uomchange()" interface="popover" placeholder="Stone UOM"  >\n              <ion-option *ngFor="let s of gtype" [value]="s.uom_id">{{s.uom_name}}</ion-option>\n            </ion-select>\n        </ion-col>\n\n        <ion-col col-3  *ngIf="stoneData[i][\'stone_type\'] != 1" >\n          <ion-select style="border: 1px solid lightgrey;" [(ngModel)]="stoneData[i][\'uom_id\']" (ngModelChange)="uomchange()" interface="popover" placeholder="Stone UOM"  >\n            <ion-option *ngFor="let s of uomtype" [value]="s.uom_id">{{s.uom_name}}</ion-option>\n          </ion-select>\n      </ion-col>\n\n          <ion-col col-3 >\n            <ion-select style="border: 1px solid lightgrey;" [(ngModel)]="stoneData[i][\'stone_cal_type\']" interface="popover" placeholder="Cal.Type" (ngModelChange)="ctypecheck2(i,\'caltype\')" >\n              <ion-option *ngFor="let s of ctype" [value]="s.stone_cal_type">{{s.name}}</ion-option>\n            </ion-select>\n        </ion-col>\n\n        <ion-col col-3 >\n          <ion-input style="border: 1px solid lightgrey;" type="number" (keyup)="onKeyUp($event)" [(ngModel)]="stoneData[i][\'rate\']" placeholder="Rate" (ngModelChange)="ctypecheck2(i,\'rate\')"></ion-input>\n      </ion-col>\n\n          <ion-col col-3 >\n              <ion-input style="border: 1px solid lightgrey;" type="number" (keyup)="onKeyUp($event)" [(ngModel)]="stoneData[i][\'stone_price\']" placeholder="Amount" (ngModelChange)="ctypecheck2(i,\'amt\')"></ion-input>\n          </ion-col>\n\n          <ion-col col-2 style="margin:auto">\n            <ion-icon style="float: right;" (click)="remove(i)" name="remove"></ion-icon>\n\n            <ion-icon style="float: right;" (click)="add()" name="add"></ion-icon>\n          </ion-col>\n\n\n         </ion-row>\n         </ion-card>\n         </div>\n\n</ion-content>\n<ion-footer>\n  <ion-card>\n    <ion-row style="text-align: center !important;">\n      <ion-col col-4 style="font-weight: bold;font-size: 15px !important;">\n        Tot.Stn.Amt :  {{totalvalue}}\n      </ion-col>\n      <ion-col col-4 style="font-weight: bold;font-size: 15px !important;">\n        C.Stn.Wgt : {{totalgram}} Gm\n      </ion-col>\n      <ion-col col-4 style="font-weight: bold;font-size: 15px !important;">\n        Dia.Wgt : {{totalct}} Ct\n      </ion-col>\n    </ion-row>\n  </ion-card>\n    <ion-row *ngIf="action == \'add\'">\n      <ion-col col-6>\n        <button ion-button icon-start full color="danger" (click)="dismiss()">Close</button>\n      </ion-col>\n      <ion-col col-6>\n        <button ion-button icon-start full color="primary" (click)="addStone(\'S\')">Save</button>\n      </ion-col>\n    </ion-row>\n    <!-- <ion-row *ngIf="action == \'edit\'">\n      <ion-col col-12>\n        <button ion-button icon-start full color="primary" (click)="updateItem(\'S\')">Update</button>\n      </ion-col>\n    </ion-row> -->\n</ion-footer>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\modal\add-stone-detail\add-stone-detail.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_3__providers_retail__["a" /* RetailProvider */]],
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */],
            __WEBPACK_IMPORTED_MODULE_3__providers_retail__["a" /* RetailProvider */],
            __WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["B" /* ViewController */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */]])
    ], AddStoneDetailPage);
    return AddStoneDetailPage;
}());

//# sourceMappingURL=add-stone-detail.js.map

/***/ }),

/***/ 195:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BluetoothPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ionic_native_bluetooth_serial__ = __webpack_require__(409);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__home_home__ = __webpack_require__(31);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




/**
 * Generated class for the BluetoothPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
// @IonicPage()
var BluetoothPage = /** @class */ (function () {
    function BluetoothPage(events, load, toastCtrl, alertCtrl, bluetoothSerial, navCtrl, navParams) {
        this.events = events;
        this.load = load;
        this.toastCtrl = toastCtrl;
        this.alertCtrl = alertCtrl;
        this.bluetoothSerial = bluetoothSerial;
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.listToggle = false;
        this.pairedDeviceID = 0;
        this.dataSend = "";
        this.dataSend = this.navParams.get('file');
        this.checkBluetoothEnabled();
    }
    BluetoothPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad BluetoothPage');
    };
    BluetoothPage.prototype.checkBluetoothEnabled = function () {
        var _this = this;
        this.bluetoothSerial.isEnabled().then(function (success) {
            _this.listPairedDevices();
        }, function (error) {
            console.log(error);
            _this.showError("Please Enable Bluetooth");
        });
    };
    BluetoothPage.prototype.listPairedDevices = function () {
        var _this = this;
        this.bluetoothSerial.list().then(function (success) {
            _this.pairedList = success;
            _this.listToggle = true;
            console.log(success);
        }, function (error) {
            console.log(error);
            _this.showError("Please Enable Bluetooth");
            _this.listToggle = false;
        });
    };
    BluetoothPage.prototype.selectDevice = function () {
        console.log(this.pairedList);
        console.log(this.pairedDeviceID);
        var connectedDevice = this.pairedList[this.pairedDeviceID];
        if (!connectedDevice.address) {
            this.showError('Select Paired Device to connect');
            return;
        }
        var address = connectedDevice.address;
        var name = connectedDevice.name;
        this.connect(address);
    };
    BluetoothPage.prototype.connect = function (address) {
        var _this = this;
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        console.log(address);
        // Attempt to connect device with specified address, call app.deviceConnected if success
        this.bluetoothSerial.connect(address).subscribe(function (success) {
            console.log(success);
            _this.deviceConnected();
            loader.dismiss();
            _this.showToast("Successfully Connected");
        }, function (error) {
            console.log(error);
            loader.dismiss();
            _this.showError("Error:Connecting to Device");
        });
    };
    BluetoothPage.prototype.deviceConnected = function () {
        var _this = this;
        // Subscribe to data receiving as soon as the delimiter is read
        this.bluetoothSerial.subscribe('\n').subscribe(function (success) {
            _this.handleData(success);
            _this.showToast("Connected Successfullly");
            console.log(success);
        }, function (error) {
            console.log(error);
            _this.showError(error);
        });
    };
    BluetoothPage.prototype.deviceDisconnected = function () {
        // Unsubscribe from data receiving
        this.bluetoothSerial.disconnect();
        this.showToast("Device Disconnected");
    };
    BluetoothPage.prototype.handleData = function (data) {
        this.showToast(data);
    };
    BluetoothPage.prototype.sendData = function () {
        var _this = this;
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        this.bluetoothSerial.write(this.dataSend['est_printable']).then(function (success) {
            loader.dismiss();
            _this.showToast(success);
            console.log(success);
        }, function (error) {
            console.log(error);
            loader.dismiss();
            _this.showError(error);
        });
    };
    BluetoothPage.prototype.showError = function (error) {
        var alert = this.alertCtrl.create({
            title: 'Error',
            subTitle: error,
            buttons: ['Dismiss']
        });
        alert.present();
    };
    BluetoothPage.prototype.showToast = function (msj) {
        var toast = this.toastCtrl.create({
            message: msj,
            duration: 1000
        });
        toast.present();
    };
    BluetoothPage.prototype.goto = function () {
        this.navCtrl.setRoot(__WEBPACK_IMPORTED_MODULE_3__home_home__["a" /* HomePage */]);
    };
    BluetoothPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    BluetoothPage.prototype.ionViewWillEnter = function () {
        this.events.publish('entered', true);
        this.events.publish('pageno', 1);
    };
    BluetoothPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-bluetooth',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\bluetooth\bluetooth.html"*/'<!--\n  Generated template for the BluetoothPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n-->\n<ion-header>\n  <ion-navbar>\n    <button ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n    <ion-title style="text-align: center;\n    margin-right: 15%;" (click)="goto()"><img class="header-logo" src=\'assets/header.svg\'/></ion-title>\n  </ion-navbar>\n  <!-- <ion-toolbar text-center *ngIf="page_type == \'print\'">\n      <ion-title>Print Estimation</ion-title>\n  </ion-toolbar> -->\n</ion-header>\n\n\n<ion-content padding>\n  <ion-row>\n    <ion-col no-padding text-wrap col-12>\n      <div class="theme-title-blk"> <ion-icon name="pricetags"></ion-icon> Bluetooth Devices  <ion-badge color="light" float-right></ion-badge></div>\n    </ion-col>\n    </ion-row>\n  <ion-row>\n    <ion-col>\n      <ion-list radio-group [(ngModel)]="pairedDeviceID" *ngIf="listToggle">\n        <ion-item *ngFor="let i of pairedList;let j=index">\n          <ion-label style="color: black ;">{{i.name}}</ion-label>\n          <ion-radio value="{{j}}" ></ion-radio>\n        </ion-item>\n      </ion-list>\n    </ion-col>\n  </ion-row>\n  <ion-row>\n    <ion-col col-4>\n      <button ion-button  class="submit-button" (click)="listPairedDevices()">\n        <ion-icon name="refresh"></ion-icon>&nbsp;Refresh </button>\n    </ion-col>\n    <ion-col col-4>\n      <button ion-button  class="submit-button" *ngIf="listToggle" (click)="selectDevice()">\n        <ion-icon name="bluetooth"></ion-icon>&nbsp;Connect </button>\n    </ion-col>\n    <ion-col col-4>\n      <button ion-button  class="submit-button" (click)="sendData()">\n        <ion-icon name="send"></ion-icon>&nbsp;Print\n      </button>\n    </ion-col>\n  </ion-row>\n\n\n \n  \n  <!-- <ion-list>\n    <ion-item>\n      <ion-label floating>Type The Data You want to Send</ion-label>\n      <ion-input type="text" name="datasend" [(ngModel)]="dataSend"></ion-input>\n    </ion-item>\n  </ion-list> -->\n  <!-- <button ion-button full class="submit-button" (click)="sendData()">\n    <ion-icon name="send"></ion-icon>&nbsp;Send Data Via Bluetooth\n  </button> -->\n</ion-content>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\bluetooth\bluetooth.html"*/,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["b" /* AlertController */], __WEBPACK_IMPORTED_MODULE_2__ionic_native_bluetooth_serial__["a" /* BluetoothSerial */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */]])
    ], BluetoothPage);
    return BluetoothPage;
}());

//# sourceMappingURL=bluetooth.js.map

/***/ }),

/***/ 196:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SupprodetailPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ionic_native_toast__ = __webpack_require__(62);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_retail__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__ionic_native_file_transfer__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__ionic_native_file__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__ionic_native_transfer__ = __webpack_require__(58);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__ionic_native_camera__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__angular_http__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__pages_cart_cart__ = __webpack_require__(27);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__pages_login_login__ = __webpack_require__(63);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__angular_platform_browser__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__img_editor_editor__ = __webpack_require__(71);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_ngx_image_compress__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__ionic_native_file_path__ = __webpack_require__(24);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__ionic_native_file_chooser__ = __webpack_require__(50);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__ionic_native_media_capture__ = __webpack_require__(93);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__modal_customer_customer__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__addstone2_addstone2__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__charges_charges__ = __webpack_require__(94);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__modal_employee_employee__ = __webpack_require__(49);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__ionic_native_file_opener__ = __webpack_require__(51);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
























/**
 * Generated class for the ProductDetailPage page.
 *
 * See http://ionicframework.com/docs/components/#navigation for more info
 * on Ionic pages and navigation.
 */
var SupprodetailPage = /** @class */ (function () {
    function SupprodetailPage(fileOpener, modal, retail, mediaCapture, fileChooser, filePath, imageCompress, cd, sanitizer, commonservice, navCtrl, platform, navParams, loadingCtrl, toastCtrl, event, toast, actionSheetCtrl, camera, transfer, ftransfer, file, http, alertCtrl) {
        var _this = this;
        this.fileOpener = fileOpener;
        this.modal = modal;
        this.retail = retail;
        this.mediaCapture = mediaCapture;
        this.fileChooser = fileChooser;
        this.filePath = filePath;
        this.imageCompress = imageCompress;
        this.cd = cd;
        this.sanitizer = sanitizer;
        this.commonservice = commonservice;
        this.navCtrl = navCtrl;
        this.platform = platform;
        this.navParams = navParams;
        this.loadingCtrl = loadingCtrl;
        this.toastCtrl = toastCtrl;
        this.event = event;
        this.toast = toast;
        this.actionSheetCtrl = actionSheetCtrl;
        this.camera = camera;
        this.transfer = transfer;
        this.ftransfer = ftransfer;
        this.file = file;
        this.http = http;
        this.alertCtrl = alertCtrl;
        this._username = 'lmxretail';
        this._password = 'lmx@2017';
        this.checkStatus = false;
        /* public photos : any;
        public base64Image : string; */
        this.targetPaths = [];
        this.vidtargetPaths = [];
        this.filenames = [];
        this.vidfilenames = [];
        this.charges = [];
        this.purityname = "";
        this.namey = 'D0wqd2IyB1w';
        this.type = 1;
        this.lastImage = null;
        this.productdet = this.navParams.get('proid');
        this.video = '';
        this.slidess = this.navParams.get('single');
        this.productid = 0;
        this.inf = false;
        this.gif = false;
        this.temp = [{ 'name': 'Chennai' }, { 'name': 'Coimbatore' }, { 'name': 'Madurai' }, { 'name': 'Salem' }];
        // footerScrollConfig: ScrollHideConfig= { cssProperty: 'margin-bottom', maxValue: undefined };
        this.base = "data:image/png;base64,";
        this.showdiamond = [];
        this.showstone = [];
        this.productItems1 = [];
        this.calc = 350;
        this.top = 0;
        this.MAX_FILE_SIZE = 60000000;
        this.ALLOWED_MIME_TYPE = "video/mp4";
        this.ids = '';
        this.idw = '';
        this.show = false;
        this.progress = 0;
        this.stoneMasData = [];
        this.stone_details = [];
        this.slideimg = this.productdet['TagImage'];
        this.empData = JSON.parse(localStorage.getItem('empDetail'));
        this.employees = [];
        this.othermetals = [];
        this.supplier = this.navParams.get('supplier');
        this.stoneMasTypes = [];
        this.totalvalue = 0;
        this.totalgram = 0;
        this.totalct = 0;
        console.log(this.supplier);
        console.log('prod detail : ', this.productdet);
        var currentDate = new Date();
        this.minDate = currentDate.toISOString();
        this.yearValues = this.generateFutureYears(currentDate.getFullYear(), 10);
        // this.selectedOption = 'option1'
        this.productdet['rate_type'] = 2;
        this.productdet['balance_type'] = 2;
        this.productdet['empname'] = '';
        this.commonservice.getBranchEmployees(this.empData['id_branch']).then(function (data) {
            _this.employees = data;
        });
        // this.productdet = navParams.get( 'proid' );
        // this.productdet['TagImage'] = navParams.get( 'proid' )['arr'][0]['TagImage'];
        // this.slidess = navParams.get( 'proid' )['arr'];
        var i = this.slidess.findIndex(function (data) { return data['TagNo'] == _this.productdet['TagNo']; });
        if (i >= 0) {
            this.slidess.splice(i, 1);
            this.slidess.unshift(this.productdet);
        }
        this.productdet['id_purity'] = this.productdet['purity_id'];
        console.log(this.productdet);
        console.log(this.slidess);
        console.log(this.productdet.hasOwnProperty('weight'));
        // this.show = true;
        this.showstone = this.productdet['TagStoneDetails'].length > 0 ? this.productdet['TagStoneDetails'].filter(function (data) { return data['Nature'] != 'DIAMOND'; }) : [];
        this.stone_details = this.productdet.hasOwnProperty('TagStoneDetails') ? this.productdet['TagStoneDetails'] : [];
        console.log(this.stone_details);
        this.othermetals = this.productdet.hasOwnProperty('other_metal_details') ? this.productdet['other_metal_details'] : [];
        console.log(this.othermetals);
        console.log('show stone:', this.showstone);
        for (var index = 0; index < this.showstone.length; index++) {
            console.log(this.showstone[index].stone_price);
            this.totalvalue += parseFloat(this.showstone[index].stone_price);
            if (this.showstone[index]['uom_id'] == 1) {
                this.totalgram += parseFloat(this.showstone[index]['stone_wt']);
            }
            else if (this.showstone[index]['uom_id'] == 6) {
                this.totalct += parseFloat(this.showstone[index]['stone_wt']);
            }
            console.log(this.totalvalue);
            console.log(this.totalgram);
            console.log(this.totalct);
        }
        // this.productdet['purities'] = [];
        // this.productdet['weights'] = [];
        // this.productdet['sizes'] = [];
        // this.productdet['weight'] = '';
        // this.productdet['pcs'] = '';
        // this.productdet['due_date'] = '';
        // this.productdet['id_weight'] = '';
        // this.productdet['id_purity'] = '';
        // this.productdet['id_size'] = '';
        // this.productdet['sample_details'] = '';
        this.showdiamond = this.productdet['TagStoneDetails'].length > 0 ? this.productdet['TagStoneDetails'].filter(function (data) { return data['Nature'] == 'DIAMOND'; }) : [];
        this._header = new __WEBPACK_IMPORTED_MODULE_9__angular_http__["a" /* Headers */]();
        this._header.append('Authorization', 'Basic ' + btoa(this._username + ':' + this._password));
        this.productItems1 = JSON.parse(localStorage.getItem('wish')) != null ? JSON.parse(localStorage.getItem('wish')).filter(function (data) { return data['TagNo'] == _this.productdet['TagNo']; }) : [];
        setTimeout(function () {
            _this.content.resize();
            console.log('271892718927');
        }, 300);
        var empData = JSON.parse(localStorage.getItem('empDetail'));
        this.retail.getAllStoneMaters({ "id_branch": empData['id_branch'] }).then(function (data) {
            _this.stoneMasData = data;
        });
        this.retail.getAllStoneTypes({ "id_branch": empData['id_branch'] }).then(function (data) {
            _this.stoneMasTypes = data;
        });
        this.retail.getAllTaxGroupItems().then(function (data) {
            _this.taxGroupItems = data;
            _this.event.publish('taxGroup:loaded', true);
            _this.commonservice.getCurrencyAndSettings({ "id_metalrates": '', "id_branch": empData['id_branch'] }).then(function (data) {
                _this.metalRate = data.metal_rates;
                _this.calculate('');
            });
        });
        this.commonservice.getdivision().then(function (data) {
            _this.productdet['allcharges'] = data['charges'];
            // loader.dismiss();
        });
        console.log(this.productdet, '0000000000000');
    }
    SupprodetailPage_1 = SupprodetailPage;
    SupprodetailPage.prototype.generateFutureYears = function (startYear, numYears) {
        var futureYears = [];
        for (var i = 0; i < numYears; i++) {
            futureYears.push(startYear + i);
        }
        return futureYears;
    };
    SupprodetailPage.prototype.ionViewDidLoad = function () {
    };
    SupprodetailPage.prototype.photoURL = function (data) {
        // this.video.safeurl = this.sanitizer.bypassSecurityTrustResourceUrl('https://www.youtube.com/embed/'+data) ;
        //    this.video  =  this.sanitizer.bypassSecurityTrustResourceUrl(this.video) ;
        // return this.sanitizer.bypassSecurityTrustResourceUrl(this.video) ;
        ;
    };
    SupprodetailPage.prototype.back = function () {
        if (this.slides.getActiveIndex() != 0) {
            this.slides.slidePrev();
        }
    };
    SupprodetailPage.prototype.next = function () {
        this.slides.slideNext();
    };
    // ionViewDidLoad() {
    // }
    SupprodetailPage.prototype.presentToast = function (text) {
        var toast = this.toastCtrl.create({
            message: text,
            duration: 3000,
            position: 'middle'
        });
        toast.present();
    };
    SupprodetailPage.prototype.changeImage = function (image, type, video) {
        if (type == 2) {
            this.type = type;
            console.log('test');
            this.content.scrollToTop();
            console.log(this.type);
        }
        else {
            this.productdet.prodefaultimg = image;
            this.type = type;
            console.log(this.type);
        }
    };
    SupprodetailPage.prototype.addtocart = function (product) {
        var _this = this;
        var loginstatus = JSON.parse(localStorage.getItem('check'));
        if (loginstatus == false || loginstatus == null) {
            // let toast = this.toastCtrl.create( {
            //     message: 'Please Login / Register Your Account to Checkout Your Item',
            //     duration: 4000,
            //     position: 'middle'
            // } );
            // toast.present();
            var alert_1 = this.alertCtrl.create({
                title: 'Dhamu Chettiar Nagai Maligai',
                message: 'Please Login / Register Your Account to View Item',
                enableBackdropDismiss: false,
                buttons: [
                    {
                        text: 'SignIn',
                        role: 'cancel',
                        handler: function () {
                            _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_11__pages_login_login__["a" /* LoginPage */]);
                        }
                    },
                ]
            });
            alert_1.present();
        }
        if (loginstatus == true) {
            var loader = this.loadingCtrl.create({});
            loader.present();
            if ((product.is_chain && parseFloat(product.reqweight) < parseFloat(product.order_minweight)) || product.id_purity == undefined) {
                console.log(product);
                if (product.is_chain && parseFloat(product.reqweight) < parseFloat(product.order_minweight)) {
                    if (this.platform.is('cordova')) {
                        this.toast.show('Minimum order weight is ' + product.order_minweight + ' g', 'short', 'center').subscribe(function (toast) {
                            console.log(toast);
                        });
                    }
                    else {
                        var toast = this.toastCtrl.create({
                            message: 'Minimum order weight is ' + product.order_minweight + ' g',
                            duration: 5000,
                            position: 'middle'
                        });
                        toast.present();
                    }
                }
                else if (product.id_purity == undefined) {
                    if (this.platform.is('cordova')) {
                        this.toast.show('Select purity', 'short', 'center').subscribe(function (toast) {
                            console.log(toast);
                        });
                    }
                    else {
                        var toast = this.toastCtrl.create({
                            message: 'Select purity',
                            duration: 4000,
                            position: 'middle'
                        });
                        toast.present();
                    }
                }
                /* else if ( product.sizeorlen == undefined ) {
                    if ( this.platform.is( 'cordova' ) ) {
                        this.toast.show( 'Enter size or length', 'short', 'center' ).subscribe(
                            toast => {
                                console.log( toast );
                            }
                        );
                    } else {
                        let toast = this.toastCtrl.create( {
                            message: 'Enter size or length',
                            duration: 5000,
                            position: 'middle'
                        } );
                        toast.present();
                    }
                } */
                loader.dismiss();
            }
            else {
                if (localStorage.getItem('appcartitems') != null) {
                    var curr_cartproducts = JSON.parse(localStorage.getItem('appcartitems'));
                    var deliveryorders_1 = [];
                    var prodavail_1 = true;
                    curr_cartproducts.forEach(function (orders) {
                        if (orders.id_product == product.id_product && orders.id_purity == product.id_purity && product.sizeorlen == orders.sizeorlen && product.reqweight == orders.reqweight) {
                            orders.qty = parseInt(orders.qty) + parseInt(product.qty);
                            prodavail_1 = false;
                        }
                        deliveryorders_1.push(orders);
                    });
                    if (prodavail_1) {
                        deliveryorders_1.push(product);
                    }
                    localStorage.setItem('appcartitems', JSON.stringify(deliveryorders_1));
                }
                else {
                    var deliveryorders = [];
                    deliveryorders.push(product);
                    localStorage.setItem('appcartitems', JSON.stringify(deliveryorders));
                }
                loader.dismiss();
                if (this.platform.is('cordova')) {
                    this.toast.show('Item added to cart', 'short', 'center').subscribe(function (toast) {
                        console.log(toast);
                    });
                }
                else {
                    var toast = this.toastCtrl.create({
                        message: 'Item added to cart',
                        duration: 3000,
                        position: 'middle'
                    });
                    toast.present();
                }
                this.event.publish('cart:changed', (JSON.parse(localStorage.getItem('appcartitems')).length));
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_10__pages_cart_cart__["a" /* CartPage */], { value: '' });
                //this.navCtrl.pop();
            }
        }
    };
    SupprodetailPage.prototype.grid = function () {
        console.log("grid");
        this.checkStatus = true;
    };
    SupprodetailPage.prototype.listgrid = function () {
        console.log("listgrid");
        this.checkStatus = false;
    };
    SupprodetailPage.prototype.openProductdetails = function (id_design) {
        this.navCtrl.push(SupprodetailPage_1, { proid: id_design });
    };
    SupprodetailPage.prototype.ionViewWillLeave = function () {
        this.event.publish('entered', false);
    };
    SupprodetailPage.prototype.ionViewWillEnter = function () {
        var _this = this;
        this.event.publish('entered', true);
        this.event.publish('pageno', 20);
        if (localStorage.getItem('dip') != '') {
            var path = JSON.parse(localStorage.getItem('dip'));
            var name = JSON.parse(localStorage.getItem('din'));
            console.log("dip : " + path + " -- " + "din : " + name);
        }
        if (path != null && path != undefined && path != '' && this.navParams.get('state') == true) {
            this.targetPaths.push(path);
            console.log(this.targetPaths);
            this.filenames.push(name);
            console.log(this.filenames);
            this.productdet['targetPaths'] = this.targetPaths;
            this.productdet['sample_images'] = this.filenames;
        }
        this.event.subscribe('img', function (userEventData) {
            // this.productdet['sample_images'] = userEventData;
        });
        this.event.subscribe('tar', function (userEventData) {
            console.log(userEventData);
            _this.targetPaths.pop();
            _this.targetPaths.push(userEventData);
            console.log(_this.targetPaths);
        });
        this.event.subscribe('file', function (userEventData) {
            console.log(userEventData);
            _this.filenames.pop();
            _this.filenames.push(userEventData);
            console.log(_this.filenames);
            _this.productdet['sample_images'] = _this.filenames;
        });
        this.event.subscribe('err', function (userEventData) {
            _this.targetPaths.splice(userEventData, 1);
        });
        this.event.subscribe('errr', function (userEventData) {
            _this.filenames.splice(userEventData, 1);
        });
        console.log(this.productdet);
        console.log(this.targetPaths);
    };
    SupprodetailPage.prototype.fixprice = function (data) {
        //  console.log('price : ',data);
        var temp1 = parseFloat(data).toFixed(3);
        // let temp:any = parseFloat(temp1);
        return temp1;
        // return temp.toLocaleString(undefined, {minimumFractionDigits: 3,
        //   maximumFractionDigits: 3});
        // return parseFloat(data).toLocaleString(undefined, {minimumFractionDigits: 2,
        //   maximumFractionDigits: 2});
        // return parseFloat(data).toFixed(2);
    };
    SupprodetailPage.prototype.price = function (data) {
        var temp1 = parseFloat(data).toFixed();
        return temp1;
    };
    SupprodetailPage.prototype.addw = function () {
        var _this = this;
        var productItems = JSON.parse(localStorage.getItem('wish')) != null ? JSON.parse(localStorage.getItem('wish')) : [];
        if (productItems.length > 0) {
            var productItems1 = productItems.filter(function (data) { return data['TagNo'] == _this.productdet['TagNo']; });
            if (productItems1.length == 0) {
                productItems.push(this.productdet);
                localStorage.setItem('wish', JSON.stringify(productItems));
                this.presentToast('Product Wishlisted Successfully');
                this.productItems1 = JSON.parse(localStorage.getItem('wish')) != null ? JSON.parse(localStorage.getItem('wish')).filter(function (data) { return data['TagNo'] == _this.productdet['TagNo']; }) : [];
            }
            else {
                var index = productItems.findIndex(function (data) { return data['TagNo'] == _this.productdet['TagNo']; });
                productItems.splice(index, 1);
                localStorage.setItem('wish', JSON.stringify(productItems));
                this.presentToast('Product Removed Successfully');
                this.productItems1 = JSON.parse(localStorage.getItem('wish')) != null ? JSON.parse(localStorage.getItem('wish')).filter(function (data) { return data['TagNo'] == _this.productdet['TagNo']; }) : [];
            }
        }
        else {
            localStorage.setItem('wish', JSON.stringify([this.productdet]));
            this.presentToast('Product Wishlisted Successfully');
            this.productItems1 = JSON.parse(localStorage.getItem('wish')) != null ? JSON.parse(localStorage.getItem('wish')).filter(function (data) { return data['TagNo'] == _this.productdet['TagNo']; }) : [];
        }
    };
    SupprodetailPage.prototype.scrolling = function (event) {
        if (event.scrollTop == 0) {
            this.calc = 350;
        }
        else {
            this.calc = 350 - event.scrollTop;
            this.content.resize();
            this.cd.detectChanges();
        }
        // your content here for scrolling
    };
    SupprodetailPage.prototype.proceedToWishlist = function () {
        console.log(this.productdet);
        if (this.productdet['id_purity'] == '' || this.productdet['weight'] == '' || this.productdet['pcs'] == '' || this.productdet['due_date'] == '' || this.productdet['empname'] == '') {
            console.log(this.productdet);
            if (this.productdet['id_purity'] == '' && this.supplier == true) {
                this.commonservice.presentToast('Please Select Purity *', 1000);
            }
            else if (this.productdet['weight'] == '' && this.supplier == true) {
                this.commonservice.presentToast('Please Enter Weight *', 1000);
            }
            else if (this.productdet['pcs'] == '') {
                this.commonservice.presentToast('Please Enter Pieces *', 1000);
            }
            else if (this.productdet['due_date'] == '') {
                this.commonservice.presentToast('Please Enter No of Days *', 1000);
            }
            else if (this.productdet['empname'] == '') {
                this.commonservice.presentToast('Please Enter Employee *', 1000);
            }
        }
        else {
            if (this.productdet['from_weight'] > 0 && this.productdet['to_weight'] > 0) {
                if (parseFloat(this.productdet.weight) >= parseFloat(this.productdet['from_weight']) && parseFloat(this.productdet.weight) <= parseFloat(this.productdet['to_weight'])) {
                    var empData = JSON.parse(localStorage.getItem('empDetail'));
                    console.log(empData);
                    this.productdet['net_wt'] = this.productdet['weight'] - this.productdet['less_wt'];
                    this.productdet['net_wt'] = this.retail.setAsNumber(this.productdet['net_wt']).toFixed(3);
                    this.productdet['actual_net_wt'] = this.productdet['net_wt'];
                    var wishlistData = {
                        'id_customer': '',
                        'id_branch': empData['id_branch'],
                        // 'id_employee'     : empData['id_employee'],
                        'id_employee': this.productdet['id_employee'],
                        'item_type': 3,
                        'is_customized': 1,
                        'id_product': this.productdet['product_id'],
                        'design_no': this.productdet['design_id'],
                        'id_sub_design': this.productdet['id_sub_design'],
                        'id_mc_type': this.productdet['mc_type'],
                        'mc': this.productdet['mc_value'],
                        'stn_amt': 0,
                        'due_date': this.productdet['due_date'],
                        'length': this.productdet['len'],
                        'width': this.productdet['width'],
                        'dia': this.productdet['dia'],
                        'weight': this.productdet['weight'],
                        'id_size': this.productdet['id_size'],
                        'id_weight': this.productdet['id_weight'],
                        'pcs': this.productdet['pcs'],
                        'id_purity': this.productdet['id_purity'],
                        'hook_type': this.productdet['hook_type'],
                        'sample_details': this.productdet['sample_details'],
                        'image': this.productdet['TagImage'],
                        'targetPaths': this.productdet['targetPaths'],
                        'sample_images': this.productdet['sample_images'],
                        'sample_videos': this.vidfilenames,
                        'stones': this.productdet['TagStoneDetails'],
                        'stone_price': this.productdet['stone_price'],
                        'status': 1,
                        'id_wishlist': this.productdet['id_wishlist'],
                        'sub_design_name': this.productdet['sub_design_name'],
                        'design_name': this.productdet['design_name'],
                        'product_name': this.productdet['product_name'],
                        'id_category': this.productdet['id_category'],
                        'id_supp_catalogue': this.productdet['id_supp_catalogue'],
                        'stone_wt': this.productdet['stone_wt'],
                        'stone_details': this.productdet['stone_details'],
                        'MetalCode': this.productdet['MetalCode'],
                        'calculation_based_on': this.productdet['calculation_based_on'],
                        'sales_value': this.productdet['sales_value'],
                        'tgrp_id': this.productdet['tgrp_id'],
                        'less_wt': this.productdet['less_wt'],
                        'net_wt': this.productdet['net_wt'],
                        'charge_value': this.productdet['charge_value'],
                        'id_charge': this.productdet['id_charge'],
                        'charges': this.productdet['charges'],
                        'wast_percent': this.productdet['retail_max_wastage_percent'],
                        'metal_name': this.productdet['MetalName'],
                        'sub_product': this.productdet['sub_design_name'],
                        'tag_num': this.productdet['TagNo'],
                        'gross_wt': this.productdet['GrossWt'],
                        'Purity': this.productdet['Purity'],
                        'rate': this.productdet['Rate'],
                        'tax_group_id': this.productdet['tgrp_id'],
                        'retail_max_wastage_percent': this.productdet['retail_max_wastage_percent'],
                        'market_metal_type': this.productdet['market_metal_type'],
                        'market_rate_field': this.productdet['market_rate_field'],
                        'metal_type': this.productdet['rate_field'],
                        'rate_type': this.productdet['rate_type'],
                        'balance_type': this.productdet['balance_type'],
                        'other_metal_details': this.productdet['other_metal_details'],
                        'total_tax_rate': this.productdet['tax_price'],
                        'order_rate': this.productdet['rate_per'],
                        'taxable': this.productdet['taxable']
                    };
                    if (localStorage.getItem('carts') == null) {
                        localStorage.setItem('carts', JSON.stringify({ "id_branch": empData['id_branch'], "id_employee": empData['id_employee'], "id_customer": '', "status": 1, "items": [wishlistData] }));
                    }
                    else {
                        var local = JSON.parse(localStorage.getItem('carts'))['items'];
                        console.log(local);
                        local.push(wishlistData);
                        console.log(local);
                        localStorage.setItem('carts', JSON.stringify({ "id_branch": empData['id_branch'], "id_employee": empData['id_employee'], "id_customer": '', "status": 1, "items": local }));
                    }
                    // this.loader.dismiss();
                    this.commonservice.presentToast("Product added to cart successfully", '');
                    this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_10__pages_cart_cart__["a" /* CartPage */]);
                }
                else {
                    this.commonservice.presentToast('Please Enter Valid Weight *', 1000);
                }
            }
            else {
                var empData = JSON.parse(localStorage.getItem('empDetail'));
                console.log(empData);
                this.productdet['net_wt'] = this.productdet['weight'] - this.productdet['less_wt'];
                this.productdet['net_wt'] = this.retail.setAsNumber(this.productdet['net_wt']).toFixed(3);
                this.productdet['actual_net_wt'] = this.productdet['net_wt'];
                var wishlistData = {
                    'id_customer': '',
                    'id_branch': empData['id_branch'],
                    // 'id_employee'     : empData['id_employee'],
                    'id_employee': this.productdet['id_employee'],
                    'item_type': 3,
                    'is_customized': 1,
                    'id_product': this.productdet['product_id'],
                    'design_no': this.productdet['design_id'],
                    'id_sub_design': this.productdet['id_sub_design'],
                    'id_mc_type': this.productdet['mc_type'],
                    'mc': this.productdet['mc_value'],
                    'stn_amt': 0,
                    'due_date': this.productdet['due_date'],
                    'length': this.productdet['len'],
                    'width': this.productdet['width'],
                    'dia': this.productdet['dia'],
                    'weight': this.productdet['weight'],
                    'id_size': this.productdet['id_size'],
                    'id_weight': this.productdet['id_weight'],
                    'pcs': this.productdet['pcs'],
                    'id_purity': this.productdet['id_purity'],
                    'hook_type': this.productdet['hook_type'],
                    'sample_details': this.productdet['sample_details'],
                    'image': this.productdet['TagImage'],
                    'targetPaths': this.productdet['targetPaths'],
                    'sample_images': this.productdet['sample_images'],
                    'sample_videos': this.vidfilenames,
                    'stones': this.productdet['TagStoneDetails'],
                    'stone_price': this.productdet['stone_price'],
                    'status': 1,
                    'id_wishlist': this.productdet['id_wishlist'],
                    'sub_design_name': this.productdet['sub_design_name'],
                    'design_name': this.productdet['design_name'],
                    'product_name': this.productdet['ProductName'],
                    'id_category': this.productdet['id_category'],
                    'id_supp_catalogue': this.productdet['id_supp_catalogue'],
                    'stone_wt': this.productdet['stone_wt'],
                    'stone_details': this.productdet['stone_details'],
                    'MetalCode': this.productdet['MetalCode'],
                    'calculation_based_on': this.productdet['calculation_based_on'],
                    'sales_value': this.productdet['sales_value'],
                    'tgrp_id': this.productdet['tgrp_id'],
                    'less_wt': this.productdet['less_wt'],
                    'net_wt': this.productdet['net_wt'],
                    'charge_value': this.productdet['charge_value'],
                    'id_charge': this.productdet['id_charge'],
                    'charges': this.productdet['charges'],
                    'wast_percent': this.productdet['retail_max_wastage_percent'],
                    'metal_name': this.productdet['MetalName'],
                    'sub_product': this.productdet['sub_design_name'],
                    'tag_num': this.productdet['TagNo'],
                    'gross_wt': this.productdet['GrossWt'],
                    'Purity': this.productdet['Purity'],
                    'rate': this.productdet['Rate'],
                    'tax_group_id': this.productdet['tgrp_id'],
                    'retail_max_wastage_percent': this.productdet['retail_max_wastage_percent'],
                    'market_metal_type': this.productdet['market_metal_type'],
                    'market_rate_field': this.productdet['market_rate_field'],
                    'metal_type': this.productdet['rate_field'],
                    'rate_type': this.productdet['rate_type'],
                    'balance_type': this.productdet['balance_type'],
                    'other_metal_details': this.productdet['other_metal_details'],
                    'total_tax_rate': this.productdet['tax_price'],
                    'order_rate': this.productdet['rate_per'],
                    'taxable': this.productdet['taxable'],
                    'Status': this.productdet['Status']
                };
                if (localStorage.getItem('carts') == null) {
                    localStorage.setItem('carts', JSON.stringify({ "id_branch": empData['id_branch'], "id_employee": empData['id_employee'], "id_customer": '', "status": 1, "items": [wishlistData] }));
                }
                else {
                    var local = JSON.parse(localStorage.getItem('carts'))['items'];
                    console.log(local);
                    local.push(wishlistData);
                    console.log(local);
                    localStorage.setItem('carts', JSON.stringify({ "id_branch": empData['id_branch'], "id_employee": empData['id_employee'], "id_customer": '', "status": 1, "items": local }));
                }
                // this.loader.dismiss();
                this.commonservice.presentToast("Product added to cart successfully", '');
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_10__pages_cart_cart__["a" /* CartPage */]);
            }
        }
    };
    SupprodetailPage.prototype.presentActionSheet = function () {
        var _this = this;
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Select Image Source',
            buttons: [
                {
                    text: 'Load from Gallery',
                    handler: function () {
                        _this.takePicture(_this.camera.PictureSourceType.PHOTOLIBRARY);
                    }
                },
                {
                    text: 'Take Picture',
                    handler: function () {
                        _this.takePicture(_this.camera.PictureSourceType.CAMERA);
                    }
                },
                {
                    text: 'Cancel',
                    role: 'cancel'
                }
            ]
        });
        actionSheet.present();
    };
    SupprodetailPage.prototype.presentActionSheetvideo = function () {
        var _this = this;
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Select Video Source',
            buttons: [
                {
                    text: 'Load from Gallery',
                    handler: function () {
                        _this.recordVideo(_this.camera.PictureSourceType.PHOTOLIBRARY);
                    }
                },
                {
                    text: 'Take Video',
                    handler: function () {
                        _this.rec();
                    }
                },
                {
                    text: 'Cancel',
                    role: 'cancel'
                }
            ]
        });
        actionSheet.present();
    };
    SupprodetailPage.prototype.takePicture = function (sourceType) {
        var _this = this;
        console.log(sourceType);
        // this.navCtrl.push(EditorPage,{images:'assets/img/earings.jpg'});
        // Create options for the   Dialog
        var options = {
            quality: 100,
            sourceType: sourceType,
            saveToPhotoAlbum: false,
            correctOrientation: true,
        };
        console.log(options);
        // Get the data of an image
        this.camera.getPicture(options).then(function (imagePath) {
            console.log("getPicture");
            _this.loader = _this.loadingCtrl.create({
                content: "Fetching...",
                spinner: 'bubbles',
            });
            _this.loader.present();
            console.log("imagePath : " + imagePath);
            if (_this.platform.is('android') && sourceType === _this.camera.PictureSourceType.PHOTOLIBRARY) {
                _this.filePath.resolveNativePath(imagePath)
                    .then(function (filePath) {
                    console.log('ttttttttttt', _this.filePath);
                    var correctPath = filePath.substr(0, filePath.lastIndexOf('/') + 1);
                    var currentName = imagePath.substring(imagePath.lastIndexOf('/') + 1, imagePath.lastIndexOf('?'));
                    _this.copyFileToLocalDir(correctPath, currentName, _this.createFileName());
                    // this.uploadImage();
                });
            }
            else {
                var currentName = imagePath.substr(imagePath.lastIndexOf('/') + 1);
                var correctPath = imagePath.substr(0, imagePath.lastIndexOf('/') + 1);
                _this.copyFileToLocalDir(correctPath, currentName, _this.createFileName());
                // this.uploadImage();
            }
        }, function (err) {
            console.log(err);
            _this.commonservice.presentToast('Error while selecting image.', '');
        });
    };
    // Create a new name for the image
    SupprodetailPage.prototype.createFileName = function () {
        var d = new Date(), n = d.getTime(), newFileName = n + ".jpg";
        return newFileName;
    };
    // Copy the image to a local folder
    SupprodetailPage.prototype.copyFileToLocalDir = function (namePath, currentName, newFileName) {
        var _this = this;
        console.log("#### copyFileToLocalDir ####");
        console.log("namePath/correctPath : " + namePath);
        console.log("currentName : " + currentName);
        console.log("createdFileName : " + newFileName);
        console.log("Directory : " + cordova.file.dataDirectory);
        this.file.copyFile(namePath, currentName, cordova.file.dataDirectory, newFileName).then(function (success) {
            // console.log("#### copyFile -- Success ####");
            // console.log(success);
            //   this.lastImage = newFileName;
            //   var targetPath = this.pathForImage( newFileName );
            //   this.targetPaths.push( targetPath );
            //   this.filenames.push( this.lastImage );
            //   this.loader.dismiss();
            //   console.log(targetPath);
            //   console.log(this.filenames);
            //   this.navCtrl.push(EditorPage,{"images":targetPath,"design_no":this.design_no})
            var orientation = -1;
            _this.imageCompress.compressFile(_this.pathForImage(newFileName), orientation, 100, 100).then(function (result) { return __awaiter(_this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    this.writeFile(result, this.createFileName());
                    return [2 /*return*/];
                });
            }); }, function (err) {
                console.log(err);
            });
        }, function (error) {
            _this.commonservice.presentToast('Error while storing file.', '');
        });
    };
    // Always get the accurate path to your apps folder
    SupprodetailPage.prototype.pathForImage = function (img) {
        if (img === null) {
            return '';
        }
        else {
            return cordova.file.dataDirectory + img;
        }
    };
    //here is the method is used to write a file in storage
    SupprodetailPage.prototype.writeFile = function (base64Data, fileName) {
        var _this = this;
        var contentType = this.getContentType(base64Data);
        var DataBlob = this.base64toBlob(base64Data, contentType);
        // here iam mentioned this line this.file.externalRootDirectory is a native pre-defined file path storage. You can change a file path whatever pre-defined method.
        var filePath = cordova.file.dataDirectory;
        this.file.writeFile(filePath, fileName, DataBlob, contentType).then(function (success) {
            console.log(success['nativeURL']);
            var currentName = success['nativeURL'].substr(success['nativeURL'].lastIndexOf('/') + 1);
            var correctPath = success['nativeURL'].substr(0, success['nativeURL'].lastIndexOf('/') + 1);
            console.log("File Writed Successfully", success);
            console.log(currentName);
            console.log(correctPath);
            console.log("#### copyFile -- Success ####");
            console.log(success);
            _this.lastImage = currentName;
            var targetPath = _this.pathForImage(currentName);
            _this.targetPaths.push(targetPath);
            _this.filenames.push(_this.lastImage);
            _this.loader.dismiss();
            console.log(targetPath);
            console.log(_this.filenames);
            _this.loader.dismiss();
            _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_13__img_editor_editor__["a" /* EditorPage */], { "images": targetPath, 'productdet': _this.productdet });
        }).catch(function (err) {
            console.log("Error Occured While Writing File", err);
        });
    };
    //here is the method is used to get content type of an bas64 data
    SupprodetailPage.prototype.getContentType = function (base64Data) {
        var block = base64Data.split(";");
        var contentType = block[0].split(":")[1];
        return contentType;
    };
    //here is the method is used to convert base64 data to blob data
    SupprodetailPage.prototype.base64toBlob = function (b64Data, contentType) {
        contentType = contentType || '';
        var sliceSize = 512;
        var byteCharacters = atob(b64Data.replace(/^data:image\/(png|jpeg|jpg);base64,/, ''));
        var byteArrays = [];
        for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {
            var slice = byteCharacters.slice(offset, offset + sliceSize);
            var byteNumbers = new Array(slice.length);
            for (var i = 0; i < slice.length; i++) {
                byteNumbers[i] = slice.charCodeAt(i);
            }
            var byteArray = new Uint8Array(byteNumbers);
            byteArrays.push(byteArray);
        }
        var blob = new Blob(byteArrays, {
            type: contentType
        });
        return blob;
    };
    SupprodetailPage.prototype.rec = function () {
        var _this = this;
        var options = {
            limit: 1,
            duration: 20,
        };
        this.loader = this.loadingCtrl.create({
            content: "Fetching...",
            spinner: 'bubbles',
        });
        this.loader.present();
        this.mediaCapture.captureVideo(options)
            .then(function (videoUrl) { return __awaiter(_this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                if (videoUrl) {
                    console.log(videoUrl);
                    setTimeout(function () { return __awaiter(_this, void 0, void 0, function () {
                        return __generator(this, function (_a) {
                            console.log('outttt');
                            this.loader.dismiss();
                            this.recordVideo(this.camera.PictureSourceType.PHOTOLIBRARY);
                            return [2 /*return*/];
                        });
                    }); }, 2000);
                }
                return [2 /*return*/];
            });
        }); }, function (err) {
            _this.loader.dismiss();
            console.log(err);
        });
    };
    SupprodetailPage.prototype.recordVideo = function (source) {
        var _this = this;
        var options = {
            mediaType: this.camera.MediaType.VIDEO,
            sourceType: source
        };
        this.camera.getPicture(options)
            .then(function (videoUrl) { return __awaiter(_this, void 0, void 0, function () {
            var _this = this;
            var filename, dirpath, dirUrl, retrievedFile, err_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!videoUrl) return [3 /*break*/, 6];
                        this.loader = this.loadingCtrl.create({
                            content: "Fetching...",
                            spinner: 'bubbles',
                        });
                        this.loader.present();
                        filename = videoUrl.substr(videoUrl.lastIndexOf('/') + 1);
                        dirpath = videoUrl.substr(0, videoUrl.lastIndexOf('/') + 1);
                        dirpath = dirpath.includes("file://") ? dirpath : "file://" + dirpath;
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 4, , 5]);
                        return [4 /*yield*/, this.file.resolveDirectoryUrl(dirpath)];
                    case 2:
                        dirUrl = _a.sent();
                        return [4 /*yield*/, this.file.getFile(dirUrl, filename, {})];
                    case 3:
                        retrievedFile = _a.sent();
                        return [3 /*break*/, 5];
                    case 4:
                        err_1 = _a.sent();
                        console.log(err_1);
                        this.loader.dismiss();
                        return [2 /*return*/, this.presentAlert("Error", "Something went wrong.")];
                    case 5:
                        retrievedFile.file(function (data) {
                            _this.loader.dismiss();
                            if (data.size > _this.MAX_FILE_SIZE)
                                return _this.presentAlert("Error", "You cannot upload more than 60mb.");
                            if (data.type !== _this.ALLOWED_MIME_TYPE)
                                return _this.presentAlert("Error", "Upload mp4 file type only.");
                            _this.selectedVideo = retrievedFile.nativeURL;
                            console.log(_this.selectedVideo);
                            _this.selectedVideo = decodeURIComponent(_this.selectedVideo);
                            console.log(_this.selectedVideo);
                            var currentName = _this.selectedVideo.substr(_this.selectedVideo.lastIndexOf('/') + 1);
                            var correctPath = _this.selectedVideo.substr(0, _this.selectedVideo.lastIndexOf('/') + 1);
                            var type = _this.selectedVideo.substr(_this.selectedVideo.lastIndexOf('.') + 1);
                            _this.copyvideoToLocalDir(correctPath, currentName, _this.createvideoName(), data, data.size, type);
                        });
                        _a.label = 6;
                    case 6: return [2 /*return*/];
                }
            });
        }); }, function (err) {
            console.log(err);
        });
    };
    // selectVideo(){
    //   // choose your file from the device
    // this.fileChooser.open().then(uri => {
    //     this.loader = this.loadingCtrl.create( {
    //         content: "Fetching...",
    //         spinner: 'bubbles',
    //     } );
    //     this.loader.present();
    // console.log(111111111111)
    // console.log(uri)
    //   this.filePath.resolveNativePath(uri)
    //   .then(async(file) => {
    //     console.log(666666666666)
    //     console.log(file)
    //     var currentName = file.substr( file.lastIndexOf( '/' ) + 1 );
    //     var correctPath:any = file.substr( 0, file.lastIndexOf( '/' ) + 1 );
    //     let type =file.substr(file.lastIndexOf( '.' ) + 1);
    //     var filename = file.substr(file.lastIndexOf('/') + 1);
    //     var dirpath = file.substr(0, file.lastIndexOf('/') + 1);
    //     console.log(7777777777)
    //     console.log(dirpath)
    //     dirpath = dirpath.includes("file://") ? dirpath : "file://" + dirpath;
    //     try {
    //       var dirUrl = await this.file.resolveDirectoryUrl(dirpath);
    //       var retrievedFile = await this.file.getFile(dirUrl, filename, {});
    //     } catch(err) {
    //       console.log(888888888888)
    //       console.log(err)
    //       this.loader.dismiss();
    //       return this.presentAlert("Error","Please Choose File from File Explorer.");
    //     }
    //     retrievedFile.file( data => {
    //       console.log(999999999999)
    //       this.loader.dismiss();
    //       console.log(data)
    //       console.log(retrievedFile.nativeURL)
    //       if (data.size > this.MAX_FILE_SIZE) {
    //         this.loader.dismiss();
    //       }
    //       if (data.size > this.MAX_FILE_SIZE)  return this.presentAlert("Error", `You cannot upload more than 5mb.`);
    //       // this.selectedVideo = retrievedFile.nativeURL;
    //       if((type == 'mp4')){
    //         console.log(file)
    //         this.copyvideoToLocalDir( correctPath, currentName, this.createvideoName(),data,data.size,type );
    //       }
    //       else{
    //         this.loader.dismiss();
    //         let toast = this.toastCtrl.create( {
    //           message: 'Wrong File format',
    //           duration: 2000,
    //           position: "bottom"
    //       } );
    //       toast.present( toast );
    //       }
    //     });
    // })
    // .catch(err=>{
    //   this.loader.dismiss();
    //   let toast = this.toastCtrl.create( {
    //     message: 'Please Choose File from File Explorer',
    //     duration: 2000,
    //     position: "bottom"
    // } );
    // toast.present( toast );
    // console.log('000000000000')
    // console.log(err)
    // });
    // })
    // .catch(err=>{
    //   this.loader.dismiss();
    //   console.log(10101010110)
    //   console.log(err)
    // });
    // }
    SupprodetailPage.prototype.pathForvideo = function (img) {
        if (img === null) {
            return '';
        }
        else {
            return cordova.file.dataDirectory + img;
        }
    };
    // Create a new name for the image
    SupprodetailPage.prototype.createvideoName = function () {
        var d = new Date(), n = d.getTime(), newFileName = n + ".mp4";
        return newFileName;
    };
    // Copy the image to a local folder
    SupprodetailPage.prototype.copyvideoToLocalDir = function (namePath, currentName, newFileName, data, size, type) {
        var _this = this;
        this.file.copyFile(namePath, currentName, cordova.file.dataDirectory, newFileName).then(function (success) {
            console.log(_this.pathForvideo(newFileName));
            _this.vidtargetPaths.push(_this.pathForvideo(newFileName));
            _this.vidfilenames.push(newFileName);
            _this.productdet['sample_videos'] = _this.vidfilenames;
            _this.uploadvideo(_this.pathForvideo(newFileName), newFileName);
        }, function (error) {
            var toast = _this.toastCtrl.create({
                message: 'Rename file and try again',
                duration: 3000,
                position: 'bottom'
            });
            toast.present();
            _this.loader.dismiss();
            console.log('Error while storing file.');
            console.log(error);
        });
    };
    SupprodetailPage.prototype.formatBytes = function (bytes, decimals) {
        if (decimals === void 0) { decimals = 2; }
        if (bytes === 0)
            return '0 Bytes';
        var k = 1024;
        var dm = decimals < 0 ? 0 : decimals;
        var sizes = ['Bytes', 'KB', 'MB'];
        var i = Math.floor(Math.log(bytes) / Math.log(k));
        return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];
    };
    SupprodetailPage.prototype.presentAlert = function (title, message) {
        var alert = this.alertCtrl.create({
            title: title,
            subTitle: message,
            buttons: ['Dismiss']
        });
        alert.present();
    };
    SupprodetailPage.prototype.checkstock = function (id) {
        var _this = this;
        var empData = JSON.parse(localStorage.getItem('empDetail'));
        this.ids = id;
        this.commonservice.checkstock({ 'id_branch': empData['id_branch'], 'id_weight': this.idw, 'id_size': id, 'id_category': this.productdet['product_id'], 'id_product': this.productdet['product_id'], "design_no": this.productdet['design_id'], 'id_sub_design': this.productdet['id_sub_design'] }).then(function (result) {
            _this.productdet['is_stock_avail'] = result['avail_pcs'];
            _this.productdet['Status'] = result['avail_pcs'] > 0 ? 'OPEN' : 'CLOSE';
        });
    };
    SupprodetailPage.prototype.checkwgstock = function (id) {
        var _this = this;
        var ind = this.productdet.weights.findIndex(function (data) { return data['id_weight'] == id; });
        console.log(ind);
        this.productdet['purities'] = this.productdet.weights[ind]['purities'];
        this.productdet['sizes'] = this.productdet.weights[ind]['sizes'];
        this.productdet['mc_type'] = this.productdet.weights[ind]['mc_type'];
        this.productdet['mc_value'] = this.productdet.weights[ind]['mc_value'];
        this.productdet['smith_due_date'] = this.productdet.weights[ind]['smith_due_date'];
        this.productdet['wastage'] = this.productdet.weights[ind]['wastage'];
        this.productdet['retail_max_wastage_percent'] = this.productdet.weights[ind]['wastage'];
        this.productdet['calculation_based_on'] = this.productdet.weights[ind]['calculation_based_on'];
        this.productdet['display_duration'] = this.productdet.weights[ind]['display_duration'];
        this.productdet['display_va'] = this.productdet.weights[ind]['display_va'];
        this.productdet['to_weight'] = this.productdet.weights[ind]['to_weight'];
        this.productdet['from_weight'] = this.productdet.weights[ind]['from_weight'];
        var empData = JSON.parse(localStorage.getItem('empDetail'));
        this.idw = id;
        this.productdet['net_wt'] = this.productdet.weights[ind]['weight_value'];
        this.productdet['gross_wt'] = this.productdet.weights[ind]['weight_value'];
        this.productdet['weight'] = this.productdet.weights[ind]['weight_value'];
        this.commonservice.checkwgstock({ 'id_branch': empData['id_branch'], 'id_size': this.ids, 'id_weight': id, 'id_category': this.productdet['product_id'], 'id_product': this.productdet['product_id'], "design_no": this.productdet['design_id'], 'id_sub_design': this.productdet['id_sub_design'] }).then(function (result) {
            _this.productdet['is_stock_avail'] = result['avail_pcs'];
            _this.productdet['Status'] = result['avail_pcs'] > 0 ? 'OPEN' : 'CLOSE';
        });
    };
    SupprodetailPage.prototype.setPurity = function (data, name, whole) {
        this.productdet['id_purity'] = data;
        this.purityname = name;
        this.productdet['metal_type'] = whole.rate_field;
        this.productdet['market_metal_type'] = whole.market_rate_field;
        this.calculate('');
    };
    // Sample image
    SupprodetailPage.prototype.deletevideo = function (index) {
        var _this = this;
        var confirm = this.alertCtrl.create({
            title: 'Do you want to delete the video?',
            message: '',
            buttons: [
                {
                    text: 'No',
                    handler: function () {
                        console.log('Disagree clicked');
                    }
                }, {
                    text: 'Yes',
                    handler: function () {
                        console.log('Agree clicked');
                        _this.vidtargetPaths.splice(index, 1);
                        _this.vidfilenames.splice(index, 1);
                    }
                }
            ]
        });
        confirm.present();
    };
    // Sample image
    SupprodetailPage.prototype.deletePhoto = function (index) {
        var _this = this;
        var confirm = this.alertCtrl.create({
            title: 'Do you want to delete the image?',
            message: '',
            buttons: [
                {
                    text: 'No',
                    handler: function () {
                        console.log('Disagree clicked');
                    }
                }, {
                    text: 'Yes',
                    handler: function () {
                        console.log('Agree clicked');
                        _this.targetPaths.splice(index, 1);
                        _this.filenames.splice(index, 1);
                        _this.productdet['targetPaths'] = _this.targetPaths;
                        _this.productdet['sample_images'] = _this.filenames;
                        // this.deletephotos.push(this.filenames[index])
                        // this.lastImage == '';
                    }
                }
            ]
        });
        confirm.present();
    };
    SupprodetailPage.prototype.addWishlist = function (item) {
        this.retail.addToWishlist(function (data) {
        });
    };
    SupprodetailPage.prototype.uploadvideo = function (path, name) {
        var _this = this;
        // let loader = this.load.create( {
        //   content: "Uploading..."
        // } );
        // loader.present();
        this.show = true;
        // Destination URL
        var url = __WEBPACK_IMPORTED_MODULE_3__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/uploadvideo';
        var d = new Date(), n = d.getTime();
        // File for Upload
        var empData = JSON.parse(localStorage.getItem('empDetail'));
        // File name only
        var filename = name;
        var options = {
            fileKey: "name",
            fileName: name,
            chunkedMode: false,
            mimeType: "multipart/form-data",
            params: {
                fileName: name,
                id_supp_catalogue: this.productdet['id_supp_catalogue'],
                branch_id: empData['id_branch'],
                created_by: empData['uid'],
            }
        };
        var fileTransfer = this.transfer.create();
        console.log(path);
        console.log(name);
        console.log(encodeURI(url));
        console.log(options);
        console.log(url);
        // Use the FileTransfer to upload the image
        fileTransfer.upload(path, encodeURI(url), options).then(function (data) {
            console.log(data);
            var result = JSON.parse(data.response);
            console.log(result);
            console.log(result['imageid']);
            var toastMsg = _this.toastCtrl.create({
                message: "Video succesfully uploaded.",
                duration: _this.commonservice.toastTimeout,
                position: 'center'
            });
            toastMsg.present();
            _this.show = false;
        }, function (err) {
            // loader.dismissAll()
            console.log(err);
            var toastMsg = _this.toastCtrl.create({
                message: "Error while uploading Video.",
                duration: _this.commonservice.toastTimeout,
                position: 'center'
            });
            toastMsg.present();
            _this.show = false;
        });
        fileTransfer.onProgress(function (data) {
            console.log(data);
            _this.progress = Math.round((data.loaded / data.total) * 100);
            _this.refresh();
            console.log(_this.progress);
        });
        // },err=>{
        //   console.log(err);
        // });
    };
    SupprodetailPage.prototype.refresh = function () {
        console.log('refresheed');
        this.cd.detectChanges();
    };
    SupprodetailPage.prototype.addWishlistw = function (item) {
        var _this = this;
        var empData = JSON.parse(localStorage.getItem('empDetail'));
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_18__modal_customer_customer__["a" /* CusSearchPage */], { 'show': 'true' });
        modal.present();
        modal.onDidDismiss(function (mData) {
            console.log(mData);
            if (mData != null) {
                // this.idcus = mData['id_customer'];
                var loader_1 = _this.loadingCtrl.create({
                    content: 'Please Wait',
                    spinner: 'bubbles',
                });
                loader_1.present();
                _this.retail.addToWishlist({
                    "customer_name": mData['firstname'],
                    "mobile": mData['mobile'],
                    "customer_id": mData['id_customer'],
                    "id_sub_design": item['id_sub_design'],
                    "product_id": item['product_id'],
                    "design_id": item['design_id'],
                    "branch_id": empData['id_branch'],
                    "employee_id": empData['uid'],
                    'id_supp_catalogue': item['id_supp_catalogue']
                }).then(function (data) {
                    var toastMsg = _this.toastCtrl.create({
                        message: data.msg,
                        duration: _this.commonservice.toastTimeout,
                        position: 'middle'
                    });
                    toastMsg.present();
                    loader_1.dismiss();
                }, function (err) {
                    var toastMsg = _this.toastCtrl.create({
                        message: "try again",
                        duration: _this.commonservice.toastTimeout,
                        position: 'middle'
                    });
                    toastMsg.present();
                    loader_1.dismiss();
                });
            }
            else {
            }
        });
    };
    SupprodetailPage.prototype.slide = function () {
        console.log(this.slides.getActiveIndex());
        this.productdet = this.slidess.length - 1 < this.slides.getActiveIndex() ? this.slidess[this.slides.getActiveIndex() - 1] : this.slidess[this.slides.getActiveIndex()];
        console.log(this.productdet);
        this.slideimg = this.productdet['TagImage'];
        this.productdet['net_wt'] = this.productdet['NetWt'];
        this.productdet['gross_wt'] = this.productdet['GrossWt'];
        this.productdet['metal_type'] = this.productdet['rate_field'];
        this.productdet['market_metal_type'] = this.productdet['market_rate_field'];
        this.productdet['tax_group_id'] = this.productdet['tgrp_id'];
        this.calculate('');
        this.cd.detectChanges();
    };
    // Stone Details
    SupprodetailPage.prototype.addStone = function () {
        var _this = this;
        var gross = 0;
        gross = this.productdet['weight'];
        console.log(this.stone_details);
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_19__addstone2_addstone2__["a" /* Addstone2Page */], { "stoneMasData": this.stoneMasData, "action": "add", "stone_details": this.stone_details, "ptype": 'home_bill', 'gross': gross, 'stoneMasTypes': this.stoneMasTypes });
        modal.present();
        modal.onDidDismiss(function (data) {
            if (data != null) {
                _this.stone_details = data;
                console.log(_this.stone_details);
                var stData = _this.calcStoneDetail();
                _this.productdet['stone_wt'] = stData['stone_wt'];
                _this.productdet['stone_price'] = stData['stone_price'];
                _this.productdet['stone_details'] = _this.stone_details;
                if (_this.stone_details.length != 0) {
                    _this.productdet['less_wt'] = _this.retail.setAsNumber(stData['stone_wt']);
                    _this.productdet['net_wt'] = _this.productdet['weight'] - _this.productdet['less_wt'];
                    _this.productdet['net_wt'] = _this.retail.setAsNumber(_this.productdet['net_wt']).toFixed(3);
                    _this.productdet['actual_net_wt'] = _this.productdet['net_wt'];
                    _this.calculate('');
                }
            }
        });
    };
    SupprodetailPage.prototype.calcStoneDetail = function () {
        // if(this.item_type == 'tag'){
        var _this = this;
        // let data = {"wt" : 0, "amount" : 0};
        // this.stone_details.forEach( (i,index) => {
        //   if(this.stone_details[index]['lwt']){
        //     this.stone_details[index]['is_apply_in_lwt'] = 1;
        //     data['wt']   = data['wt'] + (i['uom_id'] == '2' ? Number(i['wt']) / 5 : Number(i['wt']));
        //   }else{
        //     this.stone_details[index]['is_apply_in_lwt'] = 0;
        //   }
        //   data['amount'] = data['amount'] + Number(i['amount']);
        // })
        // return data;
        // }
        // else{
        var data = { "stone_wt": 0, "stone_price": 0 };
        this.stone_details.forEach(function (i, index) {
            if (_this.stone_details[index]['lwt']) {
                _this.stone_details[index]['is_apply_in_lwt'] = 1;
                // data['stone_wt']   = data['stone_wt'] + Number(i['stone_wt']);
                data['stone_wt'] = data['stone_wt'] + (i['uom_id'] == '6' ? Number(i['stone_wt']) / 5 : Number(i['stone_wt']));
            }
            else {
                _this.stone_details[index]['is_apply_in_lwt'] = 0;
            }
            data['stone_price'] = data['stone_price'] + Number(i['stone_price']);
        });
        return data;
    };
    SupprodetailPage.prototype.setimg = function (img, ind) {
        this.slideimg = img;
        console.log(this.slideimg);
    };
    SupprodetailPage.prototype.checkcode = function () {
        var _this = this;
        var temp = this.productdet['allcharges'].filter(function (data) { return data['id_charge'] == _this.productdet['id_charge']; });
        this.productdet['chargecode'] = temp[0]['code_charge'];
        this.productdet['charge_value'] = temp[0]['value_charge'];
        this.productdet['id_charge'] = temp[0]['id_charge'];
        this.productdet['charges'] = temp;
    };
    // }
    SupprodetailPage.prototype.addcharge = function () {
        var _this = this;
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_20__charges_charges__["a" /* ChargesPage */], { "stoneMasData": this.stoneMasData, "action": "add", "stone_details": this.charges, "ptype": 'pro', 'gross': '' });
        modal.present();
        modal.onDidDismiss(function (data) {
            if (data != null) {
                _this.charges = data;
                _this.productdet['charges'] = _this.charges;
                if (_this.charges.length != 0) {
                    _this.productdet['charge_value'] = 0;
                    _this.charges.forEach(function (tag) {
                        _this.productdet['charge_value'] = Number(_this.productdet['charge_value']) + Number(tag.charge_value);
                    });
                    _this.calculate('');
                }
            }
        });
    };
    SupprodetailPage.prototype.calculate = function (changedInput) {
        console.log(this.stone_details);
        // if(this.stone_details.length == 0){
        // console.log(this.productdet['less_wt'],'oooooooooooo');
        this.productdet['gross_wt'] = this.productdet['weight'];
        // this.productdet['net_wt']    = this.productdet['weight'] - this.productdet['less_wt'];
        // console.log(this.productdet['net_wt']);
        // this.productdet['less_wt'] = this.productdet['weight']
        //}
        if (changedInput == 'wastage_wt') {
            var wast_percent = parseFloat((((this.retail.setAsNumber(this.productdet['wast_wgt'])) * 100) / this.retail.setAsNumber(this.productdet['net_wt'])).toFixed(3));
            this.productdet['retail_max_wastage_percent'] = wast_percent;
        }
        var detail = { itemData: this.productdet, metalRate: this.metalRate, tax_details: this.taxGroupItems, item_type: 'tag' };
        console.log(detail, '99999999');
        console.log('*******', this.retail.calculateSaleValue(detail));
        var data = this.retail.calculateSaleValue(detail);
        this.productdet['taxable'] = data['taxable'];
        this.productdet['sales_value'] = data['sales_value'];
    };
    SupprodetailPage.prototype.calculatecus = function () {
        this.productdet['metalratec'] = 'true';
        console.log(this.stone_details);
        if (this.stone_details.length == 0) {
            this.productdet['net_wt'] = this.productdet['weight'] - this.productdet['less_wt'];
            console.log(this.productdet['net_wt']);
        }
        var detail = { itemData: this.productdet, metalRate: this.metalRate, tax_details: this.taxGroupItems, item_type: 'tag' };
        console.log('*******', this.retail.calculateSaleValue(detail));
        var data = this.retail.calculateSaleValue(detail);
        this.productdet['taxable'] = data['taxable'];
        this.productdet['sales_value'] = data['sales_value'];
    };
    // naveen
    SupprodetailPage.prototype.openEmpModal = function () {
        var _this = this;
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_21__modal_employee_employee__["a" /* EmpSearchPage */], { "empData": this.employees });
        modal.present();
        modal.onDidDismiss(function (data) {
            if (data != null) {
                _this.productdet['empname'] = data.emp_name;
                _this.productdet['id_employee'] = data.id_employee;
            }
        });
    };
    SupprodetailPage.prototype.radio_option = function (data) {
        console.log(data, 'options');
    };
    SupprodetailPage.prototype.open = function (data) {
        console.log(data);
        this.fileOpener.open(data, 'image/jpg')
            .then(function () { return console.log('File is opened'); })
            .catch(function (e) { return console.log('Error opening file', e); });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_8" /* ViewChild */])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* Content */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* Content */])
    ], SupprodetailPage.prototype, "content", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_8" /* ViewChild */])('slides'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["y" /* Slides */])
    ], SupprodetailPage.prototype, "slides", void 0);
    SupprodetailPage = SupprodetailPage_1 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-supprodetail',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\supprodetail\supprodetail.html"*/'<!-- <iframe src="https://www.youtube.com/embed/tgbNymZ7vqY">\n</iframe> -->\n<ion-header style="background: #000"> <ion-navbar>\n  <button ion-button menuToggle>\n    <ion-icon name="menu"></ion-icon>\n  </button>\n  <ion-title>Product Details\n    <!-- <span *ngIf="item.is_stock_avail==1 " class="instock">Instock</span>\n    <span *ngIf="item.is_stock_avail==0 "  class="outofstock">Out of stock</span> -->\n    <ion-icon [ngClass] = "productItems1.length > 0 ? \'co\' : \'noco\' " style="margin-top:-3px !important;font-size:1.4em !important;float: right;" name="heart-outline" (click)="addWishlistw(productdet)"></ion-icon>\n\n  </ion-title> </ion-navbar>\n  <ion-row>\n\n    <ion-col align="center" style="    background: white !important;">\n      <!-- <div>\n        <span *ngIf="productdet.Status == \'OPEN\'"  style="float:right;"><ion-badge color="secondary">Stock Available {{productdet.BranchName}}</ion-badge></span>\n        <span *ngIf="productdet.Status != \'OPEN\'"  style="float:right;"><ion-badge color="danger">Out of Stock</ion-badge></span>\n\n      </div> -->\n      <!-- <div style="margin-top: 22px;">\n\n      <img *ngIf="productdet.TagImage != null" class="proimage" [ngStyle]="{height: calc+\'px\',\'min-height.px\' : 100}" src=\'{{productdet.TagImage}}\'\n    imageViewer=\'{{productdet.TagImage}}\' onerror="this.src=\'assets/no-img.png\'" />\n    <img *ngIf="productdet.TagImage == null" class="proimage" [ngStyle]="{height: calc+\'px\',\'min-height.px\' : 100}" src=\'assets/no-img.png\'\n    imageViewer=\'assets/no-img.png\' onerror="this.src=\'assets/no-img.png\'" />\n    </div> -->\n    <!-- </iframe> -->\n    <ion-slides style="margin-top: 22px;" (ionSlideWillChange)="slide()"  *ngIf="slidess && slidess.length" #slides [ngClass]="animateClass"   zoom =\'true\' speed=\'500\' initialSlide=\'0\'>\n      <ion-slide (click)="openurl(slide)" *ngFor="let slide of slidess;let in = index">\n        <img *ngIf="slideimg != null" [src]="slideimg" class="slide-image" imageViewer=\'{{slideimg}}\' [ngStyle]="{height: calc+\'px\',\'min-height.px\' : 100}" onerror="this.src=\'assets/no-img.png\'"/>\n        <img *ngIf="slideimg == null" src=\'assets/no-img.png\'  class="slide-image" imageViewer=\'assets/no-img.png\' [ngStyle]="{height: calc+\'px\',\'min-height.px\' : 100}" onerror="this.src=\'assets/no-img.png\'"/>\n      </ion-slide>\n    </ion-slides>\n    </ion-col>\n  </ion-row>\n</ion-header>\n  <ion-content (ionScroll)="scrolling($event)">\n    <div style="margin-bottom: 200px !important;">\n\n    <!-- <div style="margin: 5px;height: 17px">\n      <span  style="float:right;"><ion-badge color="secondary">Stock Available {{productdet.BranchName}}</ion-badge></span>\n      </div>\n\n  <ion-row>\n    <ion-col align="center">\n      <img *ngIf="productdet.TagImage != null" class="proimage" src=\'{{productdet.TagImage}}\'\n    imageViewer=\'{{productdet.TagImage}}\' onerror="this.src=\'assets/no-img.png\'" />\n    <img *ngIf="productdet.TagImage == null" class="proimage" src=\'assets/no-img.png\'\n    imageViewer=\'assets/no-img.png\' onerror="this.src=\'assets/no-img.png\'" />\n    </ion-col>\n  </ion-row> -->\n\n  <hr>\n  <ion-scroll scrollX="true" style="height:70px" > <ion-row nowrap>\n  <ion-col *ngFor="let img of productdet[\'img_details\'];let in = index" col-2 style="padding: 5px;" align="center"\n    >\n     <ion-card (click)="setimg(img[\'image_name\'],in)" style="margin: 0px 0px 0px 0px;box-shadow: none;">\n  <img style="margin: auto;object-fit: cover !important;" src=\'{{img.image_name}}\' onerror="this.src=\'assets/no-img.png\'" width="60px" height="60px" imageCache/>\n\n  </ion-card>\n\n  </ion-col> </ion-row> </ion-scroll>\n  <hr>\n\n    <hr>\n  <div>\n\n    <span>\n      <h5>&nbsp;{{productdet.sub_design_name}}</h5>\n    </span>\n  </div>\n  <!-- <div>\n\n    <span>\n      <h5>&nbsp; {{price(productdet.Rate)}}</h5>\n    </span>\n  </div> -->\n  <hr>\n\n<div [ngClass]="showdiamond.length == 0 && showstone.length == 0  ? \'bot\':\'\' ">\n  <h6 style="text-align: center;\n  margin-bottom: 20px;">Metal Information</h6>\n  <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n  <ion-col col-6 no-padding>\n    <button ion-button clear small>Metal </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{productdet.MetalName}}\n  </ion-col>\n  </ion-row>\n  <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n  <ion-col col-6 no-padding>\n    <button ion-button clear small>Product Name </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{productdet.ProductName}}\n  </ion-col>\n  </ion-row>\n  <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n  <ion-col col-6 no-padding>\n    <button ion-button clear small>Sub Product Name </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{productdet.sub_design_name}}\n  </ion-col>\n</ion-row>\n\n<ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Tag No </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{productdet.TagNo}}\n  </ion-col>\n  </ion-row>\n  <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Pcs  </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{productdet.Pieces}}\n  </ion-col>\n  </ion-row>\n  <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Gross Wt (Gms) </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{fixprice(productdet[\'GrossWt\'])}} g\n  </ion-col>\n  </ion-row>\n  <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Net Wt (Gms)  </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{fixprice(productdet[\'NetWt\'])}} g\n\n  </ion-col>\n  </ion-row>\n\n\n<ion-row style="border: 1px solid #f2f1f1" no-padding *ngIf="supplier !=true">\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Metal Rate</button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n     {{productdet[\'rate_per\']}}\n  </ion-col>\n  </ion-row>\n\n  <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n    <ion-col no-padding col-6>\n      <button ion-button clear small>Purity </button>\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-5>\n       {{productdet[\'Purity\']}}\n    </ion-col>\n    </ion-row>\n\n  <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n    <ion-col no-padding col-6>\n      <button ion-button clear small>Wastage %</button>\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-5>\n      {{productdet[\'retail_max_wastage_percent\']}} %\n    </ion-col>\n    </ion-row>\n\n    <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n      <ion-col no-padding col-6>\n        <button ion-button clear small>Wastage Wgt</button>\n      </ion-col>\n      <ion-col no-padding style="margin:auto" col-1>\n          :\n      </ion-col>\n      <ion-col no-padding style="margin:auto" col-5>\n        {{productdet[\'wast_wgt\']}} g\n      </ion-col>\n      </ion-row>\n\n      <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n        <ion-col no-padding col-6>\n          <button ion-button clear small>Total Stone Amount</button>\n        </ion-col>\n        <ion-col no-padding style="margin:auto" col-1>\n            :\n        </ion-col>\n        <ion-col no-padding style="margin:auto" col-5>\n           {{productdet[\'stone_price\']}} \n        </ion-col>\n        </ion-row>\n\n      <ion-row style="border: 1px solid #f2f1f1" no-padding *ngIf="supplier !=true">\n\n        <ion-col no-padding col-6>\n          <button ion-button clear small>GST </button>\n        </ion-col>\n        <ion-col no-padding style="margin:auto" col-1>\n            :\n        </ion-col>\n        <ion-col no-padding style="margin:auto" col-5>\n           {{productdet.tax_price}}\n        </ion-col>\n        </ion-row>\n\n        <ion-row style="border: 1px solid #f2f1f1" no-padding  >\n\n          <ion-col no-padding col-6>\n            <button ion-button clear small>MC value / <span *ngIf="productdet[\'mc_type\']==1" >PCS</span><span *ngIf="productdet[\'mc_type\']==2" >GM</span></button>\n          </ion-col>\n          <ion-col no-padding style="margin:auto" col-1>\n              :\n          </ion-col>\n          <ion-col no-padding style="margin:auto" col-5>\n             {{productdet[\'mc_value\']}}\n          </ion-col>\n          </ion-row>\n\n\n          <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n          <ion-col no-padding col-6>\n            <button ion-button clear small>Counter</button>\n          </ion-col>\n          <ion-col no-padding style="margin:auto" col-1>\n              :\n          </ion-col>\n          <ion-col no-padding style="margin:auto" col-5>\n            {{productdet.section_name}}\n          </ion-col>\n          </ion-row>\n          <ion-row style="border: 1px solid #f2f1f1" no-padding *ngIf="supplier !=true">\n\n          <ion-col no-padding col-6>\n            <button ion-button clear small>HUID</button>\n          </ion-col>\n          <ion-col no-padding style="margin:auto" col-1>\n              :\n          </ion-col>\n          <ion-col no-padding style="margin:auto" col-5>\n            {{productdet.hu_id}}\n          </ion-col>\n          </ion-row>\n<!-- <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Tag No </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{productdet.TagNo}}\n  </ion-col>\n  </ion-row>\n  <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Pcs  </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{productdet.Pieces}}\n  </ion-col>\n  </ion-row> -->\n  <!-- <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Gross Wt (Gms) </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{fixprice(productdet[\'GrossWt\'])}} g\n  </ion-col>\n  </ion-row>\n  <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Net Wt (Gms)  </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{fixprice(productdet[\'NetWt\'])}} g\n\n  </ion-col>\n  </ion-row>\n  <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Purity  </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{productdet.Purity}}\n  </ion-col>\n  </ion-row> -->\n</div>\n\n\n<div [ngClass]="showdiamond.length == 0 ? \'bot\':\'\' " *ngIf="showstone.length > 0">\n  <h6 style="text-align: center;\n  margin-bottom: 20px;">Stone Information</h6>\n    <ion-card style="width: 95% !important;">\n      <ion-row>\n      \n        <ion-col col-6>\n          <ion-row style="text-align: center;">\n            <ion-col class="tot-amt">\n            Tot.Stn.Amt \n            </ion-col>\n            </ion-row>\n            <ion-row style="text-align: center;">\n              <ion-col class="tot-amt">\n                 {{totalvalue}}\n              </ion-col>\n            </ion-row>\n          \n        </ion-col>\n        <ion-col col-6 >\n          <ion-row>\n            <ion-col class="tot-amt">\n              C.Stn.Wgt : {{totalgram}} Gm\n            </ion-col>\n          </ion-row>\n          <ion-row>\n            <ion-col class="tot-amt">\n              Dia.Wgt : {{totalct}} Ct\n            </ion-col>\n          </ion-row>\n       \n        </ion-col>\n        <!-- <ion-col col-3 style="font-weight: bold;font-size: 15px !important;">\n        </ion-col> -->\n      </ion-row>\n    </ion-card>\n  <ion-row *ngFor="let s of showstone" no-padding style="border-bottom-style: solid;\n  border-bottom-color: #ebc298;\n  border-width: revert;">\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Type</button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{s.stone_type_name}}\n  </ion-col>\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Stone Name</button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{s.stone_name}}\n  </ion-col>\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Pcs  </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{s.stone_pcs}}\n  </ion-col>\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Weight({{s.uom_short_code}}) </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{fixprice(s[\'stone_wt\'])}} {{s.uom_short_code}}\n\n  </ion-col>\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Rate  </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n     {{price(s.rate)}}\n  </ion-col>\n  </ion-row>\n</div>\n\n<!-- Other Metal Info -->\n\n<div [ngClass]="showdiamond.length == 0 ? \'bot\':\'\' " *ngIf="othermetals.length > 0">\n  <h6 style="text-align: center;\n  margin-bottom: 20px;">Other Metal Information</h6>\n   <ion-row *ngFor="let s of othermetals" no-padding>\n\n\n    <ion-col no-padding col-6>\n      <button ion-button clear small>Metal Name</button>\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-5>\n      {{s.metal_name}}\n    </ion-col>\n\n    <ion-col no-padding col-6>\n      <button ion-button clear small>Purity  </button>\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-5>\n      {{s.tag_other_itm_pur_name}}\n    </ion-col>\n    <ion-col no-padding col-6>\n      <button ion-button clear small>NWT ({{s.uom_short_code}}) </button>\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-5>\n      {{s.tag_other_itm_grs_weight}} {{s.uom_short_code}}\n\n    </ion-col>\n\n    <ion-col no-padding col-6>\n      <button ion-button clear small>VA (%) </button>\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-5>\n      {{s.tag_other_itm_wastage}} \n\n    </ion-col>\n\n    <ion-col no-padding col-6>\n      <button ion-button clear small>MC Value </button>\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-5>\n      {{s.tag_other_total_mc}} \n\n    </ion-col>\n\n    <ion-col no-padding col-6>\n      <button ion-button clear small>Amount </button>\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-5>\n       {{s.tag_other_itm_amount}} \n\n    </ion-col>\n</ion-row>\n\n</div>\n\n<div style="margin-bottom: 50px;" *ngIf="showdiamond.length > 0">\n  <h6  style="text-align: center;\n  margin-bottom: 20px;">Diamond Information</h6>\n  <ion-row *ngFor="let s of showdiamond;let i = index;"  style="margin-bottom: 15px;" no-padding>\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Type</button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{s.ProductName}}\n  </ion-col>\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Stone Name</button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{s.sub_design_name}}\n  </ion-col>\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Pcs  </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{s.Pieces}}\n  </ion-col>\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Weight({{s.uom_short_code}}) </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{fixprice(s[\'Weight\'])}} {{s.uom_short_code}}\n\n  </ion-col>\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Rate  </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n     {{price(s.Rate)}}\n  </ion-col>\n\n\n    <!-- <h6  style="text-align: center;\n    margin-bottom: 20px;">Diamond Information</h6> -->\n    <ion-col  style="margin-top: 15px;" *ngIf="showdiamond.length - 1 == i" no-padding col-6>\n      <button ion-button clear small>Cut  </button>\n    </ion-col>\n    <ion-col  *ngIf="showdiamond.length - 1 == i" no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col  *ngIf="showdiamond.length - 1 == i" no-padding style="margin:auto" col-5>\n      {{productdet.Cut}}\n    </ion-col>\n    <ion-col  *ngIf="showdiamond.length - 1 == i" no-padding col-6>\n      <button ion-button clear small>Color </button>\n    </ion-col>\n    <ion-col  *ngIf="showdiamond.length - 1 == i" no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col  *ngIf="showdiamond.length - 1 == i" no-padding style="margin:auto" col-5>\n      {{productdet.Color}}\n    </ion-col>\n\n    <ion-col  *ngIf="showdiamond.length - 1 == i" no-padding col-6>\n      <button ion-button clear small>Shape  </button>\n    </ion-col>\n    <ion-col  *ngIf="showdiamond.length - 1 == i" no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col  *ngIf="showdiamond.length - 1 == i" no-padding style="margin:auto" col-5>\n      {{productdet.Shape}}\n    </ion-col>\n\n    <ion-col  *ngIf="showdiamond.length - 1 == i" no-padding col-6>\n      <button ion-button clear small>Clarity  </button>\n    </ion-col>\n    <ion-col  *ngIf="showdiamond.length - 1 == i" no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col  *ngIf="showdiamond.length - 1 == i" no-padding style="margin:auto" col-5>\n      {{productdet.Clarity}}\n    </ion-col>\n  </ion-row>\n</div>\n\n<ion-card *ngIf="productdet.hasOwnProperty(\'weight\')" no-margin >\n  <ion-card-header (click)="toggle(\'customize\')" no-padding>\n    <div class="theme-title-blk" no-margin>\n        Customize Product\n        <!-- <ion-icon *ngIf="!showCustomize" name="add-circle" float-right></ion-icon>\n        <ion-icon *ngIf="showCustomize" name="remove-circle" float-right></ion-icon>  -->\n    </div>\n  </ion-card-header>\n  <ion-card-content  no-padding>\n    <ion-row padding >\n\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col" >\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Employee <span class="required"> *</span></ion-label>\n          <ion-input type="text" [(ngModel)]="productdet[\'empname\']" (click)="openEmpModal()"  placeholder="-- Choose Employee --"></ion-input>\n        </ion-item>\n         <!-- <span float-right [ngClass]="productdet.weight >= productdet[\'from_weight\'] && productdet.weight <= productdet[\'to_weight\'] ?  \'input-msg\' : \'input-error-msg\' "><span *ngIf="productdet.from_weight > 0">Min. {{productdet.from_weight}} g </span><span *ngIf="productdet.to_weight > 0">Max. {{productdet.to_weight}} g</span></span> -->\n      </ion-col>\n\n\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col"  >\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Balance Type</ion-label>\n          <ion-select [(ngModel)]="productdet[\'balance_type\']" (ionChange)="radio_option(productdet[\'balance_type\'])"  placeholder="-- Choose --">\n            <ion-option  [value]="2">Cash Balance</ion-option>\n            <ion-option  [value]="1">Metal Balance</ion-option>\n          </ion-select>\n        </ion-item>\n    </ion-col>\n\n    <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col"  >\n      <ion-item no-padding>\n        <ion-label color="label-color" stacked>Rate Type</ion-label>\n        <ion-select [(ngModel)]="productdet[\'rate_type\']" (ionChange)="radio_option(productdet[\'rate_type\'])"  placeholder="-- Choose --">\n          <ion-option  [value]="1">Order Rate(Fixed)</ion-option>\n          <ion-option  [value]="2">Delivery Rate(Un Fixed)</ion-option>\n        </ion-select>\n      </ion-item>\n  </ion-col>\n\n\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col" *ngIf="productdet.weights?.length > 0 && supplier ==true " > \n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Weight</ion-label>\n          <ion-select [(ngModel)]="productdet.id_weight" (ngModelChange)=checkwgstock(productdet.id_weight)  placeholder="-- Choose --">\n            <ion-option *ngFor="let s of productdet.weights" [value]="s.id_weight">{{s[\'weight_description\']}}</ion-option>\n          </ion-select>\n        </ion-item>\n    </ion-col>\n\n    <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col" *ngIf="productdet.sizes?.length > 0 && supplier ==true" >\n      <ion-item no-padding>\n        <ion-label color="label-color" stacked>Size</ion-label>\n        <ion-select [(ngModel)]="productdet.id_size" (ngModelChange)=checkstock(productdet.id_size) placeholder="-- Choose --">\n          <ion-option *ngFor="let s of productdet.sizes" [value]="s.id_size">{{s.value}} {{s.name}}</ion-option>\n        </ion-select>\n      </ion-item>\n  </ion-col> \n\n\n        <ion-col col-12 class="custom-2col" *ngIf="productdet.purities?.length > 0" >\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Purity  <span class="required"> *</span></ion-label>\n          </ion-item>\n          <ion-scroll style="    white-space: nowrap !important;" class="purity-scroll-blk" scrollX="true">\n            <ion-chip #chip1 *ngFor="let pur of productdet.purities" color="light" [ngClass]="productdet[\'id_purity\'] == pur[\'id_purity\'] ? \'selected\' : \'unselected\'" (click)="setPurity(pur.id_purity,pur.purity,pur)" style="margin-left: 5%;">\n              <ion-label>{{pur.purity}}</ion-label><ion-icon name="checkmark-circle" style="background-color:transparent!important;" *ngIf="productdet[\'id_purity\'] == pur[\'id_purity\']"></ion-icon>\n            </ion-chip>\n          </ion-scroll>\n        </ion-col>\n\n\n<!-- commented by krishna -->\n\n\n\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col" >\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Weight <span class="required"> *</span></ion-label>\n            <ion-input type="number" placeholder="Enter weight in grams" [(ngModel)]="productdet.weight"  (ngModelChange)="calculate()"> </ion-input>\n          </ion-item>\n           <span float-right [ngClass]="productdet.weight >= productdet[\'from_weight\'] && productdet.weight <= productdet[\'to_weight\'] ?  \'input-msg\' : \'input-error-msg\' "><span *ngIf="productdet.from_weight > 0">Min. {{productdet.from_weight}} g </span><span *ngIf="productdet.to_weight > 0">Max. {{productdet.to_weight}} g</span></span>\n        </ion-col>\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col">\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Pieces *</ion-label>\n            <ion-input type="number" placeholder="Pieces" [(ngModel)]="productdet.pcs" > </ion-input>\n            <span float-right ></span>\n          </ion-item>\n        </ion-col>\n\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col" *ngIf="productdet.sizes?.length > 0 && supplier == false" >\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Size</ion-label>\n            <ion-select [(ngModel)]="productdet.size" placeholder="-- Choose --">\n              <ion-option *ngFor="let s of productdet.sizes" [value]="s.id_size">{{s.value}} {{s.name}}</ion-option>\n            </ion-select>\n          </ion-item>\n      </ion-col> \n\n<!--         <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col" *ngIf="&& supplier == false" >\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Size *</ion-label>\n            <ion-input type="number" placeholder="Size" [(ngModel)]="productdet.size" > </ion-input>\n            <span float-right ></span>\n          </ion-item>\n        </ion-col> -->\n\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col" >\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>MC Type</ion-label>\n            <ion-select interface="popover" [(ngModel)]="productdet[\'mc_type\']"  placeholder="MC Type" (ngModelChange)="calculate()">\n              <ion-option [value]="1">Piece</ion-option>\n              <ion-option [value]="2">Gram</ion-option>\n            </ion-select>\n          </ion-item>\n      </ion-col>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>MC Value</ion-label>\n          <ion-input type="number" placeholder="MC Value" [(ngModel)]="productdet[\'mc_value\']" > </ion-input>\n          <span float-right ></span>\n        </ion-item>\n      </ion-col>\n\n      <ion-col *ngIf="productdet[\'display_va\'] == \'1\'" col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Wastage %</ion-label>\n          <ion-input type="number" placeholder="Wastage" [(ngModel)]="productdet[\'retail_max_wastage_percent\']" (ngModelChange)="calculate()"> </ion-input>\n          <span float-right ></span>\n        </ion-item>\n      </ion-col>\n\n      <ion-col *ngIf="productdet[\'display_va\'] == \'1\'"  col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Wastage Wgt(g)</ion-label>\n          <ion-input type="number" placeholder="Wastage" [(ngModel)]="productdet[\'wast_wgt\']" (ngModelChange)="calculate(\'wastage_wt\')"> </ion-input>\n          <span float-right ></span>\n        </ion-item>\n      </ion-col>\n\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col" >\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Less Weight <span class="required"> *</span></ion-label>\n          <ion-input type="number" placeholder="Less weight in grams" [(ngModel)]="productdet.less_wt" readonly> </ion-input>\n        </ion-item>\n         <!-- <span float-right [ngClass]="productdet.weight >= productdet[\'from_weight\'] && productdet.weight <= productdet[\'to_weight\'] ?  \'input-msg\' : \'input-error-msg\' "><span *ngIf="productdet.from_weight > 0">Min. {{productdet.from_weight}} g </span><span *ngIf="productdet.to_weight > 0">Max. {{productdet.to_weight}} g</span></span> -->\n      </ion-col>\n\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col" >\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Net Weight <span class="required"> *</span></ion-label>\n          <ion-input type="number" placeholder="Net weight in grams" [(ngModel)]="productdet.net_wt" readonly> </ion-input>\n        </ion-item>\n         <!-- <span float-right [ngClass]="productdet.weight >= productdet[\'from_weight\'] && productdet.weight <= productdet[\'to_weight\'] ?  \'input-msg\' : \'input-error-msg\' "><span *ngIf="productdet.from_weight > 0">Min. {{productdet.from_weight}} g </span><span *ngIf="productdet.to_weight > 0">Max. {{productdet.to_weight}} g</span></span> -->\n      </ion-col>\n\n\n\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Rate()</ion-label>\n          <ion-input type="number" [(ngModel)]="productdet[\'rate_per\']" (ngModelChange)="calculatecus()"></ion-input>\n        </ion-item>\n     </ion-col>\n\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Taxable Amount()</ion-label>\n          <ion-input type="number" [(ngModel)]="productdet[\'taxable\']" readonly></ion-input>\n        </ion-item>\n     </ion-col>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n      <ion-item no-padding>\n        <ion-label color="label-color" stacked>GST()</ion-label>\n        <ion-input type="number" [(ngModel)]="productdet[\'tax_price\']" readonly></ion-input>\n      </ion-item>\n   </ion-col>\n     <ion-col col-12 col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Amount()</ion-label>\n          <ion-input type="number" [(ngModel)]="productdet[\'sales_value\']" readonly></ion-input>\n        </ion-item>\n      </ion-col>\n	 <!--   <ion-col  col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Other Charges</ion-label>\n          <ion-select  [(ngModel)]="productdet[\'id_charge\']" (ngModelChange)="checkcode()"  placeholder="Charges" >\n              <ion-option *ngFor="let b of productdet[\'allcharges\']" [value]="b[\'id_charge\']">{{b[\'code_charge\']}}</ion-option>\n          </ion-select>\n      </ion-item>\n      </ion-col> -->\n	      <ion-col *ngIf="productdet[\'display_duration\'] == \'1\'" col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col">\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Smith Due Date  *</ion-label>\n            <!-- <ion-input type="number" readonly="true" class="ion_datetime" placeholder="Select Date" displayFormat="DD-MM-YYYY" [(ngModel)]="productdet.due_date" (focusin)="show()"> </ion-input> -->\n            <!-- <ion-input readonly=\'true\' type="number"  placeholder="No of Days"  [(ngModel)]="productdet.smith_due_date"> </ion-input> -->\n            <ion-datetime  placeholder="Select Date" displayFormat="MM/DD/YYYY" [(ngModel)]="productdet.smith_due_date"></ion-datetime>\n\n            <span float-right ></span>\n          </ion-item>\n        </ion-col>\n\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col">\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Due Date *</ion-label>\n            <!-- <ion-input type="number" readonly="true" class="ion_datetime" placeholder="Select Date" displayFormat="DD-MM-YYYY" [(ngModel)]="productdet.due_date" (focusin)="show()"> </ion-input> -->\n            <!-- <ion-input type="number"  placeholder="No of Days"  [(ngModel)]="productdet.due_date"> </ion-input> -->\n            <ion-datetime placeholder="Select Date" displayFormat="DD/MM/YYYY" min="{{minDate}}"  [yearValues]="yearValues" [(ngModel)]="productdet.due_date" ></ion-datetime>\n\n            <span float-right ></span>\n          </ion-item>\n        </ion-col>\n\n\n\n        <!-- <ion-col col-12 class="custom-2col" *ngIf="item.stones?.length > 0">\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Stones</ion-label>\n            </ion-item>\n          <ion-card class="errorMsg" padding *ngIf="stnErrMsg">\n              {{stnErrMsg}}\n          </ion-card>\n          <ion-list text-center>\n            <ion-row  style="background: #b1abab;color: white;">\n              <ion-col col-4>Stone</ion-col>\n              <ion-col col-4>Pcs</ion-col>\n              <ion-col col-4>Weight</ion-col>\n            </ion-row>\n            <div *ngFor="let st of item.stones; let i=index" class="text-small">\n              <ion-row>\n                <ion-col col-1>\n                  <ion-checkbox  [(ngModel)]="st.selected" (ionChange)=stoneChaned(st.stone_id,i)></ion-checkbox>\n                </ion-col>\n                <ion-col col-4 class="text-small">\n                  {{st.stone_name}}\n                </ion-col>\n                <ion-col col-3>\n                  <ion-item>\n                    <ion-input type="number" [value] = "st.stone_pcs" [disabled]="!st.selected"></ion-input>\n                  </ion-item>\n                </ion-col>\n                <ion-col col-4>\n                  <ion-item>\n                    <ion-input type="number" [value] = "st.stone_wt" [disabled]="!st.selected"></ion-input>\n                  </ion-item>\n                </ion-col>\n              </ion-row>\n            </div>\n          </ion-list>\n        </ion-col>  -->\n\n        <ion-col col-12 class="custom-2col">\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Description</ion-label>\n            <ion-textarea [(ngModel)]="productdet.sample_details" placeholder="Enter your description" rows="3"></ion-textarea>\n          </ion-item>\n        </ion-col>\n<ion-col col-12 style="margin-top: 10px;margin-bottom: 10px;">\n          <div class="row">\n\n          <div  class="col" style="margin: auto" col-4 no-padding>\n            <h5>Other Charges</h5>\n          </div>\n          <div class="col" style="margin: auto" no-padding>\n            <div float-right>\n              <button *ngIf="charges.length == 0" ion-button icon-start outline small color="dark" (click)="addcharge()">\n                <ion-icon name="ios-add"></ion-icon>\n                Add\n              </button>\n              <button *ngIf="charges.length != 0" ion-button icon-start outline small color="dark" (click)="addcharge()">\n                <ion-icon name="edit"></ion-icon>\n                Update\n              </button>\n          </div>\n          </div>\n        </div>\n       </ion-col>\n        <!-- <ion-row> -->\n          <ion-col col-12 style="margin-top: 10px;margin-bottom: 10px;">\n            <div class="row">\n\n            <div  class="col" style="margin: auto" col-4 no-padding>\n              <h5>Stone Detail</h5>\n            </div>\n            <div class="col" style="margin: auto" no-padding>\n              <div float-right>\n                <button *ngIf="stone_details.length == 0" ion-button icon-start outline small color="dark" (click)="addStone()">\n                  <ion-icon name="ios-add"></ion-icon>\n                  Add\n                </button>\n                <button *ngIf="stone_details.length != 0" ion-button icon-start outline small color="dark" (click)="addStone()">\n                  <ion-icon name="edit"></ion-icon>\n                  Update\n                </button>\n            </div>\n            </div>\n          </div>\n         </ion-col>\n        <!-- </ion-row> -->\n\n        <ion-col col-12 class="custom-2col">\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Upload Sample</ion-label>\n            <button *ngIf="targetPath?.length <= 10" ion-button outline small color="dark" type="button" item-right icon-left (click)="presentActionSheet()">\n                <ion-icon name="camera"></ion-icon>\n                Choose Image\n            </button>\n          </ion-item>\n          <ion-grid>\n            <ion-row *ngIf="targetPaths.length > 0">\n              <ion-col col-6 *ngFor="let targetPath of targetPaths; let id = index">\n                <ion-card class="block">\n                  <ion-icon name="trash" class="deleteIcon" (click)="deletePhoto(id)"></ion-icon> <img (click)="open(targetPath)" [src]="targetPath" *ngIf="targetPath" />\n                </ion-card>\n              </ion-col>\n            </ion-row>\n          </ion-grid>\n        </ion-col>\n\n        <ion-col col-12 class="custom-2col">\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Upload Sample</ion-label>\n            <button *ngIf="targetPath?.length <= 10" ion-button outline small color="dark" type="button" item-right icon-left (click)="presentActionSheetvideo()">\n                <ion-icon name="videocam"></ion-icon>\n                Choose Video\n            </button>\n          </ion-item>\n          <ion-grid>\n            <ion-row *ngIf="vidtargetPaths.length > 0">\n              <ion-col col-6 *ngFor="let targetPath of vidtargetPaths; let id = index">\n                <ion-card class="block" style="text-align: center">\n                  <ion-icon name="trash" class="deleteIcon" (click)="deletevideo(id)"></ion-icon>\n                  <video height="140" controls>\n                    <source [src]=\'targetPath\' type="video/mp4">\n                  </video>\n                </ion-card>\n              </ion-col>\n            </ion-row>\n          </ion-grid>\n        </ion-col>\n\n\n    </ion-row>\n  </ion-card-content>\n</ion-card>\n\n</div>\n\n  </ion-content>\n\n  <ion-footer style="bottom: 83px !important;">\n    <div *ngIf="show == true"  style="text-align: center;    margin-top: 5px;">\n      Upload Progress :\n    </div>\n    <div *ngIf="show == true" class="progress-outer">\n      <div class="progress-inner" [style.width]="progress + \'%\'">\n          {{progress}}%\n      </div>\n    </div>\n    <ion-row>\n      <ion-col col-6>\n        <button style="border-radius: 5px;" ion-button  icon-start full class="theme-btn" (click)="addWishlistw(productdet)">Add to Wishlist</button>\n      </ion-col>\n      <ion-col col-6>\n        <button style="border-radius: 5px;" ion-button  icon-start full class="theme-btn" (click)="proceedToWishlist()">Add to Cart</button>\n      </ion-col>\n    </ion-row>\n  </ion-footer>\n\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\supprodetail\supprodetail.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_4__providers_retail__["a" /* RetailProvider */]],
            animations: [
                Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_24" /* trigger */])('flyInTopSlow', [
                    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_21" /* state */])("0", Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_22" /* style */])({
                        transform: 'translate3d(0,0,0)'
                    })),
                    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_23" /* transition */])('* => 0', [
                        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_13" /* animate */])('500ms ease-in', Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_18" /* keyframes */])([
                            Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_22" /* style */])({ transform: 'translate3d(0,-500px,0)', offset: 0 }),
                            Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_22" /* style */])({ transform: 'translate3d(0,0,0)', offset: 1 })
                        ]))
                    ])
                ])
            ]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_22__ionic_native_file_opener__["a" /* FileOpener */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */], __WEBPACK_IMPORTED_MODULE_4__providers_retail__["a" /* RetailProvider */], __WEBPACK_IMPORTED_MODULE_17__ionic_native_media_capture__["a" /* MediaCapture */], __WEBPACK_IMPORTED_MODULE_16__ionic_native_file_chooser__["a" /* FileChooser */], __WEBPACK_IMPORTED_MODULE_15__ionic_native_file_path__["a" /* FilePath */], __WEBPACK_IMPORTED_MODULE_14_ngx_image_compress__["a" /* NgxImageCompressService */], __WEBPACK_IMPORTED_MODULE_0__angular_core__["j" /* ChangeDetectorRef */], __WEBPACK_IMPORTED_MODULE_12__angular_platform_browser__["c" /* DomSanitizer */], __WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["x" /* Platform */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_2__ionic_native_toast__["a" /* Toast */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["a" /* ActionSheetController */], __WEBPACK_IMPORTED_MODULE_8__ionic_native_camera__["a" /* Camera */], __WEBPACK_IMPORTED_MODULE_7__ionic_native_transfer__["a" /* Transfer */], __WEBPACK_IMPORTED_MODULE_5__ionic_native_file_transfer__["a" /* FileTransfer */], __WEBPACK_IMPORTED_MODULE_6__ionic_native_file__["a" /* File */], __WEBPACK_IMPORTED_MODULE_9__angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["b" /* AlertController */]])
    ], SupprodetailPage);
    return SupprodetailPage;
    var SupprodetailPage_1;
}());

//# sourceMappingURL=supprodetail.js.map

/***/ }),

/***/ 197:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SupsubdesignPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_retail__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__avrsearch_avrsearch__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__folderpress_folderpress__ = __webpack_require__(73);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__cart_cart__ = __webpack_require__(27);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__modal_customer_customer__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__supprodetail_supprodetail__ = __webpack_require__(196);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__auto_auto__ = __webpack_require__(45);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__wishlist_wishlist__ = __webpack_require__(34);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











// @IonicPage()
var SupsubdesignPage = /** @class */ (function () {
    function SupsubdesignPage(toast, events, modal, comman, navCtrl, load, navParams, retailService) {
        var _this = this;
        this.toast = toast;
        this.events = events;
        this.modal = modal;
        this.comman = comman;
        this.navCtrl = navCtrl;
        this.load = load;
        this.navParams = navParams;
        this.retailService = retailService;
        this.id_product = this.navParams.get('id_product');
        this.design = this.navParams.get('design_no');
        this.empData = JSON.parse(localStorage.getItem('empDetail'));
        this.designs = [];
        // designs: any[]=[];
        this.last_id = 0;
        this.page_no = 1;
        this.id_ret_category = this.navParams.get('id_category');
        this.pagename = this.navParams.get('pagename');
        this.from = this.navParams.get('filter');
        this.checkStatus = false;
        this.total_records = 0;
        this.where = '';
        this.totalcartitems = localStorage.getItem('carts') != null ? JSON.parse(localStorage.getItem('carts'))['items'] : [];
        this.supplier = this.navParams.get('supplier');
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        this.where = this.navParams.get('collect');
        // if(this.from != undefined){
        var postData = {
            'id_employee': this.empData['uid'] != null ? this.empData['uid'] : null,
            'type': 'active',
            'id_product': this.id_product,
            'last_id': this.last_id,
            'design_no': this.design
        };
        // this.from["lastid"] = this.last_id;
        this.from["page_no"] = this.page_no;
        this.from["supplier"] = true;
        this.comman.filter(this.from).then(function (data) {
            // this.designs = data;
            _this.designs = data['ReturnObject'] != null ? data['ReturnObject'] : [];
            localStorage.setItem('see', JSON.stringify(_this.designs));
            console.log(_this.designs);
            _this.total_records = data['total_records'];
            loader.dismiss();
        }, function (err) {
            loader.dismiss();
        });
        // }
        // else{
        //   var postData = {
        //     'id_employee': this.empData['uid'] != null ? this.empData['uid'] : null,
        //     'type': 'active',
        //     'id_product': this.id_product,
        //     'last_id': this.last_id,
        //     'design_no':this.design
        //   }
        //   this.comman.getsubdesigns(postData).then(data => {
        //     this.designs = data;
        //     console.log(this.designs);
        //     loader.dismiss();
        //   })
        // }
    }
    SupsubdesignPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad DesignsPage');
    };
    SupsubdesignPage.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        console.log(this.designs);
        this.page_no = this.page_no + 1;
        // if(this.from != undefined){
        this.from["lastid"] = this.designs[this.designs.length - 1]['id_tag_detail'];
        this.from["page_no"] = this.page_no;
        console.log(this.last_id);
        var postData = {
            'id_employee': this.empData['uid'] != null ? this.empData['uid'] : null,
            'type': 'active',
            'id_product': this.id_product,
            'last_id': this.last_id,
            'design_no': this.design
        };
        this.from["supplier"] = true;
        this.comman.filter(this.from).then(function (data) {
            var productItems = data['ReturnObject'] != null ? data['ReturnObject'] : [];
            for (var index = 0; index < productItems.length; index++) {
                _this.designs.push(productItems[index]);
            }
            infiniteScroll.complete();
            localStorage.setItem('see', JSON.stringify(_this.designs));
        });
        // }else{
        //   this.last_id = this.designs[this.designs.length - 1]['id_sub_design'];
        // console.log(this.last_id);
        // var postData = {
        //   'id_employee': this.empData['uid'] != null ? this.empData['uid'] : null,
        //   'type': 'active',
        //   'id_product': this.id_product,
        //   'last_id': this.last_id,
        //   'design_no':this.design
        // }
        // this.comman.getsubdesigns(postData).then(data => {
        //   console.log(data)
        //   for (let index = 0; index < data.length; index++) {
        //     this.designs.push(data[index])
        //   }
        //   infiniteScroll.complete();
        // })
        // }
    };
    SupsubdesignPage.prototype.openDesign = function (data, i) {
        console.log(data);
        var product_id = JSON.parse(localStorage.getItem('see'))[i];
        product_id['net_wt'] = product_id['NetWt'];
        product_id['gross_wt'] = product_id['GrossWt'];
        product_id['metal_type'] = product_id['rate_field'];
        product_id['market_metal_type'] = product_id['market_rate_field'];
        product_id['tax_group_id'] = product_id['tgrp_id'];
        // if(this.from != undefined){
        // this.navCtrl.push( ProdetailPage, { proid: design_no } );
        if (product_id.hasOwnProperty('TagStone')) {
            product_id['TagStoneDetails'] = product_id['TagStone'];
        }
        // localStorage.setItem('see',JSON.stringify(this.designs))
        console.log(JSON.parse(localStorage.getItem('see')));
        // product_id['arr'] = JSON.parse(localStorage.getItem('see'));
        // product_id['arr'].unshift(product_id);
        // this.comman.setdata(this.designs);
        // product_id['arr'] = this.designs;
        // product_id['arr'].unshift(product_id);
        // product_id['purities'] = [{'purity':'90.00','id_purity':1},{'purity':'80.00','id_purity':2}];
        // product_id['weights'] = [{'weight_description':'70g' ,'id_weight':1}];
        // product_id['sizes'] = [{'value':'70','name':'inch' ,'id_size':1}];
        // product_id['weight'] = '';
        // product_id['pcs'] = '';
        // product_id['due_date'] = '';
        // product_id['id_weight'] = '';
        // product_id['id_purity'] = '';
        // product_id['min_weight'] = '';
        // product_id['max_weight'] = '';
        // product_id['id_size'] = '';
        // product_id['sample_details'] = '';
        this.events.publish('inf', product_id);
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__supprodetail_supprodetail__["a" /* SupprodetailPage */], { proid: product_id, single: JSON.parse(localStorage.getItem('see')), 'supplier': this.supplier });
        // }else{
        //   this.navCtrl.push(DesignDetailPage,{ 'id_category': this.id_ret_category,'id_product': this.id_product,'design_no':this.design,'id_sub_design':design_no.id_sub_design,'type':'edit'})
        // }
    };
    SupsubdesignPage.prototype.open = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__avrsearch_avrsearch__["a" /* AvrsearchPage */], { 'supplier': true });
    };
    SupsubdesignPage.prototype.grid = function () {
        console.log("grid");
        this.checkStatus = true;
    };
    SupsubdesignPage.prototype.listgrid = function () {
        console.log("listgrid");
        this.checkStatus = false;
    };
    SupsubdesignPage.prototype.price = function (data) {
        var temp1 = parseFloat(data).toFixed();
        return temp1;
    };
    //   sort(){
    //     console.log(this.designs)
    //     // else if(no == 4){
    //       this.designs = this.designs.sort(function(a, b){
    //         return parseInt(a.GrossWt) - parseInt(b.GrossWt)
    //     });
    //     console.log(this.designs)
    // }
    SupsubdesignPage.prototype.sort = function (now) {
        var _this = this;
        var profileModal = this.modal.create(__WEBPACK_IMPORTED_MODULE_5__folderpress_folderpress__["a" /* FolderpressPage */]);
        profileModal.present();
        profileModal.onDidDismiss(function (no) {
            console.log(no);
            if (no != null) {
                if (no == 2) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        var nameA = a['sub_design_name'].toLowerCase(), nameB = b['sub_design_name'].toLowerCase();
                        if (nameA < nameB)
                            return -1;
                        if (nameA > nameB)
                            return 1;
                        return 0; //default return value (no sorting)
                    });
                }
                else if (no == 3) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        var nameA = a['sub_design_name'].toLowerCase(), nameB = b['sub_design_name'].toLowerCase();
                        if (nameA > nameB)
                            return -1;
                        if (nameA < nameB)
                            return 1;
                        return 0; //default return value (no sorting)
                    });
                }
                else if (no == 4) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        if (a.Rate != null && b.Rate != null) {
                            return parseInt(a.Rate) - parseInt(b.Rate);
                        }
                        // if(a.Rate != null && b.Rate == null){
                        //   return parseInt(a.Rate) - parseInt(b.price)
                        //   }
                        //   if(a.Rate == null && b.Rate != null){
                        //     return parseInt(a.price) - parseInt(b.Rate)
                        //     }
                        //     if(a.Rate == null && b.Rate == null){
                        //       return parseInt(a.price) - parseInt(b.price)
                        //       }
                    });
                }
                else if (no == 5) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        if (b.Rate != null && a.Rate != null) {
                            return parseInt(b.Rate) - parseInt(a.Rate);
                        }
                        // if(b.Rate != null && a.Rate == null){
                        //   return parseInt(b.Rate) - parseInt(a.price)
                        //   }
                        //   if(b.Rate == null && a.Rate != null){
                        //     return parseInt(b.price) - parseInt(a.Rate)
                        //     }
                        //     if(b.Rate == null && a.Rate == null){
                        //       return parseInt(b.price) - parseInt(a.price)
                        //       }
                    });
                }
                else if (no == 6) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        return parseInt(a.GrossWt) - parseInt(b.GrossWt);
                    });
                }
                else if (no == 7) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        return parseInt(b.GrossWt) - parseInt(a.GrossWt);
                    });
                }
                else if (no == 8) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        return parseInt(a.timestamp) - parseInt(b.timestamp);
                    });
                }
                else if (no == 9) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        return parseInt(b.timestamp) - parseInt(a.timestamp);
                    });
                }
                console.log(no);
                console.log(_this.designs);
            }
        });
    };
    SupsubdesignPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    SupsubdesignPage.prototype.ionViewWillEnter = function () {
        this.events.publish('entered', true);
        this.events.publish('pageno', 5);
    };
    SupsubdesignPage.prototype.proceedToWishlist = function (item) {
        var empData = JSON.parse(localStorage.getItem('empDetail'));
        console.log(empData);
        var wishlistData = {
            'id_customer': '',
            'id_branch': empData['id_branch'],
            'id_employee': empData['id_employee'],
            'item_type': 3,
            'is_customized': 1,
            'id_product': item['pro_id'],
            'design_no': item['design_no'],
            'id_sub_design': item['id_sub_design'],
            'wast_percent': 1,
            'id_mc_type': item['mc_type'],
            'mc': item['mc_value'],
            'stn_amt': 0,
            'due_date': item['due_date'],
            'length': item['len'],
            'width': item['width'],
            'dia': item['dia'],
            'weight': item['GrossWt'],
            'id_size': item['id_size'],
            'id_weight': item['id_weight'],
            'pcs': item['pcs'],
            'id_purity': item['id_purity'],
            'hook_type': item['hook_type'],
            'sample_details': item['sample_details'],
            'image': item['TagImage'],
            'targetPaths': item['targetPaths'],
            'sample_images': item['sample_images'],
            'stones': item['stones'],
            'status': 1,
            'id_wishlist': item['id_wishlist'],
            'sub_design_name': item['sub_design_name'],
            'design_name': item['design_name'],
            'product_name': item['product_name'],
            'id_category': item['id_category'],
            'id_supp_catalogue': item['id_supp_catalogue']
        };
        if (localStorage.getItem('carts') == null) {
            localStorage.setItem('carts', JSON.stringify({ "id_branch": empData['id_branch'], "id_employee": empData['id_employee'], "id_customer": '', "status": 1, "items": [wishlistData] }));
        }
        else {
            var local = JSON.parse(localStorage.getItem('carts'))['items'];
            console.log(local);
            local.push(wishlistData);
            console.log(local);
            localStorage.setItem('carts', JSON.stringify({ "id_branch": empData['id_branch'], "id_employee": empData['id_employee'], "id_customer": '', "status": 1, "items": local }));
        }
        // this.loader.dismiss();
        this.comman.presentToast("Product added to cart successfully", '');
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__cart_cart__["a" /* CartPage */]);
    };
    SupsubdesignPage.prototype.addWishlist = function (item) {
        var _this = this;
        var empData = JSON.parse(localStorage.getItem('empDetail'));
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_7__modal_customer_customer__["a" /* CusSearchPage */], { 'show': 'true' });
        modal.present();
        modal.onDidDismiss(function (mData) {
            console.log(mData);
            if (mData != null) {
                // this.idcus = mData['id_customer'];
                var loader_1 = _this.load.create({
                    content: 'Please Wait',
                    spinner: 'bubbles',
                });
                loader_1.present();
                _this.retailService.addToWishlist({
                    "customer_name": mData['firstname'],
                    "mobile": mData['mobile'],
                    "customer_id": mData['id_customer'],
                    "id_sub_design": item['id_sub_design'],
                    "product_id": item['product_id'],
                    "design_id": item['design_id'],
                    "branch_id": empData['id_branch'],
                    "employee_id": empData['uid'],
                    'id_supp_catalogue': item['id_supp_catalogue']
                }).then(function (data) {
                    var toastMsg = _this.toast.create({
                        message: data.msg,
                        duration: _this.comman.toastTimeout,
                        position: 'middle'
                    });
                    toastMsg.present();
                    loader_1.dismiss();
                }, function (err) {
                    var toastMsg = _this.toast.create({
                        message: "try again",
                        duration: _this.comman.toastTimeout,
                        position: 'middle'
                    });
                    toastMsg.present();
                    loader_1.dismiss();
                });
            }
            else {
            }
        });
    };
    SupsubdesignPage.prototype.cart = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__cart_cart__["a" /* CartPage */]);
    };
    SupsubdesignPage.prototype.openModal = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_9__auto_auto__["a" /* AutoPage */]);
    };
    SupsubdesignPage.prototype.wishlist = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_10__wishlist_wishlist__["a" /* WishlistPage */]);
    };
    SupsubdesignPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-supsubdesign',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\supsubdesign\supsubdesign.html"*/'<!--\n  Generated template for the DesignsPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n-->\n<!-- <ion-header>\n  <ion-navbar>\n      <button ion-button menuToggle><ion-icon name="menu"></ion-icon></button>\n      <ion-title>SubDesigns\n        <ion-icon  name="md-funnel" (click)="open()" style="color:black !important;float: right;" ></ion-icon>\n\n      </ion-title>\n  </ion-navbar>\n</ion-header>\n\n\n<ion-content padding-vertical>\n  <ion-grid no-padding>\n      <ion-row *ngIf="designs.length > 0" text-center>\n          <ion-col text-wrap col-6 col-sm-6 col-md-4 col-lg-4 col-xl-4  *ngFor="let item of designs; let i=index" class="custom-2col" [ngClass]="animateClass" (click)="openDesign(item,i)">\n              <ion-card>\n                  <img class="full-image" src=\'{{item.default_image}}\' onerror="this.onerror=null;this.src=\'assets/no-img.png\';" imageCache/>\n                  <ion-item text-center no-margin>\n                      <h5 class="text-small theme-color">{{item.label}}</h5>\n                  </ion-item>\n              </ion-card>\n          </ion-col>\n      </ion-row>\n  </ion-grid>\n\n  <ion-row *ngIf="designs.length == 0 " style="text-align: center;">\n      <ion-col>\n          <h4>{{errormsg}}</h4>\n      </ion-col>\n  </ion-row>\n\n   <ion-infinite-scroll (ionInfinite)="doInfinite($event)">\n      <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="Loading more data..."></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n\n</ion-content> -->\n\n<ion-header>\n  <ion-navbar>\n      <!-- <button ion-button menuToggle>\n          <ion-icon name="menu"></ion-icon>\n      </button> -->\n      <ion-title>\n        <!-- Collections -->\n        <span>Catalogue</span> <span *ngIf="total_records != \'\'">({{total_records}})</span>\n        <div  id="notification-button" >\n          <ion-icon style="color:black;float: right;font-size:1.4em !important" name="cart" (click)="cart()"></ion-icon>\n        <ion-badge *ngIf="totalcartitems != null && totalcartitems.length > 0" style="font-size: 1rem !important;"  id="notifications-badge" color="danger">{{totalcartitems.length}}</ion-badge>\n\n  </div>\n         <ion-icon  name="md-funnel" (click)="open()" style="color:black !important;float: right;font-size:1.4em !important" ></ion-icon>\n          <ion-icon style="color:black;float: right;font-size:1.4em !important" name="search" (click)="openModal()"></ion-icon>\n          <ion-icon style="color:black !important;float: right;font-size:1.4em !important;" (click)="wishlist()" name="heart-outline"></ion-icon>\n\n\n      </ion-title>\n  </ion-navbar>\n</ion-header>\n<ion-content>\n  <!-- <ion-row *ngIf="total_records != 0" style="background:#eee;">\n    <ion-col col-8 style="margin: auto;">\n      There are {{total_records}} products.\n    </ion-col>\n          <ion-col col-4 align="right">\n              <ion-icon   *ngIf="!checkStatus" (click)="grid()" name="grid" ></ion-icon>\n              <ion-icon  *ngIf="checkStatus"  (click)="listgrid()" name="list"></ion-icon>\n          </ion-col>\n      </ion-row> -->\n      <!-- <ion-row  style="">\n        <ion-col style="font-weight: bold;\n        font-size: medium !important;\n        margin: 10px;    text-transform: capitalize;color:#000000;text-align: center;">\n          {{designs[0][\'sub_design_name\']}} ({{total_records}})\n        </ion-col>\n\n          </ion-row> -->\n          <ion-row  style="border: 1px solid lightgray;padding: 7px !important;">\n\n            <ion-col (click)="sort()" col-4 >\n              <!-- <ion-icon     name="arrow-round-up" ></ion-icon><ion-icon     name="arrow-round-down" ></ion-icon><span style="color:#000000;">Sort</span>  -->\n              <img style="height: 15px;" src="assets/up-down.png"><span style="color: black;    margin-left: 2px;">Sort</span>\n            </ion-col>\n          <ion-col style="text-align: center;" (click)="open()" col-4 >\n            <ion-icon     name="ios-funnel-outline" ></ion-icon><span style="color: black;">Filter</span>\n        </ion-col>\n                  <ion-col style="text-align: end;" col-4 *ngIf="!checkStatus" (click)="grid()">\n                      <ion-icon     name="grid" ></ion-icon><span *ngIf="!checkStatus"  style="color: black;">View Style</span>\n                      <!-- <ion-icon  *ngIf="checkStatus"  (click)="listgrid()" name="list"></ion-icon><span *ngIf="checkStatus"  style="color:#000000;">View Style</span> -->\n                  </ion-col>\n                  <ion-col style="text-align: end;" col-4 *ngIf="checkStatus" (click)="listgrid()">\n                    <!-- <ion-icon   *ngIf="!checkStatus" (click)="grid()" name="grid" ></ion-icon><span *ngIf="!checkStatus"  style="color:#000000;">View Style</span>  -->\n                    <ion-icon     name="list"></ion-icon><span *ngIf="checkStatus"  style="color: black;">View Style</span>\n                </ion-col>\n              </ion-row>\n      <ion-grid no-padding>\n\n  <ion-row [class.hide]="checkStatus">\n      <ion-col style="padding: 2px !important;" col-6 col-sm-6 col-md-4 col-lg-4 col-xl-4 [ngClass]="animateClass" *ngFor=" let item of designs; let i=index "  no-padding>\n           <ion-card style="border: 1px solid #e4e4e4;height: 245px;border-radius: 2px">\n             <!-- <div style="margin: 3px;"><span *ngIf="item.is_stock_avail==1 && item.stock_manage == 1" class="instock">Instock</span><span *ngIf="item.is_stock_avail==0 && item.stock_manage == 1"  class="outofstock">Out of stock</span></div> -->\n             <!-- <div style="margin: 3px;text-align: right;"><span class="instock">{{item.BranchName}}</span></div> -->\n\n             <img (click)="openDesign(item,i)" style="height: 180px;width: auto;margin: 0 auto;object-fit: cover !important;" *ngIf=\'item.TagImage != null\' src=\'{{item.TagImage}}\' onerror="this.src=\'assets/no-img.png\'" imageCache/>\n              <img (click)="openDesign(item,i)" style="height: 180px;margin: 0 auto;object-fit: cover !important;" *ngIf=\'item.TagImage == null\' src=\'assets/no-img.png\' imageCache/>\n              <!-- <div (click)="openDesign(item,i)" *ngIf="item.Status != \'OPEN\'" style="    position: absolute;\n  top: 55px;\n  transform: rotate(-32deg);                left: 0;\n              right: 0;\n              text-align: center;\n              background: white;\n              padding: 8px;">OUT OF STOCK</div> -->\n              <div (click)="openDesign(item,i)" class="row"  style="    text-align: center;\n              font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 14px;overflow: hidden;color: #bb9532;\n        justify-content: center;\n        align-items: center;text-transform: capitalize;">\n          <!-- <div  class="col" col-4 style="text-align: center;\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: hidden;\n          display: grid;\n          justify-content: left;\n          align-items: center;\n          color: black !important;\n          text-transform: capitalize;">\n                  Name.\n\n          </div> -->\n          <!-- <div class="col" col-1 style="text-align: center;\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: hidden;\n          display: grid !important;\n          justify-content: left;\n          align-items: center;\n          color: black !important;\n          text-transform: capitalize;">\n            :\n                  </div> -->\n          <div class="col" col-12 style="\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: scroll;\n           white-space: nowrap;\n                     display: grid;\n          justify-content: left;\n          align-items: center;\n          color: #747272 !important;\n          text-transform: capitalize;">\n                  <span>{{item.sub_design_name}}</span>\n\n                  </div>\n\n\n              </div>\n\n              <!-- <div (click)="openDesign(item,i)" class="row"  style="    text-align: center;\n              font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 14px;overflow: hidden;color: #bb9532;\n        justify-content: center;\n        align-items: center;text-transform: capitalize;">\n          <div  class="col" col-4 style="text-align: center;\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: hidden;\n          display: grid;\n          justify-content: left;\n          align-items: center;\n          color: black !important;\n          text-transform: capitalize;">\n                  Id.\n\n          </div>\n          <div class="col" col-1 style="text-align: center;\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: hidden;\n          display: grid !important;\n          justify-content: left;\n          align-items: center;\n          color: black !important;\n          text-transform: capitalize;">\n            :\n                  </div>\n          <div class="col" col-7 style="\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: hidden;\n          display: grid;\n          justify-content: left;\n          align-items: center;\n          color: #747272 !important;\n          text-transform: capitalize;">\n                  <span>{{item.id_supp_catalogue}}</span>\n\n                  </div>\n\n\n              </div> -->\n\n<!--\n              <div (click)="openDesign(item,i)" class="row"  style="    text-align: center;\n              font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 10px;overflow: hidden;color: #bb9532;\n        justify-content: left;\n        align-items: center;text-transform: capitalize;">\n          <div class="col" col-4 style="text-align: center;\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: hidden;\n          display: grid;\n          justify-content: left;\n          align-items: center;\n          color: black !important;\n          text-transform: capitalize;">\n                  G.Wt.\n\n                  </div>\n                    <div class="col" col-1 style="text-align: center;\n                    height: 25px;\n                    font-weight: 500;\n                    text-overflow: ellipsis;\n                    padding: 4px;\n                    padding-bottom: 0px !important;\n                    font-size: 10px;\n                    overflow: hidden;\n                    display: grid;\n                    justify-content: left;\n                    align-items: center;\n                    color: black !important;\n                    text-transform: capitalize;">\n                      :\n                            </div>\n          <div class="col" col-7 style="\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: hidden;\n          display: grid;\n          justify-content: left;\n          align-items: center;\n          color: #747272 !important;\n          text-transform: capitalize;">\n                  {{item.GrossWt}} g\n\n                  </div>\n\n\n              </div> -->\n\n              <!-- <div (click)="openDesign(item,i)" class="row"  style="    text-align: center;\n              font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 10px;overflow: hidden;color: #bb9532;\n        justify-content: left;\n        align-items: center;text-transform: capitalize;">\n          <div class="col" col-4 style="text-align: center;\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: hidden;\n          display: grid;\n          justify-content: left;\n          align-items: center;\n          color: black !important;\n          text-transform: capitalize;">\n                  N.Wt.\n\n                  </div>\n                    <div class="col" col-1 style="text-align: center;\n                    height: 25px;\n                    font-weight: 500;\n                    text-overflow: ellipsis;\n                    padding: 4px;\n                    padding-bottom: 0px !important;\n                    font-size: 10px;\n                    overflow: hidden;\n                    display: grid;\n                    justify-content: left;\n                    align-items: center;\n                    color: black !important;\n                    text-transform: capitalize;">\n                      :\n                            </div>\n          <div class="col" col-7 style="\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: hidden;\n          display: grid;\n          justify-content: left;\n          align-items: center;\n          color: #747272 !important;\n          text-transform: capitalize;">\n                  {{item.net_wt}} g\n\n                  </div>\n\n\n              </div> -->\n\n              <div class="row"  style="    text-align: center;\n              font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 10px;overflow: hidden;color: #bb9532;\n        justify-content: left;\n        align-items: center;text-transform: capitalize;">\n           <div (click)="openDesign(item,i)" class="col" col-3 style="text-align: center;\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: hidden;\n          display: grid;\n          justify-content: left;\n          align-items: center;\n          color: black !important;\n          text-transform: capitalize;">\n                  Metal\n\n                  </div>\n                    <div (click)="openDesign(item,i)" class="col" col-1 style="text-align: center;\n                    height: 25px;\n                    font-weight: 500;\n                    text-overflow: ellipsis;\n                    padding: 4px;\n                    padding-bottom: 0px !important;\n                    font-size: 10px;\n                    overflow: hidden;\n                    display: grid;\n                    justify-content: left;\n                    align-items: center;\n                    color: black !important;\n                    text-transform: capitalize;">\n                      :\n                            </div>\n          <div class="col" col-8 style="\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: hidden;\n          display: grid;\n          justify-content: left;\n          align-items: center;\n          color: #747272 !important;\n          text-transform: capitalize;\n          display: contents;">\n                 <span (click)="openDesign(item,i)" style="    margin-left: 4px;\n                 white-space: nowrap;\n                 padding-top: 5px;\n                 width: 34%;\n                 overflow: hidden;\n                 text-overflow: ellipsis;text-align: left;"> {{item.MetalName}}</span>\n                  <div style="margin-left:10px;">\n                    <ion-icon style="    background:#000000;\n                  color: #ffc04b;\n                  border-radius: 5px;" (click)="proceedToWishlist(item)" name="ios-cart-outline"></ion-icon> <ion-icon style="    background: #ffc04b;\n  color:#000000;\n  border-radius: 5px;" (click)="addWishlist(item)" name="heart-outline"></ion-icon>\n                  </div>\n\n          </div>\n\n\n              </div>\n\n              <!-- <div class="row"  style="text-align: center;">\n                  <div class="col" col-12>\n                    <div style="\n                   text-align: center;color: #86354d !important;\n                    ">\n                      <span style="font-weight: bold;font-size: 20px;">{{price(item.Rate)}}</span>\n                    </div>\n\n                  </div>\n\n                </div> -->\n\n          </ion-card>\n\n      </ion-col>\n      <!-- <div class="itemempty"  *ngIf="designs?.length == 0">No item to display</div> -->\n  </ion-row>\n\n  </ion-grid>\n  <p  [class.hide]="!checkStatus" style="    margin-top: 0px;">\n    <ion-card *ngFor=" let item of designs; let i=index " style="border: 1px solid #e4e4e4;height: 130px;border-radius: 2px">\n\n      <ion-row >\n\n      <ion-col (click)="openDesign(item,i)" col-4>\n        <img style="height: 120px;width: auto;margin: 0 auto;object-fit: cover !important;" *ngIf=\'item.TagImage != null\' src=\'{{item.TagImage}}\' onerror="this.src=\'assets/no-img.png\'" imageCache/>\n        <img style="height: 120px;margin: 0 auto;object-fit: cover !important;" *ngIf=\'item.TagImage == null\' src=\'assets/no-img.png\' imageCache/>\n        <!-- <div *ngIf="item.Status != \'OPEN\'" style="    position: absolute;\n  top: 50px;\n  transform: rotate(-32deg);                 left: 0;\n               right: 0;\n               text-align: center;\n               background: white;\n               padding: 8px;">OUT OF STOCK</div> -->\n      </ion-col>\n          <ion-col col-8  [ngClass]="animateClass"  >\n              <!-- <div style="margin: 3px;"><span *ngIf="item.is_stock_avail==1 && item.stock_manage == 1" class="instock">Instock</span><span *ngIf="item.is_stock_avail==0 && item.stock_manage == 1"  class="outofstock">Out of stock</span></div> -->\n              <!-- <div style="margin: 3px;text-align: right;"><span class="instock">{{item.BranchName}}</span></div> -->\n\n              <div (click)="openDesign(item,i)" class="row"  style="    text-align: center;\n               font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 14px;overflow: hidden;color: #bb9532;\n         justify-content: center;\n         align-items: center;text-transform: capitalize;">\n           <!-- <div  class="col" col-3 style="text-align: center;\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: black !important;\n           text-transform: capitalize;">\n                   Name.\n\n           </div>\n                     <div  class="col" col-1 style="text-align: center;\n                     height: 25px;\n                     font-weight: 500;\n                     text-overflow: ellipsis;\n                     padding: 4px;\n                     padding-bottom: 0px !important;\n                     font-size: 10px;\n                     overflow: hidden;\n                     white-space: nowrap;\n   padding-top: 8px;                      justify-content: left;\n   display: grid;\n                     align-items: center;\n                     color: black !important;\n                     text-transform: capitalize;">\n                       :\n                             </div> -->\n           <div class="col" col-12 style="\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px;\n           overflow: scroll;\n           white-space: nowrap;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: #747272 !important;\n           text-transform: capitalize;">\n                   <span>{{item.sub_design_name}}</span>\n\n                   </div>\n\n\n               </div>\n\n               <!-- <div (click)="openDesign(item,i)" class="row"  style="    text-align: center;\n               font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 14px;overflow: hidden;color: #bb9532;\n         justify-content: center;\n         align-items: center;text-transform: capitalize;">\n           <div  class="col" col-3 style="text-align: center;\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: black !important;\n           text-transform: capitalize;">\n                   Id.\n\n           </div>\n                     <div  class="col" col-1 style="text-align: center;\n                     height: 25px;\n                     font-weight: 500;\n                     text-overflow: ellipsis;\n                     padding: 4px;\n                     padding-bottom: 0px !important;\n                     font-size: 10px;\n                     overflow: hidden;\n                     white-space: nowrap;\n   padding-top: 8px;                      justify-content: left;\n   display: grid;\n                     align-items: center;\n                     color: black !important;\n                     text-transform: capitalize;">\n                       :\n                             </div>\n           <div class="col" col-8 style="\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: #747272 !important;\n           text-transform: capitalize;">\n                   <span>{{item.id_supp_catalogue}}</span>\n\n                   </div>\n\n\n               </div> -->\n\n\n               <!-- <div (click)="openDesign(item,i)" class="row"  style="    text-align: center;\n               font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 10px;overflow: hidden;color: #bb9532;\n         justify-content: left;\n         align-items: center;text-transform: capitalize;">\n           <div class="col" col-3 style="text-align: center;\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: black !important;\n           text-transform: capitalize;">\n                   G.Wt.\n\n                   </div>\n                     <div class="col" col-1 style="text-align: center;\n                     height: 25px;\n                     font-weight: 500;\n                     text-overflow: ellipsis;\n                     padding: 4px;\n                     padding-bottom: 0px !important;\n                     font-size: 10px;\n                     overflow: hidden;\n                     display: grid;\n                     justify-content: left;\n                     align-items: center;\n                     color: black !important;\n                     text-transform: capitalize;">\n                       :\n                             </div>\n           <div class="col" col-8 style="\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: #747272 !important;\n           text-transform: capitalize;">\n                   {{item.GrossWt}} g\n\n                   </div>\n\n\n               </div>\n\n               <div (click)="openDesign(item,i)" class="row"  style="    text-align: center;\n               font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 10px;overflow: hidden;color: #bb9532;\n         justify-content: left;\n         align-items: center;text-transform: capitalize;">\n           <div class="col" col-3 style="text-align: center;\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: black !important;\n           text-transform: capitalize;">\n                   N.Wt.\n\n                   </div>\n                     <div class="col" col-1 style="text-align: center;\n                     height: 25px;\n                     font-weight: 500;\n                     text-overflow: ellipsis;\n                     padding: 4px;\n                     padding-bottom: 0px !important;\n                     font-size: 10px;\n                     overflow: hidden;\n                     display: grid;\n                     justify-content: left;\n                     align-items: center;\n                     color: black !important;\n                     text-transform: capitalize;">\n                       :\n                             </div>\n           <div class="col" col-8 style="\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: #747272 !important;\n           text-transform: capitalize;">\n                   {{item.net_wt}} g\n\n                   </div>\n\n\n               </div> -->\n\n               <div class="row"  style="    margin-top: 10px;text-align: center;\n               font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 10px;overflow: hidden;color: #bb9532;\n         justify-content: left;\n         align-items: center;text-transform: capitalize;margin-top: 10px;">\n           <div (click)="openDesign(item,i)" class="col" col-3 style="text-align: center;\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: black !important;\n           text-transform: capitalize;">\n                   Metal\n\n                   </div>\n                      <div (click)="openDesign(item,i)" class="col" col-1 style="text-align: center;\n                     height: 25px;\n                     font-weight: 500;\n                     text-overflow: ellipsis;\n                     padding: 4px;\n                     padding-bottom: 0px !important;\n                     font-size: 10px;\n                     overflow: hidden;\n                     display: grid;\n                     justify-content: left;\n                     align-items: center;\n                     color: black !important;\n                     text-transform: capitalize;">\n                       :\n                             </div>\n           <div class="col" col-8 style="\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: #747272 !important;\n           text-transform: capitalize;\n           display: contents;">\n                  <span (click)="openDesign(item,i)" style="    margin-left: 4px;\n                  white-space: nowrap;\n                  padding-top: 5px;\n                  width: 42%;\n                  overflow: hidden;\n                  text-overflow: ellipsis;text-align: left;"> {{item.MetalName}}</span>\n                   <div style="margin-left:10px;">\n                     <ion-icon style="    background:#000000;\n                   color: #ffc04b;\n                   border-radius: 5px;" (click)="proceedToWishlist(item)" name="ios-cart-outline"></ion-icon> <ion-icon style="    background: #ffc04b;\n   color:#000000;\n   border-radius: 5px;" (click)="addWishlist(item)" name="heart-outline"></ion-icon>\n                   </div>\n\n           </div>\n\n\n               </div>\n\n               <!-- <div class="row"  style="text-align: center;">\n                   <div class="col" col-12>\n                     <div style="\n                    text-align: center;color: #86354d !important;\n                     ">\n                       <span style="font-weight: bold;font-size: 20px;">{{price(item.Rate)}}</span>\n                     </div>\n\n                   </div>\n\n                 </div> -->\n                </ion-col>\n\n              </ion-row>\n           </ion-card>\n\n\n          </p>\n\n\n         <ion-infinite-scroll   style="text-align: center;" (ionInfinite)="doInfinite($event)">\n              <ion-infinite-scroll-content ></ion-infinite-scroll-content>\n              <!-- <img *ngIf="gif" style=" max-width: 60px !important;" src="assets/loader.gif"> -->\n\n          </ion-infinite-scroll>\n\n          <!-- <ion-fab bottom right >\n            <button (click)="sort()" ion-fab>Sort</button>\n\n          </ion-fab> -->\n          <!-- <ion-fab bottom right >\n            <button ion-fab>Sort</button>\n            <ion-fab-list side="top">\n              <button ion-fab (click)="sort(2)">A to Z</button>\n              <button ion-fab (click)="sort(3)">Z to A</button>\n              <button ion-fab (click)="sort(4)">Cost low </button>\n              <button ion-fab (click)="sort(5)">Cost high </button>\n              <button ion-fab (click)="sort(6)">Wg low </button>\n              <button ion-fab (click)="sort(7)">Wg high </button>\n\n            </ion-fab-list>\n          </ion-fab> -->\n  </ion-content>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\supsubdesign\supsubdesign.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_retail__["a" /* RetailProvider */], __WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */], __WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */], __WEBPACK_IMPORTED_MODULE_2__providers_retail__["a" /* RetailProvider */]])
    ], SupsubdesignPage);
    return SupsubdesignPage;
}());

//# sourceMappingURL=supsubdesign.js.map

/***/ }),

/***/ 198:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CusRegisterPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__(26);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ionic_native_date_picker__ = __webpack_require__(66);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__modal_countrymodel_countrymodel__ = __webpack_require__(92);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__home_home__ = __webpack_require__(31);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







/*
  Generated class for the Register page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
*/
var CusRegisterPage = /** @class */ (function () {
    function CusRegisterPage(datePicker, platform, builder, nav, events, menu, commonservice, toastCtrl, loadingCtrl, event, modal, common) {
        var _this = this;
        this.datePicker = datePicker;
        this.platform = platform;
        this.builder = builder;
        this.nav = nav;
        this.events = events;
        this.menu = menu;
        this.commonservice = commonservice;
        this.toastCtrl = toastCtrl;
        this.loadingCtrl = loadingCtrl;
        this.event = event;
        this.modal = modal;
        this.common = common;
        this.type = "p";
        this.count = 0;
        this.animateClass = { 'zoom-in': true };
        this.countries = [];
        this.states = [];
        this.cities = [];
        this.submitted = false;
        this.isDisabled = false;
        this.errorMessage = '';
        this.typechecknew = 'password';
        this.showPassnew = false;
        this.typecheckconfirm = 'password';
        this.showPassconfirm = false;
        this.reg = /^[a-zA-Z ]*$/;
        this.emailPattern = "^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$";
        this.gstPattern = "^([0-9]{2}[a-zA-Z]{4}([a-zA-Z]{1}|[0-9]{1})[0-9]{4}[a-zA-Z]{1}([a-zA-Z]|[0-9]){3}){0,15}$";
        this.panPattern = "[A-Z]{5}[0-9]{4}[A-Z]{1}";
        this.votterPattern = "^([a-zA-Z]){3}([0-9]){7}?$";
        this.rationPattern = "^([a-zA-Z0-9]){8,12}\s*$";
        this.passportPattern = "^[A-PR-WY][1-9]\\d\\s?\\d{4}[1-9]$";
        this.adhar_pattern = "^[2-9]{1}[0-9]{3}(\\s?)[0-9]{4}\\1[0-9]{4}$";
        this.pwd = false;
        this.accept = false;
        this.deviceid = JSON.parse(localStorage.getItem('DeviceData'));
        this.branch_name = '';
        this.branchid = '';
        this.branch_settings = '';
        this.is_branchwise_cus_reg = '';
        this.id_branch = '';
        this.details = { 'countryname': 'India', 'id_country': '101', 'statename': '', 'id_state': '', 'cityname': '', 'id_city': '' };
        this.country = [];
        this.state = [];
        this.city = [];
        this.village = [];
        this.address1 = '';
        this.address2 = '';
        this.passport = '';
        this.dl_number = '';
        this.aadharid = '';
        this.pincode = [];
        this.religion = [];
        this.gender = [];
        this.cus_type = [];
        this.date_of_birth = [];
        this.date_of_wed = [];
        this.selected = 0;
        this.showinput = false;
        this.empData = JSON.parse(localStorage.getItem('empDetail'));
        console.log(this.empData);
        console.log(JSON.parse(localStorage.getItem('empDetail'))['idcity']);
        console.log(JSON.parse(localStorage.getItem('empDetail'))['cityname']);
        console.log(JSON.parse(localStorage.getItem('empDetail'))['idstate']);
        console.log(JSON.parse(localStorage.getItem('empDetail'))['statename']);
        console.log(JSON.parse(localStorage.getItem('empDetail'))['idcountry']);
        console.log(JSON.parse(localStorage.getItem('empDetail'))['countryname']);
        this.nav = nav;
        this.menu = menu;
        this.platform = platform;
        this.registerForm = builder.group({
            'is_vip': [0, __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].required])],
            'firstname': ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].required])],
            'relation_name': [''],
            'relation_type': [''],
            'mobile': ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].required, __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].minLength(10), __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].maxLength(10)])],
            'email': ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].pattern(this.emailPattern)])],
            // 'passwd': ['', Validators.compose([Validators.required, Validators.minLength(8), Validators.maxLength(16)])],
            // 'cpasswd': ['', Validators.compose([Validators.required, Validators.minLength(8), Validators.maxLength(16)])],
            'address1': ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].required]), this.address1 != null ? this.address1['address1'] : null],
            'address2': this.address2 != null ? this.address1['address2'] : null,
            'passport': ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].pattern(this.passportPattern)])],
            'dl_number': [''],
            'aadharid': ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].pattern(this.adhar_pattern)])],
            'pincode': ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].required, __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].minLength(6)]), this.pincode != null ? this.pincode['pincode'] : null],
            'religion': this.religion != null ? this.religion['religion'] : null,
            'gender': this.gender != null ? this.gender['gender'] : null,
            // 'cus_type': this.cus_type != null ? this.cus_type['cus_type'] : null,
            'cus_type': 1,
            'date_of_birth': this.date_of_birth != null ? this.date_of_birth['date_of_birth'] : null,
            'date_of_wed': this.date_of_wed != null ? this.date_of_wed['date_of_wed'] : null,
            'countryname': this.details['countryname'],
            'id_country': this.details['id_country'],
            'statename': this.details['statename'],
            'id_state': this.details['id_state'],
            'cityname': this.details['cityname'],
            'id_city': this.details['id_city'],
            'village_name': ['', this.village_name != null ? this.village_name['village_name'] : null],
            'id_village': this.details['id_village'],
            //  'branchname': ['', Validators.compose([Validators.required]), this.branchname != null ? this.branchname['branchname'] : null],
            'id_branch': this.empData['id_branch'] != null ? this.empData['id_branch'] : null,
            'nominee_name': this.nominee_name != null ? this.nominee_name['nominee_name'] : null,
            'nominee_relationship': this.nominee_relationship != null ? this.nominee_relationship['nominee_relationship'] : null,
            'nominee_mobile': this.nominee_mobile != null ? this.nominee_mobile['nominee_mobile'] : null,
            'company_name': this.company_name != null ? this.company_name['company_name'] : null,
            'gst_number': ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].pattern(this.gstPattern)]), this.gst_number != null ? this.gst_number['gst_number'] : null],
            'pan': ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].pattern(this.panPattern)]), this.pan != null ? this.pan['pan'] : null],
            'voterid': ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].pattern(this.votterPattern)]), this.voterid != null ? this.voterid['voterid'] : null],
            'rationcard': ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].pattern(this.rationPattern)]), this.rationcard != null ? this.rationcard['rationcard'] : null],
            //'pan': this.pan != null ? this.pan['pan'] : null,
            // 'voterid': this.voterid != null ? this.voterid['voterid'] : null,
            //'rationcard': this.rationcard != null ? this.rationcard['rationcard'] : null,
            'comments': this.comments != null ? this.comments['comments'] : null,
            'marital_status': this.marital_status != null ? this.marital_status['marital_status'] : null,
            'spouse_name': this.spouse_name != null ? this.spouse_name['spouse_name'] : null,
            'spouse_dob': this.spouse_dob != null ? this.spouse_dob['spouse_dob'] : null,
            //  'spouse_wed': this.spouse_wed != null ? this.spouse_wed['spouse_wed'] : null,
            childrendata: new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["a" /* FormArray */]([]),
            'refperson': this.details['refperson'],
            'refmobile': this.details['refmobile'],
        });
        this.add();
        this.firstname = this.registerForm.controls['firstname'];
        this.relation_name = this.registerForm.controls['relation_name'];
        this.relation_type = this.registerForm.controls['relation_type'];
        this.mobile = this.registerForm.controls['mobile'];
        this.email = this.registerForm.controls['email'];
        // this.passwd = this.registerForm.controls['passwd'];
        // this.cpasswd = this.registerForm.controls['cpasswd'];
        this.address1 = this.registerForm.controls['address1'];
        this.address2 = this.registerForm.controls['address2'];
        this.passport = this.registerForm.controls['passport'];
        this.dl_number = this.registerForm.controls['dl_number'];
        this.aadharid = this.registerForm.controls['aadharid'];
        this.pincode = this.registerForm.controls['pincode'];
        this.religion = this.registerForm.controls['religion'];
        this.gender = this.registerForm.controls['gender'];
        this.cus_type = this.registerForm.controls['cus_type'];
        this.date_of_birth = this.registerForm.controls['date_of_birth'];
        this.date_of_wed = this.registerForm.controls['date_of_wed'];
        this.countryname = this.registerForm.controls['countryname'];
        this.statename = this.registerForm.controls['statename'];
        this.cityname = this.registerForm.controls['cityname'];
        this.village_name = this.registerForm.controls['village_name'];
        this.id_country = this.registerForm.controls['id_country'];
        this.id_state = this.registerForm.controls['id_state'];
        this.id_city = this.registerForm.controls['id_city'];
        this.id_village = this.registerForm.controls['id_village'];
        this.branchname = this.registerForm.controls['branchname'];
        this.id_branch = this.empData['id_branch'];
        this.nominee_name = this.registerForm.controls['nominee_name'];
        this.nominee_relationship = this.registerForm.controls['nominee_relationship'];
        this.nominee_mobile = this.registerForm.controls['nominee_mobile'];
        this.company_name = this.registerForm.controls['company_name'];
        this.nominee_name = this.registerForm.controls['nominee_name'];
        this.gst_number = this.registerForm.controls['gst_number'];
        this.pan = this.registerForm.controls['pan'];
        this.voterid = this.registerForm.controls['voterid'];
        this.rationcard = this.registerForm.controls['rationcard'];
        this.comments = this.registerForm.controls['comments'];
        this.marital_status = this.registerForm.controls['marital_status'];
        this.spouse_name = this.registerForm.controls['spouse_name'];
        this.spouse_dob = this.registerForm.controls['spouse_dob'];
        //   this.spouse_wed = this.registerForm.controls['spouse_wed'];
        this.refperson = this.registerForm.controls['refperson'];
        this.refmobile = this.registerForm.controls['refmobile'];
        this.is_vip = this.registerForm.controls['is_vip'];
        var loader = this.loadingCtrl.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        /*     this.common.getcountry().then(data => {
              this.country = data;
              this.common.getstate(this.details['id_country']).then(data => {
                this.registerForm.controls['countryname'].setValue(this.details['countryname']);
                this.registerForm.controls['id_country'].setValue(this.details['id_country']);
                this.state = data;
                this.common.getcity(this.details['id_state']).then(data => {
                  this.registerForm.controls['statename'].setValue(this.details['statename']);
                  this.registerForm.controls['id_state'].setValue(this.details['id_state']);
        
                  this.registerForm.controls['cityname'].setValue(this.details['cityname']);
                  this.registerForm.controls['id_city'].setValue(this.details['id_city']);
                  this.city = data;
                  loader.dismiss();
        
                })
              })
        
            })
        
            this.common.getVillages().then(data => {
              this.village = data;
              console.log(this.village);
            })
         */
        this.common.getcountry().then(function (countryData) {
            _this.country = countryData;
            var selectedCountryId = _this.details['id_country']; // Default to details
            var defaultCountry = _this.country.find(function (c) { return c.is_default == "1"; });
            if (defaultCountry) {
                console.log("Default Country ID:", defaultCountry.id_country);
                _this.registerForm.controls['countryname'].setValue(defaultCountry.name);
                _this.registerForm.controls['id_country'].setValue(defaultCountry.id_country);
                selectedCountryId = defaultCountry.id_country; // Use default country if found
            }
            else {
                console.log("Using details country ID:", _this.details['id_country']);
                _this.registerForm.controls['countryname'].setValue(_this.details['countryname']);
                _this.registerForm.controls['id_country'].setValue(_this.details['id_country']);
            }
            console.log("Final id_country for getstate():", selectedCountryId);
            // Ensure valid id_country before calling getstate()
            if (selectedCountryId) {
                _this.common.getstate(selectedCountryId).then(function (stateData) {
                    _this.state = stateData;
                    var selectedStateId = _this.details['id_state']; // Default to details
                    var defaultState = _this.state.find(function (s) { return s.is_default == "1"; });
                    if (defaultState) {
                        console.log("Default State ID:", defaultState.id_state);
                        _this.registerForm.controls['statename'].setValue(defaultState.name);
                        _this.registerForm.controls['id_state'].setValue(defaultState.id_state);
                        selectedStateId = defaultState.id_state;
                    }
                    else {
                        console.log("Using details state ID:", _this.details['id_state']);
                        _this.registerForm.controls['statename'].setValue(_this.details['statename']);
                        _this.registerForm.controls['id_state'].setValue(_this.details['id_state']);
                    }
                    console.log("Final id_state for getcity():", selectedStateId);
                    // Ensure valid id_state before calling getcity()
                    if (selectedStateId) {
                        _this.common.getcity(selectedStateId).then(function (cityData) {
                            _this.city = cityData;
                            var defaultCity = _this.city.find(function (c) { return c.is_default == "1"; });
                            if (defaultCity) {
                                _this.registerForm.controls['cityname'].setValue(defaultCity.name);
                                _this.registerForm.controls['id_city'].setValue(defaultCity.id_city);
                            }
                            else {
                                _this.registerForm.controls['cityname'].setValue(_this.details['cityname']);
                                _this.registerForm.controls['id_city'].setValue(_this.details['id_city']);
                            }
                            loader.dismiss();
                        });
                    }
                    else {
                        console.warn("id_state is empty, cannot fetch cities!");
                    }
                });
            }
            else {
                console.warn("id_country is empty, cannot fetch states!");
            }
        });
    }
    CusRegisterPage.prototype.newchild = function () {
        return this.builder.group({
            'child_name': this.child_name != null ? this.child_name['child_name'] : null,
            'child_dob': this.child_dob != null ? this.child_dob['child_dob'] : null
        });
    };
    CusRegisterPage.prototype.add = function () {
        this.childrendata = this.registerForm.get('childrendata');
        this.childrendata.push(this.newchild());
    };
    CusRegisterPage.prototype.delete = function (i) {
        this.childrendata.removeAt(i);
    };
    CusRegisterPage.prototype.checkIfMatchingPasswords = function (passwordKey, passwordConfirmationKey) {
        var _this = this;
        console.log('1111111');
        return function (group) {
            var passwordInput = group.controls[passwordKey], passwordConfirmationInput = group.controls[passwordConfirmationKey];
            if (passwordInput.value !== passwordConfirmationInput.value) {
                // this.errorMessage = 'PasswordMismatch';
                _this.pwd = true;
                return passwordConfirmationInput.setErrors({ notEquivalent: true });
            }
            else {
                // this.errorMessage = '';
                _this.pwd = false;
                return passwordConfirmationInput.setErrors(null);
            }
        };
    };
    CusRegisterPage.prototype.ionViewDidLoad = function () {
    };
    CusRegisterPage.prototype.segmentChanged = function (e) {
        this.content.scrollToTop();
    };
    CusRegisterPage.prototype.next = function (e) {
        this.type = 'o';
        this.content.scrollToTop();
    };
    CusRegisterPage.prototype.validateCaptilize = function (e, type) {
        console.log(e['value']);
        console.log(type);
        console.log((e['value']).toUpperCase());
        if (type == 'gstno') {
            this.registerForm.controls['gst_number'].setValue(e['value'].toUpperCase());
            if (this.registerForm.controls['gst_number'].value.length > 15) {
                var v = this.registerForm.controls['gst_number'].value.slice(0, 15);
                this.registerForm.controls['gst_number'].setValue(v.toUpperCase());
            }
        }
        else if (type == 'pancard') {
            this.registerForm.controls['pan'].setValue(e['value'].toUpperCase());
            if (this.registerForm.controls['pan'].value.length > 10) {
                var v = this.registerForm.controls['pan'].value.slice(0, 10);
                this.registerForm.controls['pan'].setValue(v.toUpperCase());
            }
        }
        else if (type == 'voter') {
            this.registerForm.controls['voterid'].setValue(e['value'].toUpperCase());
            if (this.registerForm.controls['voterid'].value.length > 10) {
                var v = this.registerForm.controls['voterid'].value.slice(0, 10);
                this.registerForm.controls['voterid'].setValue(v.toUpperCase());
            }
        }
        else if (type == 'adhar') {
            if (this.registerForm.controls['aadharid'].value.length > 14) {
                var v = this.registerForm.controls['aadharid'].value.slice(0, 14);
                this.registerForm.controls['aadharid'].setValue(v.toUpperCase());
            }
        }
        else if (type == 'pass') {
            this.registerForm.controls['passport'].setValue(e['value'].toUpperCase());
            console.log('000000');
        }
        else if (type == 'dl_num') {
            if (this.registerForm.controls['dl_number'].value.length > 15) {
                var v = this.registerForm.controls['dl_number'].value.slice(0, 15);
                this.registerForm.controls['dl_number'].setValue(v.toUpperCase());
            }
        }
        else if (type == 'refermob') {
            if (this.registerForm.controls['refmobile'].value.length > 10) {
                var v = this.registerForm.controls['refmobile'].value.slice(0, 10);
                this.registerForm.controls['refmobile'].setValue(v.toUpperCase());
            }
        }
        else {
            if (type == 'ration') {
                this.registerForm.controls['rationcard'].setValue(e['value'].toUpperCase());
            }
        }
    };
    /* for footer as hide in default. it's assigned in app.components.ts */
    CusRegisterPage.prototype.ionViewWillEnter = function () {
        var user = false;
        this.events.publish('user:created', user);
        this.events.publish('entered', true);
        this.events.publish('pageno', 5);
    };
    CusRegisterPage.prototype.shownewPassword = function () {
        this.showPassnew = !this.showPassnew;
        if (this.showPassnew) {
            this.typechecknew = 'text';
        }
        else {
            this.typechecknew = 'password';
        }
    };
    CusRegisterPage.prototype.showconfirmPassword = function () {
        this.showPassconfirm = !this.showPassconfirm;
        if (this.showPassconfirm) {
            this.typecheckconfirm = 'text';
        }
        else {
            this.typecheckconfirm = 'password';
        }
    };
    /*   birth(type,index) {
        console.log(type,index,'111111111111');
    
        this.datePicker.show({
          date: new Date(),
          mode: 'date',
          androidTheme: this.datePicker.ANDROID_THEMES.THEME_HOLO_DARK
        }).then(date => {
    
          var ddd = date.getDate();
          var mmm = date.getMonth() + 1;
          var yy = date.getFullYear();
          //var today = new Date(yy+"-"+mmm+"-"+ddd).toISOString().substring(0, 10);
          var today = date.toISOString().substring(0, 10);
          //this.fromdate= today;
          this.details['date_of_birth'] = yy + "-" + mmm + "-" + ddd;
          this.details['spouse_dob'] = yy + "-" + mmm + "-" + ddd;
          this.details['child_dob'] = yy + "-" + mmm + "-" + ddd;
    console.log( this.details['date_of_birth'],'222222222222');
    
          if(type =='common'){
            console.log('33333333333333');
    
            this.registerForm.controls['date_of_birth'].setValue(yy + "-" + mmm + "-" + ddd);
          }else if(type =='spouse'){
            this.registerForm.controls['spouse_dob'].setValue(yy + "-" + mmm + "-" + ddd);
          }else{
            ((this.registerForm.get('childrendata') as FormArray).at(index) as FormGroup).get('child_dob').patchValue(yy + "-" + mmm + "-" + ddd);
            // this.registerForm.controls['child_dob'].setValue(yy + "-" + mmm + "-" + ddd);
          }
    
    
          // console.log( this.productdet.due_date)
        });
      } */
    CusRegisterPage.prototype.birth = function (type, index) {
        var _this = this;
        this.datePicker.show({
            date: new Date(),
            mode: 'date',
            androidTheme: this.datePicker.ANDROID_THEMES.THEME_HOLO_DARK
        }).then(function (date) {
            var ddd = ("0" + date.getDate()).slice(-2); // 01  01, 5  05
            var mmm = ("0" + (date.getMonth() + 1)).slice(-2); // 01  01, 9  09
            var yy = date.getFullYear();
            var finalDate = yy + "-" + mmm + "-" + ddd;
            _this.details['date_of_birth'] = finalDate;
            _this.details['spouse_dob'] = finalDate;
            _this.details['child_dob'] = finalDate;
            console.log("DOB: ", finalDate);
            if (type == 'common') {
                _this.registerForm.controls['date_of_birth'].setValue(finalDate);
            }
            else if (type == 'spouse') {
                _this.registerForm.controls['spouse_dob'].setValue(finalDate);
            }
            else {
                _this.registerForm.get('childrendata')
                    .at(index)
                    .get('child_dob')
                    .patchValue(finalDate);
            }
        });
    };
    // wed(type) {
    //   this.datePicker.show({
    //     date: new Date(),
    //     mode: 'date',
    //     androidTheme: this.datePicker.ANDROID_THEMES.THEME_HOLO_DARK
    //   }).then(date => {
    //     var ddd = date.getDate();
    //     var mmm = date.getMonth() + 1;
    //     var yy = date.getFullYear();
    //     //var today = new Date(yy+"-"+mmm+"-"+ddd).toISOString().substring(0, 10);
    //     var today = date.toISOString().substring(0, 10);
    //     //this.fromdate= today;
    //     this.details.date_of_wed = yy + "-" + mmm + "-" + ddd;
    //   //  this.details.spouse_wed = yy + "-" + mmm + "-" + ddd;
    //    // this.registerForm.controls['date_of_wed'].setValue(yy + "-" + mmm + "-" + ddd);
    //    this.registerForm.controls['date_of_wed'].setValue(yy + "-" + mmm + "-" + ddd);
    //     // console.log( this.productdet.due_date)
    //   });
    // }
    CusRegisterPage.prototype.wed = function (type) {
        var _this = this;
        this.datePicker.show({
            date: new Date(),
            mode: 'date',
            androidTheme: this.datePicker.ANDROID_THEMES.THEME_HOLO_DARK
        }).then(function (date) {
            var dd = ("0" + date.getDate()).slice(-2); // 0131
            var mm = ("0" + (date.getMonth() + 1)).slice(-2); // 0112
            var yy = date.getFullYear(); // 2025
            var finalDate = yy + "-" + mm + "-" + dd; // yyyy-mm-dd (25-12-2025)
            _this.details.date_of_wed = finalDate;
            _this.registerForm.controls['date_of_wed'].setValue(finalDate);
        });
    };
    CusRegisterPage.prototype.onSelectChange = function (selectedValue) {
        console.log(selectedValue);
        this.selected = selectedValue;
        console.log(this.selected);
    };
    CusRegisterPage.prototype.onSubmit = function (values) {
        var _this = this;
        console.log(this.registerForm);
        console.log(values);
        /*     var proceed = (this.branch_settings == 1 && this.is_branchwise_cus_reg == 1) ? true : false;
            console.log(proceed);
         */
        if (this.registerForm.get('is_vip').valid) {
            if (this.registerForm.get('firstname').valid) {
                if (this.registerForm.get('email').valid) {
                    if (this.registerForm.get('mobile').valid) {
                        // if (this.registerForm.get('passwd').valid && this.registerForm.get('cpasswd').valid && this.registerForm.controls['passwd'].value == this.registerForm.controls['cpasswd'].value) {
                        if (this.registerForm.controls['pincode'].valid) {
                            if (this.registerForm.controls['address1'].valid) {
                                if (this.registerForm.controls['passport'].valid) {
                                    if (this.registerForm.controls['aadharid'].valid) {
                                        if (this.registerForm.controls['gst_number'].valid) {
                                            if (this.registerForm.controls['pan'].valid) {
                                                if (this.registerForm.controls['voterid'].valid) {
                                                    if (this.registerForm.controls['rationcard'].valid) {
                                                        this.errorMessage = 'Doing Register...';
                                                        this.isDisabled = true;
                                                        var loader_1 = this.loadingCtrl.create({
                                                            content: 'Please Wait',
                                                            spinner: 'bubbles',
                                                        });
                                                        loader_1.present();
                                                        var postData = Object.assign({}, values);
                                                        console.log(JSON.stringify(postData));
                                                        this.commonservice.createCustomer(JSON.stringify(postData)).then(function (res) {
                                                            if (res) {
                                                                console.log(res);
                                                                if (res['status']) {
                                                                    var toast = _this.toastCtrl.create({
                                                                        message: res.msg,
                                                                        duration: 6000
                                                                    });
                                                                    toast.present();
                                                                    _this.nav.setRoot(__WEBPACK_IMPORTED_MODULE_6__home_home__["a" /* HomePage */], { data: _this.registerForm.value, page: 'new' });
                                                                }
                                                                else {
                                                                    var toast = _this.toastCtrl.create({
                                                                        message: res.msg,
                                                                        duration: 6000
                                                                    });
                                                                    toast.present();
                                                                    _this.errorMessage = res.msg;
                                                                    _this.isDisabled = false;
                                                                }
                                                                loader_1.dismiss();
                                                            }
                                                        }, function (error) {
                                                            _this.isDisabled = false;
                                                            loader_1.dismiss();
                                                        });
                                                    }
                                                    else {
                                                        console.log('ration');
                                                        var toast = this.toastCtrl.create({
                                                            message: 'Please Enter Correct RationCard',
                                                            position: 'bottom',
                                                            duration: 6000
                                                        });
                                                        toast.present();
                                                    }
                                                }
                                                else {
                                                    console.log('voter id');
                                                    var toast = this.toastCtrl.create({
                                                        message: 'Please Enter Correct VoterCard',
                                                        position: 'bottom',
                                                        duration: 6000
                                                    });
                                                    toast.present();
                                                }
                                            }
                                            else {
                                                console.log('pan');
                                                var toast = this.toastCtrl.create({
                                                    message: 'Please Enter Correct PanCard',
                                                    position: 'bottom',
                                                    duration: 6000
                                                });
                                                toast.present();
                                            }
                                        }
                                        else {
                                            console.log('gst');
                                            var toast = this.toastCtrl.create({
                                                message: 'Please Enter Correct Gst Number',
                                                position: 'bottom',
                                                duration: 6000
                                            });
                                            toast.present();
                                        }
                                    }
                                    else {
                                        console.log('adhaar number');
                                        var toast = this.toastCtrl.create({
                                            message: 'Please Enter Aadhaar Number Details',
                                            position: 'bottom',
                                            duration: 6000
                                        });
                                        toast.present();
                                    }
                                }
                                else {
                                    console.log('passport');
                                    var toast = this.toastCtrl.create({
                                        message: 'Please Enter Passport Details',
                                        position: 'bottom',
                                        duration: 6000
                                    });
                                    toast.present();
                                }
                            }
                            else {
                                console.log('village');
                                var toast = this.toastCtrl.create({
                                    message: 'Please Enter Address',
                                    position: 'bottom',
                                    duration: 6000
                                });
                                toast.present();
                            }
                        }
                        else {
                            console.log('tc');
                            var toast = this.toastCtrl.create({
                                message: 'Enter Valid Pincode',
                                position: 'bottom',
                                duration: 6000
                            });
                            toast.present();
                        }
                        // }
                        // else {
                        //   if (this.registerForm.controls['passwd'].value != this.registerForm.controls['cpasswd'].value) {
                        //     let toast = this.toastCtrl.create({
                        //       message: 'Password and Confirm Password Mismatch',
                        //       position: 'bottom',
                        //       duration: 6000
                        //     });
                        //     toast.present();
                        //   }
                        //   else {
                        //     let toast = this.toastCtrl.create({
                        //       message: 'Minimum 8 to 16 Characters Only Allowed',
                        //       position: 'bottom',
                        //       duration: 6000
                        //     });
                        //     toast.present();
                        //   }
                        // }
                    }
                    else {
                        var toast = this.toastCtrl.create({
                            message: ' Enter Valid Mobile Number',
                            position: 'bottom',
                            duration: 6000
                        });
                        toast.present();
                    }
                }
                else {
                    var toast = this.toastCtrl.create({
                        message: 'Enter Valid Email Id',
                        position: 'bottom',
                        duration: 6000
                    });
                    toast.present();
                }
            }
            else {
                var toast = this.toastCtrl.create({
                    message: 'FirstName Must Contain Alphabets Only',
                    position: 'bottom',
                    duration: 6000
                });
                toast.present();
            }
        }
        else {
            var toast = this.toastCtrl.create({
                message: 'Please Select VIP',
                position: 'bottom',
                duration: 6000
            });
            toast.present();
        }
    };
    CusRegisterPage.prototype.scrollToTop = function () {
        this.content.scrollToTop();
    };
    CusRegisterPage.prototype.getmodal = function (name, details) {
        var _this = this;
        var mod = this.modal.create(__WEBPACK_IMPORTED_MODULE_5__modal_countrymodel_countrymodel__["a" /* CountrymodelPage */], { data: details, name: name });
        mod.present();
        mod.onDidDismiss(function (dataa, name) {
            if (dataa != undefined) {
                var loader_2 = _this.loadingCtrl.create({
                    content: 'Please Wait',
                    spinner: 'bubbles',
                });
                loader_2.present();
                if (name == 'Country') {
                    _this.common.getstate(dataa['id_country']).then(function (data) {
                        _this.registerForm.controls['countryname'].setValue(dataa['name']);
                        _this.registerForm.controls['id_country'].setValue(dataa['id_country']);
                        _this.registerForm.controls['statename'].setValue('');
                        _this.registerForm.controls['id_state'].setValue('');
                        _this.state = data;
                        loader_2.dismiss();
                    });
                }
                if (name == 'State') {
                    _this.common.getcity(dataa['id_state']).then(function (data) {
                        _this.registerForm.controls['statename'].setValue(dataa['name']);
                        _this.registerForm.controls['id_state'].setValue(dataa['id_state']);
                        _this.registerForm.controls['cityname'].setValue('');
                        _this.registerForm.controls['id_city'].setValue('');
                        _this.city = data;
                        loader_2.dismiss();
                    });
                }
                if (name == 'City') {
                    _this.registerForm.controls['cityname'].setValue(dataa['name']);
                    _this.registerForm.controls['id_city'].setValue(dataa['id_city']);
                    loader_2.dismiss();
                }
                if (name == 'Village') {
                    _this.registerForm.controls['village_name'].setValue(dataa['village_name']);
                    _this.registerForm.controls['id_village'].setValue(dataa['id_village']);
                    loader_2.dismiss();
                }
            }
        });
    };
    CusRegisterPage.prototype.goto = function () {
        this.nav.setRoot(__WEBPACK_IMPORTED_MODULE_6__home_home__["a" /* HomePage */]);
    };
    CusRegisterPage.prototype.typecheck = function () {
        if (this.registerForm.controls["cus_type"].value == '2') {
            this.registerForm.controls["gst_number"].setValidators([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].required, __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].pattern(this.gstPattern)]);
            this.registerForm.controls['gst_number'].updateValueAndValidity();
            this.registerForm.controls["email"].setValidators([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].required, __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].pattern(this.emailPattern)]);
            this.registerForm.controls['email'].updateValueAndValidity();
        }
        else if (this.registerForm.controls["cus_type"].value == '1') {
            // this.registerForm.controls['gst_number'].clearValidators();
            this.registerForm.controls["gst_number"].setValidators([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].pattern(this.gstPattern)]);
            this.registerForm.controls['gst_number'].updateValueAndValidity();
            this.registerForm.controls["email"].setValidators([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].pattern(this.emailPattern)]);
            this.registerForm.controls['email'].updateValueAndValidity();
        }
    };
    CusRegisterPage.prototype.checkseg = function () {
        if (this.type == 'o') {
            this.registerForm.controls['cus_type'].setValue(2);
            this.typecheck();
        }
        else {
            this.registerForm.controls['cus_type'].setValue(1);
            this.typecheck();
        }
    };
    CusRegisterPage.prototype.texto = function (event) {
        console.log(event);
        var NUMBER_REGEXP = /^[a-zA-Z ]*$/;
        var newValue = event.target.value;
        var regExp = new RegExp(NUMBER_REGEXP);
        console.log(regExp);
        var withNoDigits = event.target.value.replace(/[0-9]/g, '');
        this.registerForm.controls['firstname'].setValue(withNoDigits);
        //  if (!regExp.test(newValue)) {
        //   let v:any = this.registerForm.controls['firstname'].value.slice(0, -1);
        //   this.registerForm.controls['firstname'].setValue(v);
        //  }
    };
    CusRegisterPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    CusRegisterPage.prototype.pinserch = function (e) {
        var _this = this;
        console.log(e.length);
        this.registerForm.controls['id_village'].setValue('');
        this.registerForm.controls['village_name'].setValue('');
        if (e != '' && e.length == 6) {
            var post = {
                'pin_code': e
            };
            this.common.getarea(post).then(function (data) {
                _this.pincode_show = true;
                _this.village = data;
                console.log(_this.village);
            });
        }
        else {
            this.pincode_show = false;
            // let toast = this.toastCtrl.create({
            //   message: 'Please Enter Correct Pincode',
            //   position: 'bottom',
            //   duration: 1000
            // });
            // toast.present();
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_8" /* ViewChild */])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* Content */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* Content */])
    ], CusRegisterPage.prototype, "content", void 0);
    CusRegisterPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-cus-register',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\cus-register\cus-register.html"*/'<ion-header>\n  <ion-navbar>\n      <!-- <button ion-button menuToggle>\n          <ion-icon name="menu"></ion-icon>\n      </button> -->\n      <ion-title style="text-align: center !important;\n  margin-right: 15% !important;" (click)="goto()"><img class="header-logo" src=\'assets/header.svg\' />\n      </ion-title>\n  </ion-navbar>\n</ion-header>\n\n\n<ion-content text-center padding>\n  <div style="margin-bottom: 100px !important;">\n  <ion-segment [(ngModel)]="type" (ngModelChange)="checkseg()" mode="ios" color="label-color">\n      <ion-segment-button value="p">\n          Personal\n      </ion-segment-button>\n      <ion-segment-button value="o">\n          Business\n      </ion-segment-button>\n  </ion-segment>\n\n\n  <form [formGroup]="registerForm" novalidate padding>\n\n      <span *ngIf="type == \'p\'">\n        <ion-row>\n            <ion-col col-4 style="text-align: left;margin-left: -5px;">\n        <ion-label style="color: black !important;">VIP<span class="required"> *</span></ion-label>\n            </ion-col>\n            <ion-col col-8>\n        <ion-list radio-group [formControl]="is_vip" style="display: flex; flex-direction: row;">\n          <ion-item no-lines style="margin-right: 15px;">\n            <ion-label style="color: black !important;">Yes</ion-label>\n            <ion-radio value="1" slot="start"></ion-radio>\n          </ion-item>\n          <ion-item no-lines>\n            <ion-label style="color: black !important;">No</ion-label>\n            <ion-radio value="0" slot="start"></ion-radio>\n          </ion-item>\n        </ion-list>\n      </ion-col>\n        </ion-row>\n\n          <ion-label style="text-align: left;" color="label-color" stacked>First Name<span class="required"> *</span></ion-label>\n          <input type="text" style="font-size: 1.6rem;\n          font-weight: normal;color: #000;padding-top: 10px;\n  padding-bottom: 10px;margin: 5px 0px;width: calc(100% - 0px - 0px);border:none !important;background:transparent;    border-bottom: 1px solid lightgray !important;"   [formControl]="firstname" (keyup)="texto($event)"/>\n    <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Relation Type</ion-label>\n              <ion-select [formControl]="relation_type">\n                  <ion-option value="1">S/O</ion-option>\n                  <ion-option value="2">D/O</ion-option>\n                  <ion-option value="3">W/O</ion-option>\n              </ion-select>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Relation Name</ion-label>\n              <ion-input type="text" [formControl]="relation_name"></ion-input>\n          </ion-item> -->\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Mobile<span class="required"> *</span></ion-label>\n              <ion-input type="tel" [formControl]="mobile" placeholder="10 Digit Mobile Number" maxlength="10">\n              </ion-input>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Email</ion-label>\n              <ion-input type="email" [formControl]="email" placeholder="youremailid@domain.com"></ion-input>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Gender</ion-label>\n              <ion-select interface="popover" [formControl]="gender">\n                  <ion-option value="0">Male</ion-option>\n                  <ion-option value="1">Female</ion-option>\n                  <ion-option value="3">Others</ion-option>\n              </ion-select>\n          </ion-item>\n\n\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Marital Status</ion-label>\n              <ion-select (ionChange)="onSelectChange($event)" [formControl]="marital_status">\n                  <ion-option value="1">Single</ion-option>\n                  <ion-option value="2">Married</ion-option>\n                  <ion-option value="3">Others</ion-option>\n              </ion-select>\n          </ion-item> -->\n            <!--    <ion-item no-padding *ngIf="selected == 2 || selected == 3 ">\n              <ion-label color="label-color" stacked>Wedding Date</ion-label>\n              <ion-input readonly="true" class="ion_datetime" [formControl]="spouse_wed" displayFormat="DD-MM-YYYY" placeholder="Wedding date"\n                  (tap)="wed(\'spouse\')"></ion-input>\n          </ion-item> -->\n\n\n          <!--   </ion-item> -->\n\n\n\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Password<span class="required"> *</span></ion-label>\n              <ion-input [formControl]="passwd" type="{{typechecknew}}"></ion-input>\n              <button style="padding: 0px !important" *ngIf="!showPassnew" ion-button clear color="dark" type="button" item-right (click)="shownewPassword()"> <ion-icon style="background:none !important;"  name="eye"></ion-icon></button>\n              <button style="padding: 0px !important" *ngIf="showPassnew" ion-button clear color="dark" type="button" item-right (click)="shownewPassword()">  <ion-icon style="background:none !important;" name="eye-off"></ion-icon></button>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Confirm Password<span class="required"> *</span></ion-label>\n              <ion-input [formControl]="cpasswd" type="{{typecheckconfirm}}"></ion-input>\n              <button style="padding: 0px !important" *ngIf="!showPassconfirm" ion-button clear color="dark" type="button" item-right (click)="showconfirmPassword()"> <ion-icon style="background:none !important;"  name="eye"></ion-icon></button>\n              <button style="padding: 0px !important" *ngIf="showPassconfirm" ion-button clear color="dark" type="button" item-right (click)="showconfirmPassword()">  <ion-icon style="background:none !important;" name="eye-off"></ion-icon></button>\n          </ion-item>   -->\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Address 1<span class="required"> *</span></ion-label>\n              <ion-input type="text" [formControl]="address1"></ion-input>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Address 2</ion-label>\n              <ion-input type="text" [formControl]="address2"></ion-input>\n          </ion-item>\n\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Passport</ion-label>\n            <ion-input type="text" [formControl]="passport"     (ionChange)="validateCaptilize(passport,\'pass\')"></ion-input>\n        </ion-item>\n\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>DL Number</ion-label>\n          <ion-input type="text" [formControl]="dl_number"  (ionChange)="validateCaptilize(dl_number,\'dl_num\')"></ion-input>\n      </ion-item>\n\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Country<span class="required"> *</span></ion-label>\n              <ion-input (tap)="getmodal(\'Country\',country)" type="text" readonly=\'true\' [formControl]="countryname" >\n              </ion-input>\n              <button (click)="getmodal(\'Country\',country)" item-right ion-button clear color="dark" class="no-padding no-margin"\n                 >\n                  <ion-icon name="arrow-dropdown"></ion-icon>\n              </button>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>State<span class="required"> *</span></ion-label>\n              <ion-input [formControl]="statename" type="text" readonly=\'true\'  (tap)="getmodal(\'State\',state)"></ion-input>\n              <button item-right ion-button clear color="dark" class="no-padding no-margin" (click)="getmodal(\'State\',state)"\n                 >\n                  <ion-icon name="arrow-dropdown"></ion-icon>\n              </button>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>City<span class="required"> *</span></ion-label>\n              <ion-input [formControl]="cityname" (tap)="getmodal(\'City\',city)" type="text" readonly=\'true\'></ion-input>\n              <button item-right ion-button clear color="dark" class="no-padding no-margin" (click)="getmodal(\'City\',city)"\n                  >\n                  <ion-icon name="arrow-dropdown"></ion-icon>\n              </button>\n          </ion-item>\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Village</ion-label>\n              <ion-input [formControl]="village_name" (tap)="getmodal(\'Village\',village)" type="text" readonly=\'true\'></ion-input>\n              <button item-right ion-button clear color="dark" class="no-padding no-margin" (click)="getmodal(\'Village\',village)" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n          </ion-item>          -->\n      <!--     <ion-item no-padding>\n              <ion-label color="label-color" stacked>Pincode<span class="required"> *</span></ion-label>\n              <ion-input type="tel" [formControl]="pincode" maxlength="6"></ion-input>\n          </ion-item> -->\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Pincode<span class="required"> *</span></ion-label>\n            <ion-input type="tel" [formControl]="pincode" (ngModelChange)="pinserch($event)" maxlength="6"></ion-input>\n        </ion-item>\n\n        <ion-item no-padding *ngIf="pincode_show">\n          <ion-label color="label-color" stacked>Select Area<span class="required"> *</span></ion-label>\n          <ion-input [formControl]="village_name" type="text" readonly=\'true\' (tap)="getmodal(\'Village\',village)"></ion-input>\n          <button item-right ion-button clear color="dark" class="no-padding no-margin" (click)="getmodal(\'Village\',village)"\n              >\n              <ion-icon name="arrow-dropdown"></ion-icon>\n          </button>\n      </ion-item>\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Select Religion</ion-label>\n              <ion-select interface="popover" [formControl]="religion">\n                  <ion-option value="1">Hindu</ion-option>\n                  <ion-option value="2">Muslim</ion-option>\n                  <ion-option value="3">Christian</ion-option>\n              </ion-select>\n          </ion-item> -->\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Gender</ion-label>\n              <ion-select [formControl]="gender">\n                  <ion-option value="0">Male</ion-option>\n                  <ion-option value="1">Female</ion-option>\n                  <ion-option value="3">Others</ion-option>\n              </ion-select>\n          </ion-item>   -->\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Customer Type</ion-label>\n              <ion-select interface="popover" [formControl]="cus_type" (ionChange)="typecheck()">\n                  <ion-option value="1" >Individual</ion-option>\n              </ion-select>\n          </ion-item>    -->\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Date Of Birth</ion-label>\n              <ion-input readonly="true" class="ion_datetime" [formControl]="date_of_birth" displayFormat="DD-MM-YYYY"\n                  (tap)="birth(\'common\',\'\')"></ion-input>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Date Of Wed</ion-label>\n              <ion-input readonly="true" class="ion_datetime" [formControl]="date_of_wed" displayFormat="DD-MM-YYYY"\n                  (tap)="wed(\'common\')"></ion-input>\n          </ion-item>\n\n          <!--         <ion-row style="padding-left: 10px;padding-right: 0; position: relative; font-weight: normal;" *ngIf="branchSettings[\'settings\'][\'branch_settings\'] == 1 && branchSettings[\'settings\'][\'is_branchwise_cus_reg\'] == 1 ">\n        <ion-col col-10 style="margin: auto;">\n            <ion-input [formControl]="branchname" (tap)="openmodal()" type="text" readonly=\'true\' placeholder="Select Branch" style="font-size: medium;"></ion-input>\n        </ion-col>\n        <ion-col col-2>\n            <ion-icon (tap)="openmodal()" style="margin-top: 10px !important;" name="arrow-dropdown"></ion-icon>\n        </ion-col>\n    </ion-row> -->\n\n\n          <!-- <ion-item no-padding>\n      <ion-label color="label-color" stacked>Company Name </ion-label>\n      <ion-input type="text" [formControl]="company_name" ></ion-input>\n  </ion-item>\n\n  <ion-item no-padding>\n      <ion-label color="label-color" stacked>GST Number </ion-label>\n      <ion-input type="text" [formControl]="gst_number"  maxlength="15" (ionChange)="validateCaptilize(gst_number,\'gstno\')"></ion-input>\n  </ion-item> -->\n\n  <ion-item no-padding>\n    <ion-label color="label-color" stacked>Aadhaar Card No </ion-label>\n    <ion-input type="text" [formControl]="aadharid"  (ionChange)="validateCaptilize(aadharid,\'adhar\')"></ion-input>\n</ion-item>\n\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Pancard No </ion-label>\n              <ion-input type="text" [formControl]="pan"\n                  (ionChange)="validateCaptilize(pan,\'pancard\')"></ion-input>\n          </ion-item>\n\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Voter ID No </ion-label>\n              <ion-input type="text" [formControl]="voterid" maxlength="10"\n                  (ionChange)="validateCaptilize(voterid,\'voter\')"></ion-input>\n          </ion-item> -->\n          <!--\n  <ion-item no-padding>\n      <ion-label color="label-color" stacked>Rationcard No </ion-label>\n      <ion-input type="text" [formControl]="rationcard" maxlength="15" (ionChange)="validateCaptilize(rationcard,\'ration\')"></ion-input>\n  </ion-item> -->\n\n  <ion-item no-padding>\n      <ion-label color="label-color" stacked>Refered Person</ion-label>\n      <ion-input type="text" [formControl]="refperson"></ion-input>\n  </ion-item>\n  <ion-item no-padding>\n      <ion-label color="label-color" stacked>Refered Person Mobile</ion-label>\n      <ion-input type="tel" [formControl]="refmobile" placeholder="10 Digit Mobile Number" (ionChange)="validateCaptilize(refmobile,\'refermob\')" maxlength="10">\n      </ion-input>\n  </ion-item>\n  <ion-item no-padding>\n      <ion-label color="label-color" stacked>Spouse Name</ion-label>\n      <ion-input type="text" placeholder="Spouse Name" [formControl]="spouse_name"></ion-input>\n  </ion-item>\n\n  <ion-item no-padding>\n      <ion-label color="label-color" stacked>Spouse DOB</ion-label>\n      <ion-input readonly="true" class="ion_datetime" [formControl]="spouse_dob" displayFormat="DD-MM-YYYY" placeholder="Spouse DOB"\n          (tap)="birth(\'spouse\',\'\')"></ion-input>\n  </ion-item>\n\n\n\n  <div formArrayName="childrendata" >\n      <ion-label  color="label-color" align="left" stacked>Add Childrens  </ion-label>\n      <div *ngFor="let p of registerForm.get(\'childrendata\').controls; let i = index;">\n          <div [formGroupName]="i">\n              <ion-row no-padding>\n                  <ion-col col-5>\n                      <ion-input type="text" formControlName="child_name" placeholder="name"\n                          style="border-bottom: 1px solid gray;"></ion-input>\n                  </ion-col>\n                  <ion-col col-5>\n                      <ion-input readonly="true" class="ion_datetime" formControlName="child_dob" displayFormat="DD-MM-YYYY" placeholder="DOB"\n                      (tap)="birth(\'child\',i)" style="border-bottom: 1px solid gray;"></ion-input>\n                  </ion-col>\n                  <ion-col col-1 style="margin: auto;">\n                      <ion-icon (click)="add(i)"\n                          style="color: red;text-transform: initial;float: right;font-size: 2rem;" name="add">\n                      </ion-icon>\n                  </ion-col>\n                  <ion-col col-1 style="margin: auto;" *ngIf="i != 0">\n                      <ion-icon (click)="delete(i)"\n                          style="color: red;text-transform: initial;float: right;font-size: 2rem;"\n                          name="trash"></ion-icon>\n                  </ion-col>\n              </ion-row>\n          </div>\n      </div>\n  </div>\n\n\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Comments </ion-label>\n              <ion-textarea [formControl]="comments" placeholder="Enter a description"></ion-textarea>\n          </ion-item>\n      </span>\n\n      <span *ngIf="type == \'o\'">\n          <!-- <ion-item no-padding> -->\n              <ion-label style="text-align: left;" color="label-color" stacked>Company Name<span class="required"> *</span></ion-label>\n              <input type="text" style="font-size: 1.6rem;\n              font-weight: normal;color: #000;padding-top: 10px;\n  padding-bottom: 10px;margin: 5px 0px;width: calc(100% - 0px - 0px);border:none !important;background:transparent;    border-bottom: 1px solid lightgray !important;"   [formControl]="firstname" (keyup)="texto($event)"/>\n          <!-- </ion-item> -->\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Last Name</ion-label>\n              <ion-input type="text" [formControl]="lastname"></ion-input>\n          </ion-item>  -->\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Mobile<span class="required"> *</span></ion-label>\n              <ion-input type="tel" [formControl]="mobile" placeholder="10 Digit Mobile Number" maxlength="10">\n              </ion-input>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Email<span class="required"> *</span></ion-label>\n              <ion-input type="email" [formControl]="email" placeholder="youremailid@domain.com"></ion-input>\n          </ion-item>\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Password<span class="required"> *</span></ion-label>\n              <ion-input [formControl]="passwd" type="{{typechecknew}}"></ion-input>\n              <button style="padding: 0px !important" *ngIf="!showPassnew" ion-button clear color="dark" type="button" item-right (click)="shownewPassword()"> <ion-icon style="background:none !important;"  name="eye"></ion-icon></button>\n              <button style="padding: 0px !important" *ngIf="showPassnew" ion-button clear color="dark" type="button" item-right (click)="shownewPassword()">  <ion-icon style="background:none !important;" name="eye-off"></ion-icon></button>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Confirm Password<span class="required"> *</span></ion-label>\n              <ion-input [formControl]="cpasswd" type="{{typecheckconfirm}}"></ion-input>\n              <button style="padding: 0px !important" *ngIf="!showPassconfirm" ion-button clear color="dark" type="button" item-right (click)="showconfirmPassword()"> <ion-icon style="background:none !important;"  name="eye"></ion-icon></button>\n              <button style="padding: 0px !important" *ngIf="showPassconfirm" ion-button clear color="dark" type="button" item-right (click)="showconfirmPassword()">  <ion-icon style="background:none !important;" name="eye-off"></ion-icon></button>\n          </ion-item>   -->\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Address 1<span class="required"> *</span></ion-label>\n              <ion-input type="text" [formControl]="address1"></ion-input>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Address 2</ion-label>\n              <ion-input type="text" [formControl]="address2"></ion-input>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Country<span class="required"> *</span></ion-label>\n              <ion-input (tap)="getmodal(\'Country\',country)" type="text" readonly=\'true\' [formControl]="countryname">\n              </ion-input>\n              <button item-right ion-button clear color="dark" class="no-padding no-margin"\n                  (click)="getmodal(\'Country\',country)">\n                  <ion-icon name="arrow-dropdown"></ion-icon>\n              </button>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>State<span class="required"> *</span></ion-label>\n              <ion-input (tap)="getmodal(\'State\',state)" [formControl]="statename" type="text" readonly=\'true\'></ion-input>\n              <button item-right ion-button clear color="dark" class="no-padding no-margin"\n                  (click)="getmodal(\'State\',state)">\n                  <ion-icon name="arrow-dropdown"></ion-icon>\n              </button>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>City<span class="required"> *</span></ion-label>\n              <ion-input (tap)="getmodal(\'City\',city)" [formControl]="cityname" type="text" readonly=\'true\'></ion-input>\n              <button item-right ion-button clear color="dark" class="no-padding no-margin"\n                  (click)="getmodal(\'City\',city)">\n                  <ion-icon name="arrow-dropdown"></ion-icon>\n              </button>\n          </ion-item>\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Village</ion-label>\n              <ion-input [formControl]="village_name" (tap)="getmodal(\'Village\',village)" type="text" readonly=\'true\'></ion-input>\n              <button item-right ion-button clear color="dark" class="no-padding no-margin" (click)="getmodal(\'Village\',village)" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n          </ion-item>          -->\n      <!--     <ion-item no-padding>\n              <ion-label color="label-color" stacked>Pincode<span class="required"> *</span></ion-label>\n              <ion-input type="tel" [formControl]="pincode" maxlength="6"></ion-input>\n          </ion-item> -->\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Pincode<span class="required"> *</span></ion-label>\n            <ion-input type="tel" [formControl]="pincode" (ngModelChange)="pinserch($event)" maxlength="6"></ion-input>\n        </ion-item>\n        <ion-item no-padding *ngIf="pincode_show">\n            <ion-label color="label-color" stacked>Select Area<span class="required"> *</span></ion-label>\n            <ion-input [formControl]="village_name" type="text" readonly=\'true\'></ion-input>\n            <button item-right ion-button clear color="dark" class="no-padding no-margin"\n                (click)="getmodal(\'Village\',village)">\n                <ion-icon name="arrow-dropdown"></ion-icon>\n            </button>\n        </ion-item>\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Select Religion</ion-label>\n              <ion-select interface="popover" [formControl]="religion">\n                  <ion-option value="1">Hindu</ion-option>\n                  <ion-option value="2">Muslim</ion-option>\n                  <ion-option value="3">Christian</ion-option>\n              </ion-select>\n          </ion-item>   -->\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Gender</ion-label>\n              <ion-select [formControl]="gender">\n                  <ion-option value="0">Male</ion-option>\n                  <ion-option value="1">Female</ion-option>\n                  <ion-option value="3">Others</ion-option>\n              </ion-select>\n          </ion-item>   -->\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Customer Type</ion-label>\n              <ion-select interface="popover" [formControl]="cus_type" (ionChange)="typecheck()">\n                  <ion-option value="2" >Company</ion-option>\n              </ion-select>\n          </ion-item>    -->\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Date Of Birth</ion-label>\n              <ion-input readonly="true" class="ion_datetime"  [formControl]="date_of_birth" displayFormat="DD-MM-YYYY" (tap)="birth()"></ion-input>\n          </ion-item>\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Date Of Wed</ion-label>\n              <ion-input readonly="true" class="ion_datetime"  [formControl]="date_of_wed" displayFormat="DD-MM-YYYY" (tap)="wed()"></ion-input>\n          </ion-item>    -->\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Nominee Name </ion-label>\n              <ion-input type="text" [formControl]="nominee_name" ></ion-input>\n          </ion-item>\n\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Relationship </ion-label>\n              <ion-input type="text" [formControl]="nominee_relationship" ></ion-input>\n          </ion-item> -->\n\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Mobile </ion-label>\n              <ion-input type="number" [formControl]="nominee_mobile" placeholder="10 Digit Mobile Number" maxlength="10"></ion-input>\n          </ion-item> -->\n\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Company Name </ion-label>\n              <ion-input type="text" [formControl]="company_name"></ion-input>\n          </ion-item> -->\n\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>GST Number<span class="required"> *</span> </ion-label>\n              <ion-input type="text" [formControl]="gst_number" maxlength="15"\n                  (ionChange)="validateCaptilize(gst_number,\'gstno\')"></ion-input>\n          </ion-item>\n\n\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Pancard No </ion-label>\n              <ion-input type="text" [formControl]="pan" maxlength="10"\n                  (ionChange)="validateCaptilize(pan,\'pancard\')"></ion-input>\n          </ion-item>\n\n          <!-- <ion-item no-padding>\n              <ion-label color="label-color" stacked>Voter ID No </ion-label>\n              <ion-input type="text" [formControl]="voterid"  maxlength="10" (ionChange)="validateCaptilize(voterid,\'voter\')"></ion-input>\n          </ion-item> -->\n          <!--\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Rationcard No </ion-label>\n              <ion-input type="text" [formControl]="rationcard" maxlength="15" (ionChange)="validateCaptilize(rationcard,\'ration\')"></ion-input>\n          </ion-item> -->\n\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Comments </ion-label>\n              <ion-textarea [formControl]="comments" placeholder="Enter a description"></ion-textarea>\n          </ion-item>\n      </span>\n\n\n      <!-- <ion-row style="border: none !important;" *ngIf="type == \'o\'">\n          <ion-col style="text-align: -webkit-center !important;">\n              <button (click)="onSubmit(registerForm.value)" ion-button class="joinbtn" block color="dark">\n                Submit</button>\n          </ion-col>\n      </ion-row> -->\n\n  </form>\n</div>\n</ion-content>\n<ion-footer style="bottom: 80px !important;">\n  <!-- <button ion-button *ngIf="type != \'o\'" icon-start full class="theme-btn" (click)="next($event)">Next</button> -->\n  <button ion-button icon-start full class="theme-btn" (click)="onSubmit(registerForm.value)">Save</button>\n</ion-footer>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\cus-register\cus-register.html"*/,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_4__ionic_native_date_picker__["a" /* DatePicker */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["x" /* Platform */], __WEBPACK_IMPORTED_MODULE_2__angular_forms__["b" /* FormBuilder */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["r" /* MenuController */], __WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */], __WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */]])
    ], CusRegisterPage);
    return CusRegisterPage;
}());

//# sourceMappingURL=cus-register.js.map

/***/ }),

/***/ 199:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CategoryPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_retail__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__avrsearch_avrsearch__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__products_products__ = __webpack_require__(412);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__cart_cart__ = __webpack_require__(27);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__auto_auto__ = __webpack_require__(45);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__wishlist_wishlist__ = __webpack_require__(34);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var CategoryPage = /** @class */ (function () {
    function CategoryPage(events, navCtrl, navParams, load, retailService) {
        var _this = this;
        this.events = events;
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.load = load;
        this.retailService = retailService;
        this.categories = [];
        this.last_id = 0;
        this.empData = JSON.parse(localStorage.getItem('empDetail'));
        this.pagename = this.navParams.get('pagename');
        // {'metal':'gold','image':'','name':'gold'}
        this.page_no = 1;
        this.totalcartitems = localStorage.getItem('carts') != null ? JSON.parse(localStorage.getItem('carts'))['items'] : [];
        this.supplier = this.navParams.get('supplier');
        console.log(this.empData);
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        var postData = {
            'id_employee': this.empData != null ? this.empData['uid'] : null,
            'type': 'active',
            'last_id': this.last_id,
            'status': this.pagename,
            'page_no': this.page_no,
            'supplier': this.supplier
        };
        this.retailService.getCategories(postData).then(function (data) {
            _this.categories = data;
            console.log(_this.categories);
            loader.dismiss();
        }, function (err) {
            loader.dismiss();
        });
    }
    CategoryPage.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        this.page_no = this.page_no + 1;
        console.log(this.categories);
        this.last_id = this.categories[this.categories.length - 1]['id_ret_category'];
        console.log(this.last_id);
        var postData = {
            'id_employee': this.empData['uid'] != null ? this.empData['uid'] : null,
            'type': 'active',
            'last_id': this.last_id,
            'status': this.pagename,
            'page_no': this.page_no,
            'supplier': this.supplier
        };
        this.retailService.getCategories(postData).then(function (data) {
            console.log(data);
            for (var index = 0; index < data.length; index++) {
                _this.categories.push(data[index]);
            }
            infiniteScroll.complete();
        });
    };
    CategoryPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad CategoryPage');
    };
    CategoryPage.prototype.openProduct = function (id_ret_category) {
        console.log(id_ret_category);
        console.log(this.categories);
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__products_products__["a" /* ProductsPage */], { 'id_category': id_ret_category, 'data': this.categories, 'pagename': this.pagename, 'supplier': this.supplier });
    };
    CategoryPage.prototype.open = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_3__avrsearch_avrsearch__["a" /* AvrsearchPage */]);
    };
    CategoryPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    CategoryPage.prototype.ionViewWillEnter = function () {
        this.events.publish('entered', true);
        this.events.publish('pageno', this.supplier == true ? 4 : 2);
    };
    CategoryPage.prototype.cart = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__cart_cart__["a" /* CartPage */]);
    };
    CategoryPage.prototype.openModal = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__auto_auto__["a" /* AutoPage */]);
    };
    CategoryPage.prototype.addWishlist = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__wishlist_wishlist__["a" /* WishlistPage */]);
    };
    CategoryPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-category',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\category\category.html"*/'<ion-header>\n    <ion-navbar>\n        <!-- <button ion-button menuToggle><ion-icon name="menu"></ion-icon></button> -->\n        <ion-title>Categories\n\n            <div  id="notification-button" >\n                    <ion-icon style="color:black;float: right;font-size:1.4em !important" name="cart" (click)="cart()"></ion-icon>\n                  <ion-badge *ngIf="totalcartitems != null && totalcartitems.length > 0" style="font-size: 1rem !important;"  id="notifications-badge" color="danger">{{totalcartitems.length}}</ion-badge>\n            </div>\n\n		         <ion-icon  name="md-funnel" (click)="open()" style="color:black !important;float: right;font-size:1.4em !important" ></ion-icon>\n          <ion-icon style="color:black;float: right;font-size:1.4em !important" name="search" (click)="openModal()"></ion-icon>\n          <ion-icon style="color:black !important;float: right;font-size:1.4em !important;" (click)="addWishlist()" name="heart-outline"></ion-icon>\n\n        </ion-title>\n    </ion-navbar>\n</ion-header>\n\n\n<ion-content>\n    <ion-grid no-padding>\n        <ion-row *ngIf="categories.length > 0" text-center>\n            <ion-col text-wrap col-6 col-sm-6 col-md-4 col-lg-4 col-xl-4  *ngFor="let item of categories; let i=index" class="custom-2col" [ngClass]="animateClass" (click)="openProduct(item.id_ret_category)">\n                <ion-card style="border: 1px solid#000000;\n                border-style: dotted;\n                border-bottom: none;">\n                    <div style="float: right;width: 64%;" text-center no-margin>\n                        <h5 class="text-small theme-color" style="color: white !important;    text-transform: capitalize;background:#1A2A53 !important;\n                        border-top-left-radius: 15px;\n                        border-bottom-right-radius: 15px;    padding-left: 10px;\n    padding-right: 10px;\n    padding-top: 2px;\n    padding-bottom: 2px;    overflow: scroll;\n    white-space: nowrap;">{{item.metal}}</h5>\n                    </div>\n                    <div>\n                        <img class="full-image" src=\'{{item.image}}\' onerror="this.onerror=null;this.src=\'assets/no-img.png\';" imageCache/>\n\n                    </div>\n                    <ion-item style="background:#1A2A53 !important;\n                    border-top-left-radius: 15px;\n                    border-top-right-radius: 15px;    margin-top: 2px !important;" text-center no-margin>\n                        <h5 class="text-small theme-color" style="color: white !important;    text-transform: uppercase;    overflow: scroll;\n                        white-space: nowrap;">{{item.name}}</h5>\n                    </ion-item>\n                </ion-card>\n            </ion-col>\n        </ion-row>\n    </ion-grid>\n    <ion-row *ngIf="categories.length == 0 " style="text-align: center;">\n        <ion-col>\n            <h4>No Products Found</h4>\n        </ion-col>\n    </ion-row>\n\n    <ion-infinite-scroll (ionInfinite)="doInfinite($event)">\n        <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="Loading more data..."></ion-infinite-scroll-content>\n    </ion-infinite-scroll>\n\n</ion-content>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\category\category.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_retail__["a" /* RetailProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_2__providers_retail__["a" /* RetailProvider */]])
    ], CategoryPage);
    return CategoryPage;
}());

//# sourceMappingURL=category.js.map

/***/ }),

/***/ 200:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DesignsPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_retail__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__avrsearch_avrsearch__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__subdesign_subdesign__ = __webpack_require__(91);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__cart_cart__ = __webpack_require__(27);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__auto_auto__ = __webpack_require__(45);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__wishlist_wishlist__ = __webpack_require__(34);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__supsubdesign_supsubdesign__ = __webpack_require__(197);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









// @IonicPage()
var DesignsPage = /** @class */ (function () {
    function DesignsPage(events, navCtrl, load, navParams, retailService) {
        var _this = this;
        this.events = events;
        this.navCtrl = navCtrl;
        this.load = load;
        this.navParams = navParams;
        this.retailService = retailService;
        this.id_product = this.navParams.get('id_product');
        this.id_ret_category = this.navParams.get('id_category');
        this.empData = JSON.parse(localStorage.getItem('empDetail'));
        this.designs = {};
        this.last_id = 0;
        this.pagename = this.navParams.get('pagename');
        this.page_no = 1;
        this.totalcartitems = localStorage.getItem('carts') != null ? JSON.parse(localStorage.getItem('carts'))['items'] : [];
        this.supplier = this.navParams.get('supplier');
        console.log(this.supplier);
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        var postData = {
            'id_employee': this.empData['uid'] != null ? this.empData['uid'] : null,
            'type': 'active',
            'id_product': this.id_product,
            'last_id': this.last_id,
            'status': this.pagename,
            'page_no': this.page_no,
            'supplier': this.supplier,
            'imgOnly': true
        };
        this.retailService.getDesigns(postData).then(function (data) {
            _this.designs = data;
            console.log(_this.designs);
            loader.dismiss();
        });
    }
    DesignsPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad DesignsPage');
    };
    DesignsPage.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        this.page_no = this.page_no + 1;
        console.log(this.designs);
        this.last_id = this.designs[this.designs.length - 1]['id_design'];
        console.log(this.last_id);
        var postData = {
            'id_employee': this.empData['uid'] != null ? this.empData['uid'] : null,
            'type': 'active',
            'id_product': this.id_product,
            'last_id': this.last_id,
            'status': this.pagename,
            'page_no': this.page_no,
            'supplier': this.supplier,
            'imgOnly': true
        };
        this.retailService.getDesigns(postData).then(function (data) {
            console.log(data);
            for (var index = 0; index < data.length; index++) {
                _this.designs.push(data[index]);
            }
            infiniteScroll.complete();
        });
    };
    // openDesign(design_no){
    //   this.navCtrl.push(DesignDetailPage,{'design_no':design_no,'type':'view_only'})
    // }
    DesignsPage.prototype.opensubDesign = function (data) {
        var temp = {
            "Category": [
                {
                    "category_code": this.id_ret_category,
                }
            ],
            "Product": [
                {
                    "productcode": this.id_product,
                    "category_code": this.id_ret_category,
                    'id_product': this.id_product
                }
            ],
            "Design": [
                {
                    "id_product": this.id_product,
                    "id_design": data.id_design,
                    "design_code": data.design_code,
                    "productcode": this.id_product,
                    "category_code": this.id_ret_category,
                }
            ],
            'supplier': this.supplier
        };
        if (this.supplier == true) {
            this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__supsubdesign_supsubdesign__["a" /* SupsubdesignPage */], { 'filter': temp, 'supplier': this.supplier });
        }
        else {
            this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__subdesign_subdesign__["a" /* SubdesignPage */], { 'filter': temp, 'supplier': this.supplier });
        }
        // this.navCtrl.push(SubdesignPage,{       'id_category': this.id_ret_category,
        // 'id_product': this.id_product,
        // 'design_no':design_no,'type':'view_only','pagename':this.pagename})
    };
    DesignsPage.prototype.open = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_3__avrsearch_avrsearch__["a" /* AvrsearchPage */]);
    };
    DesignsPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    DesignsPage.prototype.ionViewWillEnter = function () {
        this.events.publish('entered', true);
        this.events.publish('pageno', 1);
    };
    DesignsPage.prototype.cart = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__cart_cart__["a" /* CartPage */]);
    };
    DesignsPage.prototype.openModal = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__auto_auto__["a" /* AutoPage */]);
    };
    DesignsPage.prototype.addWishlist = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__wishlist_wishlist__["a" /* WishlistPage */]);
    };
    DesignsPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-designs',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\designs\designs.html"*/'<!--\n  Generated template for the DesignsPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n-->\n<ion-header>\n    <ion-navbar>\n        <button ion-button menuToggle><ion-icon name="menu"></ion-icon></button>\n        <ion-title>Designs\n            <div  id="notification-button" >\n                <ion-icon style="color:black;float: right;font-size:1.4em !important" name="cart" (click)="cart()"></ion-icon>\n              <ion-badge *ngIf="totalcartitems != null && totalcartitems.length > 0" style="font-size: 1rem !important;"  id="notifications-badge" color="danger">{{totalcartitems.length}}</ion-badge>\n\n        </div>\n            <ion-icon  name="md-funnel" (click)="open()" style="color:black !important;float: right;font-size:1.4em !important" ></ion-icon>\n          <ion-icon style="color:black;float: right;font-size:1.4em !important" name="search" (click)="openModal()"></ion-icon>\n          <ion-icon style="color:black !important;float: right;font-size:1.4em !important;" (click)="addWishlist()" name="heart-outline"></ion-icon>\n\n        </ion-title>\n    </ion-navbar>\n</ion-header>\n\n\n<ion-content>\n    <ion-grid no-padding>\n        <ion-row *ngIf="designs.length > 0" text-center>\n            <ion-col text-wrap col-6 col-sm-6 col-md-4 col-lg-4 col-xl-4  *ngFor="let item of designs; let i=index" class="custom-2col" [ngClass]="animateClass" (click)="opensubDesign(item)">\n                <ion-card style="border: 1px solid#000000;\n                border-style: dotted;\n                border-bottom: none;">\n                    <div style="float: right;width:64%;" text-center no-margin>\n                        <h5 class="text-small theme-color" style="color: white !important;    text-transform: capitalize;background: black !important;\n                        border-top-left-radius: 15px;\n                        border-bottom-right-radius: 15px;    padding-left: 10px;\n    padding-right: 10px;\n    padding-top: 2px;\n    padding-bottom: 2px;    overflow: scroll;\n    white-space: nowrap;">{{item.product_name}}</h5>\n                    </div>\n                    <div>\n\n                    <img class="full-image" src=\'{{item.image}}\' onerror="this.onerror=null;this.src=\'assets/no-img.png\';" imageCache/>\n                  </div>\n                  <ion-item style="background:#000000 !important;\n                    border-top-left-radius: 15px;\n                    border-top-right-radius: 15px;    margin-top: 2px !important;" text-center no-margin>\n                        <h5 class="text-small theme-color"  style="color: white !important;    text-transform: uppercase;    overflow: scroll;\n                        white-space: nowrap;">{{item.design_name}}</h5>\n                    </ion-item>\n                </ion-card>\n            </ion-col>\n        </ion-row>\n    </ion-grid>\n\n    <ion-row *ngIf="designs.length == 0 " style="text-align: center;">\n        <ion-col>\n            <h4>{{errormsg}}</h4>\n        </ion-col>\n    </ion-row>\n\n    <ion-infinite-scroll (ionInfinite)="doInfinite($event)">\n        <!-- <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="Loading more data..."></ion-infinite-scroll-content> -->\n            <ion-infinite-scroll-content></ion-infinite-scroll-content>\n\n    </ion-infinite-scroll>\n\n</ion-content>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\designs\designs.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_retail__["a" /* RetailProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */], __WEBPACK_IMPORTED_MODULE_2__providers_retail__["a" /* RetailProvider */]])
    ], DesignsPage);
    return DesignsPage;
}());

//# sourceMappingURL=designs.js.map

/***/ }),

/***/ 201:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EcatalogPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_retail__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__modal_filter_filter__ = __webpack_require__(413);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__design_detail_design_detail__ = __webpack_require__(202);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var EcatalogPage = /** @class */ (function () {
    function EcatalogPage(events, modal, navCtrl, navParams, load, retail) {
        this.events = events;
        this.modal = modal;
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.load = load;
        this.retail = retail;
        this.designData = [];
        this.last_id = 0;
        this.empData = JSON.parse(localStorage.getItem('empDetail'));
    }
    EcatalogPage.prototype.ionViewDidLoad = function () {
        var _this = this;
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        var postData = {
            'id_employee': this.empData['uid'] != null ? this.empData['uid'] : null,
            'type': 'active',
            'last_id': this.last_id
        };
        this.retail.getECatalog(postData).then(function (data) {
            _this.designData = data;
            loader.dismiss();
        });
        // this.retail.getEcatalogFilters().then(result => {
        //   let res = result.responseData; 
        //   this.filters = res.filters;
        //   this.filter_options = res.filter_options;
        //   this.filterargs = res.filterargs; 
        //   let obj = {filters:res.filters,filter_options:res.filter_options,filterargs:res.filterargs};
        //   localStorage.setItem( 'resetFilterData',JSON.stringify( obj ) );
        //   this.openFilter();
        // }); 
    };
    EcatalogPage.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        this.last_id = this.designData[this.designData.length - 1]['design_no'];
        console.log(this.last_id);
        var postData = {
            'id_employee': this.empData['uid'] != null ? this.empData['uid'] : null,
            'type': 'active',
            'last_id': this.last_id
        };
        this.retail.getECatalog(postData).then(function (data) {
            for (var index = 0; index < data.length; index++) {
                _this.designData.push(data[index]);
            }
            infiniteScroll.complete();
        });
    };
    EcatalogPage.prototype.openDesign = function (design_no) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__design_detail_design_detail__["a" /* DesignDetailPage */], { 'design_no': design_no });
    };
    EcatalogPage.prototype.openFilter = function () {
        var _this = this;
        var data = { 'filters': this.filters, 'filter_options': this.filter_options, 'filterargs': this.filterargs };
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_3__modal_filter_filter__["a" /* FilterPage */], data, { enableBackdropDismiss: false });
        modal.present();
        modal.onDidDismiss(function (data) {
            console.log(data);
            var loader = _this.load.create({
                content: 'Please Wait',
                spinner: 'bubbles',
            });
            loader.present();
            var postData = {
                'id_employee': _this.empData['uid'] != null ? _this.empData['uid'] : null,
                'type': 'active',
                'last_id': _this.last_id
            };
            _this.retail.getECatalog(postData).then(function (data) {
                _this.designData = data;
                loader.dismiss();
            });
        });
    };
    EcatalogPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    EcatalogPage.prototype.ionViewWillEnter = function () {
        this.events.publish('entered', true);
        this.events.publish('pageno', 1);
    };
    EcatalogPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-ecatalog',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\e-catalog\e-catalog.html"*/'<ion-header>\n    <ion-navbar>\n        <button ion-button menuToggle><ion-icon name="menu"></ion-icon></button>\n        <ion-title>E-Catalog</ion-title>\n        <ion-buttons end>\n            <button ion-button icon-only (click)="openFilter()">\n                <ion-icon name="funnel"></ion-icon>\n            </button>\n        </ion-buttons> \n    </ion-navbar> \n</ion-header> \n\n<ion-content padding-vertical> \n    <ion-grid no-padding>\n        <ion-row *ngIf="designData.length > 0" text-center>\n            <ion-col text-wrap col-6 col-sm-6 col-md-4 col-lg-4 col-xl-4  *ngFor="let item of designData; let i=index" class="custom-2col" [ngClass]="animateClass" (click)="openDesign(item.design_no)">\n                <ion-card>\n                    <img class="full-image" src=\'{{item.image}}\' onerror="this.onerror=null;this.src=\'assets/no-img.png\';" imageCache/>\n                    <ion-item text-center no-margin>\n                        <h5 class="text-small theme-color">{{item.design_name}}</h5>\n                        <p class="text-xsmall"> {{item.product_name}}</p>\n                        <p class="text-xsmall" *ngIf="item.collection_name != null"> {{item.collection_name}}</p>\n                    </ion-item>\n                </ion-card> \n            </ion-col>\n        </ion-row> \n    </ion-grid>\n    \n    <ion-row *ngIf="designData.length == 0 " style="text-align: center;">\n        <ion-col>\n            <h4>No Products Found</h4>\n        </ion-col>\n    </ion-row>\n\n    <ion-infinite-scroll (ionInfinite)="doInfinite($event)">\n        <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="Loading more data..."></ion-infinite-scroll-content>\n    </ion-infinite-scroll>\n</ion-content>'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\e-catalog\e-catalog.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_retail__["a" /* RetailProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_2__providers_retail__["a" /* RetailProvider */]])
    ], EcatalogPage);
    return EcatalogPage;
}());

//# sourceMappingURL=e-catalog.js.map

/***/ }),

/***/ 202:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DesignDetailPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_retail__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__wishlist_wishlist__ = __webpack_require__(34);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__ionic_native_file_transfer__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__ionic_native_file__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__ionic_native_file_path__ = __webpack_require__(24);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__ionic_native_camera__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__angular_http__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__pages_img_editor_editor__ = __webpack_require__(71);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__cart_cart__ = __webpack_require__(27);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__ionic_native_date_picker__ = __webpack_require__(66);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_ngx_image_compress__ = __webpack_require__(40);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};








///import { Transfer, TransferObject } from '@ionic-native/transfer';






var DesignDetailPage = /** @class */ (function () {
    function DesignDetailPage(imageCompress, cd, datePicker, common, keyboard, view, platform, navParams, actionSheetCtrl, navCtrl, modal, toast, events, loadingCtrl, retail, camera, ftransfer, file, http, filePath, alertCtrl) {
        var _this = this;
        this.imageCompress = imageCompress;
        this.cd = cd;
        this.datePicker = datePicker;
        this.common = common;
        this.keyboard = keyboard;
        this.view = view;
        this.platform = platform;
        this.navParams = navParams;
        this.actionSheetCtrl = actionSheetCtrl;
        this.navCtrl = navCtrl;
        this.modal = modal;
        this.toast = toast;
        this.events = events;
        this.loadingCtrl = loadingCtrl;
        this.retail = retail;
        this.camera = camera;
        this.ftransfer = ftransfer;
        this.file = file;
        this.http = http;
        this.filePath = filePath;
        this.alertCtrl = alertCtrl;
        this.item = [];
        this.customData = [];
        this.wishlistData = {};
        this.empData = JSON.parse(localStorage.getItem('empDetail'));
        this.proceedWishlist = false;
        this.hideAddToWishlist = false;
        this.hideUpdateItem = true;
        this.showDesignDet = false;
        this.enable_customize = true;
        this.showCustomize = true;
        this.inpErrorMsg = { "weight": "", "width": "", "dia": "", "len": "", "purity": "" };
        // Sample Image
        this.targetPaths = [];
        this.filenames = [];
        this.deletephotos = [];
        this.lastImage = null;
        this.showedit = false;
        this.id_ret_category = this.navParams.get('id_category');
        this.id_product = this.navParams.get('id_product');
        this.id_sub_design = this.navParams.get('id_sub_design');
        this.ids = '';
        this.idw = '';
        this.calc = 250;
        this.top = 0;
        console.log(this.empData);
        var type = this.navParams.get('type');
        if (type == 'view_only') {
            this.hideAddToWishlist = true;
            this.showDesignDet = true;
            this.enable_customize = false;
        }
        else if (type == 'edit') {
            this.hideAddToWishlist = true;
            this.hideUpdateItem = false;
            this.proceedWishlist = true;
        }
        // Set design number
        if (this.navParams.get('design_no')) {
            this.id_ret_category = this.navParams.get('id_category');
            this.id_product = this.navParams.get('id_product');
            this.design_no = this.navParams.get('design_no');
            this.id_sub_design = this.navParams.get('id_sub_design');
            localStorage.setItem('last_cat_no', this.id_ret_category);
            localStorage.setItem('last_pro_no', this.id_product);
            localStorage.setItem('last_design_no', this.design_no);
            localStorage.setItem('last_subdesign_no', this.id_sub_design);
        }
        else {
            this.id_ret_category = localStorage.getItem('last_cat_no');
            this.id_product = localStorage.getItem('last_pro_no');
            this.design_no = localStorage.getItem('last_design_no');
            this.id_sub_design = localStorage.getItem('last_subdesign_no');
        }
        var customData = this.navParams.get('item');
        console.log("Design Number : " + customData);
        if (customData) {
            this.customData = customData;
        }
        var loader = this.loadingCtrl.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        this.retail.getDesignById({ 'id_category': this.id_ret_category, 'id_product': this.id_product, "design_no": this.design_no, 'id_sub_design': this.id_sub_design }).then(function (result) {
            _this.item = result;
            _this.content.resize();
            if (!customData) {
                _this.customData = result;
            }
            if (_this.customData['stones']) {
                _this.item['stones'].forEach(function (value, key) {
                    var stone = _this.customData['stones'].filter(function (i) { return i.stone_id === value.stone_id; });
                    if (stone.length > 0) {
                        _this.item['stones'][key]['selected'] = true;
                    }
                    console.log(key);
                    console.log(_this.item['stones']);
                });
            }
            loader.dismiss();
        });
    }
    DesignDetailPage.prototype.ionViewDidLoad = function () {
    };
    DesignDetailPage.prototype.ionViewWillEnter = function () {
        var _this = this;
        this.events.publish('entered', true);
        this.events.publish('pageno', 1);
        console.log("ionViewWillEnter : Keyboard isOpen " + +this.keyboard.isOpen());
        if (localStorage.getItem('dip') != '') {
            var path = JSON.parse(localStorage.getItem('dip'));
            var name = JSON.parse(localStorage.getItem('din'));
            console.log("dip : " + path + " -- " + "din : " + name);
        }
        if (path != null && path != undefined && path != '' && this.navParams.get('state') == true) {
            this.targetPaths.push(path);
            this.showedit = true;
            console.log(this.targetPaths);
            this.filenames.push(name);
            console.log(this.filenames);
            this.customData['targetPaths'] = this.targetPaths;
            this.customData['sample_images'] = this.filenames;
        }
        this.events.subscribe('img', function (userEventData) {
            // this.customData['sample_images'] = userEventData;
        });
        this.events.subscribe('tar', function (userEventData) {
            console.log(userEventData);
            _this.targetPaths.pop();
            _this.targetPaths.push(userEventData);
            _this.showedit = true;
            console.log(_this.targetPaths);
        });
        this.events.subscribe('file', function (userEventData) {
            console.log(userEventData);
            _this.filenames.pop();
            _this.filenames.push(userEventData);
            console.log(_this.filenames);
            _this.customData['sample_images'] = _this.filenames;
        });
        this.events.subscribe('err', function (userEventData) {
            _this.targetPaths.splice(userEventData, 1);
        });
        this.events.subscribe('errr', function (userEventData) {
            _this.filenames.splice(userEventData, 1);
        });
        console.log(this.customData);
        console.log(this.targetPaths);
    };
    DesignDetailPage.prototype.validateFields = function () {
        console.log(this.inpErrorMsg);
        if (this.inpErrorMsg['weight'] == "Invalid" || this.inpErrorMsg['purity'] == "Invalid") {
            this.proceedWishlist = false;
        }
        else {
            if (this.inpErrorMsg['weight'] == "Valid" && this.inpErrorMsg['purity'] == "Valid") {
                this.proceedWishlist = true;
            }
        }
    };
    DesignDetailPage.prototype.customInputChanged = function (field, val) {
        var value = parseFloat(val);
        if (field == "weight") {
            this.proceedWishlist = false;
            if (this.item['min_weight'] > 0 || this.item['max_weight'] > 0) {
                if (value >= this.item['min_weight'] && value <= this.item['max_weight']) {
                    this.inpErrorMsg['weight'] = "Valid";
                    this.validateFields();
                }
                else if (value < this.item['min_weight']) {
                    this.inpErrorMsg['weight'] = "Invalid";
                }
                else if (value > this.item['max_weight']) {
                    this.inpErrorMsg['weight'] = "Invalid";
                }
            }
            else {
                if (value > 0) {
                    this.inpErrorMsg['weight'] = "Valid";
                    this.validateFields();
                }
            }
        }
        else if (field == "len") {
            if (this.item['min_length'] > 0 || this.item['max_length'] > 0) {
                if (value >= this.item['min_length'] && value <= this.item['max_length']) {
                    this.inpErrorMsg['len'] = "Valid";
                    this.validateFields();
                }
                else if (value < this.item['min_length']) {
                    this.inpErrorMsg['len'] = "Invalid";
                }
                else if (value > this.item['max_length']) {
                    this.inpErrorMsg['len'] = "Invalid";
                }
            }
            else {
                if (value > 0) {
                    this.inpErrorMsg['len'] = "Valid";
                    this.validateFields();
                }
            }
        }
        else if (field == "width") {
            if (this.item['min_width'] > 0 || this.item['max_width'] > 0) {
                if (value >= this.item['min_width'] && value <= this.item['max_width']) {
                    this.inpErrorMsg['width'] = "Valid";
                    this.validateFields();
                }
                else if (value < this.item['min_width']) {
                    this.inpErrorMsg['width'] = "Invalid";
                }
                else if (value > this.item['max_width']) {
                    this.inpErrorMsg['width'] = "Invalid";
                }
            }
            else {
                if (value > 0) {
                    this.inpErrorMsg['width'] = "Valid";
                    this.validateFields();
                }
            }
        }
        else if (field == "dia") {
            if (this.item['min_dia'] > 0 || this.item['max_dia'] > 0) {
                if (value >= this.item['min_dia'] && value <= this.item['max_dia']) {
                    this.inpErrorMsg['dia'] = "Valid";
                    this.validateFields();
                }
                else if (value < this.item['min_dia']) {
                    this.inpErrorMsg['dia'] = "Invalid";
                }
                else if (value > this.item['max_dia']) {
                    this.inpErrorMsg['dia'] = "Invalid";
                }
            }
            else {
                if (value > 0) {
                    this.inpErrorMsg['dia'] = "Valid";
                    this.validateFields();
                }
            }
        }
    };
    DesignDetailPage.prototype.toggle = function (block) {
        if (block == 'desDetail')
            this.showDesignDet = (this.showDesignDet == true ? false : true);
        if (block == 'customize')
            this.showCustomize = (this.showCustomize == true ? false : true);
    };
    DesignDetailPage.prototype.setPurity = function (data, name) {
        this.inpErrorMsg['purity'] = "Valid";
        this.customData['id_purity'] = data;
        this.validateFields();
    };
    DesignDetailPage.prototype.changeImaged = function (image) {
        this.item['defaultImage'] = image;
        this.content.resize();
    };
    DesignDetailPage.prototype.ngAfterViewInit = function () {
    };
    DesignDetailPage.prototype.proceedToWishlist = function () {
        // let currentCustomer = localStorage.getItem( 'currentCustomer' );
        // if ( currentCustomer != null ) {
        //   this.addToWishlist();        
        // }else{
        //   this.openAddQuickCus();
        // }
        console.log(this.customData);
        if (this.customData['id_purity'] == '' || this.customData['weight'] == '' || this.customData['pcs'] == '' || this.customData['due_date'] == '') {
            console.log(this.customData);
            if (this.customData['id_purity'] == '') {
                this.common.presentToast('Please Select Purity *', 1000);
            }
            else if (this.customData['weight'] == '') {
                this.common.presentToast('Please Enter Weight *', 1000);
            }
            else if (this.customData['pcs'] == '') {
                this.common.presentToast('Please Enter Pieces *', 1000);
            }
            else if (this.customData['due_date'] == '') {
                this.common.presentToast('Please Enter No of Days *', 1000);
            }
        }
        else {
            this.openAddQuickCus();
        }
    };
    DesignDetailPage.prototype.openWishlist = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__wishlist_wishlist__["a" /* WishlistPage */]);
    };
    DesignDetailPage.prototype.stoneChaned = function (value, idx) {
        console.log(value + ' ' + idx);
        console.log(this.item['stones']);
    };
    DesignDetailPage.prototype.addToWishlist = function () {
        // this.loader = this.loadingCtrl.create( {
        //   content: "Please wait...",
        //   spinner: 'bubbles',
        // } );
        // this.loader.present();
        // console.log(this.item['stones']);
        // let cusData = JSON.parse( localStorage.getItem( 'currentCustomer' ) );
        // let empData = JSON.parse(localStorage.getItem('empDetail'));
        // console.log(empData);
        // console.log(this.empData);
        // this.wishlistData = {
        //                       'id_customer'     : cusData['id_customer'],
        //                       'id_branch'       : empData['id_branch'],
        //                       'id_employee'     : empData['id_employee'],
        //                       'item_type'       : 3, // E-catalog
        //                       'is_customized'   : 1,
        //                       'id_product'      : this.item['pro_id'],
        //                       'design_no'       : this.item['design_no'],
        //                       'id_sub_design'   : this.item['id_sub_design'],
        //                       'wast_percent'    : 1,
        //                       'id_mc_type'      : this.item['mc_type'],
        //                       'mc'              : this.item['mc_value'],
        //                       'stn_amt'         : 0,
        //                       'due_date'        : this.customData['due_date'],
        //                       'length'          : this.customData['len'],
        //                       'width'           : this.customData['width'],
        //                       'dia'             : this.customData['dia'],
        //                       'weight'          : this.customData['weight'],
        //                       'id_size'            : this.customData['id_size'],
        //                       'pcs'             : this.customData['pcs'],
        //                       'id_purity'       : this.customData['id_purity'],
        //                       'hook_type'       : this.customData['hook_type'],
        //                       'sample_details'  : this.customData['sample_details'],
        //                       'sample_images'   : this.customData['sample_images'],
        //                       'stones'          : this.item['stones'],
        //                       'status'          : 1,
        //                       'id_wishlist'     : this.customData['id_wishlist'],
        //                     };
        //                     this.retail.addToCart({"id_branch" : empData['id_branch'], "id_employee" : empData['id_employee'], "id_customer" : cusData['id_customer'], "status" : 1,"items" :[this.wishlistData]}).then(result => { 
        //                       this.loader.dismiss();
        //   this.common.presentToast( result.msg,'' );
        //   if(result.status){ 
        //     this.hideAddToWishlist = true;
        //     this.navCtrl.setRoot(CartPage);
        //   }
        //   if(result.status){ 
        //     this.hideAddToWishlist = true;
        //   }
        // });
        // let cusData = JSON.parse( localStorage.getItem( 'currentCustomer' ) );
        var empData = JSON.parse(localStorage.getItem('empDetail'));
        console.log(empData);
        console.log(this.empData);
        this.wishlistData = {
            'id_customer': '',
            'id_branch': empData['id_branch'],
            'id_employee': empData['id_employee'],
            'item_type': 3,
            'is_customized': 1,
            'id_product': this.item['pro_id'],
            'design_no': this.item['design_no'],
            'id_sub_design': this.item['id_sub_design'],
            'wast_percent': 1,
            'id_mc_type': this.item['mc_type'],
            'mc': this.item['mc_value'],
            'stn_amt': 0,
            'due_date': this.customData['due_date'],
            'length': this.customData['len'],
            'width': this.customData['width'],
            'dia': this.customData['dia'],
            'weight': this.customData['weight'],
            'id_size': this.customData['id_size'],
            'id_weight': this.customData['id_weight'],
            'pcs': this.customData['pcs'],
            'id_purity': this.customData['id_purity'],
            'hook_type': this.customData['hook_type'],
            'sample_details': this.customData['sample_details'],
            'image': this.item['defaultImage'],
            'targetPaths': this.customData['targetPaths'],
            'sample_images': this.customData['sample_images'],
            'stones': this.item['stones'],
            'status': 1,
            'id_wishlist': this.customData['id_wishlist'],
            'sub_design_name': this.item['sub_design_name'],
            'design_name': this.item['design_name'],
            'product_name': this.item['product_name'],
            'id_category': this.id_ret_category,
        };
        if (localStorage.getItem('carts') == null) {
            localStorage.setItem('carts', JSON.stringify({ "id_branch": empData['id_branch'], "id_employee": empData['id_employee'], "id_customer": '', "status": 1, "items": [this.wishlistData] }));
        }
        else {
            var local = JSON.parse(localStorage.getItem('carts'))['items'];
            console.log(local);
            local.push(this.wishlistData);
            console.log(local);
            localStorage.setItem('carts', JSON.stringify({ "id_branch": empData['id_branch'], "id_employee": empData['id_employee'], "id_customer": '', "status": 1, "items": local }));
        }
        // this.loader.dismiss();
        this.common.presentToast("Product added to cart successfully", '');
        this.navCtrl.setRoot(__WEBPACK_IMPORTED_MODULE_11__cart_cart__["a" /* CartPage */]);
    };
    DesignDetailPage.prototype.updateWishlist = function () {
        var _this = this;
        this.loader = this.loadingCtrl.create({
            content: "Please wait...",
            spinner: 'bubbles',
        });
        this.loader.present();
        var cusData = JSON.parse(localStorage.getItem('currentCustomer'));
        var empData = JSON.parse(localStorage.getItem('empDetail'));
        this.wishlistData = {
            'id_customer': cusData['id_customer'],
            'id_branch': empData['id_branch'],
            'id_employee': empData['id_employee'],
            'item_type': 3,
            'is_customized': 1,
            'id_product': this.item['pro_id'],
            'design_no': this.item['design_no'],
            'id_sub_design': this.item['id_sub_design'],
            'wast_percent': 1,
            'id_mc_type': this.item['mc_type'],
            'mc': this.item['mc_value'],
            'stn_amt': 0,
            'length': this.customData['len'],
            'due_date': this.customData['due_date'],
            'width': this.customData['width'],
            'dia': this.customData['dia'],
            'weight': this.customData['weight'],
            'size': this.customData['size'],
            'pcs': this.customData['pcs'],
            'id_purity': this.customData['id_purity'],
            'hook_type': this.customData['hook_type'],
            'sample_details': this.customData['sample_details'],
            'sample_images': this.customData['sample_images'],
            'targetPaths': this.customData['targetPaths'],
            'stones': this.item['stones'],
            'status': this.customData['status']
        };
        this.retail.addToCart({ "id_branch": empData['id_branch'], "id_employee": empData['id_employee'], "id_customer": cusData['id_customer'], "status": 1, "items": [this.wishlistData] }).then(function (result) {
            _this.loader.dismiss();
            _this.common.presentToast(result.msg, '');
            if (result.status) {
                _this.hideUpdateItem = true;
                _this.navCtrl.pop();
            }
        });
    };
    DesignDetailPage.prototype.openAddQuickCus = function () {
        // let modal = this.modal.create(AddQuickCus, {"page":"design-detail"}, {enableBackdropDismiss: false})
        // modal.present();
        // modal.onDidDismiss(mData => {
        //   if(mData != null){
        //     localStorage.setItem( 'currentCustomer', JSON.stringify( mData ) );
        //     this.addToWishlist();   
        //   }
        // });
        //   let modal = this.modal.create(CusSearchPage,{'show':'true',"page":"design-detail"}, {enableBackdropDismiss: false})
        //   modal.present();
        //   modal.onDidDismiss(mData => {
        //     console.log(mData)
        //     if(mData != null){
        //       localStorage.setItem( 'currentCustomer', JSON.stringify( mData ) );
        //       this.addToWishlist();
        // }else{
        //     }
        //   });
        this.addToWishlist();
    };
    // Sample image
    DesignDetailPage.prototype.deletePhoto = function (index) {
        var _this = this;
        var confirm = this.alertCtrl.create({
            title: 'Do you want to delete the image?',
            message: '',
            buttons: [
                {
                    text: 'No',
                    handler: function () {
                        console.log('Disagree clicked');
                    }
                }, {
                    text: 'Yes',
                    handler: function () {
                        console.log('Agree clicked');
                        _this.targetPaths.splice(index, 1);
                        _this.filenames.splice(index, 1);
                        _this.deletephotos.push(_this.filenames[index]);
                        _this.lastImage == '';
                    }
                }
            ]
        });
        confirm.present();
    };
    DesignDetailPage.prototype.presentActionSheet = function () {
        var _this = this;
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Select Image Source',
            buttons: [
                {
                    text: 'Load from Gallery',
                    handler: function () {
                        _this.takePicture(_this.camera.PictureSourceType.PHOTOLIBRARY);
                    }
                },
                {
                    text: 'Take Picture',
                    handler: function () {
                        _this.takePicture(_this.camera.PictureSourceType.CAMERA);
                    }
                },
                {
                    text: 'Cancel',
                    role: 'cancel'
                }
            ]
        });
        actionSheet.present();
    };
    DesignDetailPage.prototype.takePicture = function (sourceType) {
        var _this = this;
        console.log(sourceType);
        // this.navCtrl.push(EditorPage,{images:'assets/img/earings.jpg'});
        // Create options for the   Dialog
        var options = {
            quality: 75,
            sourceType: sourceType,
            saveToPhotoAlbum: false,
            correctOrientation: true,
        };
        console.log(options);
        // Get the data of an image
        this.camera.getPicture(options).then(function (imagePath) {
            console.log("getPicture");
            _this.loader = _this.loadingCtrl.create({
                content: "Fetching...",
                spinner: 'bubbles',
            });
            _this.loader.present();
            console.log("imagePath : " + imagePath);
            if (_this.platform.is('android') && sourceType === _this.camera.PictureSourceType.PHOTOLIBRARY) {
                _this.filePath.resolveNativePath(imagePath)
                    .then(function (filePath) {
                    console.log('ttttttttttt', _this.filePath);
                    var correctPath = filePath.substr(0, filePath.lastIndexOf('/') + 1);
                    var currentName = imagePath.substring(imagePath.lastIndexOf('/') + 1, imagePath.lastIndexOf('?'));
                    _this.copyFileToLocalDir(correctPath, currentName, _this.createFileName());
                    // this.uploadImage();
                });
            }
            else {
                var currentName = imagePath.substr(imagePath.lastIndexOf('/') + 1);
                var correctPath = imagePath.substr(0, imagePath.lastIndexOf('/') + 1);
                _this.copyFileToLocalDir(correctPath, currentName, _this.createFileName());
                // this.uploadImage();
            }
        }, function (err) {
            console.log(err);
            _this.common.presentToast('Error while selecting image.', '');
        });
    };
    // Create a new name for the image
    DesignDetailPage.prototype.createFileName = function () {
        var d = new Date(), n = d.getTime(), newFileName = n + ".jpg";
        return newFileName;
    };
    // Copy the image to a local folder
    DesignDetailPage.prototype.copyFileToLocalDir = function (namePath, currentName, newFileName) {
        var _this = this;
        console.log("#### copyFileToLocalDir ####");
        console.log("namePath/correctPath : " + namePath);
        console.log("currentName : " + currentName);
        console.log("createdFileName : " + newFileName);
        console.log("Directory : " + cordova.file.dataDirectory);
        this.file.copyFile(namePath, currentName, cordova.file.dataDirectory, newFileName).then(function (success) {
            // console.log("#### copyFile -- Success ####");
            // console.log(success);
            //   this.lastImage = newFileName;
            //   var targetPath = this.pathForImage( newFileName );
            //   this.targetPaths.push( targetPath );
            //   this.filenames.push( this.lastImage );
            //   this.loader.dismiss();
            //   console.log(targetPath);
            //   console.log(this.filenames);
            //   this.navCtrl.push(EditorPage,{"images":targetPath,"design_no":this.design_no})
            var orientation = -1;
            _this.imageCompress.compressFile(_this.pathForImage(newFileName), orientation, 50, 50).then(function (result) { return __awaiter(_this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    this.writeFile(result, this.createFileName());
                    return [2 /*return*/];
                });
            }); }, function (err) {
                console.log(err);
            });
        }, function (error) {
            _this.common.presentToast('Error while storing file.', '');
        });
    };
    // Always get the accurate path to your apps folder
    DesignDetailPage.prototype.pathForImage = function (img) {
        if (img === null) {
            return '';
        }
        else {
            return cordova.file.dataDirectory + img;
        }
    };
    DesignDetailPage.prototype.show = function () {
        var _this = this;
        // this.keyboard.close();
        this.datePicker.show({
            date: new Date(),
            mode: 'date',
            androidTheme: this.datePicker.ANDROID_THEMES.THEME_HOLO_DARK
        }).then(function (date) {
            /*date => console.log('Got date: ', date),
            err => console.log('Error occurred while getting date: ', err),*/
            /*console.log('Got date: '+ date);
            var curDate = new Date();
            curDate.setDate(curDate.getDate() - 10);*/
            var ddd = date.getDate();
            var mmm = date.getMonth() + 1;
            var yy = date.getFullYear();
            //var today = new Date(yy+"-"+mmm+"-"+ddd).toISOString().substring(0, 10);
            var today = date.toISOString().substring(0, 10);
            //this.fromdate= today;
            _this.customData['due_date'] = yy + "-" + mmm + "-" + ddd;
            console.log(_this.customData['due_date']);
        });
    };
    DesignDetailPage.prototype.checkstock = function (id) {
        var _this = this;
        var empData = JSON.parse(localStorage.getItem('empDetail'));
        this.ids = id;
        this.common.checkstock({ 'id_branch': empData['id_branch'], 'id_weight': this.idw, 'id_size': id, 'id_category': this.id_ret_category, 'id_product': this.id_product, "design_no": this.design_no, 'id_sub_design': this.id_sub_design }).then(function (result) {
            _this.item['is_stock_avail'] = result['avail_pcs'];
        });
    };
    DesignDetailPage.prototype.checkwgstock = function (id) {
        var _this = this;
        var empData = JSON.parse(localStorage.getItem('empDetail'));
        this.idw = id;
        this.common.checkwgstock({ 'id_branch': empData['id_branch'], 'id_size': this.ids, 'id_weight': id, 'id_category': this.id_ret_category, 'id_product': this.id_product, "design_no": this.design_no, 'id_sub_design': this.id_sub_design }).then(function (result) {
            _this.item['is_stock_avail'] = result['avail_pcs'];
        });
    };
    DesignDetailPage.prototype.scrolling = function (event) {
        if (event.scrollTop == 0) {
            this.calc = 250;
        }
        else {
            this.calc = 250 - event.scrollTop;
            this.content.resize();
            this.cd.detectChanges();
        }
        // your content here for scrolling
    };
    //here is the method is used to write a file in storage  
    DesignDetailPage.prototype.writeFile = function (base64Data, fileName) {
        var _this = this;
        var contentType = this.getContentType(base64Data);
        var DataBlob = this.base64toBlob(base64Data, contentType);
        // here iam mentioned this line this.file.externalRootDirectory is a native pre-defined file path storage. You can change a file path whatever pre-defined method.  
        var filePath = cordova.file.dataDirectory;
        this.file.writeFile(filePath, fileName, DataBlob, contentType).then(function (success) {
            console.log(success['nativeURL']);
            var currentName = success['nativeURL'].substr(success['nativeURL'].lastIndexOf('/') + 1);
            var correctPath = success['nativeURL'].substr(0, success['nativeURL'].lastIndexOf('/') + 1);
            console.log("File Writed Successfully", success);
            console.log(currentName);
            console.log(correctPath);
            console.log("#### copyFile -- Success ####");
            console.log(success);
            _this.lastImage = currentName;
            var targetPath = _this.pathForImage(currentName);
            _this.targetPaths.push(targetPath);
            _this.filenames.push(_this.lastImage);
            _this.loader.dismiss();
            console.log(targetPath);
            console.log(_this.filenames);
            _this.loader.dismiss();
            _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_10__pages_img_editor_editor__["a" /* EditorPage */], { "images": targetPath, "design_no": _this.design_no });
        }).catch(function (err) {
            console.log("Error Occured While Writing File", err);
        });
    };
    //here is the method is used to get content type of an bas64 data  
    DesignDetailPage.prototype.getContentType = function (base64Data) {
        var block = base64Data.split(";");
        var contentType = block[0].split(":")[1];
        return contentType;
    };
    //here is the method is used to convert base64 data to blob data  
    DesignDetailPage.prototype.base64toBlob = function (b64Data, contentType) {
        contentType = contentType || '';
        var sliceSize = 512;
        var byteCharacters = atob(b64Data.replace(/^data:image\/(png|jpeg|jpg);base64,/, ''));
        var byteArrays = [];
        for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {
            var slice = byteCharacters.slice(offset, offset + sliceSize);
            var byteNumbers = new Array(slice.length);
            for (var i = 0; i < slice.length; i++) {
                byteNumbers[i] = slice.charCodeAt(i);
            }
            var byteArray = new Uint8Array(byteNumbers);
            byteArrays.push(byteArray);
        }
        var blob = new Blob(byteArrays, {
            type: contentType
        });
        return blob;
    };
    DesignDetailPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    //  selectVideo() {
    //   const options: CameraOptions = {
    //     mediaType: this.camera.MediaType.VIDEO,
    //     sourceType: this.camera.PictureSourceType.PHOTOLIBRARY
    //   }
    //   this.camera.getPicture(options)
    //   .then( async (videoUrl) => {
    //     if (videoUrl) {
    //       this.loading();
    //       this.uploadedVideo = null;
    //       var filename = videoUrl.substr(videoUrl.lastIndexOf('/') + 1);
    //       var dirpath = videoUrl.substr(0, videoUrl.lastIndexOf('/') + 1);
    //       dirpath = dirpath.includes("file://") ? dirpath : "file://" + dirpath;
    //       try {
    //         var dirUrl = await this.file.resolveDirectoryUrl(dirpath);
    //         var retrievedFile = await this.file.getFile(dirUrl, filename, {});
    //       } catch(err) {
    //         this.dismissLoader();
    //         return this.presentAlert("Error","Something went wrong.");
    //       }
    //       retrievedFile.file( data => {
    //         this.dismissLoader();
    //         if (data.size > this.MAX_FILE_SIZE) return this.presentAlert("Error", `You cannot upload more than ${this.dynamicsize}mb.`);
    //         if (data.type !== this.ALLOWED_MIME_TYPE) return this.presentAlert("Error", "Upload mp4 file type only.");
    //         this.selectedVideo = retrievedFile.nativeURL;
    //         console.log(this.selectedVideo)
    //         this.selectedVideo = decodeURIComponent(this.selectedVideo);
    //         console.log(this.selectedVideo)
    //         var currentName = this.selectedVideo.substr( this.selectedVideo.lastIndexOf( '/' ) + 1 );
    //         var correctPath = this.selectedVideo.substr( 0, this.selectedVideo.lastIndexOf( '/' ) + 1 );
    //         let type = this.selectedVideo.substr( this.selectedVideo.lastIndexOf( '.' ) + 1);
    //         this.copyvideoToLocalDir( correctPath, currentName, this.createvideoName(),data,data.size,type );
    //     });
    //   }
    // },
    // (err) => {
    //   console.log(err);
    // });
    // }
    // selectVideo(){
    //   // choose your file from the device
    // this.fileChooser.open().then(uri => {
    // this.loading();
    // console.log(111111111111)
    // console.log(uri)
    //   this.filePath.resolveNativePath(uri)
    //   .then(async(file) => {
    //     console.log(666666666666)
    //     console.log(file)
    //     var currentName = file.substr( file.lastIndexOf( '/' ) + 1 );
    //     var correctPath:any = file.substr( 0, file.lastIndexOf( '/' ) + 1 );
    //     let type =file.substr(file.lastIndexOf( '.' ) + 1);
    //     var filename = file.substr(file.lastIndexOf('/') + 1);
    //     var dirpath = file.substr(0, file.lastIndexOf('/') + 1);
    //     console.log(7777777777)
    //     console.log(dirpath)
    //     dirpath = dirpath.includes("file://") ? dirpath : "file://" + dirpath;
    //     try {
    //       var dirUrl = await this.file.resolveDirectoryUrl(dirpath);
    //       var retrievedFile = await this.file.getFile(dirUrl, filename, {});
    //     } catch(err) {
    //       console.log(888888888888)
    //       console.log(err)
    //       this.dismissLoader();
    //       return this.presentAlert("Error","Please Choose File from File Explorer.");
    //     }
    //     retrievedFile.file( data => {
    //       console.log(999999999999)
    //       this.dismissLoader();
    //       console.log(data)
    //       console.log(retrievedFile.nativeURL)
    //       if (data.size > this.MAX_FILE_SIZE) {
    //         this.dismissLoader();
    //       }
    //       if (data.size > this.MAX_FILE_SIZE)  return this.presentAlert("Error", `You cannot upload more than ${this.dynamicsize}mb.`);    
    //       // this.selectedVideo = retrievedFile.nativeURL;
    //       if((type == 'mp4')){
    //         console.log(file)
    //         this.copyvideoToLocalDir( correctPath, currentName, this.createvideoName(),data,data.size,type );
    //       }
    //       else{
    //         this.dismissLoader();
    //         let toast = this.toastCtrl.create( {
    //           message: 'Wrong File format',
    //           duration: 2000,
    //           position: "bottom"
    //       } );
    //       toast.present( toast );
    //       }
    //     });
    // })
    // .catch(err=>{
    //   this.dismissLoader();
    //   let toast = this.toastCtrl.create( {
    //     message: 'Please Choose File from File Explorer',
    //     duration: 2000,
    //     position: "bottom"
    // } );
    // toast.present( toast );
    // console.log('000000000000')
    // console.log(err)
    // });		
    // })
    // .catch(err=>{
    //   this.dismissLoader();
    //   console.log(10101010110)
    //   console.log(err)
    // });	
    // }
    // public pathForvideo( img ) {
    //   if ( img === null ) {
    //       return '';
    //   } else {
    //       return cordova.file.dataDirectory + img;
    //   }
    //   }
    //   // Create a new name for the image
    //   private createvideoName() {
    //   var d = new Date(),
    //       n = d.getTime(),
    //       newFileName = n + ".mp4";
    //   return newFileName;
    //   }
    //   // Copy the image to a local folder
    //   private copyvideoToLocalDir( namePath, currentName, newFileName,data ,size,type) {
    //   this.file.copyFile( namePath, currentName, cordova.file.dataDirectory, newFileName ).then( success => {
    //     console.log(this.pathForvideo(newFileName))
    //     let temp = {'user_mobile':this.details['user']['user_mobile'],'galleryvideo':this.pathForvideo(newFileName)} 
    //             var mod =   this.modal.create(CroppagetwoPage,{'dynamic':this.dynamicsize, rest:'Video',title:'User Gallery Videos',key:'file', details:temp,s:this.formatBytes(parseInt(size)),n:newFileName,'type':'video',url:'https://www.planetido.com/idoapi/api/v1/creategalleryvideo',ftype:type,path:this.pathForvideo(newFileName)},{ enableBackdropDismiss: false });
    //             mod.present();
    //             mod.onDidDismiss((data) => {
    //               this.once();
    //             });
    //   }, error => {
    //     let toast = this.toastCtrl.create({
    //       message: 'Rename file and try again' ,
    //       duration: 3000,
    //       position: 'bottom'
    //       });
    //       toast.present();
    //       this.dismissLoader();
    //       console.log( 'Error while storing file.' );
    //   } );
    //   }
    DesignDetailPage.prototype.formatBytes = function (bytes, decimals) {
        if (decimals === void 0) { decimals = 2; }
        if (bytes === 0)
            return '0 Bytes';
        var k = 1024;
        var dm = decimals < 0 ? 0 : decimals;
        var sizes = ['Bytes', 'KB', 'MB'];
        var i = Math.floor(Math.log(bytes) / Math.log(k));
        return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_8" /* ViewChild */])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* Content */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* Content */])
    ], DesignDetailPage.prototype, "content", void 0);
    DesignDetailPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-design-detail',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\design-detail\design-detail.html"*/'<ion-header>\n\n  <ion-navbar>\n\n    <button ion-button menuToggle>\n\n      <ion-icon name="menu"></ion-icon>\n\n    </button>\n\n    <ion-title>{{item.sub_design_name}}<br>\n\n      <span *ngIf="item.is_stock_avail==1 " class="instock">Instock</span>\n\n      <span *ngIf="item.is_stock_avail==0 "  class="outofstock">Out of stock</span>\n\n    </ion-title>\n\n  </ion-navbar>\n\n  <ion-row>\n\n    <ion-col text-center>\n\n      <img [ngStyle]="{height: calc+\'px\',\'min-height.px\' : 100}"  src="{{item.defaultImage}}" imageViewer="{{item.defaultImage}}" onerror="this.onerror=null;this.src=\'assets/no-img.png\';"/>\n\n    </ion-col>\n\n  </ion-row>\n\n</ion-header>\n\n<!--  -->\n\n<ion-content (ionScroll)="scrolling($event)"> \n\n    <hr>\n\n    <ion-scroll scrollX="true" class="img-blk" *ngIf="item.images?.length > 0" > \n\n      <ion-row *ngIf="item.images?.length > 0" nowrap>\n\n        <ion-col col-2 col-sm-3 col-md-2 col-lg-2 col-xl-2 class="img-preview-col" text-center *ngFor=" let image of item.images; let i=index " (click)="changeImaged(image)"> \n\n          <img src=\'{{image}}\' width="60px" height="60px" imageCache/>\n\n        </ion-col>\n\n      </ion-row> \n\n    </ion-scroll>\n\n    <hr>\n\n    <ion-card no-margin>  \n\n      <ion-card-header (click)="toggle(\'desDetail\')" no-padding>\n\n        <div class="theme-title-blk" no-margin>  \n\n            Product Detail \n\n            <ion-icon *ngIf="!showDesignDet" name="add-circle" float-right></ion-icon>\n\n            <ion-icon *ngIf="showDesignDet" name="remove-circle" float-right></ion-icon> \n\n        </div>\n\n      </ion-card-header>\n\n      <ion-card-content *ngIf="showDesignDet" no-padding>\n\n        <ion-row padding>\n\n            <ion-col text-wrap col-4 col-sm-4 col-md-2 col-lg-2 col-xl-2 class="custom-2col">\n\n              <span class="text-small">Metal</span>\n\n            </ion-col>\n\n            <ion-col text-wrap col-8 col-sm-8 col-md-4 col-lg-4 col-xl-4 class="custom-2col">\n\n              <span class="text-small">: {{item.metal}}</span>\n\n            </ion-col>\n\n            <ion-col text-wrap col-4 col-sm-4 col-md-2 col-lg-2 col-xl-2 class="custom-2col">\n\n              <span class="text-small">Category</span>\n\n            </ion-col>\n\n            <ion-col text-wrap col-8 col-sm-8 col-md-4 col-lg-4 col-xl-4 class="custom-2col">\n\n              <span class="text-small">: {{item.category}}</span>\n\n            </ion-col>\n\n            <ion-col text-wrap col-4 col-sm-4 col-md-2 col-lg-2 col-xl-2 class="custom-2col" *ngIf="item.collection != null">\n\n              <span class="text-small">Collection</span>\n\n            </ion-col>\n\n            <ion-col text-wrap col-8 col-sm-8 col-md-4 col-lg-4 col-xl-4 class="custom-2col" *ngIf="item.collection != null">\n\n              <span class="text-small">: {{item.collection}}</span>\n\n            </ion-col>\n\n            <ion-col text-wrap col-4 col-sm-4 col-md-2 col-lg-2 col-xl-2 class="custom-2col">\n\n              <span class="text-small">Product</span>\n\n            </ion-col>\n\n            <ion-col text-wrap col-8 col-sm-8 col-md-4 col-lg-4 col-xl-4 class="custom-2col">\n\n              <span class="text-small">: {{item.product_name}}</span>\n\n            </ion-col>\n\n            <ion-col text-wrap col-4 col-sm-4 col-md-2 col-lg-2 col-xl-2 class="custom-2col">\n\n              <span class="text-small">Design</span>\n\n            </ion-col>\n\n            <ion-col text-wrap col-8 col-sm-8 col-md-4 col-lg-4 col-xl-4 class="custom-2col">\n\n              <span class="text-small">: {{item.design_name}}</span>\n\n            </ion-col>\n\n            <ion-col text-wrap col-4 col-sm-4 col-md-2 col-lg-2 col-xl-2 class="custom-2col">\n\n              <span class="text-small">SubDesign</span>\n\n            </ion-col>\n\n            <ion-col text-wrap col-8 col-sm-8 col-md-4 col-lg-4 col-xl-4 class="custom-2col">\n\n              <span class="text-small">: {{item.sub_design_name}}</span>\n\n            </ion-col>\n\n            <ion-col text-wrap col-4 col-sm-4 col-md-2 col-lg-2 col-xl-2 class="custom-2col" *ngIf="item.theme_name != null">\n\n              <span class="text-small">Theme</span>\n\n            </ion-col>\n\n            <ion-col text-wrap col-8 col-sm-8 col-md-4 col-lg-4 col-xl-4 class="custom-2col" *ngIf="item.theme_name != null">\n\n              <span class="text-small">: {{item.theme_name}}</span>\n\n            </ion-col>\n\n            <ion-col text-wrap col-4 col-sm-4 col-md-2 col-lg-2 col-xl-2 class="custom-2col" *ngIf="item.design_for != null">\n\n              <span class="text-small">Gender</span>\n\n            </ion-col>\n\n            <ion-col text-wrap col-8 col-sm-8 col-md-4 col-lg-4 col-xl-4 class="custom-2col" *ngIf="item.design_for != null">\n\n              <span class="text-small">: {{item.design_for}}</span>\n\n            </ion-col>\n\n            <ion-col text-wrap col-4 col-sm-4 col-md-2 col-lg-2 col-xl-2 class="custom-2col" *ngIf="item.usage_type != null">\n\n              <span class="text-small">Usage Type</span>\n\n            </ion-col>\n\n            <ion-col text-wrap col-8 col-sm-8 col-md-4 col-lg-4 col-xl-4 class="custom-2col" *ngIf="item.usage_type != null">\n\n              <span class="text-small">: {{item.usage_type}}</span>\n\n            </ion-col>\n\n            <ion-col text-wrap col-12 *ngIf="item.description != null">\n\n                {{item.description}}\n\n            </ion-col>\n\n        </ion-row>\n\n      </ion-card-content>\n\n    </ion-card>\n\n    <p></p>\n\n    <ion-card no-margin *ngIf="enable_customize">  \n\n      <ion-card-header (click)="toggle(\'customize\')" no-padding>\n\n        <div class="theme-title-blk" no-margin>  \n\n            Customize Product\n\n            <ion-icon *ngIf="!showCustomize" name="add-circle" float-right></ion-icon>\n\n            <ion-icon *ngIf="showCustomize" name="remove-circle" float-right></ion-icon> \n\n        </div>\n\n      </ion-card-header>\n\n      <ion-card-content *ngIf="showCustomize" no-padding>\n\n        <ion-row padding >\n\n            <ion-col col-12 class="custom-2col" *ngIf="item.purities?.length > 0" >\n\n              <ion-item no-padding>\n\n                <ion-label color="label-color" stacked>Purity  <span class="required"> *</span></ion-label> \n\n              </ion-item>\n\n              <ion-scroll style="    white-space: nowrap !important;" class="purity-scroll-blk" scrollX="true">  \n\n                <ion-chip #chip1 *ngFor="let pur of item.purities" color="light" [ngClass]="customData[\'id_purity\'] == pur[\'id_purity\'] ? \'selected\' : \'unselected\'" (click)="setPurity(pur.id_purity,pur.purity)" style="margin-left: 5%;">\n\n                  <ion-label>{{pur.purity}}</ion-label><ion-icon name="checkmark-circle" style="background-color:transparent!important;" *ngIf="item[\'id_purity\'] == pur[\'id_purity\']"></ion-icon> \n\n                </ion-chip>\n\n              </ion-scroll>\n\n            </ion-col> \n\n            <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col" >\n\n              <ion-item no-padding>\n\n                <ion-label color="label-color" stacked>Weight <span class="required"> *</span></ion-label>\n\n                <ion-input type="number" placeholder="Enter weight in grams" [(ngModel)]="customData.weight" (ionChange)="customInputChanged(\'weight\',customData.weight)"> </ion-input>\n\n              </ion-item>\n\n              <span float-right [ngClass]="inpErrorMsg[\'weight\'] == \'Invalid\' ? \'input-error-msg\' : \'input-msg\'"><span *ngIf="item.min_weight > 0">Min. {{item.min_weight}} g </span><span *ngIf="item.max_weight > 0">Max. {{item.max_weight}} g</span></span>\n\n            </ion-col>\n\n            <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col">\n\n              <ion-item no-padding>\n\n                <ion-label color="label-color" stacked>Pieces *</ion-label>\n\n                <ion-input type="number" placeholder="Pieces" [(ngModel)]="customData.pcs" > </ion-input>\n\n                <span float-right ></span>\n\n              </ion-item>\n\n            </ion-col>\n\n            <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col">\n\n              <ion-item no-padding>\n\n                <ion-label color="label-color" stacked>Due Date *</ion-label>\n\n                <!-- <ion-input type="number" readonly="true" class="ion_datetime" placeholder="Select Date" displayFormat="DD-MM-YYYY" [(ngModel)]="customData.due_date" (focusin)="show()"> </ion-input> -->\n\n                <ion-input type="number"  placeholder="No of Days"  [(ngModel)]="customData.due_date"> </ion-input>\n\n\n\n                <span float-right ></span>\n\n              </ion-item>\n\n            </ion-col>\n\n            <!-- <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col">\n\n              <ion-item no-padding>\n\n                <ion-label color="label-color" stacked>Length</ion-label>\n\n                <ion-input type="number" placeholder="Enter length in Millimeter" [(ngModel)]="customData.len" (ionChange)="customInputChanged(\'len\',customData.len)"> </ion-input>\n\n              </ion-item>\n\n              <span float-right [ngClass]="inpErrorMsg[\'len\'] == \'Invalid\' ? \'input-error-msg\' : \'input-msg\'"><span *ngIf="item.min_length > 0">Min. {{item.min_length}} mm </span><span *ngIf="item.max_length > 0">Max. {{item.max_length}} mm</span></span>\n\n            </ion-col>\n\n            <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col">\n\n              <ion-item no-padding>\n\n                <ion-label color="label-color" stacked>Width</ion-label>\n\n                <ion-input type="number" placeholder="Enter width in Millimeter" [(ngModel)]="customData.width" (ionChange)="customInputChanged(\'width\',customData.width)"> </ion-input>\n\n                <span float-right [ngClass]="inpErrorMsg[\'width\'] == \'Invalid\' ? \'input-error-msg\' : \'input-msg\'"><span *ngIf="item.min_width > 0">Min. {{item.min_width}} mm </span><span *ngIf="item.max_width > 0">Max. {{item.max_width}} mm</span></span>\n\n              </ion-item>\n\n            </ion-col>\n\n            <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col">\n\n              <ion-item no-padding>\n\n                <ion-label color="label-color" stacked>Dia.</ion-label>\n\n                <ion-input type="number" placeholder="Enter diameter in Millimeter" [(ngModel)]="customData.dia" (ionChange)="customInputChanged(\'dia\',customData.dia)"> </ion-input>\n\n                <span float-right [ngClass]="inpErrorMsg[\'dia\'] == \'Invalid\' ? \'input-error-msg\' : \'input-msg\'"><span *ngIf="item.min_dia > 0">Min. {{item.min_dia}} mm </span><span *ngIf="item.max_dia > 0">Max. {{item.max_dia}} mm</span></span>\n\n              </ion-item>\n\n            </ion-col> -->\n\n\n\n            <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col" *ngIf="item.weights?.length > 0" >\n\n              <ion-item no-padding>\n\n                <ion-label color="label-color" stacked>Weight</ion-label>\n\n                <ion-select [(ngModel)]="customData.id_weight" (ngModelChange)=checkwgstock(customData.id_weight)  placeholder="-- Choose --">\n\n                  <ion-option *ngFor="let s of item.weights" [value]="s.id_weight">{{s[\'weight_description\']}}</ion-option>\n\n                </ion-select>\n\n              </ion-item>\n\n          </ion-col>\n\n\n\n\n\n            <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col" *ngIf="item.sizes?.length > 0" >\n\n                <ion-item no-padding>\n\n                  <ion-label color="label-color" stacked>Size</ion-label>\n\n                  <ion-select [(ngModel)]="customData.id_size" (ngModelChange)=checkstock(customData.id_size) placeholder="-- Choose --">\n\n                    <ion-option *ngFor="let s of item.sizes" [value]="s.id_size">{{s.value}} {{s.name}}</ion-option>\n\n                  </ion-select>\n\n                </ion-item>\n\n            </ion-col>\n\n\n\n            <ion-col col-12 class="custom-2col" *ngIf="item.stones?.length > 0"> \n\n              <ion-item no-padding>\n\n                  <ion-label color="label-color" stacked>Stones</ion-label> \n\n                </ion-item>\n\n              <ion-card class="errorMsg" padding *ngIf="stnErrMsg">\n\n                  {{stnErrMsg}}\n\n              </ion-card>\n\n              <ion-list text-center>\n\n                <ion-row  style="background: #b1abab;color: white;">\n\n                  <ion-col col-4>Stone</ion-col>\n\n                  <ion-col col-4>Pcs</ion-col>\n\n                  <ion-col col-4>Weight</ion-col>\n\n                </ion-row>\n\n                <div *ngFor="let st of item.stones; let i=index" class="text-small">\n\n                  <ion-row>\n\n                    <ion-col col-1>\n\n                      <ion-checkbox  [(ngModel)]="st.selected" (ionChange)=stoneChaned(st.stone_id,i)></ion-checkbox>\n\n                    </ion-col>\n\n                    <ion-col col-4 class="text-small">\n\n                      {{st.stone_name}}\n\n                    </ion-col>\n\n                    <ion-col col-3>\n\n                      <ion-item>\n\n                        <ion-input type="number" [value] = "st.stone_pcs" [disabled]="!st.selected"></ion-input>\n\n                      </ion-item>\n\n                    </ion-col>\n\n                    <ion-col col-4>\n\n                      <ion-item>\n\n                        <ion-input type="number" [value] = "st.stone_wt" [disabled]="!st.selected"></ion-input>\n\n                      </ion-item>\n\n                    </ion-col>\n\n                  </ion-row> \n\n                </div>\n\n              </ion-list>\n\n            </ion-col> \n\n\n\n            <ion-col col-12 class="custom-2col">\n\n              <ion-item no-padding>\n\n                <ion-label color="label-color" stacked>Description</ion-label>\n\n                <ion-textarea [(ngModel)]="customData.sample_details" placeholder="Enter your description" rows="5"></ion-textarea>\n\n              </ion-item>\n\n            </ion-col>\n\n            <ion-col col-12 class="custom-2col">\n\n              <ion-item no-padding>\n\n                <ion-label color="label-color" stacked>Upload Sample</ion-label> \n\n                <button *ngIf="targetPath?.length <= 10" ion-button outline small color="dark" type="button" item-right icon-left (click)="presentActionSheet()">\n\n                    <ion-icon name="camera"></ion-icon>\n\n                    Choose Image\n\n                </button> \n\n              </ion-item>\n\n              <ion-grid> \n\n                <ion-row *ngIf="showedit"> \n\n                  <ion-col col-6 *ngFor="let targetPath of targetPaths; let id = index"> \n\n                    <ion-card class="block"> \n\n                      <ion-icon name="trash" class="deleteIcon" (click)="deletePhoto(id)"></ion-icon> <img [src]="targetPath" *ngIf="targetPath" /> \n\n                    </ion-card> \n\n                  </ion-col> \n\n                </ion-row>  \n\n              </ion-grid> \n\n            </ion-col> \n\n        </ion-row> \n\n      </ion-card-content>\n\n    </ion-card>\n\n  \n\n    <!-- <h4 class="theme-color-secondary" text-center>SIMILAR PRODUCTS</h4> -->\n\n    <!-- <ion-grid>\n\n      <ion-row>\n\n        <ion-col col-6 [ngClass]="animateClass" *ngFor=" let item of subcategory; let i=index" (click)="openitemails(item.id_product)">\n\n            \n\n          <ion-card style="margin:0px;border: 1px solid #e4e4e4;height: 173px;border-radius:7px;">\n\n            <div style="margin: 3px;">\n\n              <span *ngIf="item.is_stock_avail==1 && item.stock_manage == 1" class="instock">Instock</span>\n\n              <span *ngIf="item.is_stock_avail==0 && item.stock_manage == 1"  class="outofstock">Out of stock</span>\n\n              <span *ngIf="item.is_new == 1" style="float:right;"><ion-badge color="secondary">New</ion-badge></span>\n\n            </div>\n\n            <img style="height: 120px;width: auto;margin: 0 auto;" *ngIf=\'item.imgurl != null\' src=\'{{item.imgurl}}\' imageCache/>\n\n            <img style="height: 120px;width: auto;margin: 0 auto;" *ngIf=\'item.imgurl == null\' src=\'assets/images/no-img.png\' imageCache/>\n\n            <div style="text-align:center;margin-top:7px;margin-bottom:10px;text-overflow: ellipsis;padding: 5px;font-size: 13px;overflow: hidden;color: #656565; white-space: nowrap; font-weight:bold; ">\n\n              {{item.name_design}}\n\n            </div>\n\n          </ion-card>\n\n          \n\n        </ion-col>\n\n      </ion-row>\n\n    </ion-grid> -->\n\n</ion-content> \n\n<ion-footer >\n\n  <button ion-button  icon-start full class="theme-btn" (click)="proceedToWishlist()">Add to Cart</button> \n\n</ion-footer>  \n\n<!-- <ion-footer *ngIf="!hideUpdateItem" >\n\n  <button ion-button [disabled] = "!proceedWishlist" icon-start full class="theme-btn" (click)="updateWishlist()">Save</button> \n\n</ion-footer>   -->\n\n    \n\n    \n\n    \n\n    \n\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\design-detail\design-detail.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_3__providers_retail__["a" /* RetailProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_13_ngx_image_compress__["a" /* NgxImageCompressService */], __WEBPACK_IMPORTED_MODULE_0__angular_core__["j" /* ChangeDetectorRef */], __WEBPACK_IMPORTED_MODULE_12__ionic_native_date_picker__["a" /* DatePicker */], __WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["p" /* Keyboard */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["B" /* ViewController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["x" /* Platform */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["a" /* ActionSheetController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_3__providers_retail__["a" /* RetailProvider */], __WEBPACK_IMPORTED_MODULE_8__ionic_native_camera__["a" /* Camera */], __WEBPACK_IMPORTED_MODULE_5__ionic_native_file_transfer__["a" /* FileTransfer */], __WEBPACK_IMPORTED_MODULE_6__ionic_native_file__["a" /* File */], __WEBPACK_IMPORTED_MODULE_9__angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_7__ionic_native_file_path__["a" /* FilePath */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["b" /* AlertController */]])
    ], DesignDetailPage);
    return DesignDetailPage;
}());

//# sourceMappingURL=design-detail.js.map

/***/ }),

/***/ 203:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return StockCodeEntryPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ionic_native_printer__ = __webpack_require__(95);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_retail__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__ionic_native_file_opener__ = __webpack_require__(51);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__ionic_native_file__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__ionic_native_file_transfer__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__ionic_native_file_chooser__ = __webpack_require__(50);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__ionic_native_file_path__ = __webpack_require__(24);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


// import { QRScanner, QRScannerStatus } from '@ionic-native/qr-scanner';








/*
  Generated class for the StockCodeEntry page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
*/
var StockCodeEntryPage = /** @class */ (function () {
    function StockCodeEntryPage(navParams, navCtrl, load, printer, nav, events, commonservice, retail, toast, event, modal, common, fileOpener, transfer, file, filePath, fileChooser, platform) {
        this.navParams = navParams;
        this.navCtrl = navCtrl;
        this.load = load;
        this.printer = printer;
        this.nav = nav;
        this.events = events;
        this.commonservice = commonservice;
        this.retail = retail;
        this.toast = toast;
        this.event = event;
        this.modal = modal;
        this.common = common;
        this.fileOpener = fileOpener;
        this.transfer = transfer;
        this.file = file;
        this.filePath = filePath;
        this.fileChooser = fileChooser;
        this.platform = platform;
        this.fileTransfer = this.transfer.create();
        this.empData = JSON.parse(localStorage.getItem('empDetail'));
        this.scannerOn = false;
        this.settings = [];
        this.ret_settings = [];
        this.stock = [];
        this.tags = [];
        this.tagMsg = "";
        this.tagErrorMsg = "";
        this.tag_code = "";
        this.nav = nav;
        this.loggedInBranch = this.empData['id_branch'];
    }
    StockCodeEntryPage.prototype.ionViewDidLoad = function () {
        var _this = this;
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        this.common.getCurrencyAndSettings({ "id_branch": this.loggedInBranch }).then(function (data) {
            _this.settings = data.settings;
            _this.ret_settings = data.ret_settings;
            _this.events.publish('settings:loaded', true);
            _this.events.publish('ret_settings:loaded', true);
            loader.dismiss();
        });
    };
    /* for footer as hide in default. it's assigned in app.components.ts */
    StockCodeEntryPage.prototype.getTagData = function (tag_code) {
        var _this = this;
        if (tag_code.length > 0) {
            var loader_1 = this.load.create({
                content: 'Please Wait',
                spinner: 'bubbles',
            });
            loader_1.present();
            var postData = { "type": 'stockEntry', "searchTxt": tag_code, "searchField": "tag_code" };
            this.retail.getTagData(postData).then(function (data) {
                if (data.status) {
                    var tagAvailable = false;
                    _this.tags.forEach(function (tag) {
                        if (tag.tag_code == data.tagData.tag_code) {
                            tagAvailable = true;
                        }
                    });
                    if (tagAvailable) {
                        var toastMsg = _this.toast.create({
                            message: data.msg,
                            duration: _this.common.toastTimeout,
                            position: 'center'
                        });
                        toastMsg.present();
                    }
                    else {
                        _this.tags.push(data.tagData);
                    }
                }
                else {
                    _this.tags = [];
                    var toastMsg = _this.toast.create({
                        message: data.msg,
                        duration: _this.common.toastTimeout,
                        position: 'center'
                    });
                    toastMsg.present();
                }
                loader_1.dismiss();
            });
        }
        else {
            var toastMsg = this.toast.create({
                message: "Enter Tag Code",
                duration: this.common.toastTimeout,
                position: 'center'
            });
            toastMsg.present();
        }
    };
    StockCodeEntryPage.prototype.deleteItem = function (item_type, idx) {
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        this.tags.splice(idx, 1);
        var toastMsg = this.toast.create({
            message: "Tag removed from list",
            duration: this.common.toastTimeout,
            position: 'center'
        });
        toastMsg.present();
        loader.dismiss();
    };
    StockCodeEntryPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    StockCodeEntryPage.prototype.ionViewWillEnter = function () {
        this.events.publish('entered', true);
        this.events.publish('pageno', 1);
    };
    StockCodeEntryPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-stock-entry',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\stock-entry\stock-entry.html"*/'<ion-header>\n  <ion-navbar>\n    <button ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n    <ion-title style="text-align: center !important;\n    margin-right: 15% !important;"><img class="header-logo" src=\'assets/header.svg\'/></ion-title>\n  </ion-navbar>\n</ion-header>\n\n<!-- Estimation Create Block  -->\n  <ion-content>  <!-- [ngClass]="{\'qr-scanner-open\' : scannerOn }"  -->\n    <ion-grid padding> \n          <ion-row>\n            <ion-col text-wrap>\n				<ion-item no-padding>\n				  <ion-label color="label-color" stacked>Stock Code <span class="required">*</span></ion-label>\n				  <ion-input type="text" [(ngModel)]="stock[\'stock_code\']" required></ion-input>\n				</ion-item>\n			</ion-col>\n          </ion-row> \n          <ion-row>\n            <ion-col no-padding text-wrap col-12>\n              <div class="theme-title-blk"> <ion-icon name="pricetags"></ion-icon> Tags  <ion-badge color="light" float-right></ion-badge></div>\n            </ion-col>\n            <!-- <ion-col text-wrap>\n              <span float-right>\n                  <button ion-button icon-start outline small color="secondary" (click)="openItemAddModal(\'tag\',\'\',\'add\')">\n                    <ion-icon name="ios-add"></ion-icon> ADD\n                  </button>\n                  <button ion-button icon-start outline small color="dark" (click)="openQRScanner(\'tag\')">\n                    <ion-icon name="ios-qr-scanner"></ion-icon> SCAN\n                  </button>\n              </span>\n            </ion-col> -->\n          </ion-row>\n		  <ion-row>\n			<ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col">   \n				<ion-item no-padding> \n					<ion-label color="label-color" stacked>Tag Code <span class="required">*</span></ion-label>\n					<ion-input type="text" [(ngModel)]="tag_code"></ion-input> \n					<button item-right ion-button margin-top color="light" (click)="getTagData(tag_code)"><ion-icon name="ios-search"></ion-icon></button>\n				</ion-item>\n			</ion-col>\n		  </ion-row>\n          <ion-card class="errorMsg" padding *ngIf="tagErrorMsg">\n            {{tagErrorMsg}}\n          </ion-card>\n          <ion-card class="msg" padding *ngIf="tagMsg">\n            {{tagMsg}}\n          </ion-card>\n          <ion-list>\n            <ion-item-sliding margin-top #tags *ngFor="let t of tags;let i of index;">\n              <ion-item class="no-padding">\n                <ion-row> \n                  <ion-col text-wrap col class="theme-color-secondary">\n                    {{t.tag_code}} \n                  </ion-col>\n                  <ion-col text-wrap col-9 col-md-2 class="custom-2col theme-color-secondary" *ngIf="ret_settings[\'subproduct_required\'] == 1" style="font-size: 11px !important;">\n                    <span *ngIf="t.collection_name != null">{{t.collection_name}} <b> | </b> </span>\n                    {{t.product_name}}\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col theme-color-secondary" *ngIf="ret_settings[\'subproduct_required\'] == 0">\n                    {{t.product_name}}\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    <p class="text-small">Purity </p>\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    {{t.purname}} \n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    <p class="text-small">Pcs </p>\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    {{t.piece}} \n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    <p class="text-small">Size </p>\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    {{t.size}} \n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    <p class="text-small">Gross wgt </p>\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    {{t.gross_wt}} \n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    <p class="text-small">Less wgt </p>\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    {{t.less_wt}}\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    <p class="text-small">Net Wgt </p>\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    {{t.net_wt}}\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    <p class="text-small">Wast ({{t.retail_max_wastage_percent}} %)  </p>\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    {{t.wast_wgt}}\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    <p class="text-small">MC </p>\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    {{t.making_charge | number:\'1.2-2\' }}\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    <p class="text-small">Taxable </p>\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    {{t.taxable | number:\'1.2-2\' }}\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    <p class="text-small">Tax </p>\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    {{t.tax_price | number:\'1.2-2\' }}\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    <p class="text-small">Amount </p>\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    <b>{{t.sales_value | number:\'1.2-2\' }}</b>\n                  </ion-col>\n                  <ion-col text-wrap col-4 col-md-3 class="custom-2col" *ngIf="t.image != \'\'">\n                    <img src="{{t.image}}" imageViewer="{{t.image}}" >\n                  </ion-col>\n                </ion-row>\n              </ion-item>\n              <ion-item-options side="right">\n                <button ion-button *ngIf="esti_type != \'summary\'" color="primary" (click)="openItemAddModal(\'tag\',i,\'edit\')"><ion-icon name="create"></ion-icon></button>\n                <button ion-button color="danger" (click)="deleteItem(\'tag\',i)"><ion-icon name="trash"></ion-icon></button>\n              </ion-item-options>\n            </ion-item-sliding>\n          </ion-list> \n		 \n      <br/>\n      <br/>\n      <br/>\n    </ion-grid> \n  </ion-content>\n  <ion-footer *ngIf="page_type == \'create\'">\n    <ion-fab left bottom *ngIf="!scannerOn"> \n      <button ion-fab mini color="primary" (click)="openEstiBasicDetailModal()"><ion-icon name="person"></ion-icon></button>\n    </ion-fab>\n    <button ion-button *ngIf="!scannerOn && esti_type == \'summary\'" icon-start full class="theme-btn" (click)="createEsti()">Save</button>\n    <button *ngIf="scannerOn" ion-button icon-start full class="warning" (click)="closeScanner()">Close Scanner</button>  \n  </ion-footer>  \n<!-- ./Estimation Create Block  -->\n \n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\stock-entry\stock-entry.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_4__providers_retail__["a" /* RetailProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_2__ionic_native_printer__["a" /* Printer */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_4__providers_retail__["a" /* RetailProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */], __WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_5__ionic_native_file_opener__["a" /* FileOpener */], __WEBPACK_IMPORTED_MODULE_7__ionic_native_file_transfer__["a" /* FileTransfer */], __WEBPACK_IMPORTED_MODULE_6__ionic_native_file__["a" /* File */], __WEBPACK_IMPORTED_MODULE_9__ionic_native_file_path__["a" /* FilePath */], __WEBPACK_IMPORTED_MODULE_8__ionic_native_file_chooser__["a" /* FileChooser */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["x" /* Platform */]])
    ], StockCodeEntryPage);
    return StockCodeEntryPage;
}());

//# sourceMappingURL=stock-entry.js.map

/***/ }),

/***/ 204:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EstimationlistPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ionic_native_file_opener__ = __webpack_require__(51);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ionic_native_file__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__ionic_native_file_transfer__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__ionic_native_file_chooser__ = __webpack_require__(50);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__ionic_native_file_path__ = __webpack_require__(24);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__providers_retail__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__home_home__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__bluetooth_bluetooth__ = __webpack_require__(195);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__ionic_native_printer__ = __webpack_require__(95);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__cusupdate_cusupdate__ = __webpack_require__(188);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__estimation_estimation__ = __webpack_require__(72);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__ionic_native_android_permissions__ = __webpack_require__(120);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};















// import { CusupdatePage } from '../cusupdate/cusupdate';
/**
 * Generated class for the EstimationlistPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
// @IonicPage()
var EstimationlistPage = /** @class */ (function () {
    function EstimationlistPage(androidPermissions, events, printer, retail, navParams, navCtrl, load, nav, commonservice, toast, modal, common, fileOpener, transfer, file, filePath, fileChooser, platform) {
        var _this = this;
        this.androidPermissions = androidPermissions;
        this.events = events;
        this.printer = printer;
        this.retail = retail;
        this.navParams = navParams;
        this.navCtrl = navCtrl;
        this.load = load;
        this.nav = nav;
        this.commonservice = commonservice;
        this.toast = toast;
        this.modal = modal;
        this.common = common;
        this.fileOpener = fileOpener;
        this.transfer = transfer;
        this.file = file;
        this.filePath = filePath;
        this.fileChooser = fileChooser;
        this.platform = platform;
        this.fileTransfer = this.transfer.create();
        this.empData = JSON.parse(localStorage.getItem('empDetail'));
        this.estiDetail = {};
        this.list = [];
        this.slist = [];
        this.estno = '';
        console.log(this.empData['id_branch']);
        console.log(this.empData['uid']);
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        this.commonservice.getlist({ 'id_branch': this.empData['id_branch'], 'id_emp': this.empData['uid'], 'type': this.navParams.get('dd') }).then(function (res) {
            _this.list = res['estdetails'];
            _this.slist = res['estdetails'];
            loader.dismiss();
        }, function (err) {
            loader.dismiss();
        });
    }
    EstimationlistPage.prototype.edit = function (data) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_12__cusupdate_cusupdate__["a" /* CusupdatePage */], { 'id': data });
    };
    EstimationlistPage.prototype.edittag = function (data) {
        var _this = this;
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        console.log(data['estimation_id']);
        this.commonservice.getedit(data['estimation_id']).then(function (res) {
            var tag = res.hasOwnProperty('tag_details') ? res['tag_details'] : [];
            var non_tag = res.hasOwnProperty('non_tag_details') ? res['non_tag_details'] : [];
            var home_bill = res.hasOwnProperty('est_home_bill') ? res['est_home_bill'] : [];
            var old_metal = res.hasOwnProperty('old_metal') ? res['old_metal'] : [];
            console.log(tag);
            loader.dismiss();
            // this.navCtrl.push(EstiPage,{'tag':temp});
            _this.nav.push(__WEBPACK_IMPORTED_MODULE_13__estimation_estimation__["a" /* EstiPage */], { 'estimation': res['estimation'], 'old_metal': old_metal, 'home_bill': home_bill, 'non_tag': non_tag, 'tag': tag, "page_type": 'create', 'empname': _this.empData['username'], 'empid': _this.empData['uid'], 'bname': '', 'bid': _this.empData['id_branch'] });
        }, function (err) {
            loader.dismiss();
        });
    };
    EstimationlistPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad EstimationlistPage');
    };
    EstimationlistPage.prototype.print = function (data) {
        this.nav.push(__WEBPACK_IMPORTED_MODULE_10__bluetooth_bluetooth__["a" /* BluetoothPage */], { 'file': data });
    };
    EstimationlistPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    EstimationlistPage.prototype.ionViewWillEnter = function () {
        this.events.publish('entered', true);
        this.events.publish('pageno', 1);
    };
    EstimationlistPage.prototype.searchesti = function () {
        var _this = this;
        this.list = this.slist.filter(function (data) {
            return data['esti_no'].toLowerCase().includes(_this.estno.toLowerCase()) ||
                data['mobile'].toLowerCase().includes(_this.estno.toLowerCase()) ||
                data['firstname'].toLowerCase().includes(_this.estno.toLowerCase());
        });
    };
    EstimationlistPage.prototype.getEstiByEstiNo = function (no) {
        var _this = this;
        if (no != '') {
            var loader_1 = this.load.create({
                content: 'Please Wait',
                spinner: 'bubbles',
            });
            loader_1.present();
            this.retail.getEstiPrintURL({
                "esti_no": no,
                "id_branch": this.empData['id_branch']
            }).then(function (data) {
                if (data.status) {
                    if (data.printURL != '') {
                        console.log(data.printURL);
                        _this.downloadfile(data.printURL, data.esti_name);
                    }
                }
                loader_1.dismiss();
                var toastMsg = _this.toast.create({
                    message: data.msg,
                    duration: _this.common.toastTimeout,
                    position: 'center'
                });
                toastMsg.present();
            });
        }
        else {
            var toastMsg = this.toast.create({
                message: "Enter valid estimation number",
                duration: this.common.toastTimeout,
                position: 'center'
            });
            toastMsg.present();
        }
    };
    // downloadfile(url,name) {
    //   console.log(url)
    //   var date = new Date();
    //   date.setDate(date.getDate());
    //   console.log(date.toISOString().split('T')[0])
    //   this.platform.ready().then(() =>{
    //     console.log("Platform ready");
    //     if(this.platform.is('android')) {
    //       console.log("Platform Android");
    //       this.file.checkDir(this.file.externalDataDirectory, this.common.cmpShortName).then((data) => {
    //         console.log("Check directory IDO");
    //         this.file.checkDir(this.file.externalDataDirectory+''+this.common.cmpShortName+'/', date.toISOString().split('T')[0]).then(_ => {
    //           console.log("Check directory IDO "+date.toISOString().split('T')[0]);
    //           this.viewFile(url,name);
    //         }).catch(er => {
    //             this.file.createDir(this.file.externalDataDirectory+''+this.common.cmpShortName+'/', date.toISOString().split('T')[0],false).then(_ => {
    //               console.log("Create directory IDO "+date.toISOString().split('T')[0]);
    //               this.viewFile(url,name);
    //             }).catch(err => {
    //               console.log(err);
    //               console.log('Couldn\'t create directory')
    //             });
    //         });
    //       }).catch(err => {
    //         this.file.createDir(this.file.externalDataDirectory, this.common.cmpShortName,false).then(_ => {
    //           console.log('Create directory IDO')
    //           this.file.createDir(this.file.externalDataDirectory+''+this.common.cmpShortName+'/', date.toISOString().split('T')[0],false).then(_ => {
    //             console.log('Create directory IDO / '+date.toISOString().split('T')[0]);
    //             this.viewFile(url,name);
    //           }).catch(err1 => {
    //           console.log(err1);
    //           console.log('Couldn\'t create directory')
    //           });
    //         }).catch(err2 =>{
    //           console.log(err2);
    //           console.log('Couldn\'t create directory')});
    //       });
    //     }
    //   });
    // }
    EstimationlistPage.prototype.downloadfile = function (url, name) {
        var _this = this;
        console.log(url);
        var date = new Date();
        date.setDate(date.getDate());
        console.log(date.toISOString().split('T')[0]);
        this.platform.ready().then(function () {
            console.log("Platform ready");
            if (_this.platform.is('android')) {
                console.log("Platform Android");
                _this.file.checkDir(_this.file.externalDataDirectory, _this.common.cmpShortName).then(function (data) {
                    console.log("Check directory IDO");
                    _this.file.checkDir(_this.file.externalDataDirectory + '' + _this.common.cmpShortName + '/', date.toISOString().split('T')[0]).then(function (_) {
                        console.log("Check directory IDO " + date.toISOString().split('T')[0]);
                        _this.viewFile(url, name);
                    }).catch(function (er) {
                        _this.file.createDir(_this.file.externalDataDirectory + '' + _this.common.cmpShortName + '/', date.toISOString().split('T')[0], false).then(function (_) {
                            console.log("Create directory IDO " + date.toISOString().split('T')[0]);
                            _this.viewFile(url, name);
                        }).catch(function (err) {
                            console.log(err);
                            console.log('Couldn\'t create directory');
                        });
                    });
                }).catch(function (err) {
                    _this.file.createDir(_this.file.externalDataDirectory, _this.common.cmpShortName, false).then(function (_) {
                        console.log('Create directory IDO');
                        _this.file.createDir(_this.file.externalDataDirectory + '' + _this.common.cmpShortName + '/', date.toISOString().split('T')[0], false).then(function (_) {
                            console.log('Create directory IDO / ' + date.toISOString().split('T')[0]);
                            _this.viewFile(url, name);
                        }).catch(function (err1) {
                            console.log(err1);
                            console.log('Couldn\'t create directory');
                        });
                    }).catch(function (err2) {
                        console.log(err2);
                        console.log('Couldn\'t create directory');
                    });
                });
            }
        });
    };
    EstimationlistPage.prototype.viewFile = function (url, name) {
        var _this = this;
        var date = new Date();
        var dateDir = date.toISOString().split('T')[0];
        var dirPath = this.file.dataDirectory + this.common.cmpShortName + '/' + dateDir;
        return new Promise(function (resolve, reject) {
            _this.platform.ready().then(function () {
                _this.checkPermissions().then(function () {
                    _this.file.resolveDirectoryUrl(dirPath)
                        .catch(function () { return _this.file.createDir(_this.file.dataDirectory, _this.common.cmpShortName + "/" + dateDir, true); })
                        .then(function () { return _this.file.checkFile(dirPath, name); })
                        .then(function () {
                        var filePath = dirPath + '/' + name;
                        console.log("Opening existing file:", filePath);
                        return _this.fileOpener.open(decodeURI(filePath), 'application/pdf').then(function () { return resolve(); });
                    })
                        .catch(function () {
                        var loader = _this.load.create({
                            content: 'Please wait...',
                            spinner: 'bubbles',
                        });
                        loader.present();
                        var targetPath = dirPath + '/' + name;
                        return _this.fileTransfer.download(url, targetPath, true).then(function (entry) {
                            loader.dismiss();
                            console.log("Download complete:", entry.nativeURL);
                            // Check if the file exists before opening
                            _this.file.resolveLocalFilesystemUrl(entry.nativeURL).then(function (fileEntry) {
                                console.log("File exists, opening:", fileEntry.nativeURL);
                                setTimeout(function () {
                                    _this.fileOpener.open(decodeURI(fileEntry.nativeURL), 'application/pdf')
                                        .then(function () { return console.log(" File opened successfully"); })
                                        .catch(function (err) { return console.error(" FileOpener Error:", err); });
                                }, 2000);
                            }).catch(function () {
                                console.error(" File does NOT exist at expected location:", entry.nativeURL);
                            });
                        }).catch(function (error) {
                            loader.dismiss();
                            console.error(" Download error:", error);
                            reject(error);
                        });
                    });
                }).catch(function (err) { return reject(err); });
            });
        });
    };
    EstimationlistPage.prototype.checkPermissions = function () {
        var _this = this;
        return this.androidPermissions.checkPermission(this.androidPermissions.PERMISSION.WRITE_EXTERNAL_STORAGE).then(function (result) { return result.hasPermission ? Promise.resolve() : _this.androidPermissions.requestPermissions([_this.androidPermissions.PERMISSION.WRITE_EXTERNAL_STORAGE, _this.androidPermissions.PERMISSION.READ_EXTERNAL_STORAGE]); });
    };
    // viewFile(url,name){
    //   var date = new Date();
    //   date.setDate(date.getDate());
    //   console.log(date);
    //   console.log(date.toISOString().split('T')[0])
    //   this.platform.ready().then(() => {
    //     console.log('platform ready viewFile')
    //     this.file.resolveDirectoryUrl(this.file.externalDataDirectory+''+this.common.cmpShortName+'/'+date.toISOString().split('T')[0]).then((resolvedDirectory) => {
    //       console.log(resolvedDirectory);
    //       console.log("resolved  directory: " + resolvedDirectory.nativeURL);
    //       this.file.checkFile(resolvedDirectory.nativeURL, name).then((data) => {
    //         console.log(data)
    //         console.log(resolvedDirectory.nativeURL+name)
    //         this.fileOpener.open(resolvedDirectory.nativeURL+name, 'application/pdf')
    //         .then(() => console.log('File is opened'))
    //         .catch(e => console.log('Error opening file', e));
    //         // this.printEsti(resolvedDirectory.nativeURL+name,name);
    //       },err=>{
    //         console.log(err)
    //         let loader = this.load.create({
    //           content: 'Please Wait',
    //           spinner: 'bubbles',
    //         });
    //         loader.present();
    //         var targetPath = this.file.externalDataDirectory+''+this.common.cmpShortName+'/'+date.toISOString().split('T')[0]+'/'+name;
    //         this.fileTransfer.download(url, targetPath,true).then((entry) => {
    //           console.log('download complete: ' + entry.toURL());
    //           loader.dismiss();
    //           this.fileOpener.open(entry.toURL(), 'application/pdf')
    //           .then(() => console.log('File is opened'))
    //           .catch(e => console.log('Error opening file', e));
    //           // this.printEsti(entry.toURL(),name);
    //         }, (error) => {
    //           loader.dismiss();
    //           console.log(error)
    //         });
    //       });
    //     },err=>{
    //       console.log(err)
    //     });
    //   });
    // }
    EstimationlistPage.prototype.goto = function () {
        this.navCtrl.setRoot(__WEBPACK_IMPORTED_MODULE_9__home_home__["a" /* HomePage */]);
    };
    EstimationlistPage.prototype.printEsti = function (content, ename) {
        console.log(content);
        console.log(ename);
        this.printer.isAvailable().then(function (onSuccess) {
            console.log("isAvailable - Success");
        }, function (onError) {
            console.log(onError);
            console.log("isAvailable - Error");
        });
        var options = {
            name: ename,
            //printerId: 'printer007',
            //duplex: true,
            //landscape: true,
            grayscale: true
        };
        this.printer.print(content, options).then(function (onSuccess) {
            console.log("print - Success");
        }, function (onError) {
            console.log("print - Error");
        });
    };
    EstimationlistPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-estimationlist',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\estimationlist\estimationlist.html"*/'<!--\n  Generated template for the EstimationlistPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n-->\n<!-- <ion-header>\n\n  <ion-navbar>\n    <ion-title>Estimation List</ion-title>\n  </ion-navbar>\n\n</ion-header> -->\n<ion-header>\n  <ion-navbar>\n    <!-- <button ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button> -->\n    <ion-title style="text-align: center !important;\n    margin-right: 15% !important;" (click)="goto()"><img class="header-logo" src=\'assets/header.svg\'/></ion-title>\n  </ion-navbar>\n</ion-header>\n\n<ion-content padding>\n  <div class="row">\n    <div class="col" col-3>\n     \n    </div>  \n    <div class="col" col-9>\n      <ion-item no-padding>\n        <ion-label color="label-color" stacked>Estimation No<span class="required"> *</span></ion-label>\n        <ion-input type="text" [(ngModel)]="estno"></ion-input>\n        <button ion-button outline small color="dark" type="button" item-right (click)="searchesti()"> Search </button> \n    </ion-item>\n    </div>  \n  </div>\n\n  <div style="margin-bottom: 100px;">\n  <ion-row>\n    <ion-col no-padding text-wrap col-12>\n      <div class="theme-title-blk"> <ion-icon name="pricetags"></ion-icon> Estimation List  <ion-badge color="light" float-right></ion-badge></div>\n    </ion-col>\n    </ion-row>\n  <ion-row style="    margin-top: 10px;\n  border: 1px solid lightgrey;" *ngFor="let l of list">\n\n    <ion-col>\n      <div class="row">\n      <div class="col" style="padding: 5px;font-weight: bold;">{{l[\'firstname\']}}\n        \n      </div>\n      <div  class="col" style="    padding: 5px;">  {{l[\'total_cost\']}}\n        <!-- <ion-icon (click)="edit(l[\'cus_id\'])" name="ios-create" style="float: right;"></ion-icon> -->\n\n       <!-- <ion-icon style="float: right;" (click)="print(l)" name="print"></ion-icon> -->\n      </div>\n      <!-- <div style="    padding: 5px;font-weight: bold;">{{l[\'totwt\']}} Grms\n      </div> -->\n    </div>\n    <div class="row">\n      <div  class="col" style="    padding: 5px;">{{l[\'mobile\']}}</div>\n\n    <div class="col"  style="    padding: 5px;">{{l[\'totwt\']}} grms\n\n    </div>\n  </div>\n      <div style="    padding: 5px;">\n        <ion-badge style="background: linear-gradient(to right,#000000 0%,#000000 75%,#000000 100%);" *ngIf="l[\'is_billed\'] == 0">Open</ion-badge>\n        <ion-badge  style="background: green;" *ngIf="l[\'is_billed\'] == 1">Billed</ion-badge>\n        <ion-icon (click)="edit(l[\'cus_id\'])" name="ios-create" style="float: right;"></ion-icon>\n\n      </div>\n\n    </ion-col>\n    <ion-col  col-4 style="background-color:#000000 !important;text-align: center;">\n      <div class="row">\n        <div class="col" style="border: 1px solid white;margin-top: 10px;" col-8 (click)="getEstiByEstiNo(l[\'esti_no\'])">\n          <ion-icon style="margin: auto;color: white;"  name="eye"></ion-icon>\n\n          <div style="color: white;font-weight: bold;">Esti.No</div>\n          <div style="color: white;">{{l[\'esti_no\']}}</div>\n          </div>\n          <div class="col" col-4 style="margin: auto;">\n           <!--  <ion-icon style="float: right;font-size: 1.5em !important;margin-top: 15px;color: white;" (click)="print(l)" name="print"></ion-icon> Aniga bluetooh print no need  -->\n            <!-- <ion-icon *ngIf="l[\'is_billed\'] == 0" style="float: right;font-size: 1.5em !important;margin-top: 15px;color: white;" (click)="edittag(l)" name="create"></ion-icon> -->\n\n          </div>\n\n      </div>\n     \n    </ion-col>\n  </ion-row>\n</div>\n</ion-content>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\estimationlist\estimationlist.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_8__providers_retail__["a" /* RetailProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_14__ionic_native_android_permissions__["a" /* AndroidPermissions */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_11__ionic_native_printer__["a" /* Printer */], __WEBPACK_IMPORTED_MODULE_8__providers_retail__["a" /* RetailProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */], __WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_3__ionic_native_file_opener__["a" /* FileOpener */], __WEBPACK_IMPORTED_MODULE_5__ionic_native_file_transfer__["a" /* FileTransfer */], __WEBPACK_IMPORTED_MODULE_4__ionic_native_file__["a" /* File */], __WEBPACK_IMPORTED_MODULE_7__ionic_native_file_path__["a" /* FilePath */], __WEBPACK_IMPORTED_MODULE_6__ionic_native_file_chooser__["a" /* FileChooser */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["x" /* Platform */]])
    ], EstimationlistPage);
    return EstimationlistPage;
}());

//# sourceMappingURL=estimationlist.js.map

/***/ }),

/***/ 215:
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncatched exception popping up in devtools
	return Promise.resolve().then(function() {
		throw new Error("Cannot find module '" + req + "'.");
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = 215;

/***/ }),

/***/ 259:
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncatched exception popping up in devtools
	return Promise.resolve().then(function() {
		throw new Error("Cannot find module '" + req + "'.");
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = 259;

/***/ }),

/***/ 27:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CartPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_retail__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__modal_customer_customer__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__order_status_order_status__ = __webpack_require__(190);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__home_home__ = __webpack_require__(31);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var CartPage = /** @class */ (function () {
    function CartPage(platform, modal, events, navCtrl, navParams, load, retail, common) {
        var _this = this;
        this.platform = platform;
        this.modal = modal;
        this.events = events;
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.load = load;
        this.retail = retail;
        this.common = common;
        this.empData = JSON.parse(localStorage.getItem('empDetail'));
        this.cusData = JSON.parse(localStorage.getItem('currentCustomer'));
        this.allowPlaceOrder = false;
        this.selectedItems = [];
        this.page = this.navParams.get('page');
        this.platform.registerBackButtonAction(function () {
            if (_this.page == 'direct') {
                _this.goHome();
            }
            else {
                _this.navCtrl.pop();
                // maybe exit app or show alert
            }
        });
        events.subscribe('cartItems:selected', function (items) {
            if (items) {
                console.log(items);
                _this.selectedItems = items;
                _this.allowPlaceOrder = (_this.selectedItems.length > 0) ? true : false;
            }
        });
    }
    CartPage.prototype.ionViewDidLoad = function () {
    };
    CartPage.prototype.createOrder = function () {
        var _this = this;
        // let currentCustomer = localStorage.getItem( 'currentCustomer' );
        // if ( currentCustomer != null ) {
        var ordertype;
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        var postData = {
            "order": {
                "order_request_from": "cart",
                "id_karigar": null,
                "order_for": 2,
                "order_to_br": null,
                "order_to": this.cusData['id_customer'],
                "order_from": this.empData['id_branch'],
                "id_branch": this.empData['id_branch'],
                "rate_calc_from": this.empData['rate_calc_from'],
                "id_employee": this.empData['uid'],
                "order_type": ordertype = this.selectedItems.length != 0 ? this.selectedItems[0]["order_type"] : null,
                'rate_type': ordertype = this.selectedItems.length != 0 ? this.selectedItems[0]["rate_type"] : null,
            },
            "o_item": this.selectedItems
        };
        this.retail.createOrder(postData).then(function (result) {
            if (result.status) {
                _this.events.publish('Order:created', true);
            }
            _this.common.presentToast(result.msg, '');
            loader.dismiss();
        }, function (error) {
            loader.dismiss();
        });
        // }
        // else{
        //              this.openCusModal();
        // }
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__order_status_order_status__["a" /* OrderStatusPage */], { 'type': 2 });
        // this.navCtrl.push(OrderStatusPage)
    };
    CartPage.prototype.openCusModal = function () {
        var _this = this;
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_4__modal_customer_customer__["a" /* CusSearchPage */], { 'first1': this.selectedItems[0]['customer_name'] });
        modal.present();
        modal.onDidDismiss(function (mData) {
            if (mData != null) {
                localStorage.setItem('currentCustomer', JSON.stringify(mData));
                _this.cusData = JSON.parse(localStorage.getItem('currentCustomer'));
                _this.createOrder();
            }
        });
    };
    CartPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    CartPage.prototype.ionViewWillEnter = function () {
        this.events.publish('entered', true);
        this.events.publish('pageno', 1);
    };
    CartPage.prototype.goHome = function () {
        this.navCtrl.setRoot(__WEBPACK_IMPORTED_MODULE_6__home_home__["a" /* HomePage */]);
    };
    CartPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-cart',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\cart\cart.html"*/'<ion-header>\n<ion-navbar hideBackButton="true">\n    <ion-row>\n        <ion-col col-2>\n  <button ion-button clear icon-only style="color: black !important;" (click)="goHome()">\n    <ion-icon name="arrow-back"></ion-icon>\n  </button>\n        </ion-col>\n        <ion-col col-10 style="margin: auto;">\n  <ion-title>Cart</ion-title>\n        </ion-col>\n    </ion-row>\n\n</ion-navbar>\n</ion-header>\n\n<ion-content padding-vertical> \n    <items-list [page] ="\'Cart\'"></items-list>    \n</ion-content>\n<ion-footer style="bottom: 83px !important;">\n    <button ion-button style="border-radius: 5px;" [disabled] = "!allowPlaceOrder" icon-start full class="theme-btn" (click)="openCusModal()">Place Order</button> \n</ion-footer> '/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\cart\cart.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_3__providers_retail__["a" /* RetailProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["x" /* Platform */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_3__providers_retail__["a" /* RetailProvider */], __WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */]])
    ], CartPage);
    return CartPage;
}());

//# sourceMappingURL=cart.js.map

/***/ }),

/***/ 29:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CusSearchPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__cusupdate_cusupdate__ = __webpack_require__(188);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__details_details__ = __webpack_require__(404);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__add_quick_cus_add_quick_cus__ = __webpack_require__(189);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






/**
 * Generated class for the CusSearchPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
// @IonicPage()
var CusSearchPage = /** @class */ (function () {
    function CusSearchPage(events, toast, ionicApp, modal, load, common, viewCtrl, navCtrl, navParams) {
        this.events = events;
        this.toast = toast;
        this.ionicApp = ionicApp;
        this.modal = modal;
        this.load = load;
        this.common = common;
        this.viewCtrl = viewCtrl;
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.customers = [];
        this.toggle = true;
        this.txt = '';
        this.txt = this.navParams.get('first1');
        // this.getCus()
        console.log(this.txt, 'uuuuuuuuu');
        // console.log(this.navParams.get('first'));
        // if(this.navParams.get('first') != undefined && this.navParams.get('first') != ''){
        //   this.txt = this.navParams.get('first')
        // }
    }
    CusSearchPage.prototype.selected = function (data) {
        console.log('ooooooo');
        // this.navCtrl.push(OrderStatusPage)
        this.viewCtrl.dismiss(data);
    };
    CusSearchPage.prototype.getCus = function () {
        var _this = this;
        var val = this.txt;
        if (val && val.trim() != '' && val.length >= 3) {
            var loader_1 = this.load.create({
                content: 'Please Wait',
                spinner: 'bubbles',
            });
            loader_1.present();
            this.common.getCustBySearch({ "searchTxt": val }).then(function (data) {
                _this.customers = data;
                loader_1.dismiss();
                console.log(_this.customers);
                if (_this.customers.length == 0) {
                    _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__add_quick_cus_add_quick_cus__["a" /* AddQuickCus */]);
                }
            });
            console.log(this.customers, 'ooooooooooo');
        }
        else {
            var toast = this.toast.create({
                message: 'Please Enter Minimum 3 Digits',
                position: 'bottom',
                duration: 1000
            });
            toast.present();
        }
    };
    CusSearchPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad CusSearchPage');
    };
    CusSearchPage.prototype.dismiss = function () {
        this.viewCtrl.dismiss();
    };
    CusSearchPage.prototype.openQuickCus = function () {
        var _this = this;
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_5__add_quick_cus_add_quick_cus__["a" /* AddQuickCus */]);
        modal.present();
        modal.onDidDismiss(function (data) {
            console.log(data);
            if (data != null && data != undefined) {
                _this.viewCtrl.dismiss(data);
            }
        });
    };
    CusSearchPage.prototype.edit = function (data) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_3__cusupdate_cusupdate__["a" /* CusupdatePage */], { 'id': data });
    };
    CusSearchPage.prototype.eye = function (data) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__details_details__["a" /* DetailsPage */], { 'id': data });
    };
    CusSearchPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    CusSearchPage.prototype.ionViewWillEnter = function () {
        this.events.publish('entered', true);
        this.events.publish('pageno', 1);
    };
    CusSearchPage.prototype.texto = function (event) {
        if (event.keyCode == 13) {
            this.getCus();
        }
        console.log(this.txt.length, 'length');
        if (this.txt.lenght != 10) {
            this.customers = [];
        }
        console.log(event);
    };
    CusSearchPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-customer',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\modal\customer\customer.html"*/'<ion-header>\n  <ion-navbar>\n    <ion-title>\n      Search Customer\n    </ion-title>\n    <ion-buttons end>\n        <button ion-button icon-only (click)="dismiss()">\n            <ion-icon item-right name="ios-close-outline"></ion-icon>\n        </button>\n        <button  ion-button icon-only (click)="openQuickCus()">\n          <ion-icon item-right name="ios-add-circle"></ion-icon>\n      </button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n<ion-content>\n  <ion-row>\n    <ion-col col-10>\n      <ion-searchbar [(ngModel)]="txt" (keyup)="texto($event)"></ion-searchbar>\n    </ion-col>\n    <ion-col style="margin:auto;    font-size: 2em !important;\n    color: black !important;" col-2 (click)="getCus()">\n      <ion-icon name="search"  style="color:#000000 !important"></ion-icon> \n    </ion-col>\n  </ion-row>\n  <ion-list>\n    <ion-row *ngFor="let c of customers" style="    border-bottom: 1px solid lightgrey;">\n      <ion-col col-10 style="    padding-top: 10px;\n      padding-bottom: 10px;">\n        <span (click)="selected(c)">{{ c.label }}</span>\n        <span  *ngIf="c.accounts > 0" color="secondary">\n         <ion-icon name="checkmark-circle"  color="secondary">Chit</ion-icon> \n       </span>\n	   <div style="margin-top:5px" *ngIf="c.cus_review_avg != 0">\n	   <span style="background: orange;color: white;padding: 5px;border-radius: 5px;">\n    <ion-icon style="color: white;" name="star"></ion-icon><span *ngIf="c.cus_review_avg != null">{{c.cus_review_avg}}</span>&nbsp;<span *ngIf="c[\'last_review\'] != null">{{c[\'last_review\'][\'review\']}}</span> \n\n  </span>\n	   </div>\n      </ion-col>\n      <ion-col col-1 style="margin: auto;">\n        <ion-icon (click)="eye(c[\'id_customer\'])" name="eye" style="float: right;"></ion-icon>\n      </ion-col>\n      <ion-col col-1 style="margin: auto;">\n        <ion-icon (click)="edit(c[\'id_customer\'])" name="ios-create" style="float: right;"></ion-icon>\n      </ion-col>\n    </ion-row>\n  </ion-list>\n</ion-content>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\modal\customer\customer.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["m" /* IonicApp */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["B" /* ViewController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */]])
    ], CusSearchPage);
    return CusSearchPage;
}());

//# sourceMappingURL=customer.js.map

/***/ }),

/***/ 31:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HomePage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__login_login__ = __webpack_require__(63);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__estimation_estimation__ = __webpack_require__(72);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__cus_register_cus_register__ = __webpack_require__(198);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__category_category__ = __webpack_require__(199);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__e_catalog_e_catalog__ = __webpack_require__(201);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__wishlist_wishlist__ = __webpack_require__(34);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__cart_cart__ = __webpack_require__(27);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__stock_entry_stock_entry__ = __webpack_require__(203);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__modal_employee_employee__ = __webpack_require__(49);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__branch_branch__ = __webpack_require__(414);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__auto_auto__ = __webpack_require__(45);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__estimationlist_estimationlist__ = __webpack_require__(204);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__assets_js_test_js__ = __webpack_require__(774);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
















var HomePage = /** @class */ (function () {
    function HomePage(common, view, navParams, nav, modalCtrl, events, loadingCtrl) {
        var _this = this;
        this.common = common;
        this.view = view;
        this.navParams = navParams;
        this.nav = nav;
        this.modalCtrl = modalCtrl;
        this.events = events;
        this.loadingCtrl = loadingCtrl;
        this.myInput = '';
        this.showSpinner = true;
        this.showdash = false;
        this.empData = JSON.parse(localStorage.getItem('empDetail'));
        this.versionData = JSON.parse(localStorage.getItem('versionData'));
        this.totalcartitems = localStorage.getItem('carts') != null ? JSON.parse(localStorage.getItem('carts'))['items'] : [];
        this.metalRate = [];
        this.settings = [];
        this.dash_esti = [];
        this.dash_om = [];
        this.pages = [];
        this.currency = { 'currency': { 'reg_existing': 0 } };
        this.empid = '';
        this.empname = '';
        this.bid = '';
        this.bnamename = '';
        this.employees = [];
        this.branches = [];
        this.wish = [];
        var empdata = JSON.parse(localStorage.getItem('empDetail'));
        this.pages = empdata.menus;
        console.log(__WEBPACK_IMPORTED_MODULE_15__assets_js_test_js__["a" /* test */]);
        this.common.getbranch().then(function (data) {
            _this.branches = data;
        });
        this.common.getwish().then(function (data) {
            console.log(data);
            _this.wish = data;
        });
    }
    HomePage_1 = HomePage;
    HomePage.prototype.ionViewDidLoad = function () {
        var _this = this;
        var loader = this.loadingCtrl.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        this.common.getCurrencyAndSettings({ "id_branch": this.empData['id_branch'] }).then(function (data) {
            _this.metalRate = data.metal_rates;
            _this.settings = data.settings;
            localStorage.setItem('currencyAndSettings', JSON.stringify(data));
        });
        var postData = { "id_branch": this.empData['id_branch'], "id_employee": this.empData['uid'] };
        this.common.getRetDashboard(postData).then(function (data) {
            _this.dash_esti = data.esti_sale;
            _this.dash_om = data.esti_old_metal;
            loader.dismiss();
        }, function (err) {
            loader.dismiss();
        });
        this.common.getBranchEmployees(this.empData['id_branch']).then(function (data) {
            _this.employees = data;
        });
    };
    HomePage.prototype.ngAfterViewInit = function () {
    };
    HomePage.prototype.openEmpModal = function () {
        var _this = this;
        var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_11__modal_employee_employee__["a" /* EmpSearchPage */], { "empData": this.employees });
        modal.present();
        modal.onDidDismiss(function (data) {
            if (data != null) {
                _this.empid = data.id_employee;
                _this.empname = data.emp_name;
                _this.empData['username'] = data.emp_name;
                _this.empData['uid'] = data.id_employee;
            }
        });
    };
    HomePage.prototype.openbranchodal = function () {
        var _this = this;
        var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_12__branch_branch__["a" /* BranchPage */], { "branch": this.branches });
        modal.present();
        modal.onDidDismiss(function (data) {
            if (data != null) {
                _this.bid = data.id_branch;
                _this.bnamename = data.name;
                _this.empData['branch_name'] = data.name;
                // this.empData['id_branch'] = data.id_branch;
            }
        });
    };
    HomePage.prototype.openPage = function (pageData) {
        var pageName = pageData.component;
        console.log(pageName);
        if (pageName == 'LoginPage') {
            this.nav.push(__WEBPACK_IMPORTED_MODULE_3__login_login__["a" /* LoginPage */]);
        }
        else if (pageName == 'HomePage') {
            this.nav.setRoot(HomePage_1);
        }
        else if (pageName == 'EstiPage') {
            this.nav.setRoot(__WEBPACK_IMPORTED_MODULE_4__estimation_estimation__["a" /* EstiPage */], { 'old_metal': [], 'home_bill': [], 'non_tag': [], 'tag': [], "page_type": pageData.page, 'empname': this.empname, 'empid': this.empid, 'bname': this.bnamename, 'bid': this.bid });
        }
        else if (pageName == 'CusRegisterPage') {
            this.nav.setRoot(__WEBPACK_IMPORTED_MODULE_5__cus_register_cus_register__["a" /* CusRegisterPage */]);
        }
        else if (pageName == 'CategoryPage') {
            this.nav.push(__WEBPACK_IMPORTED_MODULE_6__category_category__["a" /* CategoryPage */]);
        }
        else if (pageName == 'Ecatalog') {
            this.nav.setRoot(__WEBPACK_IMPORTED_MODULE_7__e_catalog_e_catalog__["a" /* EcatalogPage */]);
        }
        else if (pageName == "WishlistPage") {
            this.nav.setRoot(__WEBPACK_IMPORTED_MODULE_8__wishlist_wishlist__["a" /* WishlistPage */]);
        }
        else if (pageName == "CartPage") {
            this.nav.push(__WEBPACK_IMPORTED_MODULE_9__cart_cart__["a" /* CartPage */]);
        }
        else if (pageName == "StockCodeEntryPage") {
            this.nav.setRoot(__WEBPACK_IMPORTED_MODULE_10__stock_entry_stock_entry__["a" /* StockCodeEntryPage */]);
        }
    };
    HomePage.prototype.openModal = function () {
        this.nav.push(__WEBPACK_IMPORTED_MODULE_13__auto_auto__["a" /* AutoPage */]);
    };
    // ionViewWillLeave(){
    // 	this.events.publish( 'entered', false );
    //   }
    HomePage.prototype.ionViewWillEnter = function () {
        this.events.publish('entered', true);
        this.events.publish('pageno', 1);
        this.totalcartitems = localStorage.getItem('carts') != null ? JSON.parse(localStorage.getItem('carts'))['items'] : [];
    };
    HomePage.prototype.goes = function (data) {
        this.nav.push(__WEBPACK_IMPORTED_MODULE_14__estimationlist_estimationlist__["a" /* EstimationlistPage */], { "dd": data });
    };
    HomePage.prototype.cart = function () {
        this.nav.push(__WEBPACK_IMPORTED_MODULE_9__cart_cart__["a" /* CartPage */]);
    };
    HomePage.prototype.wishlist = function () {
        this.nav.push(__WEBPACK_IMPORTED_MODULE_8__wishlist_wishlist__["a" /* WishlistPage */]);
    };
    HomePage.prototype.goto = function () {
        this.nav.setRoot(__WEBPACK_IMPORTED_MODULE_4__estimation_estimation__["a" /* EstiPage */], { 'old_metal': [], 'home_bill': [], 'non_tag': [], 'tag': [], "page_type": 'create', 'empname': this.empname, 'empid': this.empid, 'bname': this.bnamename, 'bid': this.bid });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_8" /* ViewChild */])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* Content */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* Content */])
    ], HomePage.prototype, "content", void 0);
    HomePage = HomePage_1 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-home',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\home\home.html"*/'<ion-header>\n  <ion-navbar>\n    <ion-row>\n      <ion-col col-2 style="margin: auto;">\n        <button ion-button menuToggle>\n          <ion-icon name="menu"></ion-icon>\n        </button>\n      </ion-col>\n      <ion-col  col-10>\n           <!-- <ion-title><img class="header-logo" src=\'assets/img/homeheader.svg\'/></ion-title> -->\n    <ion-title style="text-align: center;\n    "><img  class="header-logo" src=\'assets/header.svg\'/>\n    <!-- <ion-badge style="float: right;background-color: red;margin-top: 10px;">Test</ion-badge> -->\n\n    </ion-title>\n      </ion-col>\n      <ion-col col-3 style="max-width: 30% !important;margin: auto;">\n        <!-- Ecom module -->\n        <div  id="notification-button" >\n          <ion-icon style="color:black;float: right;font-size:1.6em !important" name="cart" (click)="cart()"></ion-icon>\n        <ion-badge *ngIf="totalcartitems != null && totalcartitems.length > 0"   id="notifications-badge" color="danger">{{totalcartitems.length}}</ion-badge>\n\n  </div>\n  <div  id="notification-button" >\n    <ion-icon style="color:black;float: right;font-size:1.6em !important" name="heart-outline" (click)="wishlist()"></ion-icon>\n  <ion-badge *ngIf="wish != null && wish.length > 0"   id="notifications-badgee" color="danger">{{wish.length}}</ion-badge>\n\n</div>\n            <!-- <ion-icon style="margin-top:8px !important;color:black;font-size:1.6em !important;float:right" name="search" (click)="openModal()"></ion-icon> -->\n\n\n      </ion-col>\n    </ion-row>\n\n\n  </ion-navbar>\n</ion-header>\n<ion-content>\n  <!-- Row 1 -->\n  <ion-row margin>\n    <ion-col style="overflow: hidden;\n    white-space: nowrap !important;\n    text-overflow: ellipsis;font-weight: bold !important;\n    text-align: center !important;"  (click)="openEmpModal()" text-wrap col-sm-12 col-md-6 col-lg-6 col-xl-6 text-uppercase>\n      <div style="padding: 5px;border: 1px solid lightgray;border-radius: 6px;\n      overflow: hidden;\n    white-space: nowrap !important;\n    text-overflow: ellipsis;font-weight: bold !important;background:#1A2A53;\n    color: white;\n      ">\n      <ion-icon name="person" color="theme-color" style="color:white !important"></ion-icon> {{empData[\'username\']}} - {{empData[\'uid\']}}\n\n      </div>\n    </ion-col>\n    <ion-col style="overflow: hidden;\n    white-space: nowrap !important;\n    text-overflow: ellipsis;font-weight: bold !important;\n    text-align: center !important;"  text-wrap col-sm-12 col-md-6 col-lg-6 col-xl-6 *ngIf="empData[\'branch_name\'] != \'\'" text-right>\n      <div style="padding: 5px;border: 1px solid lightgray;    border-radius: 6px;\n          border-radius: 6px;overflow: hidden;\n    white-space: nowrap !important;\n    text-overflow: ellipsis;font-weight: bold !important;background:#1A2A53;\n    color: white;\n\n      ">\n      <ion-icon name="pin" color="theme-color" style="color:white !important"></ion-icon>  {{empData[\'branch_name\']}}\n\n      </div>\n    </ion-col>\n  </ion-row>\n  <!-- ./Row 1 -->\n\n  <!-- Row 2 -->\n  <div no-padding class="dash-card-1">\n    <p class="dash-card-title theme-color" style="background:#1A2A53;color: white !important;    font-weight: bold;\n    padding: 6px;    margin-top: 0px;\n    font-size: smaller !important;    border-top-left-radius: 10px;\n    border-top-right-radius: 10px;">TODAY\'S RATE</p>\n    <div style="    font-weight: bold;">{{metalRate[\'updatetime\']}}</div>\n    <!-- <small style="font-weight: 800;background:black;color: white !important;">TODAY\'S RATE</small> -->\n     <ion-row text-center>\n      <ion-col no-padding text-wrap col-sm-6 col-md-6 col-lg-6 col-xl-6>\n        <span *ngIf="metalRate.goldrate_18ct > 0">\n          <p class="smaller">{{versionData.comp.short_code}} Gold 18KT/G</p>\n          <span [innerHTML]="settings.curr_symb_html"></span> <span class="rate">{{metalRate[\'goldrate_18ct\']}}</span>\n        </span>\n        <span *ngIf="metalRate.goldrate_22ct > 0">\n          <p class="smaller">{{versionData.comp.short_code}} Gold 22KT/G</p>\n          <span [innerHTML]="settings.curr_symb_html"></span> <span class="rate">{{metalRate[\'goldrate_22ct\']}}</span>\n        </span>\n        <span *ngIf="metalRate.goldrate_24ct > 0">\n\n          <p class="smaller">{{versionData.comp.short_code}} Gold 24KT/G</p>\n          <span [innerHTML]="settings.curr_symb_html"></span> <span class="rate">{{metalRate[\'goldrate_24ct\']}}</span>\n        </span>\n\n\n        <span *ngIf="settings.enableSilver_rateDisc > 0">\n          <br />\n          <span *ngIf="metalRate[\'mjdmagoldrate_22ct\'] > 0">\n            <p class="smaller">Market Gold 22KT/G</p>\n            <span [innerHTML]="settings.curr_symb_html"></span> <span\n              class="rate">{{metalRate[\'mjdmagoldrate_22ct\']}}</span>\n          </span>\n        </span>\n\n      </ion-col>\n      <ion-col no-padding text-wrap col-sm-6 col-md-6 col-lg-6 col-xl-6>\n        <span *ngIf="metalRate[\'mjdmasilverrate_1gm\'] > 0">\n          <p class="smaller">{{versionData.comp.short_code}} Silver / G</p>\n          <span [innerHTML]="settings.curr_symb_html"></span> <span class="rate">{{metalRate[\'silverrate_1gm\']}}</span>\n          <!-- *ngIf="settings.enableGoldrateDisc > 0" -->\n        </span>\n\n        <br />\n        <span *ngIf="metalRate[\'mjdmasilverrate_1gm\'] > 0">\n          <p class="smaller">Market Silver/G</p>\n          <span [innerHTML]="settings.curr_symb_html"></span> <span\n            class="rate">{{metalRate[\'mjdmasilverrate_1gm\']}}</span>\n        </span>\n        <span *ngIf="metalRate[\'platinum_1g\'] > 0">\n          <p class="smaller">{{versionData.comp.short_code}} Platinum/G</p>\n          <span [innerHTML]="settings.curr_symb_html"></span> <span class="rate">{{metalRate[\'platinum_1g\']}}</span>\n        </span>\n\n      </ion-col>\n    </ion-row>\n  </div>\n  <!-- ./Row 2 -->\n\n  <!-- Row 3 -->\n\n  <!-- ./Row 3 -->\n\n  <!-- Row 4 -->\n\n\n  <ion-row    *ngIf="empData[\'branch_id\'] == 0" align="center">\n    <!-- ESTIMATED - SALE -->\n    <ion-col col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 class="custom-2col">\n      <!-- <img class="dash-img-icon" src=\'assets/icon/esti.svg\' /> -->\n      <div class="dash-card-2">\n        <p class="dash-card-title theme-color" style="background:#1A2A53;color: white !important;    font-weight: bold;\n        padding: 6px;    margin-top: 0px;\n    border-top-left-radius: 10px;\n    border-top-right-radius: 10px;">ESTIMATION - SALE</p>\n        <!-- <ion-row text-center>\n          <ion-col (click)="goes(\'Created\')" col-3>\n            <span float-left>Created</span>\n          </ion-col>\n          <ion-col col-1>\n            <span class="theme-color" float-right>{{dash_esti[\'created\']}}</span>\n          </ion-col>\n          <ion-col col-4 class="no-padding no-marign">\n            <span class="dash-num">{{dash_esti[\'created_wgt\']}} g </span><br/>\n            <span class="smaller">Weight</span>\n          </ion-col>\n          <ion-col col-4 class="no-padding no-marign">\n            <span class="dash-num"><span [innerHTML]="settings.curr_symb_html"></span>{{dash_esti[\'created_amt\']}} </span><br/>\n            <span class="smaller">Amount</span>\n          </ion-col>\n        </ion-row>\n        <ion-row text-center>\n          <ion-col (click)="goes(\'Converted\')" col-3>\n            <span float-left>Converted</span>\n          </ion-col>\n          <ion-col col-1>\n            <span class="theme-color" float-right>{{dash_esti[\'sold\']}}</span>\n          </ion-col>\n          <ion-col col-4 class="no-padding no-marign">\n              <span class="dash-num">{{dash_esti[\'sold_wgt\']}} g </span><br/>\n              <span class="smaller">Weight</span><br/>\n          </ion-col>\n          <ion-col col-4 class="no-padding no-marign">\n            <span class="dash-num"><span [innerHTML]="settings.curr_symb_html"></span>{{dash_esti[\'sold_amt\']}} </span><br/>\n            <span class="smaller">Amount</span>\n          </ion-col>\n        </ion-row> -->\n\n\n\n   <ion-row  text-center>\n       <ion-col  col-3>\n          </ion-col>\n           <ion-col  col-3>\n            <span>G.Wt</span>\n          </ion-col>\n           <ion-col col-3>\n            <span>N.Wt</span>\n          </ion-col>\n            <ion-col  col-3>\n          </ion-col>\n    </ion-row>\n        <ion-row text-center>\n          <ion-col (click)="goes(\'Created\')" col-3>\n            <span float-left>Created({{dash_esti[\'created\']}})</span>\n          </ion-col>\n          <ion-col col-3 class="no-padding no-marign">\n            <span class="dash-num" >{{dash_esti[\'created_gross_wgt\']}} g</span>\n          </ion-col>\n          <ion-col col-3 class="no-padding no-marign">\n            <span class="dash-num">{{dash_esti[\'created_wgt\']}} g </span><br/>\n            <span class="smaller">Weight</span>\n          </ion-col>\n          <ion-col col-3 class="no-padding no-marign">\n            <span class="dash-num"><span [innerHTML]="settings.curr_symb_html"></span>{{dash_esti[\'created_amt\']}} </span><br/>\n            <span class="smaller">Amount</span>\n          </ion-col>\n        </ion-row>\n        <ion-row text-center>\n          <ion-col (click)="goes(\'OldConverted\')" col-3>\n            <span float-left>Converted({{dash_esti[\'sold\']}})</span>\n          </ion-col>\n          <ion-col col-3 class="no-padding no-marign">\n            <span class="dash-num" >{{dash_esti[\'sold_gross_wt\']}} g</span>\n          </ion-col>\n          <ion-col col-3 class="no-padding no-marign">\n              <span class="dash-num">{{dash_esti[\'sold_wgt\']}} g </span><br/>\n              <span class="smaller">Weight</span><br/>\n          </ion-col>\n          <ion-col col-3 class="no-padding no-marign">\n            <span class="dash-num"><span [innerHTML]="settings.curr_symb_html"></span>{{dash_esti[\'sold_amt\']}} </span><br/>\n            <span class="smaller">Amount</span>\n          </ion-col>\n        </ion-row>\n\n      </div>\n    </ion-col>\n\n\n     <!-- ESTIMATED - SALE -->\n     <!-- <ion-col col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 class="custom-2col">\n      <div class="dash-card-2">\n        <p class="dash-card-title theme-color">ESTIMATION - SALE SILVER</p>\n        <ion-row text-center>\n          <ion-col col-3>\n            <span float-left>Created</span>\n          </ion-col>\n          <ion-col col-1>\n            <span class="theme-color" float-right>{{dash_esti[\'created\']}}</span>\n          </ion-col>\n          <ion-col col-4 class="no-padding no-marign">\n            <span class="dash-num">{{dash_esti[\'created_wgt\']}} g </span><br/>\n            <span class="smaller">Weight</span>\n          </ion-col>\n          <ion-col col-4 class="no-padding no-marign">\n            <span class="dash-num"><span [innerHTML]="settings.curr_symb_html"></span>{{dash_esti[\'created_amt\']}} </span><br/>\n            <span class="smaller">Amount</span>\n          </ion-col>\n        </ion-row>\n        <ion-row text-center>\n          <ion-col col-3>\n            <span float-left>Converted</span>\n          </ion-col>\n          <ion-col col-1>\n            <span class="theme-color" float-right>{{dash_esti[\'sold\']}}</span>\n          </ion-col>\n          <ion-col col-4 class="no-padding no-marign">\n              <span class="dash-num">{{dash_esti[\'sold_wgt\']}} g </span><br/>\n              <span class="smaller">Weight</span><br/>\n          </ion-col>\n          <ion-col col-4 class="no-padding no-marign">\n            <span class="dash-num"><span [innerHTML]="settings.curr_symb_html"></span>{{dash_esti[\'sold_amt\']}} </span><br/>\n            <span class="smaller">Amount</span>\n          </ion-col>\n        </ion-row>\n      </div>\n    </ion-col>   -->\n\n    <!-- ESTIMATION - OLD METAL -->\n    <ion-col col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 class="custom-2col">\n      <!-- <img class="dash-img-icon" src=\'assets/icon/old_metal.svg\' /> -->\n      <div class="dash-card-2">\n        <p class="dash-card-title theme-color" style="background:#1A2A53;color: white !important;background:#1A2A53;color: white !important;    font-weight: bold;\n        padding: 6px;    margin-top: 0px;\n    border-top-left-radius: 10px;\n    border-top-right-radius: 10px;">ESTIMATION - OLD METAL</p>\n    <ion-row  text-center>\n       <ion-col  col-3>\n          </ion-col>\n           <ion-col  col-3>\n            <span>G.Wt</span>\n          </ion-col>\n           <ion-col col-3>\n            <span>N.Wt</span>\n          </ion-col>\n            <ion-col  col-3>\n          </ion-col>\n    </ion-row>\n        <ion-row text-center>\n          <ion-col (click)="goes(\'OldCreated\')" col-3>\n            <span float-left>Created({{dash_om[\'created\']}})</span>\n          </ion-col>\n          <ion-col col-3 class="no-padding no-marign">\n            <span class="dash-num" >{{dash_om[\'created_gross_wgt\']}} g</span>\n          </ion-col>\n          <ion-col col-3 class="no-padding no-marign">\n            <span class="dash-num">{{dash_om[\'created_wgt\']}} g </span><br/>\n            <span class="smaller">Weight</span>\n          </ion-col>\n          <ion-col col-3 class="no-padding no-marign">\n            <span class="dash-num"><span [innerHTML]="settings.curr_symb_html"></span>{{dash_om[\'created_amt\']}} </span><br/>\n            <span class="smaller">Amount</span>\n          </ion-col>\n        </ion-row>\n        <ion-row text-center>\n          <ion-col (click)="goes(\'OldConverted\')" col-3>\n            <span float-left>Converted({{dash_om[\'purchased\']}})</span>\n          </ion-col>\n          <ion-col col-3 class="no-padding no-marign">\n            <span class="dash-num" >{{dash_om[\'purch_gross_wgt\']}} g</span>\n          </ion-col>\n          <ion-col col-3 class="no-padding no-marign">\n              <span class="dash-num">{{dash_om[\'purch_wgt\']}} g </span><br/>\n              <span class="smaller">Weight</span><br/>\n          </ion-col>\n          <ion-col col-3 class="no-padding no-marign">\n            <span class="dash-num"><span [innerHTML]="settings.curr_symb_html"></span>{{dash_om[\'purch_amt\']}} </span><br/>\n            <span class="smaller">Amount</span>\n          </ion-col>\n        </ion-row>\n      </div>\n    </ion-col>\n\n  </ion-row>\n  <!-- ./Row 3 -->\n\n    <!-- Row 4 -->\n    <!-- CUSTOMER FEEDBACK-->\n    <!-- <ion-row>\n      <ion-col col-6 push-3 col-sm-4 col-md-4 col-lg-3 col-xl-3 class="custom-2col">\n          <div class="dash-card-2">\n            <ion-row text-center>\n              <ion-col col-12  class="no-padding no-marign">\n                <img class="dash-img-icon" src=\'assets/icon/cus_feedback.svg\' />\n              </ion-col>\n            </ion-row>\n            <p class="dash-card-title">CUSTOMER <br/> FEEDBACK</p>\n          </div>\n      </ion-col>\n    </ion-row> -->\n    <!-- ./Row 4 -->\n\n    <!-- <ion-row text-center margin>\n      <ion-col class="dash-icon-card" no-padding text-wrap col-sm-4 col-md-4 col-lg-4 col-xl-4 *ngFor="let p of pages" [hidden]="p.show_in_dash == 0" (click)="openPage(p)">\n        <ion-icon name="{{p.icon}}" class="dash-icons" color="theme-color"></ion-icon>\n        <br/><small>{{p.title}}</small>\n      </ion-col>\n  </ion-row> -->\n\n</ion-content>\n\n\n\n\n<ion-footer>\n  <div class="footer-center">\n    <button ion-button class="estimation-btn" (click)="goto()">\n      Create Estimation\n    </button>\n  </div>\n</ion-footer>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\home\home.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["B" /* ViewController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */]])
    ], HomePage);
    return HomePage;
    var HomePage_1;
}());

//# sourceMappingURL=home.js.map

/***/ }),

/***/ 33:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AvrsearchPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__subdesign_subdesign__ = __webpack_require__(91);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__supsubdesign_supsubdesign__ = __webpack_require__(197);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





/**
 * Generated class for the EcomfilterPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
// @IonicPage()
var AvrsearchPage = /** @class */ (function () {
    function AvrsearchPage(events, cd, load, comman, viewctrl, navCtrl, navParams) {
        var _this = this;
        this.events = events;
        this.cd = cd;
        this.load = load;
        this.comman = comman;
        this.viewctrl = viewctrl;
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.empData = JSON.parse(localStorage.getItem('empDetail'));
        this.showLevel1 = null;
        this.showLevel2 = null;
        this.pages = [];
        this.cat = [];
        this.remove = [];
        this.category = [];
        this.all = [];
        this.all2 = [];
        this.reset = [{ 'name': 'Foods', 'id': 1, 'status': false }, { 'name': 'Beverages', 'id': 1, 'status': false }, { 'name': 'Sakthi', 'id': 2, 'status': false }, { 'name': 'Slice', 'id': 2, 'status': false }, { 'name': '100 - 200', 'id': 3, 'status': false }, { 'name': '1 Kg', 'id': 4, 'status': false }, { 'name': '2 Pcs', 'id': 5, 'status': false }];
        this.items = [];
        this.one = null;
        this.ind = 0;
        this.checkm = null;
        this.whole = '';
        this.featurename = '';
        this.rupees = { 'min': 0, 'max': 0 };
        this.temp = {};
        this.temptwo = [];
        this.styleExp = window.innerHeight - 50;
        this.whole2 = '';
        this.input = '';
        this.pro = {
            "UserId": "LOGIMAX",
            "Password": "123",
            "Branch": "",
            "Metal": "",
            "Product": 0,
            "SubProduct": 0,
            "TagNo": "",
            "FromWt": 0,
            "ToWt": 0,
            "FromPrice": 0,
            "ToPrice": 0
        };
        var loader = this.load.create({});
        loader.present();
        // this.comman.getfilter().then(data=>{
        var check = this.navParams.get('supplier') == true ? true : false;
        console.log(check);
        if (check != true) {
            if (JSON.parse(localStorage.getItem('predata')) != null && this.navParams.get('supplier') != true) {
                var data = JSON.parse(localStorage.getItem('predata'));
                console.log(data);
                var check = this.navParams.get('supplier') == true ? true : false;
                this.category = Object.keys(data);
                localStorage.setItem('predata', JSON.stringify(data));
                this.whole = data;
                this.whole2 = data;
                console.log(localStorage.getItem('apply'));
                if (localStorage.getItem('apply') != null && localStorage.getItem('apply') != 'reset') {
                    var test = Object.keys(JSON.parse(localStorage.getItem('apply')));
                    var testo_1 = JSON.parse(localStorage.getItem('apply'));
                    this.temp = JSON.parse(localStorage.getItem('apply'));
                    test.forEach(function (element, i) {
                        console.log(element);
                        if (_this.checking(_this.whole[element])) {
                            var tem_1 = _this.whole[element];
                            testo_1[element].forEach(function (e) {
                                var index = tem_1.findIndex(function (data) { return data['name'] == e['name']; });
                                console.log(index);
                                if (index != -1) {
                                    _this.whole[element][index]['status'] = true;
                                    _this.temptwo.push(e);
                                }
                            });
                        }
                        else {
                            _this.whole[element] = testo_1[element];
                        }
                        console.log('final', i);
                    });
                    console.log('close');
                    this.getitems1('', 0);
                    loader.dismiss();
                }
                else {
                    this.getitems('', 0);
                    console.log('erftgyhujij : ');
                    loader.dismiss();
                }
            }
            else {
                this.comman.getfilter(check).then(function (data) {
                    console.log(data);
                    _this.category = Object.keys(data['ReturnObject']);
                    localStorage.setItem('predata', JSON.stringify(data['ReturnObject']));
                    _this.whole = data['ReturnObject'];
                    _this.whole2 = data['ReturnObject'];
                    console.log(localStorage.getItem('apply'));
                    if (localStorage.getItem('apply') != null && localStorage.getItem('apply') != 'reset') {
                        var test = Object.keys(JSON.parse(localStorage.getItem('apply')));
                        var testo_2 = JSON.parse(localStorage.getItem('apply'));
                        _this.temp = JSON.parse(localStorage.getItem('apply'));
                        test.forEach(function (element, i) {
                            console.log(element);
                            if (_this.checking(_this.whole[element])) {
                                var tem_2 = _this.whole[element];
                                testo_2[element].forEach(function (e) {
                                    var index = tem_2.findIndex(function (data) { return data['name'] == e['name']; });
                                    console.log(index);
                                    if (index != -1) {
                                        _this.whole[element][index]['status'] = true;
                                        _this.temptwo.push(e);
                                    }
                                });
                            }
                            else {
                                _this.whole[element] = testo_2[element];
                            }
                            console.log('final', i);
                        });
                        console.log('close');
                        _this.getitems1('', 0);
                        loader.dismiss();
                    }
                    else {
                        _this.getitems('', 0);
                        loader.dismiss();
                    }
                });
            }
        }
        if (check == true) {
            console.log('trueeeeeeeeeeee : ');
            if (JSON.parse(localStorage.getItem('spredata')) != null && this.navParams.get('supplier') == true) {
                var data = JSON.parse(localStorage.getItem('spredata'));
                console.log(data);
                this.category = Object.keys(data);
                localStorage.setItem('spredata', JSON.stringify(data));
                this.whole = data;
                this.whole2 = data;
                console.log(localStorage.getItem('sapply'));
                if (localStorage.getItem('sapply') != null && localStorage.getItem('sapply') != 'reset') {
                    var test = Object.keys(JSON.parse(localStorage.getItem('sapply')));
                    var testo_3 = JSON.parse(localStorage.getItem('sapply'));
                    this.temp = JSON.parse(localStorage.getItem('sapply'));
                    test.forEach(function (element, i) {
                        console.log(element);
                        if (_this.checking(_this.whole[element])) {
                            var tem_3 = _this.whole[element];
                            testo_3[element].forEach(function (e) {
                                var index = tem_3.findIndex(function (data) { return data['name'] == e['name']; });
                                console.log(index);
                                if (index != -1) {
                                    _this.whole[element][index]['status'] = true;
                                    _this.temptwo.push(e);
                                }
                            });
                        }
                        else {
                            _this.whole[element] = testo_3[element];
                        }
                        console.log('final', i);
                    });
                    console.log('close');
                    this.getitems1('', 0);
                    loader.dismiss();
                }
                else {
                    this.getitems('', 0);
                    loader.dismiss();
                }
            }
            else {
                this.comman.getfilter(check).then(function (data) {
                    console.log(data);
                    _this.category = Object.keys(data['ReturnObject']);
                    localStorage.setItem('spredata', JSON.stringify(data['ReturnObject']));
                    _this.whole = data['ReturnObject'];
                    _this.whole2 = data['ReturnObject'];
                    console.log(localStorage.getItem('sapply'));
                    if (localStorage.getItem('sapply') != null && localStorage.getItem('sapply') != 'reset') {
                        var test = Object.keys(JSON.parse(localStorage.getItem('sapply')));
                        var testo_4 = JSON.parse(localStorage.getItem('sapply'));
                        _this.temp = JSON.parse(localStorage.getItem('sapply'));
                        test.forEach(function (element, i) {
                            console.log(element);
                            if (_this.checking(_this.whole[element])) {
                                var tem_4 = _this.whole[element];
                                testo_4[element].forEach(function (e) {
                                    var index = tem_4.findIndex(function (data) { return data['name'] == e['name']; });
                                    console.log(index);
                                    if (index != -1) {
                                        _this.whole[element][index]['status'] = true;
                                        _this.temptwo.push(e);
                                    }
                                });
                            }
                            else {
                                _this.whole[element] = testo_4[element];
                            }
                            console.log('final', i);
                        });
                        console.log('close');
                        _this.getitems1('', 0);
                        loader.dismiss();
                    }
                    else {
                        _this.getitems('', 0);
                        loader.dismiss();
                    }
                });
            }
        }
        // });
    }
    AvrsearchPage.prototype.ionViewDidLoad = function () {
    };
    AvrsearchPage.prototype.isLevel1Shown = function (idx) {
        return this.showLevel1 === idx;
    };
    ;
    AvrsearchPage.prototype.isLevel2Shown = function (idx) {
        return this.showLevel2 === idx;
    };
    ;
    AvrsearchPage.prototype.open = function (e) {
        console.log(e);
        this.viewctrl.dismiss(e);
        // this.navCtrl.push(ProductsPage,{'data':e})
    };
    AvrsearchPage.prototype.child = function (e) {
        console.log(e);
        this.viewctrl.dismiss(e);
        // this.navCtrl.push(ProductsPage,{'data':e})
    };
    AvrsearchPage.prototype.close = function () {
        this.viewctrl.dismiss();
    };
    AvrsearchPage.prototype.manu = function (index) {
        if (this.checkm != index + 'idx') {
            this.checkm = index + 'idx';
        }
        else {
            this.checkm = null;
        }
        console.log(this.checkm);
    };
    AvrsearchPage.prototype.gett = function (f, e) {
        console.log(this.temptwo);
        console.log(f);
        console.log(this.temp);
        console.log(e);
        console.log(JSON.parse(localStorage.getItem('predata')));
        if (e['status'] == true) {
            console.log(e);
            this.temptwo.push(e);
            console.log(this.temptwo);
            if (!this.temp.hasOwnProperty(f)) {
                this.temp[f] = this.temptwo;
                this.cd.detectChanges();
                console.log(this.temp);
            }
            else {
                this.temp[f].push(e);
                // this.temp[f].pop(e);
                var newArray = [];
                var uniqueObject = {};
                for (var i in this.temp[f]) {
                    var objTitle = this.temp[f][i]['name'];
                    uniqueObject[objTitle] = this.temp[f][i];
                }
                for (var i in uniqueObject) {
                    newArray.push(uniqueObject[i]);
                }
                console.log(newArray);
                this.temp[f] = newArray;
                this.cd.detectChanges();
                console.log(this.temp);
            }
        }
        else {
            var index = this.temp[f].findIndex(function (data) { return e['name'] == data['name']; });
            console.log(index);
            if (index != -1) {
                this.temp[f].splice(index, 1);
                console.log(this.temp);
            }
            if (this.temp[f].length == 0) {
                delete this.temp[f];
                console.log(this.temp);
            }
            this.cd.detectChanges();
            console.log(this.temp);
        }
    };
    AvrsearchPage.prototype.fixprice = function (data) {
        return parseFloat(data).toFixed(2);
    };
    AvrsearchPage.prototype.getitems = function (i, idx) {
        var _this = this;
        console.log(i);
        console.log(idx);
        console.log(JSON.parse(localStorage.getItem('predata')));
        console.log(this.whole[this.category[idx]]);
        if (i == 'Branch') {
            this.whole[this.category[idx]].forEach(function (e) {
                if (e['id_branch'] == _this.empData['id_branch']) {
                    var branch = e;
                    e.status = true;
                    console.log(branch);
                    _this.gett(i, e);
                }
            });
        }
        this.temptwo = [];
        this.ind = idx;
        this.all = this.whole[this.category[idx]];
        this.all2 = this.whole[this.category[idx]];
        this.featurename = this.category[this.ind];
        console.log(this.all);
        console.log(this.featurename);
        console.log(this.category[this.ind]);
        // this.cd.detectChanges();
        // this.items = this.all.filter(item=>item['id']==i['id']);
    };
    AvrsearchPage.prototype.getitems1 = function (i, idx) {
        this.ind = idx;
        this.all = this.whole[this.category[idx]];
        this.all2 = this.whole[this.category[idx]];
        this.featurename = this.category[this.ind];
        console.log(this.all);
        console.log(this.featurename);
        console.log(this.category[this.ind]);
        // this.cd.detectChanges();
    };
    AvrsearchPage.prototype.resetvalue = function () {
        this.temptwo = [];
        this.temp = {};
        this.category = Object.keys(this.whole2);
        var check = this.navParams.get('supplier') == true ? true : false;
        if (check != true) {
            this.whole = JSON.parse(localStorage.getItem('predata'));
        }
        else if (check == true) {
            this.whole = JSON.parse(localStorage.getItem('spredata'));
        }
        // this.pro['FromWt'] = 0;
        // this.pro['ToWt'] = 0;
        // this.pro['FromPrice'] = 0;
        // this.pro['ToPrice'] = 0;
        localStorage.setItem('apply', 'reset');
        this.getitems('', 0);
    };
    AvrsearchPage.prototype.apply = function () {
        // console.log(this.pro['FromWt'])
        // if(this.pro['FromWt'] != 0){
        var _this = this;
        //   this.temp['From Weight'] = this.pro['FromWt'];
        // }
        // if(this.pro['ToWt'] != 0){
        //   this.temp['To Weight'] =  this.pro['ToWt'];
        // }
        // if(this.pro['FromPrice'] != 0){
        //   this.temp['From Price'] =  this.pro['FromPrice'];
        // }
        // if(this.pro['ToPrice'] != 0){
        //   this.temp['To Price'] =  this.pro['ToPrice'];
        // }
        this.category.forEach(function (element, i) {
            if (!_this.checking(_this.whole[element])) {
                _this.temp[element] = _this.whole[element];
            }
        });
        var check = this.navParams.get('supplier') == true ? true : false;
        console.log(this.temp);
        if (check) {
            localStorage.setItem('sapply', JSON.stringify(this.temp));
            this.viewctrl.dismiss(this.temp);
            this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__supsubdesign_supsubdesign__["a" /* SupsubdesignPage */], { 'filter': this.temp, 'collect': 'tt' });
        }
        else {
            localStorage.setItem('apply', JSON.stringify(this.temp));
            this.viewctrl.dismiss(this.temp);
            this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_3__subdesign_subdesign__["a" /* SubdesignPage */], { 'filter': this.temp, 'collect': 'tt' });
        }
    };
    AvrsearchPage.prototype.search = function () {
        var _this = this;
        this.all = this.all2.filter(function (item) { return item['name'].toUpperCase().includes(_this.input.toUpperCase()); });
    };
    AvrsearchPage.prototype.checking = function (value) {
        console.log(value);
        if (value instanceof Array) {
            console.log(true);
            return true;
        }
        else {
            console.log(false);
            return false;
        }
    };
    AvrsearchPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    AvrsearchPage.prototype.ionViewWillEnter = function () {
        this.events.publish('entered', true);
        this.events.publish('pageno', 5);
    };
    AvrsearchPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-avrsearch',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\avrsearch\avrsearch.html"*/'<ion-header>\n  <ion-navbar>\n      <ion-title>Filter</ion-title>\n  <ion-buttons end>\n    <button  ion-button (click)="close()">\n      <ion-icon name="close"></ion-icon>\n    </button>\n  </ion-buttons>\n  \n  </ion-navbar>\n</ion-header>\n<ion-content no-padding>\n\n<ion-grid has-header has-footer>\n<ion-row>\n  <ion-col style="max-width: 37% !important;">\n    <ion-scroll scrollX="true" scrollY="true" style="bottom: 1%;top:1%;height:100% !important;">\n  <ion-list *ngFor="let item of category ; let idx = index">\n    <ion-item    [ngClass]="ind == idx ? \'one\':\'two\'" (tap)="getitems(item,idx)" >\n      <ion-label> {{item}}</ion-label>\n          </ion-item>\n  </ion-list>\n   </ion-scroll> \n  </ion-col>\n\n<ion-col style="max-width: 63% !important;">\n  <ion-searchbar *ngIf="checking(whole[featurename])" [(ngModel)]="input" placeholder="Search"\n  (ionChange)="search()"         \n  ></ion-searchbar> \n  <ion-scroll scrollX="true" scrollY="true" [ngStyle]="{\'height.px\': styleExp}"> \n  <ion-list *ngIf="checking(whole[featurename])">\n     <ion-item *ngFor="let item of all ; let idx = index" >\n     <ion-label >{{item.name}}<span *ngIf="item[\'count\'] > -1">({{item[\'count\']}})</span></ion-label>\n     <ion-checkbox  [(ngModel)]="item[\'status\']" (ngModelChange)="gett(featurename,item)" ></ion-checkbox>       \n</ion-item>\n  </ion-list>\n  <div *ngIf=" !checking(whole[featurename])">\n    <ion-item style="margin-bottom: 10px;" >\n        <ion-label  color="label-color" stacked>{{featurename}}\n        </ion-label>\n      <ion-input  type="number" [(ngModel)]="whole[featurename]" ></ion-input> \n\n        </ion-item>\n\n </div>\n \n \n</ion-scroll> \n  </ion-col>\n\n\n </ion-row>\n</ion-grid>\n\n</ion-content>\n\n<ion-footer style="bottom: 83px !important;">\n<ion-toolbar color="primary">\n  <ion-buttons>\n    <button ion-button (click)="resetvalue()"> Reset\n    </button>\n  </ion-buttons>\n<ion-buttons  end>\n     <button ion-button (click)="apply()"> Apply\n    </button>\n  </ion-buttons>\n</ion-toolbar>\n</ion-footer>\n\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\avrsearch\avrsearch.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_0__angular_core__["j" /* ChangeDetectorRef */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["B" /* ViewController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */]])
    ], AvrsearchPage);
    return AvrsearchPage;
}());

//# sourceMappingURL=avrsearch.js.map

/***/ }),

/***/ 34:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WishlistPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__prodetail_prodetail__ = __webpack_require__(70);
// import { Component, ViewChild } from '@angular/core';
// import { IonicPage, NavController, NavParams, LoadingController, ModalController, Events } from 'ionic-angular';
// import { CommonProvider } from '../../providers/common';
// import { RetailProvider } from '../../providers/retail';
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
// @Component({
//   selector: 'page-wishlist',
//template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\wishlist\wishlist.html"*/' <ion-header>\n    <ion-navbar>\n        <!-- <button ion-button menuToggle><ion-icon name="menu"></ion-icon></button> -->\n        <ion-title>Wishlist</ion-title>\n    </ion-navbar>\n</ion-header>\n<!--\n<ion-content padding-vertical>\n    <items-list [page] ="\'Wishlist\'"></items-list>\n</ion-content>\n<ion-footer *ngIf="!hideAddToCart" >\n    <button ion-button [disabled] = "!proceedCart" icon-start full class="theme-btn" (click)="proceedToCart()">Add to Cart</button>\n</ion-footer>\n -->\n <ion-content no-padding>\n\n\n <ion-searchbar  [(ngModel)]="name" placeholder="Search Customer" readonly (ionChange)="search()"></ion-searchbar>\n\n\n <ion-row  style="    border: 1px solid lightgray;    margin-left: 3px;\n margin-right: 3px;\n margin-top: 10px;\n margin-bottom: 2px;">\n  <ion-col col-3 style="font-weight: bold;text-align: center;    border-right: 1px solid lightgray;" >Image</ion-col>\n\n   <ion-col col-6 style="font-weight: bold;text-align: center;    border-right: 1px solid lightgray;" >Name</ion-col>\n\n   <ion-col col-3 style="font-weight: bold;text-align: center;    border-right: 1px solid lightgray;" >Delete</ion-col>\n\n </ion-row>\n<ion-row style="border: 1px solid lightgray; margin-left: 3px;margin-right: 3px;" *ngFor="let w of wish;let i =index;">\n  <ion-col  (click)="openDesign(w,i)" col-3 style="text-align: center;margin: auto;">\n    <img *ngIf="w[\'img_arr\'].length > 0" style="height: 50px;width: 50px;margin: 0 auto;object-fit: cover;"   src="{{w[\'img_arr\'][0]}}" imageViewer="{{w[\'img_arr\'][0]}}"  onerror="this.src=\'assets/no-img.png\'" imageCache/>\n    <img *ngIf="w[\'img_arr\'].length == 0" style="height: 50px;width: 50px;margin: 0 auto;object-fit: cover;"   src="assets/no-img.png" imageViewer="assets/no-img.png"  onerror="this.src=\'assets/no-img.png\'" imageCache/>\n\n</ion-col>\n  <ion-col  (click)="openDesign(w,i)" col-6 style="text-align: center;margin: auto;">\n    {{w[\'sub_design_name\']}}\n    <br>\n    <span style="color: red !important;">({{w[\'firstname\']}}-{{w[\'mobile\']}})</span>\n  </ion-col>\n\n  <ion-col (click)="remove(w)" col-3 style="text-align: center;margin: auto;">\n    <ion-icon style="color: red !important;" name="trash"></ion-icon>\n  </ion-col>\n</ion-row>\n<ion-row *ngIf="wish.length == 0" style="    margin-top: 10px;">\n  <ion-col style="text-align: center;color: maroon;">\n    No Products Found\n  </ion-col>\n</ion-row>\n</ion-content>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\wishlist\wishlist.html"*/,
//   providers: [RetailProvider,CommonProvider]
// })
// export class WishlistPage {
//   empData = JSON.parse(localStorage.getItem('empDetail'));
//   cusData = JSON.parse( localStorage.getItem( 'currentCustomer' ) );
//   hideAddToCart = false;
//   proceedCart = false;
//   selectedItems = [];
//   constructor(public modal: ModalController, public events: Events, public navCtrl: NavController, public navParams: NavParams, public load: LoadingController, public retail: RetailProvider, private common : CommonProvider) {
//     events.subscribe('wishListItems:selected', (items) => {
// 			if (items) {
//         this.selectedItems = items;
//         this.proceedCart = (this.selectedItems.length > 0) ? true : false;
// 			}
// 		});
//   }
//   ionViewDidLoad() {
//   }
//   proceedToCart(){
//     let currentCustomer = localStorage.getItem( 'currentCustomer' );
//     if ( currentCustomer != null ) {
//       let loader = this.load.create({
//         content: 'Please Wait',
//         spinner: 'bubbles',
//       });
//       loader.present();
//       let postData = {"id_branch" : this.empData['id_branch'], "id_employee" : this.empData['id_employee'], "id_customer" : this.cusData['id_customer'], "status" : 1, "items" : this.selectedItems};
//       this.retail.addToCart(postData).then(result => {
//           if(result.status){
//             this.common.presentToast( result.msg,'6000' );
//             this.events.publish('AddToCart:completed', true);
//           }else{
//             this.common.presentToast( result.msg,'' );
//           }
//           loader.dismiss();
//       }, error => {
//           loader.dismiss();
//       });
//     }
//     else{
//       alert("Invalid Customer Data");
//     }
//   }
//   ionViewWillLeave(){
//     this.events.publish( 'entered', false );
//     }
//   ionViewWillEnter(){
//   this.events.publish( 'entered', true );
//   this.events.publish( 'pageno', 1 );
//   }
// }




/**
 * Generated class for the WishlistPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
// @IonicPage()
var WishlistPage = /** @class */ (function () {
    function WishlistPage(modal, events, comman, load, toast, navCtrl, navParams) {
        var _this = this;
        this.modal = modal;
        this.events = events;
        this.comman = comman;
        this.load = load;
        this.toast = toast;
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.data = [];
        this.name = '';
        this.wish = [];
        this.searchwish = [];
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'dots',
        });
        loader.present();
        this.comman.getwish().then(function (data) {
            console.log(data);
            _this.wish = data;
            _this.searchwish = data;
            loader.dismiss();
        }, function (err) {
            loader.dismiss();
        });
    }
    WishlistPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad WishlistPage');
    };
    WishlistPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    WishlistPage.prototype.ionViewWillEnter = function () {
        this.events.publish('entered', true);
        this.events.publish('pageno', 1);
    };
    WishlistPage.prototype.remove = function (i) {
        var _this = this;
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'dots',
        });
        loader.present();
        this.comman.delwish(i['id_wishlist']).then(function (data) {
            var toast = _this.toast.create({
                message: data['msg'],
                position: 'bottom',
                duration: 3000
            });
            toast.present();
            _this.comman.getwish().then(function (data) {
                console.log(data);
                _this.wish = data;
                loader.dismiss();
            });
        });
    };
    WishlistPage.prototype.openDesign = function (data, i) {
        console.log(data, i);
        var product_id = JSON.parse(localStorage.getItem('see'))[i];
        product_id['net_wt'] = data['NetWt'];
        product_id['gross_wt'] = data['GrossWt'];
        product_id['metal_type'] = data['rate_field'];
        product_id['market_metal_type'] = data['market_rate_field'];
        product_id['tax_group_id'] = data['tgrp_id'];
        product_id['id_tag_detail'] = data['tag_id'];
        // if(this.from != undefined){
        // this.navCtrl.push( ProdetailPage, { proid: design_no } );
        if (product_id.hasOwnProperty('TagStone')) {
            product_id['TagStoneDetails'] = data['TagStone'];
        }
        // localStorage.setItem('see',JSON.stringify(this.designs))
        console.log(JSON.parse(localStorage.getItem('see')));
        // product_id['arr'] = JSON.parse(localStorage.getItem('see'));
        // this.comman.setdata(this.designs);
        // product_id['arr'] = this.designs;
        // product_id['arr'].unshift(product_id);
        // product_id['purities'] = [{'purity':'90.00','id_purity':1},{'purity':'80.00','id_purity':2}];
        // product_id['weights'] = [{'weight_description':'70g' ,'id_weight':1}];
        // product_id['sizes'] = [{'value':'70','name':'inch' ,'id_size':1}];
        // product_id['weight'] = '';
        // product_id['pcs'] = '';
        // product_id['due_date'] = '';
        // product_id['id_weight'] = '';
        // product_id['id_purity'] = '';
        // product_id['min_weight'] = '';
        // product_id['max_weight'] = '';
        // product_id['id_size'] = '';
        // product_id['sample_details'] = '';
        this.events.publish('inf', product_id);
        console.log(product_id);
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_3__prodetail_prodetail__["a" /* ProdetailPage */], { proid: product_id, single: [] });
        // }else{
        //   this.navCtrl.push(DesignDetailPage,{ 'id_category': this.id_ret_category,'id_product': this.id_product,'design_no':this.design,'id_sub_design':design_no.id_sub_design,'type':'edit'})
        // }
    };
    WishlistPage.prototype.search = function () {
        // let modal = this.modal.create(CusSearchPage,{'show':'true'})
        // modal.present();
        // modal.onDidDismiss(mData => {
        //   console.log(mData)
        //   if(mData != null){
        //     this.wish = this.searchwish.filter(data=>data['customer_id'] == mData['id_customer']);
        //     this.name = mData['firstname'];
        var _this = this;
        //   }else{
        //   }
        // });
        this.wish = this.searchwish.filter(function (item) { return item['cus_name'].toUpperCase().includes(_this.name.toUpperCase()); });
    };
    WishlistPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-wishlist',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\wishlist\wishlist.html"*/' <ion-header>\n    <ion-navbar>\n        <!-- <button ion-button menuToggle><ion-icon name="menu"></ion-icon></button> -->\n        <ion-title>Wishlist</ion-title>\n    </ion-navbar>\n</ion-header>\n<!--\n<ion-content padding-vertical>\n    <items-list [page] ="\'Wishlist\'"></items-list>\n</ion-content>\n<ion-footer *ngIf="!hideAddToCart" >\n    <button ion-button [disabled] = "!proceedCart" icon-start full class="theme-btn" (click)="proceedToCart()">Add to Cart</button>\n</ion-footer>\n -->\n <ion-content no-padding>\n\n\n <ion-searchbar  [(ngModel)]="name" placeholder="Search Customer" readonly (ionChange)="search()"></ion-searchbar>\n\n\n <ion-row  style="    border: 1px solid lightgray;    margin-left: 3px;\n margin-right: 3px;\n margin-top: 10px;\n margin-bottom: 2px;">\n  <ion-col col-3 style="font-weight: bold;text-align: center;    border-right: 1px solid lightgray;" >Image</ion-col>\n\n   <ion-col col-6 style="font-weight: bold;text-align: center;    border-right: 1px solid lightgray;" >Name</ion-col>\n\n   <ion-col col-3 style="font-weight: bold;text-align: center;    border-right: 1px solid lightgray;" >Delete</ion-col>\n\n </ion-row>\n<ion-row style="border: 1px solid lightgray; margin-left: 3px;margin-right: 3px;" *ngFor="let w of wish;let i =index;">\n  <ion-col  (click)="openDesign(w,i)" col-3 style="text-align: center;margin: auto;">\n    <img *ngIf="w[\'img_arr\'].length > 0" style="height: 50px;width: 50px;margin: 0 auto;object-fit: cover;"   src="{{w[\'img_arr\'][0]}}" imageViewer="{{w[\'img_arr\'][0]}}"  onerror="this.src=\'assets/no-img.png\'" imageCache/>\n    <img *ngIf="w[\'img_arr\'].length == 0" style="height: 50px;width: 50px;margin: 0 auto;object-fit: cover;"   src="assets/no-img.png" imageViewer="assets/no-img.png"  onerror="this.src=\'assets/no-img.png\'" imageCache/>\n\n</ion-col>\n  <ion-col  (click)="openDesign(w,i)" col-6 style="text-align: center;margin: auto;">\n    {{w[\'sub_design_name\']}}\n    <br>\n    <span style="color: red !important;">({{w[\'firstname\']}}-{{w[\'mobile\']}})</span>\n  </ion-col>\n\n  <ion-col (click)="remove(w)" col-3 style="text-align: center;margin: auto;">\n    <ion-icon style="color: red !important;" name="trash"></ion-icon>\n  </ion-col>\n</ion-row>\n<ion-row *ngIf="wish.length == 0" style="    margin-top: 10px;">\n  <ion-col style="text-align: center;color: maroon;">\n    No Products Found\n  </ion-col>\n</ion-row>\n</ion-content>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\wishlist\wishlist.html"*/,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */]])
    ], WishlistPage);
    return WishlistPage;
}());

//# sourceMappingURL=wishlist.js.map

/***/ }),

/***/ 403:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OtpPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__login_login__ = __webpack_require__(63);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__home_home__ = __webpack_require__(31);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





/**
 * Generated class for the OtpPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
// @IonicPage()
var OtpPage = /** @class */ (function () {
    function OtpPage(event, nav, toast, load, common, navCtrl, navParams) {
        this.event = event;
        this.nav = nav;
        this.toast = toast;
        this.load = load;
        this.common = common;
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.temp = { "sys_otp": '', "sys_otp_exp": "", "input_otp": "" };
        this.msg = '';
        this.page = this.navParams.get('page');
        this.postdata = '';
        this.userdet = this.navParams.get('userdet');
        this.otpDetails = this.navParams.get('otpDetail');
        console.log("OTP Page : " + this.page);
        console.log(this.userdet);
        console.log(this.otpDetails);
    }
    OtpPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad OtpPage');
    };
    OtpPage.prototype.sign = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_2__login_login__["a" /* LoginPage */]);
    };
    OtpPage.prototype.submit = function () {
        var _this = this;
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        if (this.navParams.get('page') == 'loginOTP') {
            this.postdata = {
                'username': this.userdet['username'],
                'password': this.userdet['password'],
                'sys_otp_exp': this.otpDetails['otp']['sys_otp_exp'],
                'input_otp': this.temp['input_otp'],
                'sys_otp': this.otpDetails['otp']['otp_code'],
                'id_branch': this.userdet['id_branch']
            };
            this.common.verifyLoginOTP(this.postdata).then(function (data) {
                var ctrl = _this.toast.create({
                    message: data['msg'],
                    duration: _this.common.toastTimeout,
                    position: 'bottom'
                });
                ctrl.present();
                if (data.result) {
                    if (data.type == "logged") {
                        localStorage.setItem('userdet', JSON.stringify(_this.userdet)); // Login details
                        localStorage.setItem('empDetail', JSON.stringify(data.empdata)); // Employee Details
                        localStorage.setItem('logstatus', JSON.stringify(true));
                        _this.event.publish('user:changed', true, data.empdata);
                        loader.dismiss();
                        _this.nav.setRoot(__WEBPACK_IMPORTED_MODULE_4__home_home__["a" /* HomePage */]);
                    }
                }
                else {
                    _this.msg = data['msg'];
                    loader.dismiss();
                }
            });
        }
        else {
            this.msg = "Invalid Page";
            loader.dismiss();
        }
    };
    OtpPage.prototype.resend = function () {
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        /*if (this.navParams.get('page') == 'old') {
           this.common.generateotp(this.navParams.get('data'), '').then(data => {
    
            this.temp['sysotp'] = data['otp']
            this.temp['last_otp_expiry'] = data['expiry']
            loader.dismiss();
          })
        }*/
    };
    OtpPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-otp',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\otp\otp.html"*/'<!--\n  Generated template for the OtpPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n-->\n<!-- <ion-header>\n\n  <ion-navbar>\n    <ion-title>otp</ion-title>\n  </ion-navbar>\n\n</ion-header> -->\n\n\n<ion-content padding text-center class="loginbg">\n    <img style="width: 100px !important;height:100px ;margin-top: 20% !important;" src=\'assets/img/IntroducingLogo.png\' />\n    <ion-grid>\n        <ion-row> \n            <ion-col col-sm-12 col-md-6 offset-md-3 col-lg-6 offset-lg-3 col-xl-6 offset-xl-3>\n                <ion-card class="errorMsg" padding *ngIf="msg">\n                    {{msg}}\n                </ion-card>\n                <div margin>\n                    <ion-item >\n                        <ion-label color="label-color" stacked>OTP <span class="required"> *</span></ion-label>\n                        <ion-input type="number" [(ngModel)]="temp[\'input_otp\']" placeholder="Enter 6 digit OTP" minlength="6" maxlength="6"></ion-input>\n                    </ion-item>  \n                </div>\n            </ion-col>\n        </ion-row>\n    </ion-grid>\n\n    <ion-row margin>\n        <ion-col >\n            <button (click)="submit()" ion-button icon-start full class="theme-btn" type="submit">\n            Submit</button>\n        </ion-col>\n    </ion-row>\n\n    <!--     <ion-row style="border: none !important;">\n        <ion-col style="text-align: -webkit-center !important;">\n            <button (click)="resend()" ion-button class="joinbtn" block color="dark">\n          Resend OTP</button>\n        </ion-col>\n    </ion-row> -->\n\n\n    <!--     <button (click)="submit()" style="background: #ffab08;" ion-button class="button-login" block color="dark" type="submit">\n    Submit</button>\n    <br>\n    <button (click)="resend()" style="background: #ffab08;" ion-button class="button-login" block color="dark" type="submit">\n    Resend OTP</button>\n    <br> -->\n\n    <p *ngIf="page!=\'fixedrate\' || page!=\'existing\'" (click)="sign()" style="text-align: center;font-weight: normal;color: #2e2e2e;">Click here to Sign In</p>\n\n</ion-content>'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\otp\otp.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */]])
    ], OtpPage);
    return OtpPage;
}());

//# sourceMappingURL=otp.js.map

/***/ }),

/***/ 404:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DetailsPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_retail__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_common__ = __webpack_require__(5);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




/**
 * Generated class for the DetailsPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
// @IonicPage()
var DetailsPage = /** @class */ (function () {
    function DetailsPage(load, retail, navCtrl, navParams) {
        var _this = this;
        this.load = load;
        this.retail = retail;
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.details = '';
        this.id = this.navParams.get('id');
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        this.retail.getdetails({ 'id_customer': this.id }).then(function (data) {
            _this.details = data;
            console.log(data);
            loader.dismiss();
        }, function (err) {
            loader.dismiss();
        });
    }
    DetailsPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad DetailsPage');
    };
    DetailsPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-details',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\details\details.html"*/'<!--\n  Generated template for the DetailsPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n-->\n<ion-header>\n\n  <ion-navbar>\n    <ion-title>Customer Details</ion-title>\n  </ion-navbar>\n\n</ion-header>\n\n\n<ion-content no-padding>\n\n  <ion-row style="    border: 1px solid lightgray;\n  margin: 5px;" *ngIf="details != \'\'" no-padding>\n   \n    <ion-col col-5 no-padding>\n      <button ion-button clear small>Customer Name </button>\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col no-padding style="margin:auto;font-weight: bold;" col-6>\n      {{details[\'cus_details\'][0][\'firstname\']}}\n    </ion-col>\n    <ion-col *ngIf="details[\'last_review\'] != null && details[\'last_review\'][\'review\'] != \'\'" col-5 no-padding>\n      <!-- <button ion-button clear small>Customer Name </button> -->\n    </ion-col>\n    <ion-col *ngIf="details[\'last_review\'] != null && details[\'last_review\'][\'review\'] != \'\'" no-padding style="margin:auto" col-1>\n        <!-- : -->\n    </ion-col>\n    <ion-col *ngIf="details[\'last_review\'] != null && details[\'last_review\'][\'review\'] != \'\'" no-padding style="margin:auto;font-weight: bold;" col-6>\n      <span style="background: orange;color: white;padding: 5px;border-radius: 5px;">\n      <span style="text-transform:uppercase" >{{details[\'last_review\'][\'review\']}}</span>\n      </span>\n    </ion-col>\n	<ion-col *ngIf="details[\'cus_details\'][0][\'is_vip\'] == \'1\' " col-5 no-padding>\n      <button ion-button clear small>Customer Type </button>\n    </ion-col>\n    <ion-col *ngIf="details[\'cus_details\'][0][\'is_vip\'] == \'1\' " no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col *ngIf="details[\'cus_details\'][0][\'is_vip\'] == \'1\' " no-padding style="margin:auto;font-weight: bold;" col-6>\n       <span style="background: orange;color: white;padding: 5px;border-radius: 5px;">\n    <ion-icon style="color: white;" name="star"></ion-icon><span *ngIf="details[\'cus_details\'][0][\'is_vip\'] == \'1\' ">VIP</span> \n\n  </span>\n    </ion-col>\n    <ion-col style="margin:auto"  col-5 no-padding>\n      <button ion-button clear small>Rating </button>\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col  no-padding style="margin:auto  ;  overflow: scroll;\n    white-space: nowrap;border-radius: 5px;" col-6>\n      \n \n  <p style="background: orange;color: white;padding: 1px;border-radius: 5px;width: fit-content;padding-right: 2px !important;">\n    <ion-icon style="color: white;" name="star"></ion-icon><span *ngIf="details.cus_review_avg != 0">{{details.cus_review_avg}}</span> \n\n  </p>\n    </ion-col>\n    <ion-col col-5 no-padding>\n      <button ion-button clear small>Total Accounts </button>\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-6>\n      <ion-badge style="background: green;color: white;">      {{details[\'cus_details\'][0][\'tot_account\']}}\n      </ion-badge>\n\n        \n    </ion-col>\n  \n    \n    <ion-col no-padding col-5>\n      <button ion-button clear small>Active Accounts </button>\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-6>\n      <ion-badge style="background: green;color: white;">      {{details[\'cus_details\'][0][\'active_acc\']}}\n      </ion-badge>\n    </ion-col>\n    <ion-col no-padding col-5>\n      <button ion-button clear small>Closed Accounts  </button>\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-6>\n      <ion-badge style="background: green;color: white;">      {{details[\'cus_details\'][0][\'closed_count\']}}\n      </ion-badge>\n    </ion-col>\n    <ion-col no-padding col-5>\n      <button ion-button clear small>Inactive Accounts </button>\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-6>\n      <ion-badge style="background: green;color: white;">      {{details[\'cus_details\'][0][\'inactive_acount\']}}\n      </ion-badge>\n    </ion-col>\n    <ion-col no-padding col-5>\n      <button ion-button clear small>Gold (Gms)  </button>\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col no-padding style="margin:auto;font-weight: bold;" col-6>\n      {{details[\'cus_details\'][0][\'gold_wt\']}} g\n  \n    </ion-col>\n    <ion-col no-padding col-5>\n      <button ion-button clear small>Silver (Gms)  </button>\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col no-padding style="margin:auto;font-weight: bold;" col-6>\n      {{details[\'cus_details\'][0][\'silver_wt\']}} g\n    </ion-col>\n    <ion-col no-padding col-5>\n      <button ion-button clear small>MRP (Rs)  </button>\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col no-padding style="margin:auto;font-weight: bold;" col-6>\n      {{details[\'cus_details\'][0][\'tot_amount\']}} \n    </ion-col>\n    </ion-row>\n  \n    <ion-card *ngFor="let d of details[\'bill_details\']">\n    <ion-row   style="\n      \n      font-weight: bold;text-align:center;\n  " >\n        <ion-col col-6 style="margin-top:13px;text-align: left;padding-left: 10px;">\n          Bill Date : <span style="font-weight: bold;">{{d[\'bill_date\']}} </span>\n        </ion-col>\n        <ion-col col-6 style="margin-top:12px;text-align: left;padding-left: 10px;">\n          Bill No : <span style="font-weight: bold;">{{d[\'bill_no\']}}</span>\n        </ion-col>\n        <ion-col col-6 style="margin-top:12px;text-align: left;padding-left: 10px;">\n          Branch : <span style="font-weight: bold;">{{d[\'branch_name\']}} </span>  \n        </ion-col>\n        <ion-col col-6 style="margin-top:13px;text-align: left;padding-left: 10px;">\n          Gold Wt : <span style="font-weight: bold;">{{d[\'gold_wt\']}} g</span>\n        </ion-col>\n        <ion-col col-6 style="margin-top:12px;text-align: left;padding-left: 10px;">\n          Silver Wt : <span style="font-weight: bold;">{{d[\'silver_wt\']}} g</span>\n        </ion-col>\n        <ion-col col-6 style="margin-top:12px;text-align: left;padding-left: 10px;">\n          MRP Amt : <span style="font-weight: bold;">{{d[\'mrp_amount\']}}</span>\n        </ion-col>\n        <ion-col col-6 style="margin-top:12px;text-align: left;padding-left: 10px;">\n          Bill Amt : <span style="font-weight: bold;">{{d[\'tot_bill_amount\']}}</span> \n        </ion-col>\n      </ion-row>\n    </ion-card>\n    <!-- <ion-scroll  scrollX="true" scrollY="true" style="border: 1px solid;height:200px;margin-right: 20px;margin-top: 10px;margin-left:10px;" >\n      <ion-row   style="\n      \n      font-weight: bold;text-align:center;\n  " nowrap>\n        <ion-col col-4 style="margin-top:13px;font-weight:bold;">\n          Bill Date\n        </ion-col>\n        <ion-col col-4 style="margin-top:12px;font-weight:bold;">\n          Bill No\n        </ion-col>\n        <ion-col col-6 style="margin-top:12px;font-weight:bold;">\n          Branch\n        </ion-col>\n        <ion-col col-5 style="margin-top:13px;font-weight:bold;">\n          Gold Wt\n        </ion-col>\n        <ion-col col-5 style="margin-top:12px;font-weight:bold;">\n          Silver Wt\n        </ion-col>\n        <ion-col col-5 style="margin-top:12px;font-weight:bold;">\n          MRP Amt\n        </ion-col>\n        <ion-col col-5 style="margin-top:12px;font-weight:bold;">\n          Bill Amt\n        </ion-col>\n      </ion-row>\n\n      <ion-row *ngFor="let d of details[\'bill_details\']"  style="\n      \n      font-weight: bold;text-align:center;\n  " nowrap>\n        <ion-col col-4 style="margin-top:13px;">\n          {{d[\'bill_date\']}} \n        </ion-col>\n        <ion-col col-4 style="margin-top:12px;">\n          {{d[\'bill_no\']}}\n        </ion-col>\n        <ion-col col-6 style="margin-top:12px;">\n          {{d[\'branch_name\']}}   \n        </ion-col>\n        <ion-col col-5 style="margin-top:13px;">\n          {{d[\'gold_wt\']}} g\n        </ion-col>\n        <ion-col col-5 style="margin-top:12px;">\n          {{d[\'silver_wt\']}} g\n        </ion-col>\n        <ion-col col-5 style="margin-top:12px;">\n          {{d[\'mrp_amount\']}} \n        </ion-col>\n        <ion-col col-5 style="margin-top:12px;">\n          {{d[\'tot_bill_amount\']}} \n        </ion-col>\n      </ion-row>\n\n    </ion-scroll> -->\n</ion-content>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\details\details.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_retail__["a" /* RetailProvider */], __WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_2__providers_retail__["a" /* RetailProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */]])
    ], DetailsPage);
    return DetailsPage;
}());

//# sourceMappingURL=details.js.map

/***/ }),

/***/ 405:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OrderStatusViewPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


/**
 * Generated class for the OrderStatusViewPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
//@IonicPage()
var OrderStatusViewPage = /** @class */ (function () {
    function OrderStatusViewPage(navCtrl, navParams, viewCtrl, cd) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.viewCtrl = viewCtrl;
        this.cd = cd;
        this.slidess = [];
        this.toggle = true;
        this.calc = 350;
        this.totalstonevalue = 0;
        this.totalgram = 0;
        this.totalct = 0;
        this.totaldiavalue = 0;
        this.receivedData = this.navParams.get('item');
        this.description = this.receivedData.description;
        this.description.innerHTML;
        if (this.receivedData.image_details == undefined) {
            this.receivedData.image_details = [];
            this.receivedData.image_details.push({
                'image': ''
            });
        }
        else {
            console.log("image details is available");
        }
        console.log(this.receivedData.image_details, '88888');
        this.slidess.push(this.receivedData);
        this.balance = this.receivedData.advance_amount - this.receivedData.advance_adj_amount;
        console.log(this.balance);
        console.log(this.slidess, '000000000000');
        this.slideimg = this.receivedData['default_image'];
        console.log(this.slideimg);
        console.log(this.receivedData, 'kkkkkkkkkkk');
        if (this.receivedData['stonedetail'].length > 0) {
            for (var index = 0; index < this.receivedData['stonedetail'].length; index++) {
                this.totalstonevalue += parseFloat(this.receivedData['stonedetail'][index].amount);
                if (this.receivedData['stonedetail'][index]['uom_id'] == 1) {
                    this.totalgram += parseFloat(this.receivedData['stonedetail'][index]['wt']);
                }
                else if (this.receivedData['stonedetail'][index]['uom_id'] == 6) {
                    this.totalct += parseFloat(this.receivedData['stonedetail'][index]['wt']);
                }
            }
        }
        if (this.receivedData['diadetail'].length > 0) {
            console.log('data : ', this.receivedData['diadetail']);
            for (var index = 0; index < this.receivedData['diadetail'].length; index++) {
                this.totaldiavalue += parseFloat(this.receivedData['diadetail'][index].amount);
                console.log('total : ', this.totaldiavalue);
                if (this.receivedData['diadetail'][index]['uom_id'] == 1) {
                    this.totalgram += parseFloat(this.receivedData['diadetail'][index]['wt']);
                }
                else if (this.receivedData['diadetail'][index]['uom_id'] == 6) {
                    this.totalct += parseFloat(this.receivedData['diadetail'][index]['wt']);
                }
            }
        }
    }
    OrderStatusViewPage.prototype.scrolling = function (event) {
        if (event.scrollTop == 0) {
            this.calc = 350;
        }
        else {
            this.calc = 350 - event.scrollTop;
            this.content.resize();
            this.cd.detectChanges();
        }
        // your content here for scrolling
    };
    OrderStatusViewPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad StatusViewPage');
    };
    OrderStatusViewPage.prototype.back = function () {
        this.viewCtrl.dismiss();
    };
    OrderStatusViewPage.prototype.fixprice = function (data) {
        var temp1 = parseFloat(data).toFixed(3);
        return temp1;
    };
    OrderStatusViewPage.prototype.price = function (data) {
        var temp1 = parseFloat(data).toFixed();
        return temp1;
    };
    OrderStatusViewPage.prototype.tog = function (i) {
        var _this = this;
        console.log(i);
        this.receivedData['stonedetail'].forEach(function (value, key) {
            if (key == i && _this.receivedData['stonedetail'][key]['toggle'] == false) {
                _this.receivedData['stonedetail'][key]['toggle'] = true;
            }
            else {
                _this.receivedData['stonedetail'][key]['toggle'] = false;
            }
        });
        console.log(this.receivedData['stonedetail']);
    };
    OrderStatusViewPage.prototype.diamond_tog = function (i) {
        var _this = this;
        console.log(i);
        this.receivedData['diadetail'].forEach(function (value, key) {
            if (key == i && _this.receivedData['diadetail'][key]['toggle'] == false) {
                _this.receivedData['diadetail'][key]['toggle'] = true;
            }
            else {
                _this.receivedData['diadetail'][key]['toggle'] = false;
            }
        });
        console.log(this.receivedData['diadetail']);
    };
    OrderStatusViewPage.prototype.slide = function () {
        console.log(this.slides.getActiveIndex());
        this.receivedData = this.slidess.length - 1 < this.slides.getActiveIndex() ? this.slidess[this.slides.getActiveIndex() - 1] : this.slidess[this.slides.getActiveIndex()];
        console.log(this.receivedData);
        this.slideimg = this.receivedData['TagImage'];
        // this.productdet['net_wt'] = this.productdet['NetWt'];
        //     this.productdet['gross_wt'] = this.productdet['GrossWt'];
        // this.productdet['metal_type'] = this.productdet['rate_field'];
        // this.productdet['market_metal_type'] = this.productdet['market_rate_field'];
        // this.productdet['tax_group_id'] = this.productdet['tgrp_id'];
        // // if(this.productdet['colorcode'] == ''){
        // //   this.productdet['colorcode'] = 'black';
        // // }
        // this.calculate('');
        this.cd.detectChanges();
    };
    OrderStatusViewPage.prototype.back1 = function () {
        if (this.slides.getActiveIndex() != 0) {
            this.slides.slidePrev();
        }
    };
    OrderStatusViewPage.prototype.next = function () {
        this.slides.slideNext();
    };
    OrderStatusViewPage.prototype.setimg = function (img, ind) {
        this.slideimg = img;
        console.log(this.slideimg);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_8" /* ViewChild */])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* Content */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* Content */])
    ], OrderStatusViewPage.prototype, "content", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_8" /* ViewChild */])('slides'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["y" /* Slides */])
    ], OrderStatusViewPage.prototype, "slides", void 0);
    OrderStatusViewPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-order-status-view',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\order-status-view\order-status-view.html"*/'<!--\n  Generated template for the StatusViewPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n-->\n<ion-header> <ion-navbar>\n    <ion-title>\n      <!-- <ion-icon (click)="back()" name="arrow-back" ></ion-icon> -->\n      <button ion-button menuToggle><ion-icon name="menu"></ion-icon></button>\n\n      Order Status\n\n\n    </ion-title> </ion-navbar>\n\n  <ion-row>\n\n    <ion-col align="center" style="background: white !important;">\n      <ion-slides style="margin-top: 22px;" (ionSlideWillChange)="slide()" *ngIf="slidess && slidess.length" #slides\n        [ngClass]="animateClass" zoom=\'true\' speed=\'500\' initialSlide=\'0\'>\n        <ion-slide (click)="openurl(slide)" *ngFor="let slide of slidess;let in = index">\n          <img *ngIf="slideimg != null" [src]="slideimg" class="slide-image" imageViewer=\'{{slideimg}}\'\n            [ngStyle]="{height: calc+\'px\',\'min-height.px\' : 100}" onerror="this.src=\'assets/no-img.png\'" />\n          <img *ngIf="slideimg == null" src=\'assets/no-img.png\' class="slide-image" imageViewer=\'assets/no-img.png\'\n            [ngStyle]="{height: calc+\'px\',\'min-height.px\' : 100}" onerror="this.src=\'assets/no-img.png\'" />\n        </ion-slide>\n      </ion-slides>\n    </ion-col>\n  </ion-row>\n\n</ion-header>\n\n<ion-content style="height: 88vh;" (ionScroll)="scrolling($event)" padding>\n  <div style="margin-bottom: 200px !important;">\n\n    <hr *ngIf="receivedData[\'image_details\'].length > 0">\n    <ion-scroll scrollX="true" style="height:70px" *ngIf="receivedData[\'image_details\'].length > 0"> <ion-row nowrap style="padding: 0px !important;">\n        <ion-col *ngFor="let img of receivedData[\'image_details\'];let in = index" col-2 style="padding: 5px;"\n          align="center">\n          <ion-card (click)="setimg(img[\'image\'],in)" style="margin: 0px 0px 0px 0px;box-shadow: none;width: 100%;">\n            <img style="margin: auto;object-fit: cover !important;" src=\'{{img.image}}\'\n              onerror="this.src=\'assets/no-img.png\'" width="60px" height="60px" imageCache />\n\n          </ion-card>\n\n        </ion-col> </ion-row> </ion-scroll>\n    <hr *ngIf="receivedData[\'image_details\'].length > 0">\n\n\n    <!--   <ion-card > -->\n\n\n    <!-- <ion-item> -->\n    <!-- <ion-avatar item-left>\n<img *ngIf="receivedData[\'img_arr\'].length > 0" style="height: 50px;width: 50px;margin: 0 auto;object-fit: cover;"   src="{{receivedData[\'img_arr\'][0]}}" imageViewer="{{receivedData[\'img_arr\'][0]}}"  onerror="this.src=\'assets/no-img.png\'" imageCache/>\n <img *ngIf="receivedData[\'img_arr\'].length == 0" style="height: 50px;width: 50px;margin: 0 auto;object-fit: cover;"   src="assets/no-img.png" imageViewer="assets/no-img.png"  onerror="this.src=\'assets/no-img.png\'" imageCache/>\n\n </ion-avatar> -->\n    <!-- <h3>\n   <p>\n     Tag Id :\n     <ion-badge style="background: linear-gradient(to right,#000000 0%,#000000 75%,#000000 100%);">{{receivedData.tag_id}}</ion-badge>\n   </p>\n   <p >Customer : {{receivedData.firstname}} <span (tap)="open(i)" style="float: right;color:\n  #000000">{{receivedData.tog}}>></span></p>\n     <p >Mobile : {{receivedData.mobile}}</p>\n\n </h3> -->\n\n    <ion-card>\n      <ion-card-content>\n        <ion-row text-center>\n          <ion-col>\n            <h3 style="font-weight: bold;"> Customer Info</h3>\n          </ion-col>\n        </ion-row>\n        <ion-row no-padding> <ion-col col-6 style="max-width:37% !important">\n            <h3 style="font-weight: bold;">Branch Name</h3>\n          </ion-col>\n          <ion-col col-1 style="max-width:3% !important;margin: auto;">\n            :\n          </ion-col>\n          <ion-col col-5 style="max-width:60% !important;margin: auto;">\n            <ion-badge\n              style="background: linear-gradient(to right,#000000 0%,#000000 75%,#000000 100%);">{{receivedData.branch_name}}</ion-badge>\n          </ion-col>\n        </ion-row>\n        <ion-row>\n          <ion-col col-6 style="max-width:37% !important">\n            <h3 style="font-weight: bold;">Customer</h3>\n          </ion-col>\n          <ion-col col-1 style="max-width:3% !important;margin: auto;">\n            :\n          </ion-col>\n          <ion-col col-5 style="max-width:60% !important;margin: auto;">\n            {{receivedData.cus_name}}\n          </ion-col>\n        </ion-row>\n        <ion-row no-padding> <ion-col col-6 style="max-width:37% !important">\n            <h3 style="font-weight: bold;">Mobile</h3>\n          </ion-col>\n          <ion-col col-1 style="max-width:3% !important;margin: auto;">\n            :\n          </ion-col>\n          <ion-col col-5 style="max-width:60% !important;margin: auto;">\n            {{receivedData.mobile}}\n          </ion-col>\n        </ion-row>\n\n        <br>\n        <ion-row text-center>\n          <ion-col>\n            <h3 style="font-weight: bold;"> Order Information</h3>\n          </ion-col>\n        </ion-row>\n\n        <ion-row no-padding> <ion-col col-6 style="max-width:37% !important">\n            <h3 style="font-weight: bold;">Order Type</h3>\n          </ion-col>\n          <ion-col col-1 style="max-width:3% !important;margin: auto;">\n            :\n          </ion-col>\n          <ion-col col-5 style="max-width:60% !important;margin: auto;">\n            {{receivedData.order_type}}\n          </ion-col>\n        </ion-row>\n\n        <ion-row no-padding> <ion-col col-6 style="max-width:37% !important">\n            <h3 style="font-weight: bold;">Order Date</h3>\n          </ion-col>\n          <ion-col col-1 style="max-width:3% !important;margin: auto;">\n            :\n          </ion-col>\n          <ion-col col-5 style="max-width:60% !important;margin: auto;">\n            {{receivedData.order_date}}\n          </ion-col>\n        </ion-row>\n\n        <ion-row no-padding> <ion-col col-6 style="max-width:37% !important">\n            <h3 style="font-weight: bold;">Order No</h3>\n          </ion-col>\n          <ion-col col-1 style="max-width:3% !important;margin: auto;">\n            :\n          </ion-col>\n          <ion-col col-5 style="max-width:60% !important;margin: auto;">\n            {{receivedData.order_no}}\n          </ion-col>\n        </ion-row>\n\n        <ion-row no-padding> <ion-col col-6 style="max-width:37% !important">\n            <h3 style="font-weight: bold;">Customer Due Date</h3>\n          </ion-col>\n          <ion-col col-1 style="max-width:3% !important;margin: auto;">\n            :\n          </ion-col>\n          <ion-col col-5 style="max-width:60% !important;margin: auto;">\n            {{receivedData.cus_due_date}}\n          </ion-col>\n        </ion-row>\n\n        <ion-row no-padding> <ion-col col-6 style="max-width:37% !important">\n            <h3 style="font-weight: bold;">Advance Amount</h3>\n          </ion-col>\n          <ion-col col-1 style="max-width:3% !important;margin: auto;">\n            :\n          </ion-col>\n          <ion-col col-5 style="max-width:60% !important;margin: auto;">\n             {{receivedData.advance_amount}}\n          </ion-col>\n        </ion-row>\n\n\n        <ion-row no-padding> <ion-col col-6 style="max-width:37% !important">\n            <h3 style="font-weight: bold;">Adjusted Amount</h3>\n          </ion-col>\n          <ion-col col-1 style="max-width:3% !important;margin: auto;">\n            :\n          </ion-col>\n          <ion-col col-5 style="max-width:60% !important;margin: auto;">\n             {{receivedData.advance_adj_amount}}\n          </ion-col>\n        </ion-row>\n\n\n        <ion-row no-padding> <ion-col col-6 style="max-width:37% !important">\n            <h3 style="font-weight: bold;">Balance Amount</h3>\n          </ion-col>\n          <ion-col col-1 style="max-width:3% !important;margin: auto;">\n            :\n          </ion-col>\n          <ion-col col-5 style="max-width:60% !important;margin: auto;">\n             {{balance}}\n          </ion-col>\n        </ion-row>\n\n        <ion-row no-padding> <ion-col col-6 style="max-width:37% !important">\n            <h3 style="font-weight: bold;">Purchase No</h3>\n          </ion-col>\n          <ion-col col-1 style="max-width:3% !important;margin: auto;">\n            :\n          </ion-col>\n          <ion-col col-5 style="max-width:60% !important;margin: auto;">\n            {{receivedData.pur_no}}\n          </ion-col>\n        </ion-row>\n\n        <ion-row no-padding> <ion-col col-6 style="max-width:37% !important">\n            <h3 style="font-weight: bold;">Purchase Status</h3>\n          </ion-col>\n          <ion-col col-1 style="max-width:3% !important;margin: auto;">\n            :\n          </ion-col>\n          <ion-col col-5 style="max-width:60% !important;margin: auto;">\n            {{receivedData.order_status}}\n          </ion-col>\n        </ion-row>\n\n        <!-- <ion-row no-padding>\n          <ion-col col-6 style="max-width:37% !important">\n            <h3 style="font-weight: bold;">Karigar Due Date</h3>\n          </ion-col>\n          <ion-col col-1 style="max-width:3% !important;margin: auto;">\n            :\n          </ion-col>\n          <ion-col col-5 style="max-width:60% !important;margin: auto;">\n            {{receivedData.smith_due_date}}\n          </ion-col>\n        </ion-row> -->\n\n        <ion-row no-padding> <ion-col col-6 style="max-width:37% !important">\n            <h3 style="font-weight: bold;">Tag No</h3>\n          </ion-col>\n          <ion-col col-1 style="max-width:3% !important;margin: auto;">\n            :\n          </ion-col>\n          <ion-col col-5 style="max-width:60% !important;margin: auto;">\n            {{receivedData.tag_code}}\n          </ion-col>\n        </ion-row>\n\n        <ion-row no-padding> <ion-col col-6 style="max-width:37% !important">\n            <h3 style="font-weight: bold;">Bill No</h3>\n          </ion-col>\n          <ion-col col-1 style="max-width:3% !important;margin: auto;">\n            :\n          </ion-col>\n          <ion-col col-5 style="max-width:60% !important;margin: auto;">\n            {{receivedData.sales_ref_no}}\n          </ion-col>\n        </ion-row>\n\n           <!-- <ion-row no-padding> <ion-col col-6 style="max-width:37% !important">\n            <h3 style="font-weight: bold;">Sale Ref No</h3>\n          </ion-col>\n          <ion-col col-1 style="max-width:3% !important;margin: auto;">\n            :\n          </ion-col>\n          <ion-col col-5 style="max-width:60% !important;margin: auto;">\n            {{receivedData.sales_ref_no}}\n          </ion-col>\n        </ion-row> -->\n\n\n        <br>\n        <ion-row text-center>\n          <ion-col>\n            <h3 style="font-weight: bold;"> Product Information</h3>\n          </ion-col>\n        </ion-row>\n\n        <ion-row no-padding> <ion-col col-6 style="max-width:37% !important">\n            <h3 style="font-weight: bold;">Status</h3>\n          </ion-col>\n          <ion-col col-1 style="max-width:3% !important;margin: auto;">\n            :\n          </ion-col>\n          <ion-col col-5 style="max-width:60% !important;margin: auto;">\n            {{receivedData.order_status}}\n          </ion-col>\n        </ion-row>\n\n        <ion-row no-padding> <ion-col col-6 style="max-width:37% !important">\n            <h3 style="font-weight: bold;">Product</h3>\n          </ion-col>\n          <ion-col col-1 style="max-width:3% !important;margin: auto;">\n            :\n          </ion-col>\n          <ion-col col-5 style="max-width:60% !important;margin: auto;">\n            {{receivedData.product_name}}\n          </ion-col>\n        </ion-row>\n\n\n        <ion-row no-padding> <ion-col col-6 style="max-width:37% !important">\n            <h3 style="font-weight: bold;">Design</h3>\n          </ion-col>\n          <ion-col col-1 style="max-width:3% !important;margin: auto;">\n            :\n          </ion-col>\n          <ion-col col-5 style="max-width:60% !important;margin: auto;">\n            {{receivedData.design_name}}\n          </ion-col>\n        </ion-row>\n\n\n        <ion-row no-padding> <ion-col col-6 style="max-width:37% !important">\n            <h3 style="font-weight: bold;">Sub Design</h3>\n          </ion-col>\n          <ion-col col-1 style="max-width:3% !important;margin: auto;">\n            :\n          </ion-col>\n          <ion-col col-5 style="max-width:60% !important;margin: auto;">\n            {{receivedData.sub_design_name}}\n          </ion-col>\n        </ion-row>\n\n        <ion-row no-padding> <ion-col col-6 style="max-width:37% !important">\n            <h3 style="font-weight: bold;">Pcs</h3>\n          </ion-col>\n          <ion-col col-1 style="max-width:3% !important;margin: auto;">\n            :\n          </ion-col>\n          <ion-col col-5 style="max-width:60% !important;margin: auto;">\n            {{receivedData.totalitems}}\n          </ion-col>\n        </ion-row>\n\n\n        <ion-row no-padding> <ion-col col-6 style="max-width:37% !important">\n            <h3 style="font-weight: bold;">Gross Wt </h3>\n          </ion-col>\n          <ion-col col-1 style="max-width:3% !important;margin: auto;">\n            :\n          </ion-col>\n          <ion-col col-5 style="max-width:60% !important;margin: auto;">\n            {{receivedData.weight}} Gm\n          </ion-col>\n        </ion-row>\n\n\n        <ion-row no-padding> <ion-col col-6 style="max-width:37% !important">\n            <h3 style="font-weight: bold;">Less Wt</h3>\n          </ion-col>\n          <ion-col col-1 style="max-width:3% !important;margin: auto;">\n            :\n          </ion-col>\n          <ion-col col-5 style="max-width:60% !important;margin: auto;">\n            {{receivedData.less_wt}}\n          </ion-col>\n        </ion-row>\n\n\n        <ion-row no-padding> <ion-col col-6 style="max-width:37% !important">\n            <h3 style="font-weight: bold;">Net Wt </h3>\n          </ion-col>\n          <ion-col col-1 style="max-width:3% !important;margin: auto;">\n            :\n          </ion-col>\n          <ion-col col-5 style="max-width:60% !important;margin: auto;">\n            {{receivedData.net_wt}} Gm\n          </ion-col>\n        </ion-row>\n\n\n        <ion-row no-padding> <ion-col col-6 style="max-width:37% !important">\n            <h3 style="font-weight: bold;">Wastage</h3>\n          </ion-col>\n          <ion-col col-1 style="max-width:3% !important;margin: auto;">\n            :\n          </ion-col>\n          <ion-col col-5 style="max-width:60% !important;margin: auto;">\n            {{receivedData.wast_percent}} %\n          </ion-col>\n        </ion-row>\n\n\n        <ion-row no-padding> <ion-col col-6 style="max-width:37% !important">\n            <h3 style="font-weight: bold;">MC value / <span *ngIf="receivedData.mc_type == 1" >PCS</span><span *ngIf="receivedData.mc_type == 2" >Gm</span> </h3>\n          </ion-col>\n          <ion-col col-1 style="max-width:3% !important;margin: auto;">\n            :\n          </ion-col>\n          <ion-col col-5 style="max-width:60% !important;margin: auto;">\n            {{receivedData.mc}}\n          </ion-col>\n        </ion-row>\n\n        <ion-row no-padding> <ion-col col-6 style="max-width:37% !important">\n          <h3 style="font-weight: bold;">Total MC </h3>\n        </ion-col>\n        <ion-col col-1 style="max-width:3% !important;margin: auto;">\n          :\n        </ion-col>\n        <ion-col col-5 style="max-width:60% !important;margin: auto;">\n           {{receivedData.total_mc}}\n        </ion-col>\n      </ion-row>\n\n      <ion-row no-padding> <ion-col col-6 style="max-width:37% !important">\n        <h3 style="font-weight: bold;">Total Stone Amount </h3>\n      </ion-col>\n      <ion-col col-1 style="max-width:3% !important;margin: auto;">\n        :\n      </ion-col>\n      <ion-col col-5 style="max-width:60% !important;margin: auto;">\n         {{receivedData.stn_amt}}\n      </ion-col>\n    </ion-row>\n\n\n\n        <!-- <ion-row no-padding> <ion-col col-6 style="max-width:37% !important">\n            <h3 style="font-weight: bold;">Karigar</h3>\n          </ion-col>\n          <ion-col col-1 style="max-width:3% !important;margin: auto;">\n            :\n          </ion-col>\n          <ion-col col-5 style="max-width:60% !important;margin: auto;">\n            {{receivedData.karigar_name}}\n          </ion-col>\n        </ion-row> -->\n\n\n\n\n        <ion-row no-padding> <ion-col col-6 style="max-width:37% !important">\n            <h3 style="font-weight: bold;">Delivered Date</h3>\n          </ion-col>\n          <ion-col col-1 style="max-width:3% !important;margin: auto;">\n            :\n          </ion-col>\n          <ion-col col-5 style="max-width:60% !important;margin: auto;">\n            {{receivedData.delivered_date}}\n          </ion-col>\n        </ion-row>\n\n\n\n\n\n\n\n        <!--    <ion-row  no-padding> <ion-col col-6 style="max-width:37% !important">\n     <h3 style="font-weight: bold;">Image</h3>\n     </ion-col>\n     <ion-col col-1 style="max-width:3% !important;margin: auto;">\n       :\n       </ion-col>\n       <ion-col *ngIf="receivedData.image_details.length == 0" col-5 style="max-width:60% !important;margin: auto;">\n         nill\n         </ion-col>\n       <ion-col *ngIf="receivedData.image_details.length != 0" col-5 style="max-width:60% !important;margin: auto;">\n         {{receivedData.image_details[0]}}\n         </ion-col>\n    </ion-row> -->\n\n        <ion-row no-padding>\n          <ion-col col-6 style="max-width:37% !important">\n            <h3 style="font-weight: bold;">Remarks</h3>\n          </ion-col>\n          <ion-col col-1 style="max-width:3% !important;margin: auto;">\n            :\n          </ion-col>\n          <ion-col col-5 style="max-width:60% !important;margin: auto;" >\n            {{description}}\n          </ion-col>\n        </ion-row>\n\n        <!--     <ion-row  no-padding>\n       <ion-col col-6 style="max-width:37% !important;margin: auto;">\n      <h3 style="font-weight: bold;">Remarks</h3>\n      </ion-col>\n      <ion-col col-1 style="max-width:3% !important;margin: auto;">\n        :\n        </ion-col>\n        <ion-col col-5 style="max-width:60% !important;margin-top: 17px;">\n          {{receivedData.description}}\n          </ion-col>\n     </ion-row> -->\n\n\n\n        <br>\n        <ion-row text-center *ngIf="receivedData[\'stonedetail\'].length > 0">\n          <ion-col>\n            <h3 style="font-weight: bold;"> Stone Information</h3>\n          </ion-col>\n        </ion-row>\n\n        <ion-row *ngIf="receivedData[\'stonedetail\'].length > 0" style="padding: 5px;">\n          <ion-col  style="font-size: 15px !important;">\n            \n              Tot.Stn.Amt : <span style="font-weight: bold;">  {{totalstonevalue}} </span>\n                     </ion-col>\n          <ion-col  style="font-size: 15px !important;">\n           \n              C.Stn.Wgt :  <span style="font-weight: bold;">{{totalgram}} Gm </span>\n                     </ion-col>\n                \n        </ion-row>\n\n<!--         <ion-card *ngIf="receivedData[\'stonedetail\'].length > 0">\n          <ion-row>\n            <ion-col col-6 style="font-weight: bold;font-size: 15px !important;">\n              Tot.Stn.Amt :   {{totalstonevalue}}\n            </ion-col>\n            <ion-col col-6 style="font-weight: bold;font-size: 15px !important;">\n              C.Stn.Wgt : {{totalgram}} Gm\n            </ion-col>\n            <ion-col col-3>\n              CT : {{totalct}}\n            </ion-col>\n          </ion-row>\n        </ion-card> -->\n\n\n        <ion-card *ngFor="let s of receivedData[\'stonedetail\'];let i = index">\n          <ion-row>\n            <ion-col col-5>\n              <ion-row> Name : {{s.stone_name}} </ion-row>\n            </ion-col>\n            <ion-col col-5 style="display: inherit;margin: auto;"><span style="font-size: 14px !important;"> Weight :\n                {{fixprice(s[\'wt\'])}} {{s.uom_short_code}}</span>\n              </ion-col>\n            <ion-col col-2 style="margin: auto;text-align: end;">\n              <ion-icon (click)="tog(i)" *ngIf="!s.toggle" name="arrow-dropdown"></ion-icon>\n              <ion-icon (click)="tog(i)" *ngIf="s.toggle" name="arrow-dropup"></ion-icon>\n            </ion-col>\n          </ion-row>\n          <ion-card-content *ngIf="s[\'toggle\']">\n            <ion-row>\n              <ion-col> Amount </ion-col>\n              <ion-col style="font-weight: bold !important;">  {{price(s.amount)}} </ion-col>\n              <ion-col> Pcs </ion-col>\n              <ion-col style="font-weight: bold !important;"> {{s.pieces}} </ion-col>\n            </ion-row>\n            <ion-row *ngIf="s.stone_type_name !=null && s.stone_type_name !=\'\'">\n              <ion-col col-3> Type </ion-col>\n              <ion-col col-3 style="font-weight: bold !important;">{{s.stone_type_name}} </ion-col>\n\n              <ion-col col-3> Rate Per ({{s.uom_short_code}}) </ion-col>\n              <ion-col col-3 style="font-weight: bold !important;">{{s.rate_per_gram}}  </ion-col>\n\n            </ion-row>\n          </ion-card-content>\n        </ion-card>\n\n        <ion-row text-center *ngIf="receivedData[\'diadetail\'].length > 0">\n          <ion-col>\n            <h3 style="font-weight: bold;"> Diamond Information</h3>\n          </ion-col>\n        </ion-row>\n\n        <ion-row *ngIf="receivedData[\'diadetail\'].length > 0" style="padding: 5px;">\n          <ion-col  style="font-size: 15px !important;">\n                          Tot.Stn.Amt : <span style="font-weight: bold;">  {{totaldiavalue}} </span>\n                     </ion-col>\n                 \n          <ion-col  style="font-size: 15px !important;">\n        \n            Dia.Wgt : <span style="font-weight: bold;">{{totalct}} Ct</span>\n                     </ion-col>\n        </ion-row>\n\n<!--         <ion-card *ngIf="receivedData[\'diadetail\'].length > 0">\n          <ion-row>\n            <ion-col col-6 style="font-weight: bold;font-size: 15px !important;">\n             Tot.Stn.Amt :   {{totaldiavalue}}\n            </ion-col>\n            <ion-col col-3 style="font-weight: bold;font-size: 15px !important;">\n              Dia. : {{totalgram}}\n            </ion-col>\n            <ion-col col-6 style="font-weight: bold;font-size: 15px !important;">\n              Dia.Wgt : {{totalct}} CT\n            </ion-col>\n          </ion-row>\n        </ion-card> -->\n\n       <ion-card *ngFor="let s of receivedData[\'diadetail\'];let i = index">\n          <ion-row>\n            <ion-col col-5>\n              <ion-row> Name : {{s.stone_name}} </ion-row>\n            </ion-col>\n            <ion-col col-5 style="display: inherit;margin: auto;">\n              <span style="font-size: 14px !important;"> Weight : {{fixprice(s[\'wt\'])}} {{s.uom_short_code}}</span>\n            </ion-col>\n            <ion-col col-2 style="margin: auto;text-align: end;">\n              <ion-icon (click)="diamond_tog(i)" *ngIf="!s.toggle" name="arrow-dropdown"></ion-icon>\n              <ion-icon (click)="diamond_tog(i)" *ngIf="s.toggle" name="arrow-dropup"></ion-icon>\n            </ion-col>\n          </ion-row>\n          <ion-card-content *ngIf="s[\'toggle\']">\n            <ion-row>\n              <ion-col> Amount </ion-col>\n              <ion-col style="font-weight: bold !important;">  {{price(s.amount)}} </ion-col>\n              <ion-col> Pcs </ion-col>\n              <ion-col style="font-weight: bold !important;"> {{s.pieces}} </ion-col>\n            </ion-row>\n            <ion-row *ngIf="s.stone_type_name !=null && s.stone_type_name !=\'\'">\n              <ion-col col-3> Type </ion-col>\n              <ion-col col-3 style="font-weight: bold !important;">{{s.stone_type_name}} </ion-col>\n              <ion-col col-3> Rate Per ({{s.uom_short_code}}) </ion-col>\n              <ion-col col-3 style="font-weight: bold !important;">{{s.rate_per_gram}}  </ion-col>\n\n            </ion-row>\n          </ion-card-content>\n        </ion-card>\n\n\n\n      </ion-card-content>\n    </ion-card>\n\n    <!--  <ion-row  no-padding> <ion-col col-6 style="max-width:37% !important">\n   <h3 style="font-weight: bold;">Branch</h3>\n   </ion-col>\n   <ion-col col-1 style="max-width:3% !important;margin: auto;">\n     :\n     </ion-col>\n     <ion-col col-5 style="max-width:60% !important;margin: auto;overflow: scroll;">\n       <ion-badge style="background: linear-gradient(to right,#000000 0%,#000000 75%,#000000 100%);">{{receivedData.branch_name}}</ion-badge>\n     </ion-col>\n  </ion-row>\n  <br>\n\n\n\n\n   <ion-row  no-padding> <ion-col col-6 style="max-width:37% !important">\n    <h3 style="font-weight: bold;">Stone Value</h3>\n    </ion-col>\n    <ion-col col-1 style="max-width:3% !important;margin: auto;">\n      :\n      </ion-col>\n      <ion-col col-5 style="max-width:60% !important;margin: auto;">\n        {{receivedData.stn_amt}}\n        </ion-col>\n   </ion-row>\n  <br>\n\n\n\n\n -->\n    <!-- </ion-item>\n</ion-card>\n -->\n  </div>\n\n\n\n\n</ion-content>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\order-status-view\order-status-view.html"*/,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["B" /* ViewController */], __WEBPACK_IMPORTED_MODULE_0__angular_core__["j" /* ChangeDetectorRef */]])
    ], OrderStatusViewPage);
    return OrderStatusViewPage;
}());

//# sourceMappingURL=order-status-view.js.map

/***/ }),

/***/ 407:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return OtherPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_retail__ = __webpack_require__(7);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




/**
 * Generated class for the AddStoneDetailPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
// @IonicPage()
var OtherPage = /** @class */ (function () {
    function OtherPage(events, load, retail, common, viewCtrl, navParams) {
        this.events = events;
        this.load = load;
        this.retail = retail;
        this.common = common;
        this.viewCtrl = viewCtrl;
        this.navParams = navParams;
        this.stoneData = [];
        this.stoneSelected = { "rate_type": "1" };
        this.fixed_rate_type = "";
        this.stoneMasData = [];
        this.stones = [];
        this.uom = [];
        this.cut = [];
        this.clarity = [];
        this.color = [];
        this.shape = [];
        this.proceedSave = false;
        this.totalGwt = 0;
        this.totalAmount = 0;
        this.page = this.navParams.get('page');
        this.stoneMasData = this.navParams.get('stoneMasData');
        console.log(this.navParams.get('other_metal'));
        //  this.action = this.navParams.get('action');
    }
    OtherPage.prototype.dismiss = function () {
        this.viewCtrl.dismiss();
    };
    OtherPage.prototype.updateStone = function (submitType) {
        var _this = this;
        this.viewCtrl.dismiss(this.stoneData);
        // Alert Message Timeout
        setTimeout(function () {
            _this.errorMsg = "";
        }, this.common.msgTimeout);
    };
    OtherPage.prototype.addStone = function (submitType) {
        var _this = this;
        console.log(this.stoneData);
        this.viewCtrl.dismiss(this.stoneData);
        // Alert Message Timeout
        setTimeout(function () {
            _this.errorMsg = "";
        }, this.common.msgTimeout);
    };
    OtherPage.prototype.stoneChanged = function () {
    };
    OtherPage.prototype.calcStoneValue = function () {
    };
    OtherPage.prototype.add = function () {
        this.stoneData.push({ "metal_id": 0, "stone_pcs": 0, "stone_wt": 0, "price": 0 });
    };
    OtherPage.prototype.remove = function (i) {
        if (this.stoneData.length > 1) {
            this.stoneData.splice(i, 1);
        }
        else if (this.stoneData.length == 1) {
            this.stoneData.splice(i, 1);
            this.stoneData.push({ "metal_id": 0, "stone_pcs": 0, "stone_wt": 0, "price": 0 });
        }
    };
    OtherPage.prototype.calp = function (i, j) {
        console.log(i);
        console.log(j);
        this.stoneData[i]['price'] = this.stones.filter(function (data) { return data['metal_id'] == j; })[0]['price'];
    };
    OtherPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    OtherPage.prototype.ionViewWillEnter = function () {
        this.events.publish('entered', true);
        this.events.publish('pageno', 1);
        if (this.navParams.get('other_metal').length > 0) {
            this.stoneData = this.navParams.get('other_metal');
            for (var i = 0; i < this.stoneData.length; i++) {
                this.totalGwt += parseFloat(this.stoneData[i]['tag_other_itm_grs_weight']);
                this.totalAmount += parseFloat(this.stoneData[i]['tag_other_itm_act_amount']);
                console.log(this.totalGwt);
                console.log(this.totalAmount);
            }
        }
    };
    OtherPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-other',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\other\other.html"*/'<ion-header>\n  <ion-navbar>\n    <ion-title>\n      Add Other Metal\n    </ion-title>\n    <ion-buttons end>\n        <button ion-button icon-only (click)="dismiss()">\n            <ion-icon item-right name="ios-close-outline"></ion-icon>\n        </button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content no-padding>\n\n<ion-card *ngFor="let item of stoneData" class="stone-card">\n\n  <!--  Row 1 -->\n  <ion-row class="label-row">\n    <ion-col>Metal</ion-col>\n    <ion-col>Purity</ion-col>\n    <ion-col>Pcs</ion-col>\n  </ion-row>\n\n  <ion-row class="value-row">\n    <ion-col>{{ item.metal_name }}</ion-col>\n    <ion-col>{{ item.tag_other_itm_pur_name }}</ion-col>\n    <ion-col>{{ item.tag_other_itm_pcs }}</ion-col>\n  </ion-row>\n\n  <!--  Row 2 -->\n  <ion-row class="label-row">\n    <ion-col>Gwt</ion-col>\n    <ion-col>VA %</ion-col>\n    <ion-col>Mc Type</ion-col>\n  </ion-row>\n\n  <ion-row class="value-row">\n    <ion-col>{{ item.tag_other_itm_grs_weight | number:\'1.3-3\' }}</ion-col>\n    <ion-col>{{ item.tag_other_itm_wastage }}</ion-col>\n    <ion-col>{{ item.tag_other_itm_cal_type == 1 ? \'Per Gram\' : \'Per Piece\' }}</ion-col>\n  </ion-row>\n\n  <!--  Row 3 -->\n  <ion-row class="label-row">\n    <ion-col>Mc</ion-col>\n    <ion-col>Rate</ion-col>\n    <ion-col>Total</ion-col>\n  </ion-row>\n\n  <ion-row class="value-row">\n    <ion-col>{{ item.tag_other_itm_mc | indianCurrency:2 }}</ion-col>\n    <ion-col>{{ item.tag_other_itm_rate | indianCurrency:2 }}</ion-col>\n    <ion-col>{{ item.tag_other_itm_act_amount | indianCurrency:2 }}</ion-col>\n  </ion-row>\n\n</ion-card>\n\n</ion-content>\n<ion-footer>\n  <ion-toolbar color="light" class="footer-box">\n\n    <!-- Label Row -->\n    <ion-row class="footer-label-row">\n      <ion-col text-center class="footer-label">Total Gwt</ion-col>\n      <ion-col text-center class="footer-label">Total Amount</ion-col>\n    </ion-row>\n\n    <!-- Value Row -->\n    <ion-row class="footer-value-row">\n      <ion-col text-center class="footer-value">\n        {{ totalGwt | number:\'1.3-3\' }}\n      </ion-col>\n      <ion-col text-center class="footer-value total-amt">\n        {{ totalAmount | indianCurrency:2 }}\n      </ion-col>\n    </ion-row>\n\n  </ion-toolbar>\n</ion-footer>\n\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\other\other.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_3__providers_retail__["a" /* RetailProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_3__providers_retail__["a" /* RetailProvider */], __WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["B" /* ViewController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */]])
    ], OtherPage);
    return OtherPage;
}());

//# sourceMappingURL=other.js.map

/***/ }),

/***/ 408:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Mass3Page; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_common__ = __webpack_require__(5);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var Mass3Page = /** @class */ (function () {
    function Mass3Page(viewCtrl, toast, modal, keyboard, commonProvider, loadingCtrl, navCtrl) {
        this.viewCtrl = viewCtrl;
        this.toast = toast;
        this.modal = modal;
        this.keyboard = keyboard;
        this.commonProvider = commonProvider;
        this.loadingCtrl = loadingCtrl;
        this.navCtrl = navCtrl;
        this.searchData = [];
        this.input = '';
        this.temp = [];
        this.status = false;
        this.gif = false;
        this.full = false;
    }
    Mass3Page.prototype.goback = function () {
        this.navCtrl.pop();
    };
    Mass3Page.prototype.selected = function (data) {
        this.viewCtrl.dismiss(data);
    };
    Mass3Page.prototype.removeFocus = function () {
        this.keyboard.close();
    };
    ;
    Mass3Page.prototype.search = function () {
        var _this = this;
        if (this.input.length >= 4) {
            var loader_1 = this.loadingCtrl.create({
                content: "Please wait...",
                spinner: 'bubbles',
            });
            loader_1.present();
            this.gif = true;
            this.commonProvider.getsubdesignsproduct({ 'searchTxt': this.input }).then(function (data) {
                // this.searchData = data;
                _this.gif = false;
                _this.status = true;
                _this.temp = data;
                console.log(data);
                loader_1.dismiss();
            }, function (err) {
                console.log(err);
                _this.gif = false;
                // this.temp = err['products'];
                loader_1.dismiss();
            });
        }
        else {
            this.temp = [];
            this.status = false;
            this.gif = false;
        }
    };
    Mass3Page = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-mass3',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\mass3\mass3.html"*/'<!--\n  Generated template for the AutoPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n-->\n<ion-header>\n  <ion-navbar>\n\n    <ion-row style="margin-top:2px">\n \n     <ion-col >\n         \n       <ion-searchbar  no-padding [(ngModel)]="input"\n                            (ionBlur)="removeFocus()"\n       ></ion-searchbar>    </ion-col>\n       <ion-col col-1  (click)="search()">\n        <ion-icon style="font-size: 1.8em;\n        margin-top:8px;float: right;" name="search"></ion-icon>\n    </ion-col>\n     <ion-col col-1 (click)="goback()">\n         <ion-icon style="font-size: 1.8em;\n         margin-top:8px;float:right" name="close"></ion-icon>\n     </ion-col>\n     </ion-row>\n    </ion-navbar>\n    \n </ion-header>\n \n \n     <ion-content padding>\n      \n\n\n      <ion-list>\n        <ion-item *ngFor="let d of temp" (click)="selected(d)">\n          {{ d[\'old_metal_prod_name\'] }}\n        </ion-item>\n      </ion-list>\n      \n\n\n       <div style="font-weight:bold;margin-left:20px;" *ngIf="temp.length == 0 && status == true">\n           No Result Found\n         </div>\n         <div style="font-weight:bolder;text-align: center;color: red;" *ngIf="input.length < 4">\n          * Minimum Four letters Required\n        </div>\n     </ion-content>\n     \n '/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\mass3\mass3.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["B" /* ViewController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["p" /* Keyboard */], __WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */]])
    ], Mass3Page);
    return Mass3Page;
}());

//# sourceMappingURL=mass3.js.map

/***/ }),

/***/ 410:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GiftPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__modal_customer_customer__ = __webpack_require__(29);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




/**
 * Generated class for the giftPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
// @IonicPage()
var GiftPage = /** @class */ (function () {
    function GiftPage(events, cd, comman, event, toastCtrl, alertCtrl, load, modal, navCtrl, navParams, renderer, viewCtrl) {
        this.events = events;
        this.cd = cd;
        this.comman = comman;
        this.event = event;
        this.toastCtrl = toastCtrl;
        this.alertCtrl = alertCtrl;
        this.load = load;
        this.modal = modal;
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.renderer = renderer;
        this.viewCtrl = viewCtrl;
        this.details = [];
        this.chits = [];
        this.adderror = null;
        this.ferror = null;
        this.ani = false;
        this.fields = [{ 'slip_no': '', 'slip_amt': '' }];
        this.idcus = this.navParams.get('id_customer');
        this.esti = this.navParams.get('esti');
        this.weightschemecaltype = this.navParams.get('settings')['weightschemecaltype'];
        this.weight_scheme_closure_type = this.navParams.get('settings')['weight_scheme_closure_type'];
        this.rate = this.navParams.get('rate');
        this.va = '';
        this.mc = '';
        console.log(this.details);
        this.fields = this.navParams.get('chit');
        console.log(this.fields);
    }
    ;
    GiftPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad giftPage');
    };
    GiftPage.prototype.submit = function () {
        console.log(this.fields);
        for (var index = 0; index < this.fields.length; index++) {
            if (this.fields[index]['slip_no'] == '' || this.fields[index]['slip_amt'] == '') {
                this.ferror = false;
                break;
            }
            else {
                this.ferror = null;
            }
        }
        if (this.ferror != false) {
            this.event.publish('gift', { 'fields': this.fields, 'idcus': this.idcus });
            this.navCtrl.pop();
            console.log('success');
        }
    };
    GiftPage.prototype.removefield = function (i) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are You Sure Want to Delete?',
            buttons: [
                {
                    text: 'No',
                    role: 'cancel',
                    handler: function () {
                        console.log('Cancel clicked');
                    }
                },
                {
                    text: 'Yes',
                    handler: function () {
                        console.log('yes clicked');
                        var ii = _this.chits.findIndex(function (data) { return data['closing_amount'] == _this.fields[i]['slip_amt']; });
                        if (ii != -1) {
                            _this.chits.splice(i, 1);
                        }
                        _this.fields.splice(i, 1);
                        _this.ferror = null;
                        if (_this.fields.length == 0) {
                            _this.fields = [{ 'slip_no': '', 'slip_amt': '' }];
                        }
                        _this.calculate_chit_closing_balance1();
                    }
                }
            ]
        });
        alert.present();
    };
    GiftPage.prototype.addfield = function (i) {
        if (this.fields[i]['slip_no'] != '' && this.fields[i]['slip_amt'] != '') {
            this.fields.push({ 'slip_no': '', 'slip_amt': '' });
        }
        else {
            this.ferror = false;
        }
    };
    GiftPage.prototype.upper = function (data, i) {
        var _this = this;
        if (this.idcus != '') {
            var loader_1 = this.load.create({
                content: "Uploading..."
            });
            loader_1.present();
            this.fields[i]['slip_no'] = data.toUpperCase();
            this.comman.getslip({ 'id_customer': this.idcus, 'slip_no': this.fields[i]['slip_no'] }).then(function (data) {
                loader_1.dismiss();
                if (data['status']) {
                    _this.fields[i]['slip_amt'] = data['result'].length > 0 ? data['result'][0]['closing_amount'] : '';
                    if (data['result'].length > 0) {
                        var ii = _this.chits.findIndex(function (data) { return data['closing_amount'] == _this.fields[i]['slip_amt']; });
                        if (_this.fields.length == _this.chits.length && ii == -1) {
                            _this.chits.splice(i, 1);
                            _this.chits.push(data['result'][0]);
                            _this.calculate_chit_closing_balance1();
                            console.log(_this.fields[i]['slip_amt']);
                        }
                        else if (_this.fields.length == _this.chits.length && ii != -1) {
                            _this.calculate_chit_closing_balance1();
                            console.log(_this.fields[i]['slip_amt']);
                        }
                        else {
                            _this.chits.push(data['result'][0]);
                            _this.calculate_chit_closing_balance1();
                            console.log(_this.fields[i]['slip_amt']);
                        }
                    }
                }
                else {
                    var toastMsg = _this.toastCtrl.create({
                        message: data['msg'],
                        duration: 1000,
                        position: 'middle'
                    });
                    toastMsg.present();
                }
            }, function (err) {
                loader_1.dismiss();
            });
        }
        else {
            var toastMsg = this.toastCtrl.create({
                message: 'Please Select Customer',
                duration: 1000,
                position: 'middle'
            });
            toastMsg.present();
            // this.fields[i]['slip_no'] = '';
            // this.cd.detectChanges();
            this.fields = [{ 'slip_no': '', 'slip_amt': '' }];
            this.ani = true;
            this.cd.detectChanges();
            console.log(this.fields);
        }
    };
    GiftPage.prototype.fvalid = function (i) {
        if (this.fields[i]['slip_no'] == '' && this.fields[i]['slip_no'] == '' || this.fields[i]['slip_amt'] == '') {
            this.ferror = false;
        }
        else {
            this.ferror = null;
        }
    };
    GiftPage.prototype.vacehck = function () {
        this.calculate_chit_closing_balance1();
    };
    GiftPage.prototype.mccehck = function () {
        this.calculate_chit_closing_balance1();
    };
    GiftPage.prototype.openEstiBasicDetailModal = function () {
        var _this = this;
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_3__modal_customer_customer__["a" /* CusSearchPage */], { 'show': 'true' });
        modal.present();
        modal.onDidDismiss(function (mData) {
            console.log(mData);
            if (mData != null) {
                _this.idcus = mData['id_customer'];
                //   this.weightschemecaltype = mData['weightschemecaltype'];
                //   this.weight_scheme_closure_type = mData['weight_scheme_closure_type'];
                // this.empSelected();
            }
            else {
            }
        });
    };
    GiftPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    GiftPage.prototype.ionViewWillEnter = function () {
        this.events.publish('entered', true);
        this.events.publish('pageno', 1);
    };
    GiftPage.prototype.calculate_chit_closing_balance = function () {
        // var weight_scheme_closure_type = $('#weight_scheme_closure_type').val(); //1-General,2-Based on M.C & V.A
        // var weightschemecaltype = $('#weightschemecaltype').val(); //1->Based On Manual Va & MC  2->Based on the Highest Va & MC 3->Based On the Lowest Va & MC
        // if(this.weightschemecaltype==1)
        // {   
        //     $('#wastage_per').attr('readonly', false);
        //     $('#mc_value').attr('readonly', false);
        // }else{
        //     $('#wastage_per').attr('readonly', true);
        //     $('#mc_value').attr('readonly', true);
        //     $('#wastage_per').val("");
        //     $('#mc_value').attr("");
        // }
        //   $('#estimation_chit_details > tbody  > tr').each(function(index, tr) {
        //       var curRow                          = $(this).closest("tr");
        //       var chit_amount=0;
        //     var saving_weight = 0;
        //       var additional_benefits             = curRow.find('.additional_benefits').val();
        //       var closing_add_chgs                = curRow.find('.closing_add_chgs').val();
        //       var paid_installments               = curRow.find('.paid_installments').val();
        //       var total_installments              = curRow.find('.total_installments').val();
        //       var is_wast_and_mc_benefit_apply    = curRow.find('.is_wast_and_mc_benefit_apply').val();
        //       var goldrate_22ct                   = (isNaN($('.goldrate_22ct').html()) || $('.goldrate_22ct').html() == '')  ? 0 : parseFloat($('.goldrate_22ct').html());
        //       var saving_weight                   = (curRow.find('.closing_weight').val()!='' ? curRow.find('.closing_weight').val():0);
        // 	     var sales_details = [];
        //           $('#estimation_tag_details > tbody tr').each(function(bidx, brow){ 
        // 	        tagcurRow = $(this);
        // 	        if(tagcurRow.find('.scheme_closure_benefit').val()==1)
        // 	        {
        // 	            sales_details.push({'wastage_per':tagcurRow.find('.wastage_max_per').val(),'mc_value':(tagcurRow.find('.id_mc_type').val()==1 ? tagcurRow.find('.act_mc_value').val() :parseFloat(parseFloat(tagcurRow.find('.act_mc_value').val())*parseFloat(tagcurRow.find('.gwt').val())).toFixed(2)),'item_gross_wt':tagcurRow.find('.gwt').val()});
        // 	        }
        // 	    });
        // 	    $('#estimation_catalog_details > tbody tr').each(function(bidx, brow){ 
        //           	NontagcurRow = $(this);
        //           	if(NontagcurRow.find('.scheme_closure_benefit').val()==1)
        //           	{
        //                   sales_details.push({'wastage_per':NontagcurRow.find('.cat_wastage').val(),'mc_value':(NontagcurRow.find('.mc_type').val()==1 ? NontagcurRow.find('.cat_mc').val() :parseFloat(parseFloat(NontagcurRow.find('.cat_mc').val())*parseFloat(NontagcurRow.find('.cat_gwt').val())).toFixed(2)),'item_gross_wt':NontagcurRow.find('.cat_gwt').val()});
        //           	}
        //           });
        // 	    $('#estimation_custom_details > tbody tr').each(function(bidx, brow){ 
        // 	        homebillcurRow = $(this);
        // 	        if(homebillcurRow.find('.scheme_closure_benefit').val()==1)
        // 	        {
        // 	            sales_details.push({'wastage_per':homebillcurRow.find('.cus_wastage').val(),'mc_value':(homebillcurRow.find('.id_mc_type').val()==1 ? homebillcurRow.find('.cus_mc').val() :parseFloat(parseFloat(homebillcurRow.find('.cus_mc').val())*parseFloat(homebillcurRow.find('.cus_gwt').val())).toFixed(2)),'item_gross_wt':homebillcurRow.find('.cus_gwt').val()});
        // 	        }
        // 	    });
        //           console.log(sales_details);
        // 	    if(weight_scheme_closure_type==2 && saving_weight > 0 && (paid_installments==total_installments) && (sales_details.length > 0) )
        // 	    {       
        // 	            var savings_in_wast_amt = 0;
        // 	            var savings_in_wast_wt = 0;
        // 	            var savings_in_mcvalue = 0;
        // 	            var wastage_wt = 0;
        // 	            var wastage_per = 0;
        // 	            var mc_value = 0;                
        // 	            var item_gross_wt = 0;
        // 	             if(weightschemecaltype == 2)// Taking Highest V.A & M.C 
        // 	             {
        // 	                 if($('#wastage_per').val()=='')
        // 	                 {
        // 	                     wastage_per = Math.max.apply(null, sales_details.map(item => item.wastage_per));
        // 	                 }
        // 	                 else
        // 	                 {
        // 	                     wastage_per = ($('#wastage_per').val()!='' ? $('#wastage_per').val():0);
        // 	                 }
        // 	                 if($('#mc_value').val()=='')
        // 	                 {
        // 	                     $.each(sales_details,function(key,val){
        //   			                if(parseFloat(val.mc_value) > parseFloat(mc_value))
        //   			                {
        //   			                    console.log(val.mc_value);
        //   			                    mc_value = val.mc_value;
        //   			                    item_gross_wt = val.item_gross_wt;
        //   			                }
        //   			            });
        // 	                 }
        // 	                 else
        // 	                 {
        // 	                     mc_value    = ($('#mc_value').val()!='' ?$('#mc_value').val() :0);
        // 	                 }
        // 	             }
        // 	             else if(weightschemecaltype == 3)//Taking Lowest V.A & M.C 
        // 	             {
        // 	                 if($('#wastage_per').val()=='')
        // 	                 {
        // 	                     wastage_per = Math.min.apply(null, sales_details.map(item => item.wastage_per));
        // 	                 }
        // 	                 else
        // 	                 {
        // 	                     wastage_per = ($('#wastage_per').val()!='' ? $('#wastage_per').val():0);
        // 	                 }
        // 	                 if($('#mc_value').val()=='')
        // 	                 {
        // 	                     $.each(sales_details,function(key,val){
        //   			                if(val.mc_value < mc_value)
        //   			                {
        //   			                    mc_value = val.mc_value;
        //   			                    item_gross_wt = val.item_gross_wt;
        //   			                }
        //   			            });
        // 	                 }
        // 	                 else
        // 	                 {
        // 	                     mc_value    = ($('#mc_value').val()!='' ?$('#mc_value').val() :0);
        // 	                 }
        // 	             }
        // 	             else{
        // 	                 wastage_per = ( $('#wastage_per').val()!='' ?  $('#wastage_per').val():0);
        // 	                 mc_value = ( $('#mc_value').val()!='' ?  $('#mc_value').val():0);
        // 	             }
        // 	             var total_sales_wt = 0;
        // 	             var total_mc_value = 0;
        //                  $.each(sales_details,function(key,val){
        //                      total_sales_wt+=parseFloat(val.item_gross_wt);
        //                      total_mc_value+=parseFloat(val.mc_value);
        //                  });
        // 	             if(wastage_per > 0)
        // 	             {
        // 	                 if(parseFloat(total_sales_wt) > parseFloat(saving_weight))
        // 	                 {
        // 	                     var wastage_wt = parseFloat(((parseFloat(saving_weight)*parseFloat(wastage_per))/100)).toFixed(3);
        // 	                     var savings_in_wast_wt = parseFloat(parseFloat(wastage_wt)+parseFloat(saving_weight)).toFixed(3);
        // 	                 }else{
        // 	                     var wastage_wt = parseFloat(((parseFloat(total_sales_wt)*parseFloat(wastage_per))/100));
        // 	                     var savings_in_wast_wt = parseFloat(((parseFloat(total_sales_wt)*parseFloat(wastage_per))/100)+parseFloat(saving_weight)).toFixed(3);
        // 	                 }
        // 	             }
        // 	             else
        // 	             {
        // 	                 var savings_in_wast_wt = parseFloat(saving_weight).toFixed(3);
        // 	             }
        // 	             console.log(mc_value);
        // 	             console.log(savings_in_wast_wt);
        // 	             console.log(item_gross_wt);
        // 	             if(mc_value > 0 && item_gross_wt > 0)
        //                    {
        //                        if(parseFloat(total_sales_wt) > parseFloat(saving_weight))
        //                        {
        //                            var savings_in_mcvalue = parseFloat((parseFloat(mc_value)/parseFloat(item_gross_wt))*parseFloat(saving_weight)).toFixed(2);
        //                        }else{
        //                            var savings_in_mcvalue = parseFloat(total_mc_value).toFixed(2);
        //                        }
        //                    }
        //                    else if(mc_value!='')
        //                    {
        //                        savings_in_mcvalue = mc_value;
        //                    }
        //                    else
        //                    {
        //                        var savings_in_mcvalue = 0;
        //                    }
        // 	             savings_in_wast_amt = parseFloat(parseFloat(savings_in_wast_wt)*parseFloat(goldrate_22ct)).toFixed(2);
        // 	             var amount = parseFloat(savings_in_wast_amt)+parseFloat(savings_in_mcvalue)-parseFloat(closing_add_chgs)+parseFloat(additional_benefits);
        // 	             console.log(savings_in_wast_amt);
        // 	             if(amount > 0)
        // 	             {
        // 	                 chit_amount = amount;
        // 	             }else
        // 	             {
        // 	                 chit_amount = curRow.find('.closing_amount').val();
        // 	             }
        // 	             curRow.find('.wastage_per').val(parseFloat(wastage_per).toFixed(2));
        // 	             curRow.find('.savings_in_wastage').val(parseFloat(parseFloat(wastage_wt)).toFixed(3));
        // 	             curRow.find('.mc_value').val(parseFloat(mc_value).toFixed(2));
        // 	             curRow.find('.savings_in_mcvalue').val(parseFloat(savings_in_mcvalue).toFixed(2));
        // 	             curRow.find('.closing_weight').val(parseFloat(saving_weight).toFixed(3));
        // 	             curRow.find('.saved_weight').html(parseFloat(saving_weight).toFixed(3));
        // 	             $('.applied_wast_per').html(parseFloat(wastage_per).toFixed(2));
        // 	             $('.applied_mc').html(parseFloat(mc_value).toFixed(2));
        // 	    }else
        // 	    {
        // 	         curRow.find('.saved_weight').html(parseFloat(saving_weight).toFixed(3));
        // 	         chit_amount = curRow.find('.closing_amount').val();
        // 	    }
        // 	curRow.find('.chit_amt').val(parseFloat(Math.round(chit_amount)).toFixed(2));			
        //   });
        //   calculate_purchase_details();
        // calculate_sales_details();
    };
    GiftPage.prototype.calculate_chit_closing_balance1 = function () {
        var _this = this;
        this.chits.forEach(function (element, i) {
            if (element.scheme_type != 0 && (element.paid_installments == element.total_installments)) {
                element['closing_weight'] = element.closing_balance;
            }
            console.log(element['closing_weight']);
            var chit_amount = 0;
            var saving_weight = 0;
            var additional_benefits = element.additional_benefits;
            var closing_add_chgs = element.closing_add_chgs;
            var paid_installments = element.paid_installments;
            var total_installments = element.total_installments;
            var is_wast_and_mc_benefit_apply = element.is_wast_and_mc_benefit_apply;
            var goldrate_22ct = parseFloat(_this.rate);
            var saving_weight = (element.closing_weight != '' ? element.closing_weight : 0);
            var sales_details = [];
            console.log(_this.esti['tag']);
            console.log(_this.weight_scheme_closure_type);
            console.log(_this.weightschemecaltype);
            _this.esti['tag'].forEach(function (element) {
                if (element.scheme_closure_benefit == 1) {
                    sales_details.push({ 'wastage_per': element.retail_max_wastage_percent, 'mc_value': (element.mc_type == 1 ? element.mc_value : parseFloat((parseFloat(element.mc_value) * parseFloat(element.gross_wt)).toFixed(2))), 'item_gross_wt': element.gross_wt });
                }
            });
            _this.esti['non_tag'].forEach(function (element) {
                if (element.scheme_closure_benefit == 1) {
                    sales_details.push({ 'wastage_per': element.retail_max_wastage_percent, 'mc_value': (element.mc_type == 1 ? element.mc_value : parseFloat((parseFloat(element.mc_value) * parseFloat(element.gross_wt)).toFixed(2))), 'item_gross_wt': element.gross_wt });
                }
            });
            _this.esti['home_bill'].forEach(function (element) {
                if (element.scheme_closure_benefit == 1) {
                    sales_details.push({ 'wastage_per': element.retail_max_wastage_percent, 'mc_value': (element.mc_type == 1 ? element.mc_value : parseFloat((parseFloat(element.mc_value) * parseFloat(element.gross_wt)).toFixed(2))), 'item_gross_wt': element.gross_wt });
                }
            });
            console.log(sales_details);
            if (_this.weight_scheme_closure_type == 2 && saving_weight > 0 && (paid_installments == total_installments) && (sales_details.length > 0)) {
                console.log('1111');
                var savings_in_wast_amt = 0;
                var savings_in_wast_wt = 0;
                var savings_in_mcvalue = 0;
                var wastage_wt = 0;
                var wastage_per = 0;
                var mc_value = 0;
                var item_gross_wt = 0;
                if (_this.weightschemecaltype == 2) {
                    if (_this.va == '') {
                        wastage_per = Math.max.apply(null, sales_details.map(function (item) { return item.wastage_per; }));
                    }
                    else {
                        wastage_per = (_this.va != '' ? _this.va : 0);
                    }
                    if (_this.mc == '') {
                        sales_details.forEach(function (key, val) {
                            if (parseFloat(key.mc_value) > parseFloat(mc_value)) {
                                console.log(key.mc_value);
                                mc_value = key.mc_value;
                                item_gross_wt = key.item_gross_wt;
                            }
                        });
                    }
                    else {
                        mc_value = (_this.mc != '' ? _this.mc : 0);
                    }
                }
                else if (_this.weightschemecaltype == 3) {
                    if (_this.va == '') {
                        wastage_per = Math.min.apply(null, sales_details.map(function (item) { return item.wastage_per; }));
                    }
                    else {
                        wastage_per = (_this.va != '' ? _this.va : 0);
                    }
                    if (_this.mc == '') {
                        sales_details.forEach(function (key, val) {
                            if (key.mc_value < mc_value) {
                                mc_value = key.mc_value;
                                item_gross_wt = key.item_gross_wt;
                            }
                        });
                    }
                    else {
                        mc_value = (_this.mc != '' ? _this.mc : 0);
                    }
                }
                else {
                    wastage_per = (_this.va != '' ? _this.va : 0);
                    mc_value = (_this.mc != '' ? _this.mc : 0);
                }
                var total_sales_wt = 0;
                var total_mc_value = 0;
                sales_details.forEach(function (key, val) {
                    console.log(parseFloat(key.item_gross_wt));
                    total_sales_wt = total_sales_wt + parseFloat(key.item_gross_wt);
                    total_mc_value = total_sales_wt + parseFloat(key.mc_value);
                });
                console.log(total_sales_wt);
                console.log(total_mc_value);
                if (wastage_per > 0) {
                    if (parseFloat(total_sales_wt) > parseFloat(saving_weight)) {
                        var wastage_wt = parseFloat((((parseFloat(saving_weight) * parseFloat(wastage_per)) / 100)).toFixed(3));
                        var savings_in_wast_wt = parseFloat((parseFloat(wastage_wt) + parseFloat(saving_weight)).toFixed(3));
                    }
                    else {
                        //  var wastage_w:any = parseFloat(((parseFloat(total_sales_wt)*parseFloat(wastage_per))/100));
                        var savings_in_wast_wt = parseFloat((((parseFloat(total_sales_wt) * parseFloat(wastage_per)) / 100) + parseFloat(saving_weight)).toFixed(3));
                    }
                }
                else {
                    var savings_in_wast_wt = parseFloat(saving_weight).toFixed(3);
                }
                console.log(mc_value);
                console.log(savings_in_wast_wt);
                console.log(item_gross_wt);
                console.log(wastage_per);
                console.log(mc_value);
                if (mc_value > 0 && item_gross_wt > 0) {
                    if (parseFloat(total_sales_wt) > parseFloat(saving_weight)) {
                        var savings_in_mcvalue = parseFloat(((parseFloat(mc_value) / parseFloat(item_gross_wt)) * parseFloat(saving_weight)).toFixed(2));
                    }
                    else {
                        var savings_in_mcvalue = parseFloat(total_mc_value).toFixed(2);
                    }
                }
                else if (mc_value != '') {
                    console.log('123');
                    savings_in_mcvalue = mc_value;
                }
                else {
                    console.log('321');
                    var savings_in_mcvalue = 0;
                }
                savings_in_wast_amt = parseFloat((parseFloat(savings_in_wast_wt) * parseFloat(goldrate_22ct)).toFixed(2));
                console.log('123');
                var amount = parseFloat(savings_in_wast_amt) + parseFloat(savings_in_mcvalue) - parseFloat(closing_add_chgs) + parseFloat(additional_benefits);
                console.log(savings_in_wast_amt);
                console.log(amount);
                if (amount > 0) {
                    chit_amount = amount;
                    _this.fields[i]['slip_amt'] = Math.round(chit_amount);
                }
                else {
                    console.log('total2');
                    _this.fields[i]['slip_amt'] = element['closing_amount'];
                }
            }
            else {
                _this.fields[i]['slip_amt'] = element['closing_amount'];
                console.log('total');
                console.log(_this.fields[i]['slip_amt']);
            }
        });
        console.log(this.fields);
    };
    GiftPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-gift',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\gift\gift.html"*/'<ion-header>\n  <ion-navbar>\n    <button ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n    <ion-title style="text-align: center !important;\n    margin-right: 15% !important;"><img class="header-logo" src=\'assets/header.svg\'/>\n  \n  </ion-title>\n  </ion-navbar>\n</ion-header>\n<ion-content >\n\n  <ion-row>\n    <ion-col no-padding text-wrap col-10>\n      <div class="theme-title-blk"> <ion-icon name="pricetags"></ion-icon> Chit Details  <ion-badge color="light" float-right></ion-badge>\n      </div>\n    </ion-col>\n    <ion-col no-padding text-wrap col-2>\n\n    <button style="float: right" [ngClass]="ani == true ? \'show\' : \'\' " ion-fab mini color="primary" (click)="openEstiBasicDetailModal()"><ion-icon name="person"></ion-icon></button>\n  </ion-col>\n\n    </ion-row>\n   \n    <ion-row style="    margin-top: 10px;" >\n      <ion-col col-5 style="font-weight: bold;">\n        V.A(%)-\n        </ion-col>\n        <ion-col col-5 style="font-weight: bold;">\n          MC-\n  \n        </ion-col>\n        </ion-row>\n  \n        <ion-row style="    margin-top: 10px;">\n          <ion-col col-4 style="border: 1px solid #aea6a6;">\n            <!-- (ionChange)="upper(f[\'slip_no\'],i)" -->\n            <ion-input placeholder="Enter V.A(%)-" type="text" (ionChange)="vacehck()" [(ngModel)]="va" [readonly] = "weightschemecaltype != 1 && weight_scheme_closure_type != 2"></ion-input>\n  \n          </ion-col>\n        \n            <ion-col col-5 style="border: 1px solid #aea6a6;">\n                  <ion-input  type="number" [(ngModel)]="mc" (ionChange)="mccehck()"  placeholder="Enter MC-" [readonly] = "weightschemecaltype != 1 && weight_scheme_closure_type != 2"></ion-input>  \n                </ion-col>\n       \n        </ion-row>\n\n\n\n  <ion-row style="    margin-top: 10px;" >\n    <ion-col col-5 style="font-weight: bold;">\n      Slip No\n      </ion-col>\n      <ion-col col-5 style="font-weight: bold;">\n         Amount\n\n      </ion-col>\n      </ion-row>\n\n      <ion-row style="    margin-top: 10px;" *ngFor="let f of fields;let i = index;">\n        <ion-col col-4 style="border: 1px solid #aea6a6;">\n          <!-- (ionChange)="upper(f[\'slip_no\'],i)" -->\n          <ion-input placeholder="Enter No" type="text" [(ngModel)]="f[\'slip_no\']" ></ion-input>\n\n        </ion-col>\n        <ion-col col-1>\n          <ion-icon   name="search" (click)="upper(f[\'slip_no\'],i)"></ion-icon>\n\n        </ion-col>\n          <ion-col col-5 style="border: 1px solid #aea6a6;">\n                <ion-input  type="number" [(ngModel)]="f[\'slip_amt\']" (ionChange)="fvalid(i)"  placeholder="Enter Amount" readonly></ion-input>  \n              </ion-col>\n        <ion-col col-1>\n          <ion-icon *ngIf="i == fields.length - 1"  name="add" (click)="addfield(i)"></ion-icon>\n\n        </ion-col>\n        <ion-col col-1>\n          <ion-icon  *ngIf="i != 0"  name="remove" (click)="removefield(i)"></ion-icon>\n\n        </ion-col>\n      </ion-row>\n\n               <p *ngIf="ferror == false" style="color: red;">Enter Valid Details</p>\n\n<div style="text-align: center;">\n  <button (click)="submit()" style="border-radius: 20px !important;background:#000000;margin-top: 15px;" ion-button>Done</button>\n  </div>\n\n</ion-content>\n\n<!-- <ion-footer style="text-align: center;">\n  <ion-fab left bottom [ngClass]="ani == true ? \'show\' : \'\' " > \n    <button [ngClass]="ani == true ? \'show\' : \'\' " ion-fab mini color="primary" (click)="openEstiBasicDetailModal()"><ion-icon name="person"></ion-icon></button>\n  </ion-fab>\n  </ion-footer> -->'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\gift\gift.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_0__angular_core__["j" /* ChangeDetectorRef */], __WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["b" /* AlertController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */], __WEBPACK_IMPORTED_MODULE_0__angular_core__["V" /* Renderer */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["B" /* ViewController */]])
    ], GiftPage);
    return GiftPage;
}());

//# sourceMappingURL=gift.js.map

/***/ }),

/***/ 411:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WriteReviewPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_common__ = __webpack_require__(5);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



/*
  Generated class for the WriteReview page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
*/
var WriteReviewPage = /** @class */ (function () {
    function WriteReviewPage(loadingCtrl, renderer, commonProvider, toastCtrl, event, navCtrl, navParams, viewCtrl) {
        var _this = this;
        this.loadingCtrl = loadingCtrl;
        this.renderer = renderer;
        this.commonProvider = commonProvider;
        this.toastCtrl = toastCtrl;
        this.event = event;
        this.navCtrl = navCtrl;
        this.viewCtrl = viewCtrl;
        this.rating = 5;
        this.suggestion = '';
        this.queries = [];
        this.review = '';
        this.item = navParams.get('data');
        console.log(this.item);
        this.event.subscribe('details', function (temp) {
            console.log(temp);
        });
        this.commonProvider.getreview().then(function (data) {
            _this.queries = data;
        });
        this.event.subscribe('star-rating:changed', function (starRating) {
            _this.rating = starRating;
            console.log(starRating);
        });
        this.renderer.setElementClass(viewCtrl.pageRef().nativeElement, 'write-review', true);
    }
    WriteReviewPage.prototype.closeModal = function () {
        this.viewCtrl.dismiss();
        this.event.publish('close', true);
    };
    WriteReviewPage.prototype.setq = function (d) {
        this.review = d;
    };
    WriteReviewPage.prototype.submit = function () {
        var _this = this;
        if (this.rating != 0) {
            var loader_1 = this.loadingCtrl.create({
                content: "Fetching...",
                spinner: 'bubbles',
            });
            loader_1.present();
            this.commonProvider.feedback({
                "branch_id": this.item['branch_id'],
                "cus_id": this.item['cus_id'],
                "esti_id": this.item['esti_id'],
                "rating": this.rating,
                "review": this.review,
                "suggestion": this.suggestion,
                "employee_id": this.item['id_employee']
            }).then(function (data) {
                loader_1.dismiss();
                var toast = _this.toastCtrl.create({
                    message: 'Review Submitted',
                    duration: 2000,
                    position: "bottom"
                });
                toast.present(toast);
                _this.viewCtrl.dismiss();
                _this.event.publish('close', true);
            }, function (err) {
                loader_1.dismiss();
            });
        }
        else {
            var toast = this.toastCtrl.create({
                message: 'Please Rate It',
                duration: 2000,
                position: "bottom"
            });
            toast.present(toast);
        }
        //   this.navCtrl.setRoot( HomePage );
    };
    WriteReviewPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-write-review',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\write-review\write-review.html"*/'<!--\n\n  Generated template for the WriteReview page.\n\n\n\n  See http://ionicframework.com/docs/v2/components/#navigation for more info on\n\n  Ionic pages and navigation.\n\n-->\n\n<!-- <ion-header>\n\n    <ion-navbar>\n\n        <ion-title>Write a Review</ion-title>\n\n    </ion-navbar>\n\n</ion-header>\n\n<ion-content [@flyInTopSlow]="0">\n\n    <div style="margin-top: 0px;color: #515151;padding: 10px;word-wrap: break-word;background:#fff;border-bottom:1px solid #4958b2;text-align: center;font-size: 15px;">\n\n        {{item.name}}\n\n    </div>\n\n    <ion-list>\n\n        <ion-item style="background-color: #fff;color:#548eec;border-top: 0px solid #ccc;text-align: center;border-bottom: 0px solid #ccc;margin-bottom: -15px;">\n\n            <ion-note style="color:#548eec;">\n\n                Your rating\n\n            </ion-note>\n\n        </ion-item>\n\n        <ion-item style="background-color: #fff;color:#548eec;border-top: 0px solid #ccc;height: 25px;border-bottom: 0px solid #ccc;margin-bottom: -15px;">\n\n            <ion-note style="color:#548eec;">\n\n                <rating [(ngModel)]="rating"></rating>\n\n            </ion-note>\n\n        </ion-item>\n\n    </ion-list>\n\n    <ion-item>\n\n        <ion-label color="primary" stacked>Title (optional)</ion-label>\n\n        <ion-input clearInput="true" type="text" placeholder="Review Title..."></ion-input>\n\n    </ion-item>\n\n    <ion-item>\n\n        <ion-label color="primary" stacked>Description</ion-label>\n\n        <ion-textarea clearInput="true" type="text" placeholder="Description..."></ion-textarea>\n\n    </ion-item>\n\n    <ion-item>\n\n        <ion-label color="primary" stacked>Name</ion-label>\n\n        <ion-input clearInput="true" type="text" placeholder="Name"></ion-input>\n\n    </ion-item>\n\n</ion-content>\n\n<ion-footer>\n\n    <ion-toolbar style="padding: 0px;min-height: 0px;">\n\n        <ion-grid style="padding: 0px;">\n\n            <ion-row style="padding: 0px;">\n\n                <ion-col style="padding: 0px;">\n\n                    <button class="footer-b1" ion-button full>Submit\n\n                        <ion-icon style="padding-left:10px" name="md-send"></ion-icon>\n\n                    </button>\n\n                </ion-col>\n\n            </ion-row>\n\n        </ion-grid>\n\n    </ion-toolbar>\n\n</ion-footer> -->\n\n<h3 style="text-align:center">Write a Review</h3>\n\n<ionic3-star-rating  style="text-align:center;"\n\nactiveIcon = "ios-star"\n\ndefaultIcon = "ios-star-outline"\n\nactiveColor = "#000000" \n\ndefaultColor = "black"\n\nreadonly="false"\n\n[rating]="5">\n\n</ionic3-star-rating>\n\n\n\n<ion-card *ngFor="let q of queries" [ngClass]="q == review ? \'selected\' : \'unselected\'" (click)="setq(q)" style="padding: 5px !important;">\n\n\n\n    {{q}}\n\n</ion-card>\n\n<ion-row>\n\n    <ion-col>\n\n            <ion-item>\n\n                    <ion-textarea  rows=\'3\' [(ngModel)]="suggestion" clearInput="true" type="text" placeholder="Enter description..."></ion-textarea>\n\n                </ion-item>\n\n    </ion-col>\n\n</ion-row>\n\n<ion-row style="margin-top: 25px;">\n\n    <ion-col col-6>\n\n    \n\n\n\n\n\n                <ion-col col-6>\n\n                        <input float-left style="background:#000000 !important; cursor: pointer;\n\n                        -webkit-appearance: button;\n\n                        border-radius: 2px;\n\n                        overflow: hidden;\n\n                        height: 3.6rem;\n\n                        font-size: 1.4rem;\n\n                        font-weight: 500;\n\n                        text-transform: uppercase;\n\n                        color: #fff;" type="button" (click)="closeModal()" value="Close">\n\n                </ion-col>\n\n    </ion-col>\n\n    <ion-col col-6>\n\n            <input style="background:#000000 !important; cursor: pointer;\n\n            -webkit-appearance: button;\n\n            border-radius: 2px;\n\n            overflow: hidden;\n\n            height: 3.6rem;\n\n            font-size: 1.4rem;\n\n            font-weight: 500;\n\n            text-transform: uppercase;\n\n            color: #fff;" float-right type="button" (click)="submit()" value="Submit">\n\n    </ion-col>\n\n</ion-row>'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\write-review\write-review.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */]],
            animations: [
                Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_24" /* trigger */])('flyInTopSlow', [
                    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_21" /* state */])("0", Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_22" /* style */])({
                        transform: 'translate3d(0,0,0)'
                    })),
                    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_23" /* transition */])('* => 0', [
                        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_13" /* animate */])('500ms ease-in', Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_18" /* keyframes */])([
                            Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_22" /* style */])({ transform: 'translate3d(0,-500px,0)', offset: 0 }),
                            Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_22" /* style */])({ transform: 'translate3d(0,0,0)', offset: 1 })
                        ]))
                    ])
                ])
            ]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_0__angular_core__["V" /* Renderer */], __WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["B" /* ViewController */]])
    ], WriteReviewPage);
    return WriteReviewPage;
}());

//# sourceMappingURL=write-review.js.map

/***/ }),

/***/ 412:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ProductsPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_retail__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__avrsearch_avrsearch__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__designs_designs__ = __webpack_require__(200);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__cart_cart__ = __webpack_require__(27);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__auto_auto__ = __webpack_require__(45);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__wishlist_wishlist__ = __webpack_require__(34);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








// @IonicPage()
var ProductsPage = /** @class */ (function () {
    function ProductsPage(events, navCtrl, load, navParams, retailService) {
        var _this = this;
        this.events = events;
        this.navCtrl = navCtrl;
        this.load = load;
        this.navParams = navParams;
        this.retailService = retailService;
        this.empData = JSON.parse(localStorage.getItem('empDetail'));
        this.categoryitems = this.navParams.get('data');
        this.id_ret_category = this.navParams.get('id_category');
        this.products = [];
        this.last_id = 0;
        this.pagename = this.navParams.get('pagename');
        this.page_no = 1;
        this.totalcartitems = localStorage.getItem('carts') != null ? JSON.parse(localStorage.getItem('carts'))['items'] : [];
        this.supplier = this.navParams.get('supplier');
        console.log(this.categoryitems);
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        var postData = {
            'id_employee': this.empData['uid'] != null ? this.empData['uid'] : null,
            'type': 'active',
            'id_category': this.id_ret_category,
            'last_id': this.last_id,
            'status': this.pagename,
            'page_no': this.page_no,
            'supplier': this.supplier,
            'imgOnly': true
        };
        this.retailService.getProducts(postData).then(function (data) {
            _this.products = data;
            console.log(_this.products);
            loader.dismiss();
        });
    }
    ProductsPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad ProductsPage');
    };
    ProductsPage.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        console.log(this.products);
        this.last_id = this.products[this.products.length - 1]['pro_id'];
        this.page_no = this.page_no + 1;
        console.log(this.last_id);
        var postData = {
            'id_employee': this.empData['uid'] != null ? this.empData['uid'] : null,
            'type': 'active',
            'id_category': this.id_ret_category,
            'last_id': this.last_id,
            'status': this.pagename,
            'page_no': this.page_no,
            'supplier': this.supplier,
            'imgOnly': true
        };
        this.retailService.getProducts(postData).then(function (data) {
            console.log(data);
            for (var index = 0; index < data.length; index++) {
                _this.products.push(data[index]);
            }
            infiniteScroll.complete();
        });
    };
    ProductsPage.prototype.openDesign = function (pro_id) {
        console.log(pro_id);
        console.log(this.products);
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__designs_designs__["a" /* DesignsPage */], { 'id_product': pro_id, 'id_category': this.id_ret_category, 'data': this.products, 'pagename': this.pagename, 'supplier': this.supplier });
    };
    ProductsPage.prototype.ionViewWillEnter = function () {
        var user = true;
        //  this.events.publish('user:created', user);
        this.events.publish('entered', true);
        this.events.publish('pageno', 1);
    };
    ProductsPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    ProductsPage.prototype.open = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_3__avrsearch_avrsearch__["a" /* AvrsearchPage */]);
    };
    ProductsPage.prototype.cart = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__cart_cart__["a" /* CartPage */]);
    };
    ProductsPage.prototype.openModal = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__auto_auto__["a" /* AutoPage */]);
    };
    ProductsPage.prototype.addWishlist = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__wishlist_wishlist__["a" /* WishlistPage */]);
    };
    ProductsPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-products',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\products\products.html"*/'<!--\n  Generated template for the ProductsPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n-->\n<ion-header>\n    <ion-navbar>\n        <button ion-button menuToggle><ion-icon name="menu"></ion-icon></button>\n        <ion-title>Products\n            <div  id="notification-button" >\n                <ion-icon style="color:black;float: right;font-size:1.4em !important" name="cart" (click)="cart()"></ion-icon>\n              <ion-badge *ngIf="totalcartitems != null && totalcartitems.length > 0" style="font-size: 1rem !important;"  id="notifications-badge" color="danger">{{totalcartitems.length}}</ion-badge>\n\n        </div>\n           <ion-icon  name="md-funnel" (click)="open()" style="color:black !important;float: right;font-size:1.4em !important" ></ion-icon>\n          <ion-icon style="color:black;float: right;font-size:1.4em !important" name="search" (click)="openModal()"></ion-icon>\n          <ion-icon style="color:black !important;float: right;font-size:1.4em !important;" (click)="addWishlist()" name="heart-outline"></ion-icon>\n\n        </ion-title>\n    </ion-navbar>\n</ion-header>\n\n<ion-content>\n    <ion-grid no-padding>\n        <ion-row *ngIf="products.length > 0" text-center>\n            <ion-col text-wrap col-6 col-sm-6 col-md-4 col-lg-4 col-xl-4  *ngFor="let item of products; let i=index" class="custom-2col" [ngClass]="animateClass" (click)="openDesign(item.pro_id)">\n                <ion-card style="border: 1px solid#000000;\n                border-style: dotted;\n                border-bottom: none;">\n                    <div style="float: right;width: 64%;" text-center no-margin>\n                        <h5 class="text-small theme-color" style="color: white !important;    text-transform: capitalize;background: black !important;\n                        border-top-left-radius: 15px;\n                        border-bottom-right-radius: 15px;    padding-left: 10px;\n    padding-right: 10px;\n    padding-top: 2px;\n    padding-bottom: 2px;    overflow: scroll;\n    white-space: nowrap;">{{item.category}}</h5>\n                    </div>\n                    <div>\n\n                    <img class="full-image" src=\'{{item.image}}\' onerror="this.onerror=null;this.src=\'assets/no-img.png\';" imageCache/>\n                   </div>\n                   <ion-item style="background:#000000 !important;\n                    border-top-left-radius: 15px;\n                    border-top-right-radius: 15px;    margin-top: 2px !important;" text-center no-margin>\n                        <h5 class="text-small theme-color" style="color: white !important;    text-transform: uppercase;    overflow: scroll;\n                        white-space: nowrap;">{{item.product_name}}</h5>\n                    </ion-item>\n                </ion-card>\n            </ion-col>\n        </ion-row>\n    </ion-grid>\n\n    <ion-row *ngIf="products.length == 0 " style="text-align: center;">\n        <ion-col>\n            <h4>{{errormsg}}</h4>\n        </ion-col>\n    </ion-row>\n\n    <ion-infinite-scroll (ionInfinite)="doInfinite($event)">\n        <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="Loading more data..."></ion-infinite-scroll-content>\n    </ion-infinite-scroll>\n\n</ion-content>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\products\products.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_retail__["a" /* RetailProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */], __WEBPACK_IMPORTED_MODULE_2__providers_retail__["a" /* RetailProvider */]])
    ], ProductsPage);
    return ProductsPage;
}());

//# sourceMappingURL=products.js.map

/***/ }),

/***/ 413:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FilterPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_retail__ = __webpack_require__(7);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




/**
 * Generated class for the CategoryComponent component.
 *
 * See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html
 * for more info on Angular Components.
 */
var FilterPage = /** @class */ (function () {
    function FilterPage(events, navParams, loadingCtrl, modalCtrl, viewCtrl, retail, common) {
        this.events = events;
        this.navParams = navParams;
        this.loadingCtrl = loadingCtrl;
        this.modalCtrl = modalCtrl;
        this.viewCtrl = viewCtrl;
        this.retail = retail;
        this.common = common;
        this.animateItems = [];
        this.categoryItems = [];
        this.filters = this.navParams.get('filters');
        this.filter_options = this.navParams.get('filter_options');
        this.filterargs = this.navParams.get('filterargs');
    }
    FilterPage.prototype.showfilterOptions = function (filter_id) {
        this.filterargs = { 'id_filter': filter_id, 'show': 1 };
    };
    FilterPage.prototype.get_filterAndOptions = function (filter_id, option_id) {
        this.filterargs = { 'id_filter': filter_id, 'show': 1 };
    };
    FilterPage.prototype.reset_filter = function () {
        var resetData = JSON.parse(localStorage.getItem('resetFilterData'));
        this.filters = resetData.filters;
        console.log(resetData.filters);
        this.filter_options = resetData.filter_options;
        this.filterargs = resetData.filterargs;
        console.log(JSON.parse(localStorage.getItem('resetFilterData')));
    };
    FilterPage.prototype.apply_filter = function () {
        var obj = { filters: this.filters, filter_options: this.filter_options, filterargs: this.filterargs };
        localStorage.setItem('appliedFilter', JSON.stringify(obj));
        console.log(JSON.parse(localStorage.getItem('appliedFilter')));
        this.viewCtrl.dismiss({ filters: this.filters, filter_options: this.filter_options, filterargs: this.filterargs });
    };
    FilterPage.prototype.dismiss_modal = function () {
        var appliedFilter = JSON.parse(localStorage.getItem('appliedFilter'));
        if (appliedFilter != null && appliedFilter != undefined) {
            this.filters = appliedFilter.filters;
            this.filter_options = appliedFilter.filter_options;
            this.filterargs = appliedFilter.filterargs;
            console.log('dismiss_modal');
            console.log(JSON.parse(localStorage.getItem('appliedFilter')));
        }
        this.viewCtrl.dismiss();
    };
    FilterPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    FilterPage.prototype.ionViewWillEnter = function () {
        this.events.publish('entered', true);
        this.events.publish('pageno', 1);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["D" /* Input */])(),
        __metadata("design:type", Object)
    ], FilterPage.prototype, "data", void 0);
    FilterPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'filter',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\modal\filter\filter.html"*/'<ion-header>\n  <ion-navbar>\n    <ion-title>Filter</ion-title>\n    <ion-buttons end>\n      <button  ion-button (click)="dismiss_modal()">\n        <ion-icon name="close"></ion-icon>\n      </button>\n    </ion-buttons> \n  </ion-navbar>\n</ion-header>\n<ion-grid has-header has-footer>\n  <ion-row>\n    <ion-col>\n      <ion-scroll scrollX="true" scrollY="true" style="bottom: 1%;top:1%;height:100% !important;">\n        <ion-list>\n          <ion-item  *ngFor="let item of filters | myfilter:{show:1}; let idx = index"  (tap)="showfilterOptions(item.id_filter)">\n            <ion-label> {{item.filter_head}}</ion-label>\n                </ion-item>\n        </ion-list>\n      </ion-scroll> \n    </ion-col>\n    <ion-col>\n      <ion-scroll scrollX="true" scrollY="true" style="height: 500px !important;"> \n        <ion-list>\n          <ion-item *ngFor="let item of filter_options  | myfilter:filterargs; let idx = index" >\n            <ion-label>{{item.filter}}</ion-label>\n            <ion-checkbox  [(ngModel)]="item.is_selected" (ionChange)="get_filterAndOptions(item.id_filter,item.id_opt)" ></ion-checkbox> \n          </ion-item>\n        </ion-list>\n      </ion-scroll> \n    </ion-col>	\n   </ion-row>\n </ion-grid>\n\n<ion-footer>\n  <ion-toolbar color="primary">\n    <ion-buttons>\n      <button ion-button (click)="reset_filter()"> Reset </button>\n    </ion-buttons>\n    <ion-buttons  end>\n      <button ion-button (click)="apply_filter()"> Apply </button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-footer>\n\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\modal\filter\filter.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_3__providers_retail__["a" /* RetailProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["B" /* ViewController */], __WEBPACK_IMPORTED_MODULE_3__providers_retail__["a" /* RetailProvider */], __WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */]])
    ], FilterPage);
    return FilterPage;
}());

//# sourceMappingURL=filter.js.map

/***/ }),

/***/ 414:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BranchPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


/**
 * Generated class for the BranchPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
// @IonicPage()
var BranchPage = /** @class */ (function () {
    function BranchPage(events, viewCtrl, navCtrl, navParams) {
        var _this = this;
        this.events = events;
        this.viewCtrl = viewCtrl;
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.branch = [];
        this.sebranch = [];
        this.empData = JSON.parse(localStorage.getItem('empDetail'));
        this.branch = this.navParams.get('branch');
        this.sebranch = this.navParams.get('branch');
        console.log(this.empData['branch_id']);
        if (this.empData['branch_id'] != 0) {
            var temp = this.empData['branch_id'];
            var spl = temp.split(',');
            console.log(spl);
            var final_1 = [];
            spl.forEach(function (element) {
                var two = _this.branch.filter(function (data) { return data['id_branch'] == element; });
                final_1.push(two[0]);
            });
            this.branch = final_1;
            this.sebranch = final_1;
            console.log(final_1);
        }
    }
    BranchPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad BranchPage');
    };
    BranchPage.prototype.dismiss = function () {
        this.viewCtrl.dismiss();
    };
    BranchPage.prototype.selected = function (data) {
        this.viewCtrl.dismiss(data);
    };
    BranchPage.prototype.getCus = function (input) {
        console.log(input.target.value);
        console.log(this.sebranch);
        this.branch = this.sebranch.filter(function (item) { return item['name'].toUpperCase().includes(input.target.value.toUpperCase()); });
    };
    // ionViewWillLeave(){
    // 	this.events.publish( 'entered', false );						
    //   }
    BranchPage.prototype.ionViewWillEnter = function () {
        this.events.publish('entered', true);
        this.events.publish('pageno', 1);
    };
    BranchPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-branch',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\branch\branch.html"*/'<ion-header>\n  <ion-navbar>\n    <ion-title>\n      Choose Branch\n    </ion-title>\n    <ion-buttons end>\n        <button ion-button icon-only (click)="dismiss()">\n            <ion-icon item-right name="ios-close-outline"></ion-icon>\n        </button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n<ion-content>\n  <ion-searchbar (ionInput)="getCus($event)"></ion-searchbar>\n  <ion-list>\n    <ion-item *ngFor="let b of branch" (click)="selected(b)">\n      {{ b.name }}\n    </ion-item>\n  </ion-list>\n</ion-content>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\branch\branch.html"*/,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["B" /* ViewController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */]])
    ], BranchPage);
    return BranchPage;
}());

//# sourceMappingURL=branch.js.map

/***/ }),

/***/ 415:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return IntroimgPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



/**
 * Generated class for the IntroimgPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
// @IonicPage()
var IntroimgPage = /** @class */ (function () {
    function IntroimgPage(navCtrl, navParams, viewCtrl) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.viewCtrl = viewCtrl;
        this.popupimage = this.navParams.get('image');
        console.log("000", this.navParams.get('image'));
    }
    IntroimgPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad IntroimgPage');
    };
    IntroimgPage.prototype.close = function () {
        this.viewCtrl.dismiss();
    };
    IntroimgPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-introimg',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\introimg\introimg.html"*/'<!--\n  Generated template for the IntroimgPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n-->\n\n<!-- <ion-header>\n\n  <ion-navbar>\n    <ion-row>\n      <ion-col col-8>\n      <ion-title style="padding-top: 10px !important; text-align: right !important;">Welcome</ion-title>\n    </ion-col>\n  <ion-col col-4>\n      <button style="background:transparent !important;float:right" (click)="close()" ion-button>Close</button>\n    </ion-col>\n    </ion-row>\n    </ion-navbar>\n\n</ion-header> -->\n\n<ion-content>\n\n    <ion-icon name="ios-close-outline" (click)="close()" style="float: right !important;font-size: 30px !important;position: absolute !important;">\n    </ion-icon>\n    <img [src]="popupimage[\'popupimg\']" style="max-width: 100%;border: 0;height: 100%;width: 100%;min-width: 100%;">\n</ion-content>'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\introimg\introimg.html"*/,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["B" /* ViewController */]])
    ], IntroimgPage);
    return IntroimgPage;
}());

//# sourceMappingURL=introimg.js.map

/***/ }),

/***/ 416:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MaintenancePage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


/**
 * Generated class for the MaintenancePage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var MaintenancePage = /** @class */ (function () {
    function MaintenancePage(navCtrl, navParams, menu) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.menu = menu;
        this.maintaindata = {};
        this.maintaindata = this.navParams.get(("maintainData"))['comp'];
        console.log(this.maintaindata);
    }
    MaintenancePage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad MaintenancePage');
    };
    MaintenancePage.prototype.ionViewDidEnter = function () {
        this.menu.swipeEnable(false);
        // If you have more than one side menu, use the id like below
        // this.menu.swipeEnable(false, 'menu1');
    };
    MaintenancePage.prototype.ionViewWillLeave = function () {
        // Don't forget to return the swipe to normal, otherwise 
        // the rest of the pages won't be able to swipe to open menu
        this.menu.swipeEnable(true);
        // If you have more than one side menu, use the id like below
        // this.menu.swipeEnable(true, 'menu1');
    };
    MaintenancePage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-maintenance',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\maintenance\maintenance.html"*/'<!--\n  Generated template for the MaintenancePage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n-->\n<!-- <ion-header>\n\n  <ion-navbar>\n    <ion-title>maintenance</ion-title>\n  </ion-navbar>\n\n</ion-header> -->\n\n\n\n<!-- <ion-content text-center padding>\n<ion-card>\n  \n   {{maintaindata[\'text\']}}\n    {{maintaindata[\'company_name\']}}<br>\n    {{maintaindata[\'address1\']}}<br>\n    {{maintaindata[\'address2\']}} <br>\n    {{maintaindata[\'city\']}} -  {{maintaindata[\'pincode\']}}\n\n</ion-card>\n</ion-content> -->\n\n\n\n<ion-content fullscreen>\n    <ion-row style="text-align: center !important;">\n        <ion-col>\n            <img src="assets/img/IntroducingLogo.png" style="width: 100px !important;height:100px;;margin-top: 15% !important;">\n        </ion-col>\n    </ion-row>\n\n    <ion-card style="margin-top: 70px !important; position: fixed !important;">\n        <ion-item style="text-align: center !important;">\n\n            <h2>Under Maintenance !!</h2><br>\n            <p>{{maintaindata[\'maintenance_text\']}}</p>\n            <hr>\n        </ion-item>\n\n\n\n        <ion-card-content style="text-align: center !important;">\n            <p>{{maintaindata[\'company_name\']}}</p>\n            <p>{{maintaindata[\'address1\']}}</p>\n            <p>{{maintaindata[\'address2\']}}</p>\n            <p>{{maintaindata[\'city\']}}</p>\n            <p>{{maintaindata[\'pincode\']}}</p>\n            <p>{{maintaindata[\'email\']}}</p>\n            <a style="text-align: justify !important;font-weight: bolder !important; color: #387ef5 !important;text-decoration: none !important;" href="tel:{{maintaindata[\'phone1\']}}">{{maintaindata[\'phone1\']}}</a>\n            <!--  <p>{{maintaindata[\'phone1\']}}</p> -->\n            <p>{{maintaindata[\'website\']}}</p>\n        </ion-card-content>\n\n        <!--         <ion-row>\n          <ion-col>\n            <button ion-button icon-left clear small>\n              <ion-icon name="thumbs-up"></ion-icon>\n              <div>12 Likes</div>\n            </button>\n          </ion-col>\n          <ion-col>\n            <button ion-button icon-left clear small>\n              <ion-icon name="text"></ion-icon>\n              <div>4 Comments</div>\n            </button>\n          </ion-col>\n          <ion-col center text-center>\n            <ion-note>\n              11h ago\n            </ion-note>\n          </ion-col>\n        </ion-row> -->\n\n    </ion-card>\n\n</ion-content>'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\maintenance\maintenance.html"*/,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["r" /* MenuController */]])
    ], MaintenancePage);
    return MaintenancePage;
}());

//# sourceMappingURL=maintenance.js.map

/***/ }),

/***/ 417:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SubdesignlistPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_retail__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__modal_mas_search_mas_search__ = __webpack_require__(96);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__pages_subdesignimg_subdesignimg__ = __webpack_require__(418);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






/**
 * Generated class for the SubdesignlistPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
// @IonicPage()
var SubdesignlistPage = /** @class */ (function () {
    function SubdesignlistPage(events, load, toast, modal, comman, retail, navCtrl, navParams) {
        this.events = events;
        this.load = load;
        this.toast = toast;
        this.modal = modal;
        this.comman = comman;
        this.retail = retail;
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.hbProducts = [];
        this.hbDesigns = [];
        this.hbsubDesigns = [];
        this.searchhbsubDesigns = [];
        this.input = '';
        this.hbData = {};
        this.show = false;
    }
    SubdesignlistPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad SubdesignlistPage');
    };
    SubdesignlistPage.prototype.ionViewWillEnter = function () {
        if (this.hbData.hasOwnProperty('design_no')) {
            this.hbdesignSelected();
        }
        this.events.publish('entered', true);
        this.events.publish('pageno', 1);
    };
    SubdesignlistPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    SubdesignlistPage.prototype.openMasSearch = function (master) {
        var _this = this;
        console.log(master);
        if (master == 'Design') {
            if (this.hbData['pro_id']) {
                this.openMasModal({ 'searchArr': this.hbDesigns, page: master, listType: "normal" }, master);
            }
        }
        else if (master == 'Product') {
            if (this.hbProducts.length == 0) {
                var loader_1 = this.load.create({
                    content: 'Please Wait',
                    spinner: 'bubbles',
                });
                loader_1.present();
                this.retail.getProducts({ "type": "active", "id_category": "", "last_id": -1 }).then(function (data) {
                    _this.hbProducts = data;
                    loader_1.dismiss();
                    _this.openMasModal({ 'searchArr': _this.hbProducts, page: master, listType: "normal" }, master);
                });
            }
            else {
                this.openMasModal({ 'searchArr': this.hbProducts, page: master, listType: "normal" }, master);
            }
        }
    };
    SubdesignlistPage.prototype.openMasModal = function (data, master) {
        var _this = this;
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_4__modal_mas_search_mas_search__["a" /* MasSearchPage */], data);
        modal.present();
        modal.onDidDismiss(function (data) {
            if (data != null) {
                if (master == 'Design') {
                    _this.hbData['design_no'] = data.design_no;
                    _this.hbData['design_name'] = data.label;
                    _this.hbdesignSelected();
                    _this.show = true;
                }
                else if (master == 'Product') {
                    _this.hbData['pro_id'] = data.pro_id;
                    _this.hbData['tax_group_id'] = data.tax_group_id;
                    _this.hbData['tax_percentage'] = data.tax_percentage;
                    _this.hbData['calculation_based_on'] = data.calculation_based_on;
                    _this.hbData['metal_type'] = data.metal_type;
                    _this.hbData['product_name'] = (data.parent_prods_name != null ? data.parent_prods_name + ',' + data.label : data.label);
                    _this.hbProdSelected();
                }
            }
        });
    };
    SubdesignlistPage.prototype.hbProdSelected = function () {
        var _this = this;
        // if(this.hbDesigns.length == 0) {
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        this.retail.getDesigns({ "type": "active", "id_product": this.hbData['pro_id'], "last_id": -1 }).then(function (data) {
            _this.hbDesigns = data;
            loader.dismiss();
        });
        // }  
    };
    SubdesignlistPage.prototype.hbdesignSelected = function () {
        var _this = this;
        // if(this.hbDesigns.length == 0) {
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        this.comman.getsubdesigns({ "id_product": this.hbData['pro_id'], "design_no": this.hbData['design_no'] }).then(function (data) {
            _this.hbsubDesigns = data;
            _this.searchhbsubDesigns = data;
            loader.dismiss();
        });
        // }  
    };
    SubdesignlistPage.prototype.editdesign = function (data) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__pages_subdesignimg_subdesignimg__["a" /* SubdesignimgPage */], { 'data': data });
    };
    SubdesignlistPage.prototype.search = function () {
        var _this = this;
        this.hbsubDesigns = this.searchhbsubDesigns.filter(function (item) { return item['label'].toUpperCase().includes(_this.input.toUpperCase()); });
    };
    SubdesignlistPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-subdesignlist',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\subdesignlist\subdesignlist.html"*/'<!--\n  Generated template for the SubdesignlistPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n-->\n<ion-header>\n\n  <ion-navbar>\n    <!-- <button ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button> -->\n    <ion-title  style="text-align: center;\n    margin-right: 15%;"><img class="header-logo" src=\'assets/header.svg\'/></ion-title>\n  </ion-navbar>\n</ion-header>\n\n\n<ion-content padding>\n  <div style="margin-bottom: 100px;">\n  <ion-row>\n    <ion-col no-padding text-wrap col-12>\n      <div class="theme-title-blk"> <ion-icon name="pricetags"></ion-icon> Design List  <ion-badge color="light" float-right></ion-badge></div>\n    </ion-col>\n    </ion-row>\n  <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">   \n    <ion-item (tap)="openMasSearch(\'Product\')" no-padding>\n      <ion-label color="label-color" stacked>Product</ion-label>\n      <ion-input readonly=\'true\' type="text" [(ngModel)]="hbData[\'product_name\']"  ></ion-input>\n      <button  item-right ion-button clear color="dark" class="no-padding no-margin"  ><ion-icon name="arrow-dropdown"></ion-icon></button>\n    </ion-item>\n  </ion-col>\n  <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">   \n    <ion-item  (tap)="openMasSearch(\'Design\')" no-padding>\n      <ion-label color="label-color" stacked>Design</ion-label>\n      <ion-input readonly=\'true\'  type="text" [(ngModel)]="hbData[\'design_name\']" ></ion-input> \n      <button  item-right ion-button clear color="dark" class="no-padding no-margin" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n    </ion-item>\n  </ion-col>\n\n  <div *ngIf="show">\n\n    <ion-row >\n      <ion-col no-padding text-wrap col-12>\n        <div class="theme-title-blk"> <ion-icon name="pricetags"></ion-icon>Sub Design List<ion-badge color="light" float-right></ion-badge></div>\n      </ion-col>\n      </ion-row>\n  \n      <ion-searchbar [(ngModel)]="input" placeholder="Search"\n      (ionChange)="search()"         \n      ></ion-searchbar> \n  \n      <ion-row style="    margin-top: 10px;\n      border: 1px solid lightgrey;" *ngFor="let l of hbsubDesigns" (click)="editdesign(l)"> \n    \n    <ion-col  col-3 style="text-align: center;margin: auto;">\n      <img style="height: 70px;\n      width: 80px;\n      object-fit: cover;\n      object-position: center;" src="{{l[\'default_image\']}}" imageViewer="{{l[\'default_image\']}}" onerror="this.src=\'assets/no-img.png\'" />  \n          </ion-col>\n        <ion-col>\n          <div style="    padding: 5px;">Id : <span style="font-weight: bold;">{{l[\'id_sub_design\']}}\n          </span>\n          <ion-icon name="ios-create" style="float: right;color: red;    font-size: 2em !important;"></ion-icon>\n\n        </div>\n\n          <div style="    padding: 5px;font-weight: bold;">{{l[\'label\']}}\n            <!-- <ion-icon name="ios-create" style="float: right;"></ion-icon> -->\n          </div>\n         \n    \n        </ion-col>\n        <!-- <ion-col (click)="getEstiByEstiNo(l[\'esti_no\'])" col-3 style="text-align: center;margin: auto;">\n          <img style="height: 80px;\n          width: auto;" src="{{l[\'stockqrcode\']}}" imageViewer="{{l[\'stockqrcode\']}}" onerror="this.src=\'assets/no-img.png\'" />  \n              </ion-col> -->\n      </ion-row>\n    </div>\n  </div>\n</ion-content>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\subdesignlist\subdesignlist.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_2__providers_retail__["a" /* RetailProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */], __WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_2__providers_retail__["a" /* RetailProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */]])
    ], SubdesignlistPage);
    return SubdesignlistPage;
}());

//# sourceMappingURL=subdesignlist.js.map

/***/ }),

/***/ 418:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SubdesignimgPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ionic_native_camera__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ionic_native_transfer__ = __webpack_require__(58);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ionic_native_file_path__ = __webpack_require__(24);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ionic_cordova_plugin_ratio_crop__ = __webpack_require__(69);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__ionic_native_file__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__ionic_native_barcode_scanner__ = __webpack_require__(64);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__providers_retail__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__ionic_native_image_picker__ = __webpack_require__(65);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_ngx_image_compress__ = __webpack_require__(40);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};












// @IonicPage()
var SubdesignimgPage = /** @class */ (function () {
    function SubdesignimgPage(events, cd, imageCompress, alertCtrl, imagePicker, retail, barcodeScanner, toast, file, crop, filePath, platform, comman, transfer1, actionSheetCtrl, camera, load, navCtrl, navParams) {
        this.events = events;
        this.cd = cd;
        this.imageCompress = imageCompress;
        this.alertCtrl = alertCtrl;
        this.imagePicker = imagePicker;
        this.retail = retail;
        this.barcodeScanner = barcodeScanner;
        this.toast = toast;
        this.file = file;
        this.crop = crop;
        this.filePath = filePath;
        this.platform = platform;
        this.comman = comman;
        this.transfer1 = transfer1;
        this.actionSheetCtrl = actionSheetCtrl;
        this.camera = camera;
        this.load = load;
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.empData = JSON.parse(localStorage.getItem('empDetail'));
        this.code = '';
        this.image = '';
        this.imageid = '';
        this.imagename = '';
        this.stockcodes = [];
        this.searchcodes = [];
        this.images = [];
        this.createstock = false;
        this.input = '';
        this.progress = 0;
        this.show = false;
        this.whole = this.navParams.get('data');
        this.image = this.whole['default_image'];
        this.images = this.whole['img_details'];
        var y = Object.assign({}, this.images);
        this.images.reverse();
        this.loggedInBranch = this.empData['id_branch'];
    }
    SubdesignimgPage.prototype.ionViewWillEnter = function () {
        this.list();
        this.events.publish('entered', true);
        this.events.publish('pageno', 1);
    };
    SubdesignimgPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    SubdesignimgPage.prototype.list = function () {
        // let loader = this.load.create({
        //   content: 'Please Wait',
        //   spinner: 'bubbles',
        // });
        // loader.present();
        // this.comman.getstocklist().then(data=>{
        //   this.stockcodes = data['stockcodes'];
        //   this.searchcodes = data['stockcodes'];
        //   loader.dismiss();
        // },err=>{
        //   loader.dismiss();
        // });
    };
    SubdesignimgPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad CreatestockPage');
    };
    SubdesignimgPage.prototype.create = function () {
        if (this.createstock == false) {
            this.createstock = true;
        }
        else {
            this.createstock = false;
        }
    };
    SubdesignimgPage.prototype.presentActionSheet = function (data) {
        var _this = this;
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Select Image Source',
            buttons: [
                {
                    text: 'Load from Gallery',
                    handler: function () {
                        if (data == 'default') {
                            _this.takePicture(_this.camera.PictureSourceType.PHOTOLIBRARY);
                        }
                        else {
                            var options = {
                                maximumImagesCount: 2,
                                quality: 100,
                            };
                            _this.imagePicker.getPictures(options).then(function (results) {
                                if (results.length > 0) {
                                    _this.loading();
                                }
                                console.log('111111111111111');
                                for (var i = 0; i < results.length; i++) {
                                    console.log(results[i]);
                                    var documentURL = decodeURIComponent(results[i]);
                                    console.log(documentURL);
                                    results[i] = documentURL;
                                    console.log(results[i]);
                                    var temp = results.length - 1 == i ? true : false;
                                    var correctPath = results[i].substr(0, results[i].lastIndexOf('/') + 1);
                                    var currentName = results[i].substr(results[i].lastIndexOf('/') + 1);
                                    _this.copyFileToLocalDir(correctPath, currentName, _this.createFileName(), temp, 'gal');
                                }
                                ;
                            });
                        }
                    }
                },
                {
                    text: 'Take Picture',
                    handler: function () {
                        _this.takePicture(_this.camera.PictureSourceType.CAMERA);
                    }
                },
                {
                    text: 'Cancel',
                    role: 'cancel'
                }
            ]
        });
        actionSheet.present();
    };
    SubdesignimgPage.prototype.takePicture = function (sourceType) {
        var _this = this;
        // Create options for the Camera Dialog
        var options = {
            quality: 100,
            sourceType: sourceType,
            saveToPhotoAlbum: false,
            correctOrientation: true,
        };
        var cropOptions = {
            quality: 100,
            widthRatio: -1,
            heightRatio: -1
        };
        this.loading();
        // Get the data of an image
        this.camera.getPicture(options).then(function (imagePath) {
            console.log(imagePath);
            if (_this.platform.is('android') && sourceType === _this.camera.PictureSourceType.PHOTOLIBRARY) {
                console.log(imagePath);
                _this.crop.ratioCrop(imagePath, cropOptions).then(function (out) {
                    _this.filePath.resolveNativePath(out)
                        .then(function (filePath) {
                        console.log(filePath);
                        console.log(333333333333333);
                        var correctPath = filePath.substr(0, filePath.lastIndexOf('/') + 1);
                        //  let currentName = imagePath.substring( imagePath.lastIndexOf( '/' ) + 1, imagePath.lastIndexOf( '?' ) );
                        var currentName = filePath.substring(filePath.lastIndexOf('/') + 1);
                        // this.dismissLoader();
                        _this.copyFileToLocalDir(correctPath, currentName, _this.createFileName(), '', 'cam');
                        // this.uploadImage();
                    }, function (err) {
                        _this.dismissLoader();
                    });
                }, function (err) {
                    _this.dismissLoader();
                });
            }
            else {
                _this.crop.ratioCrop(imagePath, cropOptions).then(function (out) {
                    _this.filePath.resolveNativePath(out)
                        .then(function (filePath) {
                        console.log(filePath);
                        var currentName = filePath.substr(filePath.lastIndexOf('/') + 1);
                        var correctPath = filePath.substr(0, filePath.lastIndexOf('/') + 1);
                        // this.dismissLoader();
                        _this.copyFileToLocalDir(correctPath, currentName, _this.createFileName(), '', 'cam');
                        // this.uploadImage();
                    }, function (err) {
                        _this.dismissLoader();
                    });
                }, function (err) {
                    _this.dismissLoader();
                });
            }
        }, function (err) {
            _this.dismissLoader();
            console.log(err);
            console.log('Error while selecting image.');
        });
    };
    SubdesignimgPage.prototype.pathForImage = function (img) {
        if (img === null) {
            return '';
        }
        else {
            return cordova.file.dataDirectory + img;
        }
    };
    // Create a new name for the image
    SubdesignimgPage.prototype.createFileName = function () {
        var d = new Date(), n = d.getTime(), newFileName = n + ".jpg";
        return newFileName;
    };
    // Copy the image to a local folder
    SubdesignimgPage.prototype.copyFileToLocalDir = function (namePath, currentName, newFileName, index, type) {
        var _this = this;
        this.file.copyFile(namePath, currentName, cordova.file.dataDirectory, newFileName).then(function (success) {
            console.log(_this.pathForImage(newFileName));
            var orientation = -1;
            _this.imageCompress.compressFile(_this.pathForImage(newFileName), orientation, 100, 100).then(function (result) { return __awaiter(_this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    this.writeFile(result, this.createFileName(), index, type);
                    return [2 /*return*/];
                });
            }); }, function (err) {
                console.log(err);
            });
        }, function (error) {
            console.log(error);
        });
    };
    SubdesignimgPage.prototype.uploadImage = function (name) {
        var _this = this;
        var imgs = this.images.filter(function (data) { return !data.hasOwnProperty('id_design_img'); });
        if (imgs.length > 0) {
            // let loader = this.load.create( {
            //   content: "Uploading..."
            // } );
            // loader.present();
            this.show = true;
            console.log(imgs);
            imgs.forEach(function (element, index) { return __awaiter(_this, void 0, void 0, function () {
                var _this = this;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0: return [4 /*yield*/, new Promise(function (next) {
                                // Destination URL
                                var url = __WEBPACK_IMPORTED_MODULE_5__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/createSubDesignImage';
                                var d = new Date(), n = d.getTime();
                                // File for Upload
                                var targetPath = element['image_name'] + '?nocache=' + n;
                                // File name only
                                var filename = name;
                                var options = {
                                    fileKey: "name",
                                    fileName: element['name'],
                                    chunkedMode: false,
                                    mimeType: "image/jpeg",
                                    params: {
                                        fileName: element['name'],
                                        default: element['is_default'],
                                        id_sub_design: _this.whole['id_sub_design'],
                                        branch_id: _this.empData['id_branch'],
                                        created_by: _this.empData['uid'],
                                        id_sub_design_mapping: _this.whole['id_sub_design_mapping']
                                    }
                                };
                                var fileTransfer = _this.transfer1.create();
                                console.log(targetPath);
                                console.log(encodeURI(url));
                                console.log(options);
                                console.log(url);
                                // Use the FileTransfer to upload the image
                                fileTransfer.upload(targetPath, encodeURI(url), options).then(function (data) {
                                    console.log(data);
                                    if (index == imgs.length - 1) {
                                        setTimeout(function () {
                                            var result = JSON.parse(data.response);
                                            console.log(result);
                                            console.log(result['imageid']);
                                            // loader.dismissAll();
                                            // this.image = this.pathForImage(name);
                                            // this.imageid = result['imageid'];
                                            var check = _this.images.findIndex(function (data) { return data['image_name'] == element['image_name']; });
                                            _this.images[check]['id_design_img'] = result['imageid'];
                                            var toastMsg = _this.toast.create({
                                                message: "Image succesfully uploaded.",
                                                duration: _this.comman.toastTimeout,
                                                position: 'center'
                                            });
                                            toastMsg.present();
                                            _this.navCtrl.pop();
                                        }, 3000);
                                    }
                                    next();
                                }, function (err) {
                                    // loader.dismissAll()
                                    console.log(err);
                                    var toastMsg = _this.toast.create({
                                        message: "Error while uploading Image.",
                                        duration: _this.comman.toastTimeout,
                                        position: 'center'
                                    });
                                    toastMsg.present();
                                    next();
                                });
                                fileTransfer.onProgress(function (data) {
                                    console.log(data);
                                    _this.progress = Math.round((data.loaded / data.total) * 100);
                                    _this.refresh();
                                    console.log(_this.progress);
                                });
                            })];
                        case 1:
                            _a.sent();
                            return [2 /*return*/];
                    }
                });
            }); });
        }
        else {
            this.navCtrl.pop();
        }
    };
    SubdesignimgPage.prototype.loading = function () {
        this.loader = this.load.create({
            content: "Please Wait..."
        });
        this.loader.present();
    };
    SubdesignimgPage.prototype.dismissLoader = function () {
        this.loader.dismiss();
    };
    SubdesignimgPage.prototype.submit = function () {
        var check = this.images.findIndex(function (data) { return data['is_default'] == 1; });
        if (this.imagename != '' || check >= 0) {
            this.uploadImage(this.imagename);
        }
        else {
            var toastMsg = this.toast.create({
                message: "Please Upload Default Image.",
                duration: this.comman.toastTimeout,
                position: 'center'
            });
            toastMsg.present();
        }
    };
    SubdesignimgPage.prototype.search = function () {
        var _this = this;
        this.stockcodes = this.searchcodes.filter(function (item) { return item['stock_code'].toUpperCase().includes(_this.input.toUpperCase()); });
    };
    SubdesignimgPage.prototype.deletePhoto = function (index, data) {
        var _this = this;
        var confirm = this.alertCtrl.create({
            title: "Sure you want to delete this image? There is no undo!",
            message: '',
            buttons: [
                {
                    text: 'No',
                    handler: function () {
                        console.log('Disagree clicked');
                    }
                }, {
                    text: 'Yes',
                    handler: function () {
                        console.log('Agree clicked');
                        if (_this.images[index].hasOwnProperty('id_design_img')) {
                            var loader_1 = _this.load.create({
                                content: 'Please Wait',
                                spinner: 'dots',
                            });
                            loader_1.present();
                            var temp = { 'empcode': _this.empData['uid'], 'id_sub_design': _this.whole['id_sub_design'], id_sub_design_mapping: _this.whole['id_sub_design_mapping'], 'id_design_img': _this.whole['img_details'][index]['id_design_img'] };
                            _this.comman.deletegallery(temp).then(function (data) {
                                var toast = _this.toast.create({
                                    message: data['message'],
                                    duration: 3000,
                                    position: 'bottom'
                                });
                                loader_1.dismiss();
                                toast.present();
                                _this.images.splice(index, 1);
                                var check = _this.images.findIndex(function (data) { return data['is_default'] == 1; });
                                if (check < 0) {
                                    _this.imagename = '';
                                    _this.image = '';
                                }
                                else {
                                }
                            }, function (err) {
                                loader_1.dismiss();
                            });
                        }
                        else {
                            _this.images.splice(index, 1);
                            var check = _this.images.findIndex(function (data) { return data['is_default'] == 1; });
                            if (check < 0) {
                                _this.imagename = '';
                                _this.image = '';
                            }
                            else {
                            }
                        }
                    }
                }
            ]
        });
        confirm.present();
    };
    SubdesignimgPage.prototype.checkdefault = function (index) {
        var _this = this;
        console.log(this.images[index]);
        if (this.images[index].hasOwnProperty('id_design_img')) {
            var loader_2 = this.load.create({
                content: 'Please Wait',
                spinner: 'dots',
            });
            loader_2.present();
            if (this.images[index]['is_default'] == 0) {
                this.images[index]['is_default'] = 1;
                this.image = this.images[index]['image_name'];
                this.images.forEach(function (element, i) {
                    if (index == i) {
                    }
                    else {
                        _this.images[i]['is_default'] = 0;
                    }
                });
            }
            else {
                this.images[index]['is_default'] = 0;
                this.image = '';
                this.imagename = '';
            }
            var temp = { 'empcode': this.empData['uid'], 'id_sub_design': this.whole['id_sub_design'], id_sub_design_mapping: this.whole['id_sub_design_mapping'], 'id_design_img': this.whole['img_details'][index]['id_design_img'], 'is_default': this.images[index]['is_default'] };
            this.comman.updatedefault(temp).then(function (data) {
                var toast = _this.toast.create({
                    message: 'Default Image Updated Successfully',
                    duration: 3000,
                    position: 'bottom'
                });
                toast.present();
                loader_2.dismiss();
            });
        }
        else {
            if (this.images[index]['is_default'] == 0) {
                this.images[index]['is_default'] = 1;
                this.image = this.images[index]['image_name'];
                this.images.forEach(function (element, i) {
                    if (index == i) {
                    }
                    else {
                        _this.images[i]['is_default'] = 0;
                    }
                });
            }
            else {
                this.images[index]['is_default'] = 0;
                this.image = '';
                this.imagename = '';
            }
        }
    };
    //here is the method is used to write a file in storage
    SubdesignimgPage.prototype.writeFile = function (base64Data, fileName, index, type) {
        var _this = this;
        var contentType = this.getContentType(base64Data);
        var DataBlob = this.base64toBlob(base64Data, contentType);
        // here iam mentioned this line this.file.externalRootDirectory is a native pre-defined file path storage. You can change a file path whatever pre-defined method.
        var filePath = cordova.file.dataDirectory;
        this.file.writeFile(filePath, fileName, DataBlob, contentType).then(function (success) {
            console.log(success['nativeURL']);
            var currentName = success['nativeURL'].substr(success['nativeURL'].lastIndexOf('/') + 1);
            var correctPath = success['nativeURL'].substr(0, success['nativeURL'].lastIndexOf('/') + 1);
            console.log("File Writed Successfully", success);
            console.log(currentName);
            console.log(correctPath);
            // this.targetPaths.push( success['nativeURL'])
            // this.filenames.push( currentName );
            // this.copyFileToLocalDir( correctPath, currentName, this.createFileName() );
            // this.uploadImage(currentName)
            if (type == 'gal') {
                _this.images.push({ 'image_name': success['nativeURL'], 'is_default': 0, 'name': currentName });
                var y = Object.assign({}, _this.images);
                _this.images.reverse();
                if (index == true) {
                    _this.dismissLoader();
                }
            }
            else {
                _this.images.forEach(function (element, i) {
                    _this.images[i]['is_default'] = 0;
                });
                _this.imagename = currentName;
                _this.image = success['nativeURL'];
                _this.images.push({ 'image_name': _this.image, 'is_default': 1, 'name': currentName });
                var y = Object.assign({}, _this.images);
                _this.images.reverse();
                _this.dismissLoader();
            }
        }).catch(function (err) {
            console.log("Error Occured While Writing File", err);
        });
    };
    //here is the method is used to get content type of an bas64 data
    SubdesignimgPage.prototype.getContentType = function (base64Data) {
        var block = base64Data.split(";");
        var contentType = block[0].split(":")[1];
        return contentType;
    };
    //here is the method is used to convert base64 data to blob data
    SubdesignimgPage.prototype.base64toBlob = function (b64Data, contentType) {
        contentType = contentType || '';
        var sliceSize = 512;
        var byteCharacters = atob(b64Data.replace(/^data:image\/(png|jpeg|jpg);base64,/, ''));
        var byteArrays = [];
        for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {
            var slice = byteCharacters.slice(offset, offset + sliceSize);
            var byteNumbers = new Array(slice.length);
            for (var i = 0; i < slice.length; i++) {
                byteNumbers[i] = slice.charCodeAt(i);
            }
            var byteArray = new Uint8Array(byteNumbers);
            byteArrays.push(byteArray);
        }
        var blob = new Blob(byteArrays, {
            type: contentType
        });
        return blob;
    };
    SubdesignimgPage.prototype.refresh = function () {
        console.log('refresheed');
        this.cd.detectChanges();
    };
    SubdesignimgPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-subdesignimg',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\subdesignimg\subdesignimg.html"*/'<!--\n  Generated template for the CreatestockPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n-->\n<ion-header>\n\n  <ion-navbar>\n    <button ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n    <ion-title  style="text-align: center;\n    margin-right: 15%;"><img class="header-logo" src=\'assets/header.svg\'/></ion-title>\n  </ion-navbar>\n\n</ion-header>\n\n\n<ion-content padding>\n  <div style="margin-bottom: 100px;">\n\n  <ion-row style="margin-bottom: 20px;">\n    <ion-col no-padding text-wrap col-12>\n      <div class="theme-title-blk"> <ion-icon name="pricetags"></ion-icon>Edit Subdesign<ion-badge color="light" float-right></ion-badge></div>\n    </ion-col>\n    </ion-row>\n\n  <ion-row style="    margin-bottom: 15px;">\n    <ion-col>\n      Sub Design Name * &nbsp;&nbsp;:\n    </ion-col>\n    <ion-col>\n      {{whole[\'label\']}}\n    </ion-col>\n  </ion-row>\n\n  <ion-row style="    margin-bottom: 15px;"> \n    <ion-col style="margin: auto;">\n      Default Image *\n    </ion-col>\n    <ion-col>\n      <div class="row" >\n  <div style="\n  height: 80px;\n  width: 100px;\n" class="col">\n<img style="height: 80px;\nwidth: 90px;\nobject-fit: cover;\nobject-position: center;" src="{{image}}" imageViewer="{{image}}" onerror="this.src=\'assets/no-img.png\'" />\n\n  </div>\n  <div (click)="presentActionSheet(\'default\')" class="col" style="text-align: end;margin: auto;">\n    <span style="padding:5px;border: 1px solid lightgray;"><ion-icon name="add"></ion-icon></span>\n\n  </div>\n\n      </div>\n    </ion-col>\n  </ion-row>\n  <ion-grid>\n\n    <ion-col style="margin: auto;">\n      Add Images <span style="font-weight: bold;" *ngIf="images.length > 0">- ({{images.length}})</span> *\n    </ion-col>\n        <ion-row>\n      <ion-col col-10 style="margin-top: 30px;">\n        <!-- <ion-row>\n        \n          <div *ngIf="images.length > 0" class="coverphoto">\n            <button style="width: 135px;background: transparent !important;margin-bottom: 10px;" *ngFor="let targetPath of images; let id = index">\n           <div class="row">\n              <div  class="col" col-10 no-padding><img class="uploadimg1" src="{{targetPath[\'image_name\']}}" imageViewer="{{targetPath[\'image_name\']}}" onerror="this.src=\'assets/no-img.png\'"\n            *ngIf="targetPath" /></div><div class="col" col-2 no-padding  ><ion-icon (click)="checkdefault(id)" [ngClass]="targetPath[\'is_default\'] == 1 ? \'one\':\'two\'" style="padding: 0px !important;" name="checkmark-circle"></ion-icon><ion-icon (click)="deletePhoto(id)" style="padding: 0px !important;color: red;bottom: 0;\n              right: 0;\n              position: absolute;" name="close-circle"></ion-icon></div>\n          </div>\n          </button>\n          </div>\n\n        </ion-row> -->\n        \n          <div style="margin-bottom:10px" class="row" *ngFor="let targetPath of images; let id = index" >\n            <!-- <button style="width: 135px;background: transparent !important;margin-bottom: 10px;" *ngFor="let targetPath of images; let id = index"> -->\n              <div class="col"  col-3 no-padding style="text-align: center;" >\n                Default<br>\n                <ion-icon (click)="checkdefault(id)" [ngClass]="targetPath[\'is_default\'] == 1 ? \'one\':\'two\'" style="padding: 0px !important;    font-size: 1.8em;" name="checkmark-circle"></ion-icon>\n             </div>\n              <div  class="col" col-7 no-padding style="text-align:center;"><img class="uploadimg1" src="{{targetPath[\'image_name\']}}" imageViewer="{{targetPath[\'image_name\']}}" onerror="this.src=\'assets/no-img.png\'"\n            *ngIf="targetPath" /></div><div style="margin: auto;" class="col" col-2 no-padding  >\n            <ion-icon (click)="deletePhoto(id)" style="padding: 0px !important;color: red;    font-size: 1.8em;" name="close-circle"></ion-icon></div>\n          <!-- </button> -->\n          </div>\n\n      </ion-col>\n      <ion-col style="margin: auto;" col-2 (click)="presentActionSheet(\'gallery\')">\n        <div  class="col" style="text-align: end;margin: auto;">\n          <span style="padding:5px;border: 1px solid lightgray;"><ion-icon name="add"></ion-icon></span>\n      \n        </div>      </ion-col>\n    </ion-row>\n</ion-grid>\n  <div style="text-align: center;margin-top:20px;">\n    <button (click)="submit()" ion-button style="background:#000000 !important">Submit</button>\n  </div>\n</div>\n</ion-content>\n<ion-footer style="bottom: 83px !important;">\n<div *ngIf="show == true"  style="text-align: center;    margin-top: 5px;">\n  Upload Progress : \n</div>\n<div *ngIf="show == true" class="progress-outer">\n  <div class="progress-inner" [style.width]="progress + \'%\'">\n      {{progress}}%\n  </div>\n</div>\n</ion-footer>'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\subdesignimg\subdesignimg.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_5__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_9__providers_retail__["a" /* RetailProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_0__angular_core__["j" /* ChangeDetectorRef */], __WEBPACK_IMPORTED_MODULE_11_ngx_image_compress__["a" /* NgxImageCompressService */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["b" /* AlertController */], __WEBPACK_IMPORTED_MODULE_10__ionic_native_image_picker__["a" /* ImagePicker */], __WEBPACK_IMPORTED_MODULE_9__providers_retail__["a" /* RetailProvider */], __WEBPACK_IMPORTED_MODULE_8__ionic_native_barcode_scanner__["a" /* BarcodeScanner */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_7__ionic_native_file__["a" /* File */], __WEBPACK_IMPORTED_MODULE_6_ionic_cordova_plugin_ratio_crop__["a" /* RatioCrop */], __WEBPACK_IMPORTED_MODULE_4__ionic_native_file_path__["a" /* FilePath */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["x" /* Platform */], __WEBPACK_IMPORTED_MODULE_5__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_3__ionic_native_transfer__["a" /* Transfer */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["a" /* ActionSheetController */], __WEBPACK_IMPORTED_MODULE_2__ionic_native_camera__["a" /* Camera */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */]])
    ], SubdesignimgPage);
    return SubdesignimgPage;
}());

//# sourceMappingURL=subdesignimg.js.map

/***/ }),

/***/ 419:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DesignlistPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_retail__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__modal_mas_search_mas_search__ = __webpack_require__(96);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__designimg_designimg__ = __webpack_require__(420);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






/**
 * Generated class for the SubdesignlistPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
// @IonicPage()
var DesignlistPage = /** @class */ (function () {
    function DesignlistPage(events, load, toast, modal, comman, retail, navCtrl, navParams) {
        this.events = events;
        this.load = load;
        this.toast = toast;
        this.modal = modal;
        this.comman = comman;
        this.retail = retail;
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.hbProducts = [];
        this.hbDesigns = [];
        this.searchhbDesigns = [];
        this.hbsubDesigns = [];
        this.searchhbsubDesigns = [];
        this.input = '';
        this.hbData = {};
        this.show = false;
    }
    DesignlistPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad SubdesignlistPage');
    };
    DesignlistPage.prototype.ionViewWillEnter = function () {
        if (this.hbData.hasOwnProperty('pro_id')) {
            this.hbProdSelected();
        }
        this.events.publish('entered', true);
        this.events.publish('pageno', 1);
    };
    DesignlistPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    DesignlistPage.prototype.openMasSearch = function (master) {
        var _this = this;
        console.log(master);
        if (this.hbProducts.length == 0) {
            var loader_1 = this.load.create({
                content: 'Please Wait',
                spinner: 'bubbles',
            });
            loader_1.present();
            this.retail.getProducts({ "type": "active", "id_category": "", "last_id": -1 }).then(function (data) {
                _this.hbProducts = data;
                loader_1.dismiss();
                _this.openMasModal({ 'searchArr': _this.hbProducts, page: master, listType: "normal" }, master);
            });
        }
        else if (master == 'Design') {
            if (this.hbData['pro_id']) {
                this.openMasModal({ 'searchArr': this.hbDesigns, page: master, listType: "normal" }, master);
            }
        }
        else {
            this.openMasModal({ 'searchArr': this.hbProducts, page: master, listType: "normal" }, master);
        }
    };
    DesignlistPage.prototype.openMasModal = function (data, master) {
        var _this = this;
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_4__modal_mas_search_mas_search__["a" /* MasSearchPage */], data);
        modal.present();
        modal.onDidDismiss(function (data) {
            if (data != null) {
                if (master == 'Design') {
                    _this.hbData['id_design'] = data.id_design;
                    _this.hbData['design_name'] = data.label;
                    _this.hbdesignSelected();
                    _this.show = true;
                }
                else if (master == 'Product') {
                    _this.hbData['pro_id'] = data.pro_id;
                    _this.hbData['tax_group_id'] = data.tax_group_id;
                    _this.hbData['tax_percentage'] = data.tax_percentage;
                    _this.hbData['calculation_based_on'] = data.calculation_based_on;
                    _this.hbData['metal_type'] = data.metal_type;
                    _this.hbData['product_name'] = (data.parent_prods_name != null ? data.parent_prods_name + ',' + data.label : data.label);
                    _this.hbProdSelected();
                }
            }
        });
    };
    DesignlistPage.prototype.hbProdSelected = function () {
        var _this = this;
        // if(this.hbDesigns.length == 0) {
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        this.retail.getDesigns({ "type": "active", "id_product": this.hbData['pro_id'], "last_id": -1 }).then(function (data) {
            _this.hbDesigns = data;
            _this.searchhbDesigns = data;
            _this.show = true;
            loader.dismiss();
        });
        // }  
    };
    DesignlistPage.prototype.hbdesignSelected = function () {
        var _this = this;
        // if(this.hbDesigns.length == 0) {
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        this.comman.getsubdesigns({ "id_product": this.hbData['pro_id'], "design_no": this.hbData['id_design'] }).then(function (data) {
            _this.hbsubDesigns = data;
            _this.searchhbsubDesigns = data;
            loader.dismiss();
        });
        // }  
    };
    DesignlistPage.prototype.editdesign = function (data) {
        this.hbData['id_design'] = data.id_design;
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__designimg_designimg__["a" /* DesignimgPage */], { 'data': data });
    };
    DesignlistPage.prototype.search = function () {
        var _this = this;
        this.hbDesigns = this.searchhbDesigns.filter(function (item) { return item['label'].toUpperCase().includes(_this.input.toUpperCase()); });
    };
    DesignlistPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-designlist',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\designlist\designlist.html"*/'<!--\n  Generated template for the SubdesignlistPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n-->\n<ion-header>\n\n  <ion-navbar>\n    <!-- <button ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button> -->\n    <ion-title  style="text-align: center;\n    margin-right: 15%;"><img class="header-logo" src=\'assets/header.svg\'/></ion-title>\n  </ion-navbar>\n</ion-header>\n\n\n<ion-content padding>\n  <div style="margin-bottom: 100px;">\n\n  <ion-row>\n    <ion-col no-padding text-wrap col-12>\n      <div class="theme-title-blk"> <ion-icon name="pricetags"></ion-icon> Product List  <ion-badge color="light" float-right></ion-badge></div>\n    </ion-col>\n    </ion-row>\n  <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">   \n    <ion-item (tap)="openMasSearch(\'Product\')" no-padding>\n      <ion-label color="label-color" stacked>Product</ion-label>\n      <ion-input readonly=\'true\' type="text" [(ngModel)]="hbData[\'product_name\']"  ></ion-input>\n      <button  item-right ion-button clear color="dark" class="no-padding no-margin"  ><ion-icon name="arrow-dropdown"></ion-icon></button>\n    </ion-item>\n  </ion-col>\n  <!-- <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">   \n    <ion-item  (tap)="openMasSearch(\'Design\')" no-padding>\n      <ion-label color="label-color" stacked>Design</ion-label>\n      <ion-input readonly=\'true\'  type="text" [(ngModel)]="hbData[\'design_name\']" ></ion-input> \n      <button  item-right ion-button clear color="dark" class="no-padding no-margin" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n    </ion-item>\n  </ion-col> -->\n\n  <div *ngIf="show">\n\n    <ion-row>\n      <ion-col no-padding text-wrap col-12>\n        <div class="theme-title-blk"> <ion-icon name="pricetags"></ion-icon>Design List<ion-badge color="light" float-right></ion-badge></div>\n      </ion-col>\n      </ion-row>\n  \n      <ion-searchbar [(ngModel)]="input" placeholder="Search" (ionChange)="search()"></ion-searchbar> \n  \n      <ion-row style="    margin-top: 10px;\n      border: 1px solid lightgrey;" *ngFor="let l of hbDesigns" (click)="editdesign(l)"> \n    \n    <ion-col  col-3 style="text-align: center;margin: auto;">\n      <img style="height: 70px;\n      width: 80px;\n      object-fit: cover;\n      object-position: center;" src="{{l[\'default_image\']}}" imageViewer="{{l[\'default_image\']}}" onerror="this.src=\'assets/no-img.png\'" />  \n          </ion-col>\n        <ion-col>\n          <div style="padding: 5px;">Id : <span style="font-weight: bold;">{{l[\'id_design\']}}</span></div>\n\n          <div style="padding: 5px;font-weight: bold;">{{l[\'label\']}}\n            <ion-icon name="ios-create" style="float: right;"></ion-icon>\n          </div>\n         \n    \n        </ion-col>\n        <!-- <ion-col (click)="getEstiByEstiNo(l[\'esti_no\'])" col-3 style="text-align: center;margin: auto;">\n          <img style="height: 80px;\n          width: auto;" src="{{l[\'stockqrcode\']}}" imageViewer="{{l[\'stockqrcode\']}}" onerror="this.src=\'assets/no-img.png\'" />  \n              </ion-col> -->\n      </ion-row>\n    </div>\n    </div>\n</ion-content>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\designlist\designlist.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_2__providers_retail__["a" /* RetailProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */], __WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_2__providers_retail__["a" /* RetailProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */]])
    ], DesignlistPage);
    return DesignlistPage;
}());

//# sourceMappingURL=designlist.js.map

/***/ }),

/***/ 420:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DesignimgPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ionic_native_camera__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ionic_native_transfer__ = __webpack_require__(58);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ionic_native_file_path__ = __webpack_require__(24);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ionic_cordova_plugin_ratio_crop__ = __webpack_require__(69);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__ionic_native_file__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__ionic_native_barcode_scanner__ = __webpack_require__(64);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__providers_retail__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__ionic_native_image_picker__ = __webpack_require__(65);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_ngx_image_compress__ = __webpack_require__(40);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};












// @IonicPage()
var DesignimgPage = /** @class */ (function () {
    function DesignimgPage(events, cd, imageCompress, alertCtrl, imagePicker, retail, barcodeScanner, toast, file, crop, filePath, platform, comman, transfer1, actionSheetCtrl, camera, load, navCtrl, navParams) {
        this.events = events;
        this.cd = cd;
        this.imageCompress = imageCompress;
        this.alertCtrl = alertCtrl;
        this.imagePicker = imagePicker;
        this.retail = retail;
        this.barcodeScanner = barcodeScanner;
        this.toast = toast;
        this.file = file;
        this.crop = crop;
        this.filePath = filePath;
        this.platform = platform;
        this.comman = comman;
        this.transfer1 = transfer1;
        this.actionSheetCtrl = actionSheetCtrl;
        this.camera = camera;
        this.load = load;
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.empData = JSON.parse(localStorage.getItem('empDetail'));
        this.code = '';
        this.image = '';
        this.imageid = '';
        this.imagename = '';
        this.stockcodes = [];
        this.searchcodes = [];
        this.images = [];
        this.createstock = false;
        this.input = '';
        this.progress = 0;
        this.show = false;
        this.whole = this.navParams.get('data');
        this.image = this.whole['default_image'];
        this.images = this.whole['img_details'];
        var y = Object.assign({}, this.images);
        this.images.reverse();
        this.loggedInBranch = this.empData['id_branch'];
    }
    DesignimgPage.prototype.ionViewWillEnter = function () {
        this.list();
        this.events.publish('entered', true);
        this.events.publish('pageno', 1);
    };
    DesignimgPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    DesignimgPage.prototype.list = function () {
        // let loader = this.load.create({
        //   content: 'Please Wait',
        //   spinner: 'bubbles',
        // });
        // loader.present();
        // this.comman.getstocklist().then(data=>{
        //   this.stockcodes = data['stockcodes'];
        //   this.searchcodes = data['stockcodes'];
        //   loader.dismiss();
        // },err=>{
        //   loader.dismiss();
        // });
    };
    DesignimgPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad CreatestockPage');
    };
    DesignimgPage.prototype.create = function () {
        if (this.createstock == false) {
            this.createstock = true;
        }
        else {
            this.createstock = false;
        }
    };
    DesignimgPage.prototype.presentActionSheet = function (data) {
        var _this = this;
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Select Image Source',
            buttons: [
                {
                    text: 'Load from Gallery',
                    handler: function () {
                        if (data == 'default') {
                            _this.takePicture(_this.camera.PictureSourceType.PHOTOLIBRARY);
                        }
                        else {
                            var options = {
                                maximumImagesCount: 2,
                                quality: 100,
                            };
                            _this.imagePicker.getPictures(options).then(function (results) {
                                if (results.length > 0) {
                                    _this.loading();
                                }
                                console.log('111111111111111');
                                for (var i = 0; i < results.length; i++) {
                                    console.log(results[i]);
                                    var documentURL = decodeURIComponent(results[i]);
                                    console.log(documentURL);
                                    results[i] = documentURL;
                                    console.log(results[i]);
                                    var temp = results.length - 1 == i ? true : false;
                                    var correctPath = results[i].substr(0, results[i].lastIndexOf('/') + 1);
                                    var currentName = results[i].substr(results[i].lastIndexOf('/') + 1);
                                    _this.copyFileToLocalDir(correctPath, currentName, _this.createFileName(), temp, 'gal');
                                }
                                ;
                            });
                        }
                    }
                },
                {
                    text: 'Take Picture',
                    handler: function () {
                        _this.takePicture(_this.camera.PictureSourceType.CAMERA);
                    }
                },
                {
                    text: 'Cancel',
                    role: 'cancel'
                }
            ]
        });
        actionSheet.present();
    };
    DesignimgPage.prototype.takePicture = function (sourceType) {
        var _this = this;
        // Create options for the Camera Dialog
        var options = {
            quality: 100,
            sourceType: sourceType,
            saveToPhotoAlbum: false,
            correctOrientation: true,
        };
        var cropOptions = {
            quality: 100,
            widthRatio: -1,
            heightRatio: -1
        };
        this.loading();
        // Get the data of an image
        this.camera.getPicture(options).then(function (imagePath) {
            console.log(imagePath);
            if (_this.platform.is('android') && sourceType === _this.camera.PictureSourceType.PHOTOLIBRARY) {
                console.log(imagePath);
                _this.crop.ratioCrop(imagePath, cropOptions).then(function (out) {
                    _this.filePath.resolveNativePath(out)
                        .then(function (filePath) {
                        console.log(filePath);
                        console.log(333333333333333);
                        var correctPath = filePath.substr(0, filePath.lastIndexOf('/') + 1);
                        //  let currentName = imagePath.substring( imagePath.lastIndexOf( '/' ) + 1, imagePath.lastIndexOf( '?' ) );
                        var currentName = filePath.substring(filePath.lastIndexOf('/') + 1);
                        // this.dismissLoader();
                        _this.copyFileToLocalDir(correctPath, currentName, _this.createFileName(), '', 'cam');
                        // this.uploadImage();
                    }, function (err) {
                        _this.dismissLoader();
                    });
                }, function (err) {
                    _this.dismissLoader();
                });
            }
            else {
                _this.crop.ratioCrop(imagePath, cropOptions).then(function (out) {
                    _this.filePath.resolveNativePath(out)
                        .then(function (filePath) {
                        console.log(filePath);
                        var currentName = filePath.substr(filePath.lastIndexOf('/') + 1);
                        var correctPath = filePath.substr(0, filePath.lastIndexOf('/') + 1);
                        // this.dismissLoader();
                        _this.copyFileToLocalDir(correctPath, currentName, _this.createFileName(), '', 'cam');
                        // this.uploadImage();
                    }, function (err) {
                        _this.dismissLoader();
                    });
                }, function (err) {
                    _this.dismissLoader();
                });
            }
        }, function (err) {
            _this.dismissLoader();
            console.log(err);
            console.log('Error while selecting image.');
        });
    };
    DesignimgPage.prototype.pathForImage = function (img) {
        if (img === null) {
            return '';
        }
        else {
            return cordova.file.dataDirectory + img;
        }
    };
    // Create a new name for the image
    DesignimgPage.prototype.createFileName = function () {
        var d = new Date(), n = d.getTime(), newFileName = n + ".jpg";
        return newFileName;
    };
    // Copy the image to a local folder
    DesignimgPage.prototype.copyFileToLocalDir = function (namePath, currentName, newFileName, index, type) {
        var _this = this;
        this.file.copyFile(namePath, currentName, cordova.file.dataDirectory, newFileName).then(function (success) {
            console.log(_this.pathForImage(newFileName));
            var orientation = -1;
            _this.imageCompress.compressFile(_this.pathForImage(newFileName), orientation, 100, 100).then(function (result) { return __awaiter(_this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    this.writeFile(result, this.createFileName(), index, type);
                    return [2 /*return*/];
                });
            }); }, function (err) {
                console.log(err);
            });
        }, function (error) {
            console.log(error);
        });
    };
    DesignimgPage.prototype.uploadImage = function (name) {
        var _this = this;
        var imgs = this.images.filter(function (data) { return !data.hasOwnProperty('id_desmap_img'); });
        if (imgs.length > 0) {
            // let loader = this.load.create( {
            //   content: "Uploading..."
            // } );
            // loader.present();
            this.show = true;
            console.log(imgs);
            imgs.forEach(function (element, index) { return __awaiter(_this, void 0, void 0, function () {
                var _this = this;
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0: return [4 /*yield*/, new Promise(function (next) {
                                // Destination URL
                                var url = __WEBPACK_IMPORTED_MODULE_5__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/createDesignImage';
                                var d = new Date(), n = d.getTime();
                                // File for Upload
                                var targetPath = element['image_name'] + '?nocache=' + n;
                                // File name only
                                var filename = name;
                                var options = {
                                    fileKey: "name",
                                    fileName: element['name'],
                                    chunkedMode: false,
                                    mimeType: "image/jpeg",
                                    params: {
                                        fileName: element['name'],
                                        default: element['is_default'],
                                        id_design: _this.whole['id_design'],
                                        branch_id: _this.empData['id_branch'],
                                        created_by: _this.empData['uid'],
                                        id_design_mapping: _this.whole['id_design_mapping']
                                    }
                                };
                                var fileTransfer = _this.transfer1.create();
                                console.log(targetPath);
                                console.log(encodeURI(url));
                                console.log(options);
                                console.log(url);
                                // Use the FileTransfer to upload the image
                                fileTransfer.upload(targetPath, encodeURI(url), options).then(function (data) {
                                    console.log(data);
                                    if (index == imgs.length - 1) {
                                        setTimeout(function () {
                                            var result = JSON.parse(data.response);
                                            console.log(result);
                                            console.log(result['imageid']);
                                            // loader.dismissAll();
                                            // this.image = this.pathForImage(name);
                                            // this.imageid = result['imageid'];
                                            var check = _this.images.findIndex(function (data) { return data['image_name'] == element['image_name']; });
                                            _this.images[check]['id_desmap_img'] = result['imageid'];
                                            var toastMsg = _this.toast.create({
                                                message: "Image succesfully uploaded.",
                                                duration: _this.comman.toastTimeout,
                                                position: 'center'
                                            });
                                            toastMsg.present();
                                            _this.navCtrl.pop();
                                        }, 3000);
                                    }
                                    next();
                                }, function (err) {
                                    // loader.dismissAll()
                                    console.log(err);
                                    var toastMsg = _this.toast.create({
                                        message: "Error while uploading Image.",
                                        duration: _this.comman.toastTimeout,
                                        position: 'center'
                                    });
                                    toastMsg.present();
                                    next();
                                });
                                fileTransfer.onProgress(function (data) {
                                    console.log(data);
                                    _this.progress = Math.round((data.loaded / data.total) * 100);
                                    _this.refresh();
                                    console.log(_this.progress);
                                });
                            })];
                        case 1:
                            _a.sent();
                            return [2 /*return*/];
                    }
                });
            }); });
        }
        else {
            this.navCtrl.pop();
        }
    };
    DesignimgPage.prototype.loading = function () {
        this.loader = this.load.create({
            content: "Please Wait..."
        });
        this.loader.present();
    };
    DesignimgPage.prototype.dismissLoader = function () {
        this.loader.dismiss();
    };
    DesignimgPage.prototype.submit = function () {
        var check = this.images.findIndex(function (data) { return data['is_default'] == 1; });
        if (this.imagename != '' || check >= 0) {
            this.uploadImage(this.imagename);
        }
        else {
            var toastMsg = this.toast.create({
                message: "Please Upload Default Image.",
                duration: this.comman.toastTimeout,
                position: 'center'
            });
            toastMsg.present();
        }
    };
    DesignimgPage.prototype.search = function () {
        var _this = this;
        this.stockcodes = this.searchcodes.filter(function (item) { return item['stock_code'].toUpperCase().includes(_this.input.toUpperCase()); });
    };
    DesignimgPage.prototype.deletePhoto = function (index, data) {
        var _this = this;
        // ${data}
        var confirm = this.alertCtrl.create({
            title: "Sure you want to delete this image? There is no undo!",
            message: '',
            buttons: [
                {
                    text: 'No',
                    handler: function () {
                        console.log('Disagree clicked');
                    }
                }, {
                    text: 'Yes',
                    handler: function () {
                        console.log('Agree clicked');
                        if (_this.images[index].hasOwnProperty('id_desmap_img')) {
                            var loader_1 = _this.load.create({
                                content: 'Please Wait',
                                spinner: 'dots',
                            });
                            loader_1.present();
                            var temp = { 'empcode': _this.empData['uid'], 'id_design': _this.whole['id_design'], id_design_mapping: _this.whole['id_design_mapping'], 'id_desmap_img': _this.whole['img_details'][index]['id_desmap_img'] };
                            _this.comman.deletedesgallery(temp).then(function (data) {
                                var toast = _this.toast.create({
                                    message: data['message'],
                                    duration: 3000,
                                    position: 'bottom'
                                });
                                loader_1.dismiss();
                                toast.present();
                                _this.images.splice(index, 1);
                                var check = _this.images.findIndex(function (data) { return data['is_default'] == 1; });
                                if (check < 0) {
                                    _this.imagename = '';
                                    _this.image = '';
                                }
                                else {
                                }
                            }, function (err) {
                                loader_1.dismiss();
                            });
                        }
                        else {
                            _this.images.splice(index, 1);
                            var check = _this.images.findIndex(function (data) { return data['is_default'] == 1; });
                            if (check < 0) {
                                _this.imagename = '';
                                _this.image = '';
                            }
                            else {
                            }
                        }
                    }
                }
            ]
        });
        confirm.present();
    };
    DesignimgPage.prototype.checkdefault = function (index) {
        var _this = this;
        console.log(this.images[index]);
        if (this.images[index].hasOwnProperty('id_desmap_img')) {
            var loader_2 = this.load.create({
                content: 'Please Wait',
                spinner: 'dots',
            });
            loader_2.present();
            if (this.images[index]['is_default'] == 0) {
                this.images[index]['is_default'] = 1;
                this.image = this.images[index]['image_name'];
                this.images.forEach(function (element, i) {
                    if (index == i) {
                    }
                    else {
                        _this.images[i]['is_default'] = 0;
                    }
                });
            }
            else {
                this.images[index]['is_default'] = 0;
                this.image = '';
                this.imagename = '';
            }
            var temp = { 'empcode': this.empData['uid'], 'id_design': this.whole['id_design'], id_design_mapping: this.whole['id_design_mapping'], 'id_desmap_img': this.whole['img_details'][index]['id_desmap_img'], 'is_default': this.images[index]['is_default'] };
            this.comman.updatedefaultdes(temp).then(function (data) {
                var toast = _this.toast.create({
                    message: 'Default Image Updated Successfully',
                    duration: 3000,
                    position: 'bottom'
                });
                toast.present();
                loader_2.dismiss();
            });
        }
        else {
            if (this.images[index]['is_default'] == 0) {
                this.images[index]['is_default'] = 1;
                this.image = this.images[index]['image_name'];
                this.images.forEach(function (element, i) {
                    if (index == i) {
                    }
                    else {
                        _this.images[i]['is_default'] = 0;
                    }
                });
            }
            else {
                this.images[index]['is_default'] = 0;
                this.image = '';
                this.imagename = '';
            }
        }
    };
    //here is the method is used to write a file in storage
    DesignimgPage.prototype.writeFile = function (base64Data, fileName, index, type) {
        var _this = this;
        var contentType = this.getContentType(base64Data);
        var DataBlob = this.base64toBlob(base64Data, contentType);
        // here iam mentioned this line this.file.externalRootDirectory is a native pre-defined file path storage. You can change a file path whatever pre-defined method.
        var filePath = cordova.file.dataDirectory;
        this.file.writeFile(filePath, fileName, DataBlob, contentType).then(function (success) {
            console.log(success['nativeURL']);
            var currentName = success['nativeURL'].substr(success['nativeURL'].lastIndexOf('/') + 1);
            var correctPath = success['nativeURL'].substr(0, success['nativeURL'].lastIndexOf('/') + 1);
            console.log("File Writed Successfully", success);
            console.log(currentName);
            console.log(correctPath);
            // this.targetPaths.push( success['nativeURL'])
            // this.filenames.push( currentName );
            // this.copyFileToLocalDir( correctPath, currentName, this.createFileName() );
            // this.uploadImage(currentName)
            if (type == 'gal') {
                _this.images.push({ 'image_name': success['nativeURL'], 'is_default': 0, 'name': currentName });
                var y = Object.assign({}, _this.images);
                _this.images.reverse();
                if (index == true) {
                    _this.dismissLoader();
                }
            }
            else {
                _this.images.forEach(function (element, i) {
                    _this.images[i]['is_default'] = 0;
                });
                _this.imagename = currentName;
                _this.image = success['nativeURL'];
                _this.images.push({ 'image_name': _this.image, 'is_default': 1, 'name': currentName });
                var y = Object.assign({}, _this.images);
                _this.images.reverse();
                _this.dismissLoader();
            }
        }).catch(function (err) {
            console.log("Error Occured While Writing File", err);
        });
    };
    //here is the method is used to get content type of an bas64 data
    DesignimgPage.prototype.getContentType = function (base64Data) {
        var block = base64Data.split(";");
        var contentType = block[0].split(":")[1];
        return contentType;
    };
    //here is the method is used to convert base64 data to blob data
    DesignimgPage.prototype.base64toBlob = function (b64Data, contentType) {
        contentType = contentType || '';
        var sliceSize = 512;
        var byteCharacters = atob(b64Data.replace(/^data:image\/(png|jpeg|jpg);base64,/, ''));
        var byteArrays = [];
        for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {
            var slice = byteCharacters.slice(offset, offset + sliceSize);
            var byteNumbers = new Array(slice.length);
            for (var i = 0; i < slice.length; i++) {
                byteNumbers[i] = slice.charCodeAt(i);
            }
            var byteArray = new Uint8Array(byteNumbers);
            byteArrays.push(byteArray);
        }
        var blob = new Blob(byteArrays, {
            type: contentType
        });
        return blob;
    };
    DesignimgPage.prototype.refresh = function () {
        console.log('refresheed');
        this.cd.detectChanges();
    };
    DesignimgPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-designimg',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\designimg\designimg.html"*/'<!--\n  Generated template for the CreatestockPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n-->\n<ion-header>\n\n  <ion-navbar>\n    <button ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n    <ion-title  style="text-align: center;\n    margin-right: 15%;"><img class="header-logo" src=\'assets/header.svg\'/></ion-title>\n  </ion-navbar>\n\n</ion-header>\n\n\n<ion-content padding>\n  <div style="margin-bottom: 100px;">\n\n  <ion-row style="margin-bottom: 20px;">\n    <ion-col no-padding text-wrap col-12>\n      <div class="theme-title-blk"> <ion-icon name="pricetags"></ion-icon>Edit Design<ion-badge color="light" float-right></ion-badge></div>\n    </ion-col>\n    </ion-row>\n\n  <ion-row style="    margin-bottom: 15px;">\n    <ion-col>\n      Design Name * &nbsp;&nbsp;:\n    </ion-col>\n    <ion-col>\n      {{whole[\'label\']}}\n    </ion-col>\n  </ion-row>\n\n  <ion-row style="    margin-bottom: 15px;"> \n    <ion-col style="margin: auto;">\n      Default Image *\n    </ion-col>\n    <ion-col>\n      <div class="row" >\n  <div style="\n  height: 80px;\n  width: 100px;\n" class="col">\n<img style="height: 80px;\nwidth: 90px;\nobject-fit: cover;\nobject-position: center;" src="{{image}}" imageViewer="{{image}}" onerror="this.src=\'assets/no-img.png\'" />\n\n  </div>\n  <div (click)="presentActionSheet(\'default\')" class="col" style="text-align: end;margin: auto;">\n    <span style="padding:5px;border: 1px solid lightgray;"><ion-icon name="add"></ion-icon></span>\n\n  </div>\n\n      </div>\n    </ion-col>\n  </ion-row>\n  <ion-grid>\n\n    <ion-col style="margin: auto;">\n      Add Images <span style="font-weight: bold;" *ngIf="images.length > 0">- ({{images.length}})</span> *\n    </ion-col>\n        <ion-row>\n      <ion-col col-10 style="margin-top: 30px;">\n        <!-- <ion-row>\n        \n          <div *ngIf="images.length > 0" class="coverphoto">\n            <button style="width: 135px;background: transparent !important;margin-bottom: 10px;" *ngFor="let targetPath of images; let id = index">\n           <div class="row">\n              <div  class="col" col-10 no-padding><img class="uploadimg1" src="{{targetPath[\'image_name\']}}" imageViewer="{{targetPath[\'image_name\']}}" onerror="this.src=\'assets/no-img.png\'"\n            *ngIf="targetPath" /></div><div class="col" col-2 no-padding  ><ion-icon (click)="checkdefault(id)" [ngClass]="targetPath[\'is_default\'] == 1 ? \'one\':\'two\'" style="padding: 0px !important;" name="checkmark-circle"></ion-icon><ion-icon (click)="deletePhoto(id)" style="padding: 0px !important;color: red;bottom: 0;\n              right: 0;\n              position: absolute;" name="close-circle"></ion-icon></div>\n          </div>\n          </button>\n          </div>\n\n        </ion-row> -->\n        \n          <div style="margin-bottom:10px" class="row" *ngFor="let targetPath of images; let id = index" >\n            <!-- <button style="width: 135px;background: transparent !important;margin-bottom: 10px;" *ngFor="let targetPath of images; let id = index"> -->\n              <div class="col"  col-3 no-padding style="text-align: center;" >\n                Default<br>\n                <ion-icon (click)="checkdefault(id)" [ngClass]="targetPath[\'is_default\'] == 1 ? \'one\':\'two\'" style="padding: 0px !important;    font-size: 1.8em;" name="checkmark-circle"></ion-icon>\n             </div>\n              <div  class="col" col-7 no-padding style="text-align:center;"><img class="uploadimg1" src="{{targetPath[\'image_name\']}}" imageViewer="{{targetPath[\'image_name\']}}" onerror="this.src=\'assets/no-img.png\'"\n            *ngIf="targetPath" /></div><div style="margin: auto;" class="col" col-2 no-padding  >\n            <ion-icon (click)="deletePhoto(id)" style="padding: 0px !important;color: red;    font-size: 1.8em;" name="close-circle"></ion-icon></div>\n          <!-- </button> -->\n          </div>\n\n      </ion-col>\n      <ion-col style="margin: auto;" col-2 (click)="presentActionSheet(\'gallery\')">\n        <div  class="col" style="text-align: end;margin: auto;">\n          <span style="padding:5px;border: 1px solid lightgray;"><ion-icon name="add"></ion-icon></span>\n      \n        </div>      </ion-col>\n    </ion-row>\n</ion-grid>\n  <div style="text-align: center;margin-top:20px;">\n    <button (click)="submit()" ion-button style="background:#000000 !important">Submit</button>\n  </div>\n</div>\n</ion-content>\n<ion-footer style="bottom: 83px !important;">\n<div *ngIf="show == true"  style="text-align: center;    margin-top: 5px;">\n  Upload Progress : \n</div>\n<div *ngIf="show == true" class="progress-outer">\n  <div class="progress-inner" [style.width]="progress + \'%\'">\n      {{progress}}%\n  </div>\n</div>\n</ion-footer>'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\designimg\designimg.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_5__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_9__providers_retail__["a" /* RetailProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_0__angular_core__["j" /* ChangeDetectorRef */], __WEBPACK_IMPORTED_MODULE_11_ngx_image_compress__["a" /* NgxImageCompressService */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["b" /* AlertController */], __WEBPACK_IMPORTED_MODULE_10__ionic_native_image_picker__["a" /* ImagePicker */], __WEBPACK_IMPORTED_MODULE_9__providers_retail__["a" /* RetailProvider */], __WEBPACK_IMPORTED_MODULE_8__ionic_native_barcode_scanner__["a" /* BarcodeScanner */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_7__ionic_native_file__["a" /* File */], __WEBPACK_IMPORTED_MODULE_6_ionic_cordova_plugin_ratio_crop__["a" /* RatioCrop */], __WEBPACK_IMPORTED_MODULE_4__ionic_native_file_path__["a" /* FilePath */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["x" /* Platform */], __WEBPACK_IMPORTED_MODULE_5__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_3__ionic_native_transfer__["a" /* Transfer */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["a" /* ActionSheetController */], __WEBPACK_IMPORTED_MODULE_2__ionic_native_camera__["a" /* Camera */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */]])
    ], DesignimgPage);
    return DesignimgPage;
}());

//# sourceMappingURL=designimg.js.map

/***/ }),

/***/ 421:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CustomorderPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_retail__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__wishlist_wishlist__ = __webpack_require__(34);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__ionic_native_file_transfer__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__ionic_native_file__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__ionic_native_file_path__ = __webpack_require__(24);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__ionic_native_camera__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__angular_http__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__pages_img_editor_editor__ = __webpack_require__(71);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__cart_cart__ = __webpack_require__(27);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__ionic_native_date_picker__ = __webpack_require__(66);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








///import { Transfer, TransferObject } from '@ionic-native/transfer';





var CustomorderPage = /** @class */ (function () {
    function CustomorderPage(datePicker, common, keyboard, view, platform, navParams, actionSheetCtrl, navCtrl, modal, toast, events, loadingCtrl, retail, camera, ftransfer, file, http, filePath, alertCtrl) {
        var _this = this;
        this.datePicker = datePicker;
        this.common = common;
        this.keyboard = keyboard;
        this.view = view;
        this.platform = platform;
        this.navParams = navParams;
        this.actionSheetCtrl = actionSheetCtrl;
        this.navCtrl = navCtrl;
        this.modal = modal;
        this.toast = toast;
        this.events = events;
        this.loadingCtrl = loadingCtrl;
        this.retail = retail;
        this.camera = camera;
        this.ftransfer = ftransfer;
        this.file = file;
        this.http = http;
        this.filePath = filePath;
        this.alertCtrl = alertCtrl;
        this.item = [];
        this.customData = [];
        this.wishlistData = {};
        this.empData = JSON.parse(localStorage.getItem('empDetail'));
        this.proceedWishlist = false;
        this.hideAddToWishlist = false;
        this.hideUpdateItem = true;
        this.showDesignDet = false;
        this.enable_customize = true;
        this.showCustomize = true;
        this.inpErrorMsg = { "weight": "", "width": "", "dia": "", "len": "", "purity": "" };
        // Sample Image
        this.targetPaths = [];
        this.filenames = [];
        this.deletephotos = [];
        this.lastImage = null;
        this.showedit = false;
        this.id_ret_category = this.navParams.get('id_category');
        this.id_product = this.navParams.get('id_product');
        this.id_sub_design = this.navParams.get('id_sub_design');
        console.log(this.empData);
        var type = this.navParams.get('type');
        if (type == 'view_only') {
            this.hideAddToWishlist = true;
            this.showDesignDet = true;
            this.enable_customize = false;
        }
        else if (type == 'edit') {
            this.hideAddToWishlist = true;
            this.hideUpdateItem = false;
            this.proceedWishlist = true;
        }
        // Set design number
        if (this.navParams.get('design_no')) {
            this.id_ret_category = this.navParams.get('id_category');
            this.id_product = this.navParams.get('id_product');
            this.design_no = this.navParams.get('design_no');
            this.id_sub_design = this.navParams.get('id_sub_design');
            localStorage.setItem('last_cat_no', this.id_ret_category);
            localStorage.setItem('last_pro_no', this.id_product);
            localStorage.setItem('last_design_no', this.design_no);
            localStorage.setItem('last_subdesign_no', this.id_sub_design);
        }
        else {
            this.id_ret_category = localStorage.getItem('last_cat_no');
            this.id_product = localStorage.getItem('last_pro_no');
            this.design_no = localStorage.getItem('last_design_no');
            this.id_sub_design = localStorage.getItem('last_subdesign_no');
        }
        var customData = this.navParams.get('item');
        console.log("Design Number : " + customData);
        if (customData) {
            this.customData = customData;
        }
        var loader = this.loadingCtrl.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        this.retail.getDesignById({ 'id_category': this.id_ret_category, 'id_product': this.id_product, "design_no": this.design_no, 'id_sub_design': this.id_sub_design }).then(function (result) {
            _this.item = result;
            if (!customData) {
                _this.customData = result;
            }
            if (_this.customData['stones']) {
                _this.item['stones'].forEach(function (value, key) {
                    var stone = _this.customData['stones'].filter(function (i) { return i.stone_id === value.stone_id; });
                    if (stone.length > 0) {
                        _this.item['stones'][key]['selected'] = true;
                    }
                    console.log(key);
                    console.log(_this.item['stones']);
                });
            }
            loader.dismiss();
        });
    }
    CustomorderPage.prototype.ionViewDidLoad = function () {
    };
    CustomorderPage.prototype.ionViewWillEnter = function () {
        var _this = this;
        this.events.publish('entered', true);
        this.events.publish('pageno', 1);
        console.log("ionViewWillEnter : Keyboard isOpen " + +this.keyboard.isOpen());
        if (localStorage.getItem('dip') != '') {
            var path = JSON.parse(localStorage.getItem('dip'));
            var name = JSON.parse(localStorage.getItem('din'));
            console.log("dip : " + path + " -- " + "din : " + name);
        }
        if (path != null && path != undefined && path != '' && this.navParams.get('state') == true) {
            this.targetPaths.push(path);
            this.showedit = true;
            console.log(this.targetPaths);
            this.filenames.push(name);
            console.log(this.filenames);
            this.customData['sample_images'] = this.filenames;
        }
        this.events.subscribe('img', function (userEventData) {
            // this.customData['sample_images'] = userEventData;
        });
        this.events.subscribe('tar', function (userEventData) {
            console.log(userEventData);
            _this.targetPaths.pop();
            _this.targetPaths.push(userEventData);
            _this.showedit = true;
            console.log(_this.targetPaths);
        });
        this.events.subscribe('file', function (userEventData) {
            console.log(userEventData);
            _this.filenames.pop();
            _this.filenames.push(userEventData);
            console.log(_this.filenames);
            _this.customData['sample_images'] = _this.filenames;
        });
        this.events.subscribe('err', function (userEventData) {
            _this.targetPaths.splice(userEventData, 1);
        });
        this.events.subscribe('errr', function (userEventData) {
            _this.filenames.splice(userEventData, 1);
        });
        console.log(this.customData);
        console.log(this.targetPaths);
    };
    CustomorderPage.prototype.validateFields = function () {
        console.log(this.inpErrorMsg);
        if (this.inpErrorMsg['weight'] == "Invalid" || this.inpErrorMsg['purity'] == "Invalid") {
            this.proceedWishlist = false;
        }
        else {
            if (this.inpErrorMsg['weight'] == "Valid" && this.inpErrorMsg['purity'] == "Valid") {
                this.proceedWishlist = true;
            }
        }
    };
    CustomorderPage.prototype.customInputChanged = function (field, val) {
        var value = parseFloat(val);
        if (field == "weight") {
            this.proceedWishlist = false;
            if (this.item['min_weight'] > 0 || this.item['max_weight'] > 0) {
                if (value >= this.item['min_weight'] && value <= this.item['max_weight']) {
                    this.inpErrorMsg['weight'] = "Valid";
                    this.validateFields();
                }
                else if (value < this.item['min_weight']) {
                    this.inpErrorMsg['weight'] = "Invalid";
                }
                else if (value > this.item['max_weight']) {
                    this.inpErrorMsg['weight'] = "Invalid";
                }
            }
            else {
                if (value > 0) {
                    this.inpErrorMsg['weight'] = "Valid";
                    this.validateFields();
                }
            }
        }
        else if (field == "len") {
            if (this.item['min_length'] > 0 || this.item['max_length'] > 0) {
                if (value >= this.item['min_length'] && value <= this.item['max_length']) {
                    this.inpErrorMsg['len'] = "Valid";
                    this.validateFields();
                }
                else if (value < this.item['min_length']) {
                    this.inpErrorMsg['len'] = "Invalid";
                }
                else if (value > this.item['max_length']) {
                    this.inpErrorMsg['len'] = "Invalid";
                }
            }
            else {
                if (value > 0) {
                    this.inpErrorMsg['len'] = "Valid";
                    this.validateFields();
                }
            }
        }
        else if (field == "width") {
            if (this.item['min_width'] > 0 || this.item['max_width'] > 0) {
                if (value >= this.item['min_width'] && value <= this.item['max_width']) {
                    this.inpErrorMsg['width'] = "Valid";
                    this.validateFields();
                }
                else if (value < this.item['min_width']) {
                    this.inpErrorMsg['width'] = "Invalid";
                }
                else if (value > this.item['max_width']) {
                    this.inpErrorMsg['width'] = "Invalid";
                }
            }
            else {
                if (value > 0) {
                    this.inpErrorMsg['width'] = "Valid";
                    this.validateFields();
                }
            }
        }
        else if (field == "dia") {
            if (this.item['min_dia'] > 0 || this.item['max_dia'] > 0) {
                if (value >= this.item['min_dia'] && value <= this.item['max_dia']) {
                    this.inpErrorMsg['dia'] = "Valid";
                    this.validateFields();
                }
                else if (value < this.item['min_dia']) {
                    this.inpErrorMsg['dia'] = "Invalid";
                }
                else if (value > this.item['max_dia']) {
                    this.inpErrorMsg['dia'] = "Invalid";
                }
            }
            else {
                if (value > 0) {
                    this.inpErrorMsg['dia'] = "Valid";
                    this.validateFields();
                }
            }
        }
    };
    CustomorderPage.prototype.toggle = function (block) {
        if (block == 'desDetail')
            this.showDesignDet = (this.showDesignDet == true ? false : true);
        if (block == 'customize')
            this.showCustomize = (this.showCustomize == true ? false : true);
    };
    CustomorderPage.prototype.setPurity = function (data, name) {
        this.inpErrorMsg['purity'] = "Valid";
        this.customData['id_purity'] = data;
        this.validateFields();
    };
    CustomorderPage.prototype.changeImaged = function (image) {
        this.item['defaultImage'] = image;
    };
    CustomorderPage.prototype.ngAfterViewInit = function () {
    };
    CustomorderPage.prototype.proceedToWishlist = function () {
        // let currentCustomer = localStorage.getItem( 'currentCustomer' );
        // if ( currentCustomer != null ) {
        //   this.addToWishlist();        
        // }else{
        //   this.openAddQuickCus();
        // }
        console.log(this.customData);
        if (this.customData['id_purity'] == '' || this.customData['weight'] == '' || this.customData['pcs'] == '' || this.customData['due_date'] == '') {
            console.log(this.customData);
            if (this.customData['id_purity'] == '') {
                this.common.presentToast('Please Select Purity *', 1000);
            }
            else if (this.customData['weight'] == '') {
                this.common.presentToast('Please Enter Weight *', 1000);
            }
            else if (this.customData['pcs'] == '') {
                this.common.presentToast('Please Enter Pieces *', 1000);
            }
            else if (this.customData['due_date'] == '') {
                this.common.presentToast('Please Select Date *', 1000);
            }
        }
        else {
            this.openAddQuickCus();
        }
    };
    CustomorderPage.prototype.openWishlist = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__wishlist_wishlist__["a" /* WishlistPage */]);
    };
    CustomorderPage.prototype.stoneChaned = function (value, idx) {
        console.log(value + ' ' + idx);
        console.log(this.item['stones']);
    };
    CustomorderPage.prototype.addToWishlist = function () {
        // this.loader = this.loadingCtrl.create( {
        //   content: "Please wait...",
        //   spinner: 'bubbles',
        // } );
        // this.loader.present();
        // console.log(this.item['stones']);
        // let cusData = JSON.parse( localStorage.getItem( 'currentCustomer' ) );
        // let empData = JSON.parse(localStorage.getItem('empDetail'));
        // console.log(empData);
        // console.log(this.empData);
        // this.wishlistData = {
        //                       'id_customer'     : cusData['id_customer'],
        //                       'id_branch'       : empData['id_branch'],
        //                       'id_employee'     : empData['id_employee'],
        //                       'item_type'       : 3, // E-catalog
        //                       'is_customized'   : 1,
        //                       'id_product'      : this.item['pro_id'],
        //                       'design_no'       : this.item['design_no'],
        //                       'id_sub_design'   : this.item['id_sub_design'],
        //                       'wast_percent'    : 1,
        //                       'id_mc_type'      : this.item['mc_type'],
        //                       'mc'              : this.item['mc_value'],
        //                       'stn_amt'         : 0,
        //                       'due_date'        : this.customData['due_date'],
        //                       'length'          : this.customData['len'],
        //                       'width'           : this.customData['width'],
        //                       'dia'             : this.customData['dia'],
        //                       'weight'          : this.customData['weight'],
        //                       'id_size'            : this.customData['id_size'],
        //                       'pcs'             : this.customData['pcs'],
        //                       'id_purity'       : this.customData['id_purity'],
        //                       'hook_type'       : this.customData['hook_type'],
        //                       'sample_details'  : this.customData['sample_details'],
        //                       'sample_images'   : this.customData['sample_images'],
        //                       'stones'          : this.item['stones'],
        //                       'status'          : 1,
        //                       'id_wishlist'     : this.customData['id_wishlist'],
        //                     };
        //                     this.retail.addToCart({"id_branch" : empData['id_branch'], "id_employee" : empData['id_employee'], "id_customer" : cusData['id_customer'], "status" : 1,"items" :[this.wishlistData]}).then(result => { 
        //                       this.loader.dismiss();
        //   this.common.presentToast( result.msg,'' );
        //   if(result.status){ 
        //     this.hideAddToWishlist = true;
        //     this.navCtrl.setRoot(CartPage);
        //   }
        //   if(result.status){ 
        //     this.hideAddToWishlist = true;
        //   }
        // });
        // let cusData = JSON.parse( localStorage.getItem( 'currentCustomer' ) );
        var empData = JSON.parse(localStorage.getItem('empDetail'));
        console.log(empData);
        console.log(this.empData);
        this.wishlistData = {
            'id_customer': '',
            'id_branch': empData['id_branch'],
            'id_employee': empData['id_employee'],
            'item_type': 3,
            'is_customized': 1,
            'id_product': this.item['pro_id'],
            'design_no': this.item['design_no'],
            'id_sub_design': this.item['id_sub_design'],
            'wast_percent': 1,
            'id_mc_type': this.item['mc_type'],
            'mc': this.item['mc_value'],
            'stn_amt': 0,
            'due_date': this.customData['due_date'],
            'length': this.customData['len'],
            'width': this.customData['width'],
            'dia': this.customData['dia'],
            'weight': this.customData['weight'],
            'id_size': this.customData['id_size'],
            'pcs': this.customData['pcs'],
            'id_purity': this.customData['id_purity'],
            'hook_type': this.customData['hook_type'],
            'sample_details': this.customData['sample_details'],
            'image': this.item['defaultImage'],
            'sample_images': this.customData['sample_images'],
            'stones': this.item['stones'],
            'status': 1,
            'id_wishlist': this.customData['id_wishlist'],
            'sub_design_name': this.item['sub_design_name'],
            'design_name': this.item['design_name'],
            'product_name': this.item['product_name'],
            'id_category': this.id_ret_category,
        };
        if (localStorage.getItem('carts') == null) {
            localStorage.setItem('carts', JSON.stringify({ "id_branch": empData['id_branch'], "id_employee": empData['id_employee'], "id_customer": '', "status": 1, "items": [this.wishlistData] }));
        }
        else {
            var local = JSON.parse(localStorage.getItem('carts'))['items'];
            console.log(local);
            local.push(this.wishlistData);
            console.log(local);
            localStorage.setItem('carts', JSON.stringify({ "id_branch": empData['id_branch'], "id_employee": empData['id_employee'], "id_customer": '', "status": 1, "items": local }));
        }
        // this.loader.dismiss();
        this.common.presentToast("Product added to cart successfully", '');
        this.navCtrl.setRoot(__WEBPACK_IMPORTED_MODULE_11__cart_cart__["a" /* CartPage */]);
    };
    CustomorderPage.prototype.updateWishlist = function () {
        var _this = this;
        this.loader = this.loadingCtrl.create({
            content: "Please wait...",
            spinner: 'bubbles',
        });
        this.loader.present();
        var cusData = JSON.parse(localStorage.getItem('currentCustomer'));
        var empData = JSON.parse(localStorage.getItem('empDetail'));
        this.wishlistData = {
            'id_customer': cusData['id_customer'],
            'id_branch': empData['id_branch'],
            'id_employee': empData['id_employee'],
            'item_type': 3,
            'is_customized': 1,
            'id_product': this.item['pro_id'],
            'design_no': this.item['design_no'],
            'id_sub_design': this.item['id_sub_design'],
            'wast_percent': 1,
            'id_mc_type': this.item['mc_type'],
            'mc': this.item['mc_value'],
            'stn_amt': 0,
            'length': this.customData['len'],
            'due_date': this.customData['due_date'],
            'width': this.customData['width'],
            'dia': this.customData['dia'],
            'weight': this.customData['weight'],
            'size': this.customData['size'],
            'pcs': this.customData['pcs'],
            'id_purity': this.customData['id_purity'],
            'hook_type': this.customData['hook_type'],
            'sample_details': this.customData['sample_details'],
            'sample_images': this.customData['sample_images'],
            'stones': this.item['stones'],
            'status': this.customData['status']
        };
        this.retail.addToCart({ "id_branch": empData['id_branch'], "id_employee": empData['id_employee'], "id_customer": cusData['id_customer'], "status": 1, "items": [this.wishlistData] }).then(function (result) {
            _this.loader.dismiss();
            _this.common.presentToast(result.msg, '');
            if (result.status) {
                _this.hideUpdateItem = true;
                _this.navCtrl.pop();
            }
        });
    };
    CustomorderPage.prototype.openAddQuickCus = function () {
        // let modal = this.modal.create(AddQuickCus, {"page":"design-detail"}, {enableBackdropDismiss: false})
        // modal.present();
        // modal.onDidDismiss(mData => {
        //   if(mData != null){
        //     localStorage.setItem( 'currentCustomer', JSON.stringify( mData ) );
        //     this.addToWishlist();   
        //   }
        // });
        //   let modal = this.modal.create(CusSearchPage,{'show':'true',"page":"design-detail"}, {enableBackdropDismiss: false})
        //   modal.present();
        //   modal.onDidDismiss(mData => {
        //     console.log(mData)
        //     if(mData != null){
        //       localStorage.setItem( 'currentCustomer', JSON.stringify( mData ) );
        //       this.addToWishlist();
        // }else{
        //     }
        //   });
        this.addToWishlist();
    };
    // Sample image
    CustomorderPage.prototype.deletePhoto = function (index) {
        var _this = this;
        var confirm = this.alertCtrl.create({
            title: 'Do you want to delete the image?',
            message: '',
            buttons: [
                {
                    text: 'No',
                    handler: function () {
                        console.log('Disagree clicked');
                    }
                }, {
                    text: 'Yes',
                    handler: function () {
                        console.log('Agree clicked');
                        _this.targetPaths.splice(index, 1);
                        _this.filenames.splice(index, 1);
                        _this.deletephotos.push(_this.filenames[index]);
                        _this.lastImage == '';
                    }
                }
            ]
        });
        confirm.present();
    };
    CustomorderPage.prototype.presentActionSheet = function () {
        var _this = this;
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Select Image Source',
            buttons: [
                {
                    text: 'Load from Gallery',
                    handler: function () {
                        _this.takePicture(_this.camera.PictureSourceType.PHOTOLIBRARY);
                    }
                },
                {
                    text: 'Take Picture',
                    handler: function () {
                        _this.takePicture(_this.camera.PictureSourceType.CAMERA);
                    }
                },
                {
                    text: 'Cancel',
                    role: 'cancel'
                }
            ]
        });
        actionSheet.present();
    };
    CustomorderPage.prototype.takePicture = function (sourceType) {
        var _this = this;
        console.log(sourceType);
        // this.navCtrl.push(EditorPage,{images:'assets/img/earings.jpg'});
        // Create options for the   Dialog
        var options = {
            quality: 75,
            sourceType: sourceType,
            saveToPhotoAlbum: false,
            correctOrientation: true,
        };
        console.log(options);
        // Get the data of an image
        this.camera.getPicture(options).then(function (imagePath) {
            console.log("getPicture");
            _this.loader = _this.loadingCtrl.create({
                content: "Fetching...",
                spinner: 'bubbles',
            });
            _this.loader.present();
            console.log("imagePath : " + imagePath);
            if (_this.platform.is('android') && sourceType === _this.camera.PictureSourceType.PHOTOLIBRARY) {
                _this.filePath.resolveNativePath(imagePath)
                    .then(function (filePath) {
                    console.log('ttttttttttt', _this.filePath);
                    var correctPath = filePath.substr(0, filePath.lastIndexOf('/') + 1);
                    var currentName = imagePath.substring(imagePath.lastIndexOf('/') + 1, imagePath.lastIndexOf('?'));
                    _this.copyFileToLocalDir(correctPath, currentName, _this.createFileName());
                    // this.uploadImage();
                });
            }
            else {
                var currentName = imagePath.substr(imagePath.lastIndexOf('/') + 1);
                var correctPath = imagePath.substr(0, imagePath.lastIndexOf('/') + 1);
                _this.copyFileToLocalDir(correctPath, currentName, _this.createFileName());
                // this.uploadImage();
            }
        }, function (err) {
            console.log(err);
            _this.common.presentToast('Error while selecting image.', '');
        });
    };
    // Create a new name for the image
    CustomorderPage.prototype.createFileName = function () {
        var d = new Date(), n = d.getTime(), newFileName = n + ".jpg";
        return newFileName;
    };
    // Copy the image to a local folder
    CustomorderPage.prototype.copyFileToLocalDir = function (namePath, currentName, newFileName) {
        var _this = this;
        console.log("#### copyFileToLocalDir ####");
        console.log("namePath/correctPath : " + namePath);
        console.log("currentName : " + currentName);
        console.log("createdFileName : " + newFileName);
        console.log("Directory : " + cordova.file.dataDirectory);
        this.file.copyFile(namePath, currentName, cordova.file.dataDirectory, newFileName).then(function (success) {
            console.log("#### copyFile -- Success ####");
            console.log(success);
            _this.lastImage = newFileName;
            var targetPath = _this.pathForImage(newFileName);
            _this.targetPaths.push(targetPath);
            _this.filenames.push(_this.lastImage);
            // this.uploadImage();
            _this.loader.dismiss();
            console.log(targetPath);
            console.log(_this.filenames);
            _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_10__pages_img_editor_editor__["a" /* EditorPage */], { "images": targetPath, "design_no": _this.design_no });
        }, function (error) {
            _this.common.presentToast('Error while storing file.', '');
        });
    };
    // Always get the accurate path to your apps folder
    CustomorderPage.prototype.pathForImage = function (img) {
        if (img === null) {
            return '';
        }
        else {
            return cordova.file.dataDirectory + img;
        }
    };
    CustomorderPage.prototype.show = function () {
        var _this = this;
        // this.keyboard.close();
        this.datePicker.show({
            date: new Date(),
            mode: 'date',
            androidTheme: this.datePicker.ANDROID_THEMES.THEME_HOLO_DARK
        }).then(function (date) {
            /*date => console.log('Got date: ', date),
            err => console.log('Error occurred while getting date: ', err),*/
            /*console.log('Got date: '+ date);
            var curDate = new Date();
            curDate.setDate(curDate.getDate() - 10);*/
            var ddd = date.getDate();
            var mmm = date.getMonth() + 1;
            var yy = date.getFullYear();
            //var today = new Date(yy+"-"+mmm+"-"+ddd).toISOString().substring(0, 10);
            var today = date.toISOString().substring(0, 10);
            //this.fromdate= today;
            _this.customData['due_date'] = yy + "-" + mmm + "-" + ddd;
            console.log(_this.customData['due_date']);
        });
    };
    CustomorderPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    CustomorderPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-customorder',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\customorder\customorder.html"*/'<ion-header>\n  <ion-navbar>\n    <button ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n    <ion-title>Custom Order</ion-title>\n  </ion-navbar>\n</ion-header>\n<ion-content> \n   \n     <ion-card no-margin>  \n      <ion-card-content  no-padding>\n        <ion-row padding >\n\n          <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col" >\n            <ion-item no-padding>\n              <ion-label color="label-color" stacked>Product Name <span class="required"> *</span></ion-label>\n              <ion-input type="text" placeholder="Enter product name" [(ngModel)]="customData.proname"> </ion-input>\n            </ion-item>\n            <!-- <span float-right [ngClass]="inpErrorMsg[\'weight\'] == \'Invalid\' ? \'input-error-msg\' : \'input-msg\'"><span *ngIf="item.min_weight > 0">Min. {{item.min_weight}} g </span><span *ngIf="item.max_weight > 0">Max. {{item.max_weight}} g</span></span> -->\n          </ion-col>\n\n            <ion-col col-12 class="custom-2col" *ngIf="item.purities?.length > 0" >\n              <ion-item no-padding>\n                <ion-label color="label-color" stacked>Purity  <span class="required"> *</span></ion-label> \n              </ion-item>\n              <ion-scroll class="purity-scroll-blk" scrollX="true">  \n                <ion-chip #chip1 *ngFor="let pur of item.purities" color="light" [ngClass]="customData[\'id_purity\'] == pur[\'id_purity\'] ? \'selected\' : \'unselected\'" (click)="setPurity(pur.id_purity,pur.purity)" style="margin-left: 5%;">\n                  <ion-label>{{pur.purity}}</ion-label><ion-icon name="checkmark-circle" style="background-color:transparent!important;" *ngIf="item[\'id_purity\'] == pur[\'id_purity\']"></ion-icon> \n                </ion-chip>\n              </ion-scroll>\n            </ion-col> \n            <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col" >\n              <ion-item no-padding>\n                <ion-label color="label-color" stacked>Weight <span class="required"> *</span></ion-label>\n                <ion-input type="number" placeholder="Enter weight in grams" [(ngModel)]="customData.weight" (ionChange)="customInputChanged(\'weight\',customData.weight)"> </ion-input>\n              </ion-item>\n              <span float-right [ngClass]="inpErrorMsg[\'weight\'] == \'Invalid\' ? \'input-error-msg\' : \'input-msg\'"><span *ngIf="item.min_weight > 0">Min. {{item.min_weight}} g </span><span *ngIf="item.max_weight > 0">Max. {{item.max_weight}} g</span></span>\n            </ion-col>\n            <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col">\n              <ion-item no-padding>\n                <ion-label color="label-color" stacked>Pieces *</ion-label>\n                <ion-input type="number" placeholder="Pieces" [(ngModel)]="customData.pcs" > </ion-input>\n                <span float-right ></span>\n              </ion-item>\n            </ion-col>\n            <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col">\n              <ion-item no-padding>\n                <ion-label color="label-color" stacked>Due Date *</ion-label>\n                <ion-input type="number" readonly="true" class="ion_datetime" placeholder="Select Date" displayFormat="DD-MM-YYYY" [(ngModel)]="customData.due_date" (focusin)="show()"> </ion-input>\n                <span float-right ></span>\n              </ion-item>\n            </ion-col>\n           \n\n            <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col" *ngIf="item.weights?.length > 0" >\n              <ion-item no-padding>\n                <ion-label color="label-color" stacked>Weight</ion-label>\n                <ion-select [(ngModel)]="customData.id_weight" placeholder="-- Choose --">\n                  <ion-option *ngFor="let s of item.weights" [value]="s.id_weight">{{s.name}}</ion-option>\n                </ion-select>\n              </ion-item>\n          </ion-col>\n\n\n            <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col" *ngIf="item.sizes?.length > 0" >\n                <ion-item no-padding>\n                  <ion-label color="label-color" stacked>Size</ion-label>\n                  <ion-select [(ngModel)]="customData.id_size" placeholder="-- Choose --">\n                    <ion-option *ngFor="let s of item.sizes" [value]="s.id_size">{{s.value}} {{s.name}}</ion-option>\n                  </ion-select>\n                </ion-item>\n            </ion-col>\n\n         \n\n            <ion-col col-12 class="custom-2col">\n              <ion-item no-padding>\n                <ion-label color="label-color" stacked>Description</ion-label>\n                <ion-textarea [(ngModel)]="customData.sample_details" placeholder="Enter your description" rows="5"></ion-textarea>\n              </ion-item>\n            </ion-col>\n            <ion-col col-12 class="custom-2col">\n              <ion-item no-padding>\n                <ion-label color="label-color" stacked>Upload Sample</ion-label> \n                <button *ngIf="targetPath?.length <= 10" ion-button outline small color="dark" type="button" item-right icon-left (click)="presentActionSheet()">\n                    <ion-icon name="camera"></ion-icon>\n                    Choose Image\n                </button> \n              </ion-item>\n              <ion-grid> \n                <ion-row *ngIf="showedit"> \n                  <ion-col col-6 *ngFor="let targetPath of targetPaths; let id = index"> \n                    <ion-card class="block"> \n                      <ion-icon name="trash" class="deleteIcon" (click)="deletePhoto(id)"></ion-icon> <img [src]="targetPath" *ngIf="targetPath" /> \n                    </ion-card> \n                  </ion-col> \n                </ion-row>  \n              </ion-grid> \n            </ion-col> \n        </ion-row> \n      </ion-card-content>\n    </ion-card>\n  \n</ion-content> \n<ion-footer >\n  <button ion-button  icon-start full class="theme-btn" (click)="proceedToWishlist()">Add to Cart</button> \n</ion-footer>  \n\n    \n    \n    \n    \n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\customorder\customorder.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_3__providers_retail__["a" /* RetailProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_12__ionic_native_date_picker__["a" /* DatePicker */], __WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["p" /* Keyboard */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["B" /* ViewController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["x" /* Platform */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["a" /* ActionSheetController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_3__providers_retail__["a" /* RetailProvider */], __WEBPACK_IMPORTED_MODULE_8__ionic_native_camera__["a" /* Camera */], __WEBPACK_IMPORTED_MODULE_5__ionic_native_file_transfer__["a" /* FileTransfer */], __WEBPACK_IMPORTED_MODULE_6__ionic_native_file__["a" /* File */], __WEBPACK_IMPORTED_MODULE_9__angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_7__ionic_native_file_path__["a" /* FilePath */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["b" /* AlertController */]])
    ], CustomorderPage);
    return CustomorderPage;
}());

//# sourceMappingURL=customorder.js.map

/***/ }),

/***/ 423:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CollectionPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_retail__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__avrsearch_avrsearch__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__prodetail_prodetail__ = __webpack_require__(70);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__folderpress_folderpress__ = __webpack_require__(73);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__modal_customer_customer__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__cart_cart__ = __webpack_require__(27);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__auto_auto__ = __webpack_require__(45);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__wishlist_wishlist__ = __webpack_require__(34);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











// @IonicPage()
var CollectionPage = /** @class */ (function () {
    function CollectionPage(toast, events, modal, comman, navCtrl, load, navParams, retailService) {
        var _this = this;
        this.toast = toast;
        this.events = events;
        this.modal = modal;
        this.comman = comman;
        this.navCtrl = navCtrl;
        this.load = load;
        this.navParams = navParams;
        this.retailService = retailService;
        this.id_product = this.navParams.get('id_product');
        this.design = this.navParams.get('design_no');
        this.empData = JSON.parse(localStorage.getItem('empDetail'));
        this.designs = [];
        // designs: any[]=[];
        this.last_id = 0;
        this.id_ret_category = this.navParams.get('id_category');
        this.pagename = this.navParams.get('pagename');
        this.from = this.navParams.get('filter');
        this.checkStatus = false;
        this.total_records = 0;
        this.where = '';
        this.page_no = 1;
        this.totalcartitems = localStorage.getItem('carts') != null ? JSON.parse(localStorage.getItem('carts'))['items'] : [];
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        this.where = this.navParams.get('collect');
        // if(this.from != undefined){
        var postData = {
            'id_employee': this.empData['uid'] != null ? this.empData['uid'] : null,
            'type': 'active',
            'id_product': this.id_product,
            'last_id': this.last_id,
            'design_no': this.design
        };
        // this.from["lastid"] = this.last_id;
        this.from["page_no"] = this.page_no;
        this.comman.filter(this.from).then(function (data) {
            // this.designs = data;
            _this.designs = data['ReturnObject'] != null ? data['ReturnObject'] : [];
            console.log(_this.designs);
            _this.total_records = data['total_records'];
            loader.dismiss();
        }, function (err) {
            loader.dismiss();
        });
        // }
        // else{
        //   var postData = {
        //     'id_employee': this.empData['uid'] != null ? this.empData['uid'] : null,
        //     'type': 'active',
        //     'id_product': this.id_product,
        //     'last_id': this.last_id,
        //     'design_no':this.design
        //   }
        //   this.comman.getsubdesigns(postData).then(data => {
        //     this.designs = data;
        //     console.log(this.designs);
        //     loader.dismiss();
        //   })
        // }
    }
    CollectionPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad DesignsPage');
    };
    CollectionPage.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        console.log(this.designs);
        // if(this.from != undefined){
        this.page_no = this.page_no + 1;
        this.from["page_no"] = this.page_no;
        this.from["lastid"] = this.designs[this.designs.length - 1]['id_tag_detail'];
        console.log(this.last_id);
        var postData = {
            'id_employee': this.empData['uid'] != null ? this.empData['uid'] : null,
            'type': 'active',
            'id_product': this.id_product,
            'last_id': this.last_id,
            'design_no': this.design
        };
        this.comman.filter(this.from).then(function (data) {
            var productItems = data['ReturnObject'] != null ? data['ReturnObject'] : [];
            for (var index = 0; index < productItems.length; index++) {
                _this.designs.push(productItems[index]);
            }
            infiniteScroll.complete();
        });
        // }else{
        //   this.last_id = this.designs[this.designs.length - 1]['id_sub_design'];
        // console.log(this.last_id);
        // var postData = {
        //   'id_employee': this.empData['uid'] != null ? this.empData['uid'] : null,
        //   'type': 'active',
        //   'id_product': this.id_product,
        //   'last_id': this.last_id,
        //   'design_no':this.design
        // }
        // this.comman.getsubdesigns(postData).then(data => {
        //   console.log(data)
        //   for (let index = 0; index < data.length; index++) {
        //     this.designs.push(data[index])
        //   }
        //   infiniteScroll.complete();
        // })
        // }
    };
    CollectionPage.prototype.openDesign = function (product_id) {
        if (product_id.hasOwnProperty('TagStone')) {
            product_id['TagStoneDetails'] = product_id['TagStone'];
        }
        localStorage.setItem('see', JSON.stringify(this.designs));
        console.log(JSON.parse(localStorage.getItem('see')));
        // product_id['arr'] = JSON.parse(localStorage.getItem('see'));
        // this.comman.setdata(this.designs);
        // product_id['arr'] = this.designs;
        // product_id['arr'].unshift(product_id);
        // product_id['purities'] = [{'purity':'90.00','id_purity':1},{'purity':'80.00','id_purity':2}];
        // product_id['weights'] = [{'weight_description':'70g' ,'id_weight':1}];
        // product_id['sizes'] = [{'value':'70','name':'inch' ,'id_size':1}];
        // product_id['weight'] = '';
        // product_id['pcs'] = '';
        // product_id['due_date'] = '';
        // product_id['id_weight'] = '';
        // product_id['id_purity'] = '';
        // product_id['min_weight'] = '';
        // product_id['max_weight'] = '';
        // product_id['id_size'] = '';
        // product_id['sample_details'] = '';
        this.events.publish('inf', product_id);
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__prodetail_prodetail__["a" /* ProdetailPage */], { proid: product_id, single: JSON.parse(localStorage.getItem('see')) });
    };
    CollectionPage.prototype.open = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__avrsearch_avrsearch__["a" /* AvrsearchPage */]);
    };
    CollectionPage.prototype.grid = function () {
        console.log("grid");
        this.checkStatus = true;
    };
    CollectionPage.prototype.listgrid = function () {
        console.log("listgrid");
        this.checkStatus = false;
    };
    CollectionPage.prototype.price = function (data) {
        var temp1 = parseFloat(data).toFixed();
        return temp1;
    };
    //   sort(){
    //     console.log(this.designs)
    //     // else if(no == 4){
    //       this.designs = this.designs.sort(function(a, b){
    //         return parseInt(a.GrossWt) - parseInt(b.GrossWt)
    //     });
    //     console.log(this.designs)
    // }
    CollectionPage.prototype.sort = function (now) {
        var _this = this;
        var profileModal = this.modal.create(__WEBPACK_IMPORTED_MODULE_6__folderpress_folderpress__["a" /* FolderpressPage */]);
        profileModal.present();
        profileModal.onDidDismiss(function (no) {
            console.log(no);
            if (no != null) {
                if (no == 2) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        var nameA = a.name.toLowerCase(), nameB = b.name.toLowerCase();
                        if (nameA < nameB)
                            return -1;
                        if (nameA > nameB)
                            return 1;
                        return 0; //default return value (no sorting)
                    });
                }
                else if (no == 3) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        var nameA = a.name.toLowerCase(), nameB = b.name.toLowerCase();
                        if (nameA > nameB)
                            return -1;
                        if (nameA < nameB)
                            return 1;
                        return 0; //default return value (no sorting)
                    });
                }
                else if (no == 4) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        if (a.discount_price != null && b.discount_price != null) {
                            return parseInt(a.discount_price) - parseInt(b.discount_price);
                        }
                        // if(a.discount_price != null && b.discount_price == null){
                        //   return parseInt(a.discount_price) - parseInt(b.price)
                        //   }
                        //   if(a.discount_price == null && b.discount_price != null){
                        //     return parseInt(a.price) - parseInt(b.discount_price)
                        //     }
                        //     if(a.discount_price == null && b.discount_price == null){
                        //       return parseInt(a.price) - parseInt(b.price)
                        //       }
                    });
                }
                else if (no == 5) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        if (b.discount_price != null && a.discount_price != null) {
                            return parseInt(b.discount_price) - parseInt(a.discount_price);
                        }
                        // if(b.discount_price != null && a.discount_price == null){
                        //   return parseInt(b.discount_price) - parseInt(a.price)
                        //   }
                        //   if(b.discount_price == null && a.discount_price != null){
                        //     return parseInt(b.price) - parseInt(a.discount_price)
                        //     }
                        //     if(b.discount_price == null && a.discount_price == null){
                        //       return parseInt(b.price) - parseInt(a.price)
                        //       }
                    });
                }
                else if (no == 6) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        return parseInt(a.GrossWt) - parseInt(b.GrossWt);
                    });
                }
                else if (no == 7) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        return parseInt(b.GrossWt) - parseInt(a.GrossWt);
                    });
                }
                else if (no == 8) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        return parseInt(a.timestamp) - parseInt(b.timestamp);
                    });
                }
                else if (no == 9) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        return parseInt(b.timestamp) - parseInt(a.timestamp);
                    });
                }
                console.log(no);
                console.log(_this.designs);
            }
        });
    };
    CollectionPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    CollectionPage.prototype.ionViewWillEnter = function () {
        this.events.publish('entered', true);
        this.events.publish('pageno', 1);
    };
    CollectionPage.prototype.proceedToWishlist = function (item) {
        var empData = JSON.parse(localStorage.getItem('empDetail'));
        console.log(empData);
        var wishlistData = {
            'id_customer': '',
            'id_branch': empData['id_branch'],
            'id_employee': empData['id_employee'],
            'item_type': 3,
            'is_customized': 1,
            'id_product': item['pro_id'],
            'design_no': item['design_no'],
            'id_sub_design': item['id_sub_design'],
            'wast_percent': 1,
            'id_mc_type': item['mc_type'],
            'mc': item['mc_value'],
            'stn_amt': 0,
            'due_date': item['due_date'],
            'length': item['len'],
            'width': item['width'],
            'dia': item['dia'],
            'weight': item['GrossWt'],
            'id_size': item['id_size'],
            'id_weight': item['id_weight'],
            'pcs': item['pcs'],
            'id_purity': item['id_purity'],
            'hook_type': item['hook_type'],
            'sample_details': item['sample_details'],
            'image': item['TagImage'],
            'targetPaths': item['targetPaths'],
            'sample_images': item['sample_images'],
            'stones': item['stones'],
            'status': 1,
            'id_wishlist': item['id_wishlist'],
            'sub_design_name': item['sub_design_name'],
            'design_name': item['design_name'],
            'product_name': item['product_name'],
            'id_category': item['id_category'],
        };
        if (localStorage.getItem('carts') == null) {
            localStorage.setItem('carts', JSON.stringify({ "id_branch": empData['id_branch'], "id_employee": empData['id_employee'], "id_customer": '', "status": 1, "items": [wishlistData] }));
        }
        else {
            var local = JSON.parse(localStorage.getItem('carts'))['items'];
            console.log(local);
            local.push(wishlistData);
            console.log(local);
            localStorage.setItem('carts', JSON.stringify({ "id_branch": empData['id_branch'], "id_employee": empData['id_employee'], "id_customer": '', "status": 1, "items": local }));
        }
        // this.loader.dismiss();
        this.comman.presentToast("Product added to cart successfully", '');
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__cart_cart__["a" /* CartPage */]);
    };
    CollectionPage.prototype.addWishlist = function (item) {
        var _this = this;
        var empData = JSON.parse(localStorage.getItem('empDetail'));
        console.log(empData);
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_7__modal_customer_customer__["a" /* CusSearchPage */], { 'show': 'true' });
        modal.present();
        modal.onDidDismiss(function (mData) {
            console.log(mData);
            if (mData != null) {
                // this.idcus = mData['id_customer'];
                var loader_1 = _this.load.create({
                    content: 'Please Wait',
                    spinner: 'bubbles',
                });
                loader_1.present();
                _this.retailService.addToWishlist({
                    "customer_name": mData['firstname'],
                    "mobile": mData['mobile'],
                    "customer_id": mData['id_customer'],
                    "tag_id": item['id_tag_detail'],
                    "tag_code": item['TagNo'],
                    "branch_id": empData['id_branch'],
                    "employee_id": empData['uid']
                }).then(function (data) {
                    var toastMsg = _this.toast.create({
                        message: data.msg,
                        duration: _this.comman.toastTimeout,
                        position: 'middle'
                    });
                    toastMsg.present();
                    loader_1.dismiss();
                }, function (err) {
                    var toastMsg = _this.toast.create({
                        message: "try again",
                        duration: _this.comman.toastTimeout,
                        position: 'middle'
                    });
                    toastMsg.present();
                    loader_1.dismiss();
                });
            }
            else {
            }
        });
    };
    CollectionPage.prototype.cart = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__cart_cart__["a" /* CartPage */]);
    };
    CollectionPage.prototype.openModal = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_9__auto_auto__["a" /* AutoPage */]);
    };
    CollectionPage.prototype.wishlist = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_10__wishlist_wishlist__["a" /* WishlistPage */]);
    };
    CollectionPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-collection',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\collection\collection.html"*/'<!--\n  Generated template for the DesignsPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n-->\n<!-- <ion-header>\n  <ion-navbar>\n      <button ion-button menuToggle><ion-icon name="menu"></ion-icon></button>\n      <ion-title>SubDesigns\n        <ion-icon  name="md-funnel" (click)="open()" style="color:black !important;float: right;" ></ion-icon>\n\n      </ion-title>\n  </ion-navbar>\n</ion-header>\n\n\n<ion-content padding-vertical>\n  <ion-grid no-padding>\n      <ion-row *ngIf="designs.length > 0" text-center>\n          <ion-col text-wrap col-6 col-sm-6 col-md-4 col-lg-4 col-xl-4  *ngFor="let item of designs; let i=index" class="custom-2col" [ngClass]="animateClass" (click)="openDesign(item)">\n              <ion-card>\n                  <img class="full-image" src=\'{{item.default_image}}\' onerror="this.onerror=null;this.src=\'assets/no-img.png\';" imageCache/>\n                  <ion-item text-center no-margin>\n                      <h5 class="text-small theme-color">{{item.label}}</h5>\n                  </ion-item>\n              </ion-card>\n          </ion-col>\n      </ion-row>\n  </ion-grid>\n\n  <ion-row *ngIf="designs.length == 0 " style="text-align: center;">\n      <ion-col>\n          <h4>{{errormsg}}</h4>\n      </ion-col>\n  </ion-row>\n\n   <ion-infinite-scroll (ionInfinite)="doInfinite($event)">\n      <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="Loading more data..."></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n\n</ion-content> -->\n\n<ion-header>\n  <ion-navbar>\n      <!-- <button ion-button menuToggle>\n          <ion-icon name="menu"></ion-icon>\n      </button> -->\n      <ion-title>\n        <!-- Collections -->\n        <span >New Arrivals</span>({{total_records}})\n        <div  id="notification-button" >\n          <ion-icon style="color:black;float: right;font-size:1.4em !important" name="cart" (click)="cart()"></ion-icon>\n        <ion-badge *ngIf="totalcartitems != null && totalcartitems.length > 0" style="font-size: 1rem !important;"  id="notifications-badge" color="danger">{{totalcartitems.length}}</ion-badge>\n\n  </div>\n        <ion-icon  name="md-funnel" (click)="open()" style="color:black !important;float: right;font-size:1.4em !important" ></ion-icon>\n          <ion-icon style="color:black;float: right;font-size:1.4em !important" name="search" (click)="openModal()"></ion-icon>\n          <ion-icon style="color:black !important;float: right;font-size:1.4em !important;" (click)="wishlist()" name="heart-outline"></ion-icon>\n\n\n      </ion-title>\n  </ion-navbar>\n</ion-header>\n<ion-content>\n  <!-- <ion-row *ngIf="total_records != 0" style="background:#eee;">\n    <ion-col col-8 style="margin: auto;">\n      There are {{total_records}} products.\n    </ion-col>\n          <ion-col col-4 align="right">\n              <ion-icon   *ngIf="!checkStatus" (click)="grid()" name="grid" ></ion-icon>\n              <ion-icon  *ngIf="checkStatus"  (click)="listgrid()" name="list"></ion-icon>\n          </ion-col>\n      </ion-row> -->\n      <!-- <ion-row  style="">\n        <ion-col style="font-weight: bold;\n        font-size: medium !important;\n        margin: 10px;    text-transform: capitalize;color:#000000;text-align: center;">\n          {{designs[0][\'sub_design_name\']}} ({{total_records}})\n        </ion-col>\n\n          </ion-row> -->\n          <ion-row  style="border: 1px solid lightgray;padding: 7px !important;">\n\n            <ion-col (click)="sort()" col-4 >\n              <!-- <ion-icon     name="arrow-round-up" ></ion-icon><ion-icon     name="arrow-round-down" ></ion-icon><span style="color:#000000;">Sort</span>  -->\n              <img style="height: 15px;" src="assets/up-down.png"><span style="color: black;    margin-left: 2px;">Sort</span>\n            </ion-col>\n          <ion-col style="text-align: center;" (click)="open()" col-4 >\n            <ion-icon     name="ios-funnel-outline" ></ion-icon><span style="color: black;">Filter</span>\n        </ion-col>\n                  <ion-col style="text-align: end;" col-4 *ngIf="!checkStatus" (click)="grid()">\n                      <ion-icon     name="grid" ></ion-icon><span *ngIf="!checkStatus"  style="color: black;">View Style</span>\n                      <!-- <ion-icon  *ngIf="checkStatus"  (click)="listgrid()" name="list"></ion-icon><span *ngIf="checkStatus"  style="color:#000000;">View Style</span> -->\n                  </ion-col>\n                  <ion-col style="text-align: end;" col-4 *ngIf="checkStatus" (click)="listgrid()">\n                    <!-- <ion-icon   *ngIf="!checkStatus" (click)="grid()" name="grid" ></ion-icon><span *ngIf="!checkStatus"  style="color:#000000;">View Style</span>  -->\n                    <ion-icon     name="list"></ion-icon><span *ngIf="checkStatus"  style="color: black;">View Style</span>\n                </ion-col>\n              </ion-row>\n      <ion-grid no-padding>\n\n  <ion-row [class.hide]="checkStatus">\n      <ion-col col-6 col-sm-6 col-md-4 col-lg-4 col-xl-4 [ngClass]="animateClass" *ngFor=" let item of designs; let i=index "  no-padding>\n           <ion-card style="border: 1px solid #e4e4e4;height: 285px;border-radius: 2px">\n             <!-- <div style="margin: 3px;"><span *ngIf="item.is_stock_avail==1 && item.stock_manage == 1" class="instock">Instock</span><span *ngIf="item.is_stock_avail==0 && item.stock_manage == 1"  class="outofstock">Out of stock</span></div> -->\n             <!-- <div style="margin: 3px;text-align: right;"><span class="instock">{{item.BranchName}}</span></div> -->\n<div [ngStyle]="{\'width.px\': 30,\'height.px\': 30,\'color\':item.colorcode,\'position\':\'absolute\',\'right\':6,\'top\':6,\'z-index\':1}">\n				<ion-icon style="font-size:2em !important" name="bookmark"></ion-icon>\n			  </div>\n             <img (click)="openDesign(item)" style="height: 180px;width: auto;margin: 0 auto;object-fit: cover !important;" *ngIf=\'item.TagImage != null\' src=\'{{item.TagImage}}\' onerror="this.src=\'assets/no-img.png\'" imageCache/>\n              <img (click)="openDesign(item)" style="height: 180px;margin: 0 auto;object-fit: cover !important;" *ngIf=\'item.TagImage == null\' src=\'assets/no-img.png\' imageCache/>\n              <div (click)="openDesign(item)" *ngIf="item.Status != \'OPEN\'" style="    position: absolute;\n  top: 55px;\n  transform: rotate(-32deg);                left: 0;\n              right: 0;\n              text-align: center;\n              background: white;\n              padding: 8px;">OUT OF STOCK</div>\n              <div (click)="openDesign(item)" class="row"  style="    text-align: center;\n              font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 14px;overflow: hidden;color: #bb9532;\n        justify-content: center;\n        align-items: center;text-transform: capitalize;">\n          <div  class="col" col-4 style="text-align: center;\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: hidden;\n          display: grid;\n          justify-content: left;\n          align-items: center;\n          color: black !important;\n          text-transform: capitalize;">\n                  Tag No.\n\n          </div>\n                    <div  class="col" col-1 style="text-align: center;\n                    height: 25px;\n                    font-weight: 500;\n                    text-overflow: ellipsis;\n                    padding: 4px;\n                    padding-bottom: 0px !important;\n                    font-size: 10px;\n                    overflow: hidden;\n                    display: grid;\n                    white-space: nowrap;\n  padding-top: 8px;                      justify-content: left;\n                    align-items: center;\n                    color: black !important;\n                    text-transform: capitalize;">\n                      :\n                            </div>\n          <div class="col" col-7 style="\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: hidden;\n          display: grid;\n          justify-content: left;\n          align-items: center;\n          color: #747272 !important;\n          text-transform: capitalize;">\n                  <span>{{item.TagNo}}</span>\n\n                  </div>\n\n\n              </div>\n\n\n              <div (click)="openDesign(item)" class="row"  style="    text-align: center;\n              font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 10px;overflow: hidden;color: #bb9532;\n        justify-content: left;\n        align-items: center;text-transform: capitalize;">\n          <div class="col" col-4 style="text-align: center;\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: hidden;\n          display: grid;\n          justify-content: left;\n          align-items: center;\n          color: black !important;\n          text-transform: capitalize;">\n                  G.Wt.\n\n                  </div>\n                    <div class="col" col-1 style="text-align: center;\n                    height: 25px;\n                    font-weight: 500;\n                    text-overflow: ellipsis;\n                    padding: 4px;\n                    padding-bottom: 0px !important;\n                    font-size: 10px;\n                    overflow: hidden;\n                    display: grid;\n                    justify-content: left;\n                    align-items: center;\n                    color: black !important;\n                    text-transform: capitalize;">\n                      :\n                            </div>\n          <div class="col" col-7 style="\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: hidden;\n          display: grid;\n          justify-content: left;\n          align-items: center;\n          color: #747272 !important;\n          text-transform: capitalize;">\n                  {{item.GrossWt}} g\n\n                  </div>\n\n\n              </div>\n\n              <div (click)="openDesign(item)" class="row"  style="    text-align: center;\n              font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 10px;overflow: hidden;color: #bb9532;\n        justify-content: left;\n        align-items: center;text-transform: capitalize;">\n          <div class="col" col-4 style="text-align: center;\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: hidden;\n          display: grid;\n          justify-content: left;\n          align-items: center;\n          color: black !important;\n          text-transform: capitalize;">\n                  N.Wt.\n\n                  </div>\n                    <div class="col" col-1 style="text-align: center;\n                    height: 25px;\n                    font-weight: 500;\n                    text-overflow: ellipsis;\n                    padding: 4px;\n                    padding-bottom: 0px !important;\n                    font-size: 10px;\n                    overflow: hidden;\n                    display: grid;\n                    justify-content: left;\n                    align-items: center;\n                    color: black !important;\n                    text-transform: capitalize;">\n                      :\n                            </div>\n          <div class="col" col-7 style="\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: hidden;\n          display: grid;\n          justify-content: left;\n          align-items: center;\n          color: #747272 !important;\n          text-transform: capitalize;">\n                  {{item.net_wt}} g\n\n                  </div>\n\n\n              </div>\n\n              <div class="row"  style="    text-align: center;\n              font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 10px;overflow: hidden;color: #bb9532;\n        justify-content: left;\n        align-items: center;text-transform: capitalize;">\n          <div (click)="openDesign(item)" class="col" col-4 style="text-align: center;\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: hidden;\n          display: grid;\n          justify-content: left;\n          align-items: center;\n          color: black !important;\n          text-transform: capitalize;">\n                  Branch\n\n                  </div>\n                    <div (click)="openDesign(item)" class="col" col-1 style="text-align: center;\n                    height: 25px;\n                    font-weight: 500;\n                    text-overflow: ellipsis;\n                    padding: 4px;\n                    padding-bottom: 0px !important;\n                    font-size: 10px;\n                    overflow: hidden;\n                    display: grid;\n                    justify-content: left;\n                    align-items: center;\n                    color: black !important;\n                    text-transform: capitalize;">\n                      :\n                            </div>\n          <div class="col" col-7 style="\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: hidden;\n          display: grid;\n          justify-content: left;\n          align-items: center;\n          color: #747272 !important;\n          text-transform: capitalize;\n          display: contents;">\n                 <span (click)="openDesign(item)" style="    margin-left: 4px;\n                 white-space: nowrap;\n                 padding-top: 5px;\n                 width: 22%;\n                 overflow: hidden;\n                 text-overflow: ellipsis;text-align: left;"> {{item.BranchName}}</span>\n                  <div style="margin-left:10px;">\n                    <ion-icon style="    background:#000000;\n                  color: #ffc04b;\n                  border-radius: 5px;" (click)="proceedToWishlist(item)" name="ios-cart-outline"></ion-icon> <ion-icon style="    background: #ffc04b;\n  color:#000000;\n  border-radius: 5px;" (click)="addWishlist(item)" name="heart-outline"></ion-icon>\n                  </div>\n\n          </div>\n\n\n              </div>\n\n              <!-- <div class="row"  style="text-align: center;">\n                  <div class="col" col-12>\n                    <div style="\n                   text-align: center;color: #86354d !important;\n                    ">\n                      <span style="font-weight: bold;font-size: 20px;">{{price(item.Rate)}}</span>\n                    </div>\n\n                  </div>\n\n                </div> -->\n\n          </ion-card>\n\n      </ion-col>\n      <!-- <div class="itemempty"  *ngIf="designs?.length == 0">No item to display</div> -->\n  </ion-row>\n\n  </ion-grid>\n  <p  [class.hide]="!checkStatus" style="    margin-top: 0px;">\n    <ion-card *ngFor=" let item of designs; let i=index " style="border: 1px solid #e4e4e4;height: 130px;border-radius: 2px">\n\n<div [ngStyle]="{\'width.px\': 30,\'height.px\': 30,\'color\':item.colorcode,\'position\':\'absolute\',\'right\':6,\'top\':6,\'z-index\':1}">\n				<ion-icon style="font-size:2em !important" name="bookmark"></ion-icon>\n			  </div>\n      <ion-row >\n\n      <ion-col (click)="openDesign(item)" col-4>\n        <img style="height: 120px;width: auto;margin: 0 auto;object-fit: cover !important;" *ngIf=\'item.TagImage != null\' src=\'{{item.TagImage}}\' onerror="this.src=\'assets/no-img.png\'" imageCache/>\n        <img style="height: 120px;margin: 0 auto;object-fit: cover !important;" *ngIf=\'item.TagImage == null\' src=\'assets/no-img.png\' imageCache/>\n        <div *ngIf="item.Status != \'OPEN\'" style="    position: absolute;\n  top: 50px;\n  transform: rotate(-32deg);                 left: 0;\n               right: 0;\n               text-align: center;\n               background: white;\n               padding: 8px;">OUT OF STOCK</div>\n      </ion-col>\n          <ion-col col-8  [ngClass]="animateClass" >\n              <!-- <div style="margin: 3px;"><span *ngIf="item.is_stock_avail==1 && item.stock_manage == 1" class="instock">Instock</span><span *ngIf="item.is_stock_avail==0 && item.stock_manage == 1"  class="outofstock">Out of stock</span></div> -->\n              <!-- <div style="margin: 3px;text-align: right;"><span class="instock">{{item.BranchName}}</span></div> -->\n\n\n               <div (click)="openDesign(item)" class="row"  style="    text-align: center;\n               font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 14px;overflow: hidden;color: #bb9532;\n         justify-content: center;\n         align-items: center;text-transform: capitalize;">\n           <div  class="col" col-3 style="text-align: center;\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: black !important;\n           text-transform: capitalize;">\n                   Tag No.\n\n           </div>\n                     <div  class="col" col-1 style="text-align: center;\n                     height: 25px;\n                     font-weight: 500;\n                     text-overflow: ellipsis;\n                     padding: 4px;\n                     padding-bottom: 0px !important;\n                     font-size: 10px;\n                     overflow: hidden;\n                     display: grid;\n\n                     white-space: nowrap;\n   padding-top: 8px;                      justify-content: left;\n                     align-items: center;\n                     color: black !important;\n                     text-transform: capitalize;">\n                       :\n                             </div>\n           <div class="col" col-8 style="\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: #747272 !important;\n           text-transform: capitalize;">\n                   <span>{{item.TagNo}}</span>\n\n                   </div>\n\n\n               </div>\n\n\n               <div (click)="openDesign(item)" class="row"  style="    text-align: center;\n               font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 10px;overflow: hidden;color: #bb9532;\n         justify-content: left;\n         align-items: center;text-transform: capitalize;">\n           <div class="col" col-3 style="text-align: center;\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: black !important;\n           text-transform: capitalize;">\n                   G.Wt.\n\n                   </div>\n                     <div class="col" col-1 style="text-align: center;\n                     height: 25px;\n                     font-weight: 500;\n                     text-overflow: ellipsis;\n                     padding: 4px;\n                     padding-bottom: 0px !important;\n                     font-size: 10px;\n                     overflow: hidden;\n                     display: grid;\n                     justify-content: left;\n                     align-items: center;\n                     color: black !important;\n                     text-transform: capitalize;">\n                       :\n                             </div>\n           <div class="col" col-8 style="\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: #747272 !important;\n           text-transform: capitalize;">\n                   {{item.GrossWt}} g\n\n                   </div>\n\n\n               </div>\n\n               <div (click)="openDesign(item)" class="row"  style="    text-align: center;\n               font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 10px;overflow: hidden;color: #bb9532;\n         justify-content: left;\n         align-items: center;text-transform: capitalize;">\n           <div class="col" col-3 style="text-align: center;\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: black !important;\n           text-transform: capitalize;">\n                   N.Wt.\n\n                   </div>\n                     <div class="col" col-1 style="text-align: center;\n                     height: 25px;\n                     font-weight: 500;\n                     text-overflow: ellipsis;\n                     padding: 4px;\n                     padding-bottom: 0px !important;\n                     font-size: 10px;\n                     overflow: hidden;\n                     display: grid;\n                     justify-content: left;\n                     align-items: center;\n                     color: black !important;\n                     text-transform: capitalize;">\n                       :\n                             </div>\n           <div class="col" col-8 style="\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: #747272 !important;\n           text-transform: capitalize;">\n                   {{item.net_wt}} g\n\n                   </div>\n\n\n               </div>\n\n               <div class="row"  style="    text-align: center;\n               font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 10px;overflow: hidden;color: #bb9532;\n         justify-content: left;\n         align-items: center;text-transform: capitalize;">\n           <div (click)="openDesign(item)" class="col" col-3 style="text-align: center;\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: black !important;\n           text-transform: capitalize;">\n                   Branch\n\n                   </div>\n                     <div (click)="openDesign(item)" class="col" col-1 style="text-align: center;\n                     height: 25px;\n                     font-weight: 500;\n                     text-overflow: ellipsis;\n                     padding: 4px;\n                     padding-bottom: 0px !important;\n                     font-size: 10px;\n                     overflow: hidden;\n                     display: grid;\n                     justify-content: left;\n                     align-items: center;\n                     color: black !important;\n                     text-transform: capitalize;">\n                       :\n                             </div>\n           <div class="col" col-8 style="\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: #747272 !important;\n           text-transform: capitalize;\n           display: contents;">\n                  <span (click)="openDesign(item)" style="    margin-left: 4px;\n                  white-space: nowrap;\n                  padding-top: 5px;\n                  width: 40%;\n                  overflow: hidden;\n                  text-overflow: ellipsis;text-align: left;"> {{item.BranchName}}</span>\n                   <div style="margin-left:10px;">\n                     <ion-icon style="    background:#000000;\n                   color: #ffc04b;\n                   border-radius: 5px;" (click)="proceedToWishlist(item)" name="ios-cart-outline"></ion-icon> <ion-icon style="    background: #ffc04b;\n   color:#000000;\n   border-radius: 5px;" (click)="addWishlist(item)" name="heart-outline"></ion-icon>\n                   </div>\n\n           </div>\n\n\n               </div>\n\n               <!-- <div class="row"  style="text-align: center;">\n                   <div class="col" col-12>\n                     <div style="\n                    text-align: center;color: #86354d !important;\n                     ">\n                       <span style="font-weight: bold;font-size: 20px;">{{price(item.Rate)}}</span>\n                     </div>\n\n                   </div>\n\n                 </div> -->\n                </ion-col>\n\n              </ion-row>\n           </ion-card>\n\n\n          </p>\n\n\n         <ion-infinite-scroll   style="text-align: center;" (ionInfinite)="doInfinite($event)">\n              <ion-infinite-scroll-content ></ion-infinite-scroll-content>\n              <!-- <img *ngIf="gif" style=" max-width: 60px !important;" src="assets/loader.gif"> -->\n\n          </ion-infinite-scroll>\n\n          <!-- <ion-fab bottom right >\n            <button (click)="sort()" ion-fab>Sort</button>\n\n          </ion-fab> -->\n          <!-- <ion-fab bottom right >\n            <button ion-fab>Sort</button>\n            <ion-fab-list side="top">\n              <button ion-fab (click)="sort(2)">A to Z</button>\n              <button ion-fab (click)="sort(3)">Z to A</button>\n              <button ion-fab (click)="sort(4)">Cost low </button>\n              <button ion-fab (click)="sort(5)">Cost high </button>\n              <button ion-fab (click)="sort(6)">Wg low </button>\n              <button ion-fab (click)="sort(7)">Wg high </button>\n\n            </ion-fab-list>\n          </ion-fab> -->\n  </ion-content>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\collection\collection.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_retail__["a" /* RetailProvider */], __WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */], __WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */], __WEBPACK_IMPORTED_MODULE_2__providers_retail__["a" /* RetailProvider */]])
    ], CollectionPage);
    return CollectionPage;
}());

//# sourceMappingURL=collection.js.map

/***/ }),

/***/ 424:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FaqPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ionic_native_camera__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ionic_native_transfer__ = __webpack_require__(58);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ionic_native_file_path__ = __webpack_require__(24);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_ionic_cordova_plugin_ratio_crop__ = __webpack_require__(69);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__ionic_native_file__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__ionic_native_barcode_scanner__ = __webpack_require__(64);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__providers_retail__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__ionic_native_image_picker__ = __webpack_require__(65);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_ngx_image_compress__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__modal_mas_search_mas_search__ = __webpack_require__(96);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__modal_customer_customer__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__modal_countrymodel_countrymodel__ = __webpack_require__(92);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__home_home__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__notconverted_notconverted__ = __webpack_require__(425);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__modal_employee_employee__ = __webpack_require__(49);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};


















// @IonicPage()
var FaqPage = /** @class */ (function () {
    function FaqPage(modal, events, cd, imageCompress, alertCtrl, imagePicker, retail, barcodeScanner, toast, file, crop, filePath, platform, comman, transfer1, actionSheetCtrl, camera, load, navCtrl, navParams) {
        var _this = this;
        this.modal = modal;
        this.events = events;
        this.cd = cd;
        this.imageCompress = imageCompress;
        this.alertCtrl = alertCtrl;
        this.imagePicker = imagePicker;
        this.retail = retail;
        this.barcodeScanner = barcodeScanner;
        this.toast = toast;
        this.file = file;
        this.crop = crop;
        this.filePath = filePath;
        this.platform = platform;
        this.comman = comman;
        this.transfer1 = transfer1;
        this.actionSheetCtrl = actionSheetCtrl;
        this.camera = camera;
        this.load = load;
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.empData = JSON.parse(localStorage.getItem('empDetail'));
        this.code = '';
        this.image = '';
        this.imageid = '';
        this.imagename = '';
        this.stockcodes = [];
        this.searchcodes = [];
        this.images = [];
        this.Products = [];
        this.Designs = [];
        this.subDesigns = [];
        this.createstock = false;
        this.input = '';
        this.progress = 0;
        this.show = false;
        this.enquiry = {
            'taged': 'true',
            'whole': [{ 'design_no': '', 'design_name': '', 'sub_design_no': '', 'sub_design_name': '', 'pro_id': '', 'product_name': '', 'weight': '', 'id_weight': '', 'weight_description': '', 'reason': '', 'images': [] }]
        };
        this.type = 'FactSheet';
        this.reasons = [];
        this.prices = [];
        this.weights = [];
        this.sweights = [];
        this.village = [];
        this.checkold = false;
        this.input2 = '';
        this.employees = [];
        // this.whole = this.navParams.get('data');
        // this.image = this.whole['default_image']
        // this.images = this.whole['img_details'];
        var y = Object.assign({}, this.images);
        this.images.reverse();
        this.loggedInBranch = this.empData['id_branch'];
        this.enquiry['empname'] = "";
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        this.comman.getVillages().then(function (data) {
            _this.village = data;
            console.log(_this.village);
        });
        this.comman.getBranchEmployees(this.empData['id_branch']).then(function (data) {
            _this.employees = data;
        });
        this.comman.getreasons().then(function (data) {
            _this.reasons = data['reasons_for_leaving'];
            _this.prices = data['price_range'];
            _this.weights = data['weight_range'];
            _this.sweights = data['weight_range'];
            loader.dismiss();
        }, function (err) {
            loader.dismiss();
        });
    }
    FaqPage.prototype.ionViewWillEnter = function () {
        this.list();
        this.events.publish('entered', true);
        this.events.publish('pageno', 1);
    };
    FaqPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    FaqPage.prototype.list = function () {
        // let loader = this.load.create({
        //   content: 'Please Wait',
        //   spinner: 'bubbles',
        // });
        // loader.present();
        // this.comman.getstocklist().then(data=>{
        //   this.stockcodes = data['stockcodes'];
        //   this.searchcodes = data['stockcodes'];
        //   loader.dismiss();
        // },err=>{
        //   loader.dismiss();
        // });
    };
    FaqPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad CreatestockPage');
    };
    FaqPage.prototype.create = function () {
        if (this.createstock == false) {
            this.createstock = true;
        }
        else {
            this.createstock = false;
        }
    };
    FaqPage.prototype.presentActionSheet = function (data, iii) {
        var _this = this;
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Select Image Source',
            buttons: [
                {
                    text: 'Load from Gallery',
                    handler: function () {
                        if (data == 'default') {
                            _this.takePicture(_this.camera.PictureSourceType.PHOTOLIBRARY, iii);
                        }
                        else {
                            var options = {
                                maximumImagesCount: 1,
                                quality: 100,
                            };
                            _this.imagePicker.getPictures(options).then(function (results) {
                                if (results.length > 0) {
                                    _this.loading();
                                }
                                console.log('111111111111111');
                                for (var i = 0; i < results.length; i++) {
                                    console.log(results[i]);
                                    var documentURL = decodeURIComponent(results[i]);
                                    console.log(documentURL);
                                    results[i] = documentURL;
                                    console.log(results[i]);
                                    var temp = results.length - 1 == i ? true : false;
                                    var correctPath = results[i].substr(0, results[i].lastIndexOf('/') + 1);
                                    var currentName = results[i].substr(results[i].lastIndexOf('/') + 1);
                                    _this.copyFileToLocalDir(correctPath, currentName, _this.createFileName(), temp, 'gal', iii);
                                }
                                ;
                            });
                        }
                    }
                },
                {
                    text: 'Take Picture',
                    handler: function () {
                        _this.takePicture(_this.camera.PictureSourceType.CAMERA, iii);
                    }
                },
                {
                    text: 'Cancel',
                    role: 'cancel'
                }
            ]
        });
        actionSheet.present();
    };
    FaqPage.prototype.takePicture = function (sourceType, iii) {
        var _this = this;
        // Create options for the Camera Dialog
        var options = {
            quality: 100,
            sourceType: sourceType,
            saveToPhotoAlbum: false,
            correctOrientation: true,
        };
        var cropOptions = {
            quality: 100,
            widthRatio: -1,
            heightRatio: -1
        };
        this.loading();
        // Get the data of an image
        this.camera.getPicture(options).then(function (imagePath) {
            console.log(imagePath);
            if (_this.platform.is('android') && sourceType === _this.camera.PictureSourceType.PHOTOLIBRARY) {
                console.log(imagePath);
                _this.crop.ratioCrop(imagePath, cropOptions).then(function (out) {
                    _this.filePath.resolveNativePath(out)
                        .then(function (filePath) {
                        console.log(filePath);
                        console.log(333333333333333);
                        var correctPath = filePath.substr(0, filePath.lastIndexOf('/') + 1);
                        //  let currentName = imagePath.substring( imagePath.lastIndexOf( '/' ) + 1, imagePath.lastIndexOf( '?' ) );
                        var currentName = filePath.substring(filePath.lastIndexOf('/') + 1);
                        // this.dismissLoader();
                        _this.copyFileToLocalDir(correctPath, currentName, _this.createFileName(), '', 'cam', iii);
                        // this.uploadImage();
                    }, function (err) {
                        _this.dismissLoader();
                    });
                }, function (err) {
                    _this.dismissLoader();
                });
            }
            else {
                _this.crop.ratioCrop(imagePath, cropOptions).then(function (out) {
                    _this.filePath.resolveNativePath(out)
                        .then(function (filePath) {
                        console.log(filePath);
                        var currentName = filePath.substr(filePath.lastIndexOf('/') + 1);
                        var correctPath = filePath.substr(0, filePath.lastIndexOf('/') + 1);
                        // this.dismissLoader();
                        _this.copyFileToLocalDir(correctPath, currentName, _this.createFileName(), '', 'cam', iii);
                        // this.uploadImage();
                    }, function (err) {
                        _this.dismissLoader();
                    });
                }, function (err) {
                    _this.dismissLoader();
                });
            }
        }, function (err) {
            _this.dismissLoader();
            console.log(err);
            console.log('Error while selecting image.');
        });
    };
    FaqPage.prototype.pathForImage = function (img) {
        if (img === null) {
            return '';
        }
        else {
            return cordova.file.dataDirectory + img;
        }
    };
    // Create a new name for the image
    FaqPage.prototype.createFileName = function () {
        var d = new Date(), n = d.getTime(), newFileName = n + ".jpg";
        return newFileName;
    };
    // Copy the image to a local folder
    FaqPage.prototype.copyFileToLocalDir = function (namePath, currentName, newFileName, index, type, iii) {
        var _this = this;
        this.file.copyFile(namePath, currentName, cordova.file.dataDirectory, newFileName).then(function (success) {
            console.log(_this.pathForImage(newFileName));
            var orientation = -1;
            _this.imageCompress.compressFile(_this.pathForImage(newFileName), orientation, 100, 100).then(function (result) { return __awaiter(_this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    this.writeFile(result, this.createFileName(), index, type, iii);
                    return [2 /*return*/];
                });
            }); }, function (err) {
                console.log(err);
            });
        }, function (error) {
            console.log(error);
        });
    };
    FaqPage.prototype.uploadImage = function (name, iii) {
        var _this = this;
        console.log(this.enquiry);
        console.log(this.images);
        console.log('666', iii);
        var imgs = this.images;
        // if(imgs.length > 0){
        // let loader = this.load.create( {
        //   content: "Uploading..."
        // } );
        // loader.present();
        this.show = true;
        console.log(imgs);
        imgs.forEach(function (element, index) { return __awaiter(_this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, new Promise(function (next) {
                            // Destination URL
                            var url = __WEBPACK_IMPORTED_MODULE_5__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/createenquiryImage';
                            var d = new Date(), n = d.getTime();
                            // File for Upload
                            var targetPath = element['image_name'] + '?nocache=' + n;
                            // File name only
                            var filename = name;
                            var options = {
                                fileKey: "name",
                                fileName: element['name'],
                                chunkedMode: false,
                                mimeType: "image/jpeg",
                                params: {
                                    fileName: element['name'],
                                    default: element['is_default'],
                                    // id_design:this.whole['id_design'],
                                    branch_id: _this.empData['id_branch'],
                                    created_by: _this.empData['uid'],
                                }
                            };
                            var fileTransfer = _this.transfer1.create();
                            console.log(targetPath);
                            console.log(encodeURI(url));
                            console.log(options);
                            console.log(url);
                            // Use the FileTransfer to upload the image
                            fileTransfer.upload(targetPath, encodeURI(url), options).then(function (data) {
                                console.log(data);
                                if (index == imgs.length - 1) {
                                    setTimeout(function () {
                                        var result = JSON.parse(data.response);
                                        console.log(result);
                                        console.log(result['imageid']);
                                        // loader.dismissAll();
                                        // this.image = this.pathForImage(name);
                                        // this.imageid = result['imageid'];
                                        var check = _this.images.findIndex(function (data) { return data['image_name'] == element['image_name']; });
                                        _this.images[check]['id_desmap_img'] = result['imageid'];
                                        var toastMsg = _this.toast.create({
                                            message: "Image succesfully uploaded.",
                                            duration: _this.comman.toastTimeout,
                                            position: 'center'
                                        });
                                        toastMsg.present();
                                        _this.show = false;
                                        // this.navCtrl.pop();
                                    }, 3000);
                                }
                                next();
                            }, function (err) {
                                // loader.dismissAll()
                                console.log(err);
                                var toastMsg = _this.toast.create({
                                    message: "Error while uploading Image.",
                                    duration: _this.comman.toastTimeout,
                                    position: 'center'
                                });
                                toastMsg.present();
                                next();
                                _this.show = false;
                            });
                            fileTransfer.onProgress(function (data) {
                                console.log(data);
                                _this.progress = Math.round((data.loaded / data.total) * 100);
                                _this.refresh();
                                console.log(_this.progress);
                            });
                        })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        }); });
        // }
        // else{
        //   // this.navCtrl.pop();
        // }
    };
    FaqPage.prototype.loading = function () {
        this.loader = this.load.create({
            content: "Please Wait..."
        });
        this.loader.present();
    };
    FaqPage.prototype.dismissLoader = function () {
        this.loader.dismiss();
    };
    FaqPage.prototype.search = function () {
        var _this = this;
        this.stockcodes = this.searchcodes.filter(function (item) { return item['stock_code'].toUpperCase().includes(_this.input.toUpperCase()); });
    };
    FaqPage.prototype.deletePhoto = function (index, data) {
        var _this = this;
        // ${data}
        var confirm = this.alertCtrl.create({
            title: "Sure you want to delete this image? There is no undo!",
            message: '',
            buttons: [
                {
                    text: 'No',
                    handler: function () {
                        console.log('Disagree clicked');
                    }
                }, {
                    text: 'Yes',
                    handler: function () {
                        console.log('Agree clicked');
                        console.log(data);
                        console.log(index);
                        _this.images.splice(index, 1);
                        if (data != '') {
                            console.log('1111', data);
                            _this.enquiry['whole'][data].images.splice(index, 1);
                        }
                        //if(data != '' && this.enquiry['whole'][data].images.length > 0){
                        //}
                        //                     let check:any = this.images.findIndex(data => data['is_default'] == 1);
                        // if(check < 0){
                        //   this.imagename = '';
                        //   this.image = '';
                        // }
                        // else{
                        // }
                    }
                }
            ]
        });
        confirm.present();
    };
    FaqPage.prototype.checkdefault = function (index) {
        var _this = this;
        console.log(this.images[index]);
        if (this.images[index].hasOwnProperty('id_desmap_img')) {
            var loader = this.load.create({
                content: 'Please Wait',
                spinner: 'dots',
            });
            loader.present();
            if (this.images[index]['is_default'] == 0) {
                this.images[index]['is_default'] = 1;
                this.image = this.images[index]['image_name'];
                this.images.forEach(function (element, i) {
                    if (index == i) {
                    }
                    else {
                        _this.images[i]['is_default'] = 0;
                    }
                });
            }
            else {
                this.images[index]['is_default'] = 0;
                this.image = '';
                this.imagename = '';
            }
            var temp = { 'empcode': this.empData['uid'], 'id_design': this.whole['id_design'], id_design_mapping: this.whole['id_design_mapping'], 'id_desmap_img': this.whole['img_details'][index]['id_desmap_img'], 'is_default': this.images[index]['is_default'] };
            // this.comman.updatedefaultdes(temp).then(data=>{
            //   let toast = this.toast.create({
            //     message: 'Default Image Updated Successfully',
            //     duration: 3000,
            //     position: 'bottom'
            //   });
            //   toast.present();
            //   loader.dismiss();
            // });
        }
        else {
            if (this.images[index]['is_default'] == 0) {
                this.images[index]['is_default'] = 1;
                this.image = this.images[index]['image_name'];
                this.images.forEach(function (element, i) {
                    if (index == i) {
                    }
                    else {
                        _this.images[i]['is_default'] = 0;
                    }
                });
            }
            else {
                this.images[index]['is_default'] = 0;
                this.image = '';
                this.imagename = '';
            }
        }
    };
    //here is the method is used to write a file in storage
    FaqPage.prototype.writeFile = function (base64Data, fileName, index, type, iii) {
        var _this = this;
        var contentType = this.getContentType(base64Data);
        var DataBlob = this.base64toBlob(base64Data, contentType);
        // here iam mentioned this line this.file.externalRootDirectory is a native pre-defined file path storage. You can change a file path whatever pre-defined method.
        var filePath = cordova.file.dataDirectory;
        this.file.writeFile(filePath, fileName, DataBlob, contentType).then(function (success) {
            console.log(success['nativeURL']);
            var currentName = success['nativeURL'].substr(success['nativeURL'].lastIndexOf('/') + 1);
            var correctPath = success['nativeURL'].substr(0, success['nativeURL'].lastIndexOf('/') + 1);
            console.log("File Writed Successfully", success);
            console.log(currentName);
            console.log(correctPath);
            // this.targetPaths.push( success['nativeURL'])
            // this.filenames.push( currentName );
            // this.copyFileToLocalDir( correctPath, currentName, this.createFileName() );
            if (type == 'gal') {
                _this.images.push({ 'image_name': success['nativeURL'], 'is_default': 0, 'name': currentName });
                _this.enquiry['whole'][iii]['images'].push({ 'image_name': success['nativeURL'], 'is_default': 0, 'name': currentName });
                var y = Object.assign({}, _this.images);
                _this.images.reverse();
                _this.uploadImage(currentName, iii);
                if (index == true) {
                    _this.dismissLoader();
                }
            }
            else {
                _this.images.forEach(function (element, i) {
                    _this.images[i]['is_default'] = 0;
                });
                _this.imagename = currentName;
                _this.image = success['nativeURL'];
                _this.images.push({ 'image_name': _this.image, 'is_default': 1, 'name': currentName });
                _this.enquiry['whole'][iii]['images'].push({ 'image_name': _this.image, 'is_default': 1, 'name': currentName });
                var y = Object.assign({}, _this.images);
                _this.images.reverse();
                _this.uploadImage(currentName, iii);
                _this.dismissLoader();
            }
        }).catch(function (err) {
            console.log("Error Occured While Writing File", err);
        });
    };
    //here is the method is used to get content type of an bas64 data
    FaqPage.prototype.getContentType = function (base64Data) {
        var block = base64Data.split(";");
        var contentType = block[0].split(":")[1];
        return contentType;
    };
    //here is the method is used to convert base64 data to blob data
    FaqPage.prototype.base64toBlob = function (b64Data, contentType) {
        contentType = contentType || '';
        var sliceSize = 512;
        var byteCharacters = atob(b64Data.replace(/^data:image\/(png|jpeg|jpg);base64,/, ''));
        var byteArrays = [];
        for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {
            var slice = byteCharacters.slice(offset, offset + sliceSize);
            var byteNumbers = new Array(slice.length);
            for (var i = 0; i < slice.length; i++) {
                byteNumbers[i] = slice.charCodeAt(i);
            }
            var byteArray = new Uint8Array(byteNumbers);
            byteArrays.push(byteArray);
        }
        var blob = new Blob(byteArrays, {
            type: contentType
        });
        return blob;
    };
    FaqPage.prototype.refresh = function () {
        console.log('refresheed');
        this.cd.detectChanges();
    };
    FaqPage.prototype.openMasSearch = function (master, ii) {
        var _this = this;
        if (master == 'Product') {
            var loader_1 = this.load.create({
                content: 'Please Wait',
                spinner: 'bubbles',
            });
            loader_1.present();
            if (this.Products.length == 0) {
                this.retail.getProducts({ "type": "active", "id_category": "", "last_id": -1 }).then(function (data) {
                    _this.Products = data;
                    loader_1.dismiss();
                    _this.openMasModal({ 'searchArr': _this.Products, page: master, listType: "normal" }, master, ii);
                });
            }
            else {
                loader_1.dismiss();
                this.openMasModal({ 'searchArr': this.Products, page: master, listType: "normal" }, master, ii);
            }
        }
        else if (master == 'Design') {
            if (this.enquiry['whole'][ii]['pro_id']) {
                this.openMasModal({ 'searchArr': this.Designs, page: master, listType: "normal" }, master, ii);
            }
        }
        else if (master == 'subDesign') {
            if (this.enquiry['whole'][ii]['design_no']) {
                this.openMasModal({ 'searchArr': this.subDesigns, page: master, listType: "normal" }, master, ii);
            }
        }
    };
    FaqPage.prototype.openMasModal = function (data, master, i) {
        var _this = this;
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_12__modal_mas_search_mas_search__["a" /* MasSearchPage */], data);
        modal.present();
        modal.onDidDismiss(function (data) {
            if (data != null) {
                if (master == 'Design') {
                    _this.enquiry['whole'][i]['design_no'] = data.id_design;
                    _this.enquiry['whole'][i]['design_name'] = data.label;
                    _this.hbdesignSelected(i);
                }
                else if (master == 'subDesign') {
                    _this.enquiry['whole'][i]['sub_design_no'] = data.id_sub_design;
                    _this.enquiry['whole'][i]['sub_design_name'] = data.label;
                }
                else if (master == 'Product') {
                    _this.enquiry['whole'][i]['pro_id'] = data.pro_id;
                    // this.enquiry['metal_type'] = data.metal_type;
                    _this.enquiry['whole'][i]['product_name'] = (data.parent_prods_name != null ? data.parent_prods_name + ',' + data.label : data.label);
                    _this.hbProdSelected(i);
                }
            }
        });
    };
    FaqPage.prototype.hbProdSelected = function (i) {
        var _this = this;
        // if(this.hbDesigns.length == 0) {
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        this.retail.getDesigns({ "type": "active", "id_product": this.enquiry['whole'][i]['pro_id'], "last_id": -1 }).then(function (data) {
            _this.Designs = data;
            loader.dismiss();
        });
        // }
    };
    FaqPage.prototype.hbdesignSelected = function (i) {
        var _this = this;
        // if(this.hbDesigns.length == 0) {
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        this.comman.getsubdesigns({ "id_product": this.enquiry['whole'][i]['pro_id'], "design_no": this.enquiry['whole'][i]['design_no'] }).then(function (data) {
            _this.subDesigns = data;
            loader.dismiss();
        });
        // }
    };
    FaqPage.prototype.setreason = function (data, i) {
        this.enquiry['whole'][i]['reason'] = data;
    };
    FaqPage.prototype.setweight = function (data, name, i) {
        this.enquiry['whole'][i]['id_weight'] = data;
        this.enquiry['whole'][i]['weight_description'] = name;
        this.enquiry['whole'][i]['net_wt'] = name;
        this.enquiry['id_weight'] = data;
        this.enquiry['weight_description'] = name;
    };
    FaqPage.prototype.setprice = function (data) {
        this.enquiry['price'] = data;
    };
    // Tag Item
    FaqPage.prototype.getTagData = function (tagData) {
        var _this = this;
        if (tagData.length > 0) {
            if (tagData != '') {
                var istagId = (tagData.search("/") > 0 ? true : false);
                // var isTagCode = (tagData.search("-") > 0 ? true : false);
                var isTagCode = ((tagData.search("-") > 0 || tagData.search("-") < 0) ? true : false);
                if (istagId) {
                    var tId = tagData.split("/");
                    var searchTxt = (tId.length >= 2 ? tId[0] : "");
                    var searchField = this.checkold == true ? "old_tag_id" : "tag_id";
                    console.log('1');
                }
                else if (isTagCode) {
                    var searchTxt = tagData;
                    var searchField = this.checkold == true ? "old_tag_id" : "tag_code";
                    console.log('2');
                }
                else if (this.checkold) {
                    var searchTxt = tagData;
                    var searchField = "old_tag_id";
                    console.log('3');
                }
            }
            console.log(searchTxt, searchField, 'datttaaaaa');
            var loader_2 = this.load.create({
                content: 'Please Wait',
                spinner: 'bubbles',
            });
            loader_2.present();
            var postData = { "type": 'EstiTag', "searchTxt": searchTxt, "searchField": searchField, "id_branch": this.empData['id_branch'] };
            this.retail.getTagData(postData).then(function (data) {
                if (data.status) {
                    data.tagData['product_name'] = (data.tagData['parent_prods_name'] != null ? (data.tagData['parent_prods_name'] + ',' + data.tagData['product_name']) : data.tagData['product_name']);
                    // this.enquiry = data.tagData;
                    _this.enquiry['taged'] = 'true';
                    _this.enquiry['gettaged'] = 'true';
                    _this.enquiry['net_wt'] = data.tagData['net_wt'];
                    _this.enquiry['tag_id'] = data.tagData['tag_id'];
                    // this.image = data.tagData['image'];
                    _this.enquiry['product_name'] = data.tagData['product_name'];
                    _this.enquiry['design_name'] = data.tagData['design_name'];
                    _this.enquiry['sub_design_name'] = data.tagData['sub_design_name'];
                    _this.enquiry['pro_id'] = data.tagData['pro_id'];
                    _this.enquiry['design_no'] = data.tagData['design_no'];
                    _this.enquiry['sub_design_no'] = data.tagData['sub_design_no'];
                }
                else {
                    var toastMsg = _this.toast.create({
                        message: data.msg,
                        duration: _this.comman.toastTimeout,
                        position: 'center'
                    });
                    toastMsg.present();
                }
                loader_2.dismiss();
            });
        }
        else {
            console.log(tagData);
            var toastMsg = this.toast.create({
                message: "Enter Tag Code",
                duration: this.comman.toastTimeout,
                position: 'center'
            });
            toastMsg.present();
        }
    };
    FaqPage.prototype.append = function (event) {
        var one = document.getElementById('one').value.toUpperCase();
        var two = document.getElementById('two').value.toUpperCase();
        this.enquiry['tag_code1'] = this.enquiry['tag_code1'].toUpperCase();
        this.enquiry['tag_code2'] = this.enquiry['tag_code2'].toUpperCase();
        console.log(one);
        console.log(two);
        if (this.enquiry['tag_code1'] != '' && this.enquiry['tag_code2'] != '') {
            this.enquiry['tag_code'] = one + '-' + two;
        }
        else {
            this.enquiry['tag_code'] = one + two;
        }
        // var one:any = (<HTMLInputElement>document.getElementById('one')).value.toUpperCase();
        // var two:any = (<HTMLInputElement>document.getElementById('two')).value.toUpperCase();
        // this.enquiry['tag_code1'] = this.enquiry['tag_code1'].toUpperCase();
        // this.enquiry['tag_code2'] = this.enquiry['tag_code2'].toUpperCase();
        // console.log(one)
        // console.log(two)
        //   this.enquiry['tag_code'] = one+'-'+two;
        if (event.keyCode == 13) {
            this.getTagData(this.enquiry['tag_code']);
        }
    };
    FaqPage.prototype.addWishlist = function (item) {
        var _this = this;
        var empData = JSON.parse(localStorage.getItem('empDetail'));
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_13__modal_customer_customer__["a" /* CusSearchPage */], { 'show': 'true' });
        modal.present();
        modal.onDidDismiss(function (mData) {
            console.log(mData);
            if (mData != null) {
                // this.idcus = mData['id_customer'];
                _this.enquiry['id_customer'] = mData['id_customer'];
                _this.enquiry['name'] = mData['firstname'];
                _this.enquiry['phone'] = mData['mobile'];
                _this.enquiry['area'] = mData['village_name'];
            }
            else {
            }
        });
    };
    FaqPage.prototype.estiTypeChanged = function (eve) {
        this.enquiry['empname'] = '';
        this.enquiry['whole'] =
            [{ 'design_no': '', 'design_name': '', 'sub_design_no': '', 'sub_design_name': '', 'pro_id': '', 'product_name': '', 'weight': '', 'id_weight': '', 'weight_description': '', 'reason': '', 'images': [] }];
        this.enquiry['tag_code'] = '';
        this.enquiry['tag_code1'] = '';
        this.enquiry['tag_code2'] = '';
        this.enquiry['gettaged'] = '';
        this.enquiry['tag_id'] = '';
        this.enquiry['images'] = [];
        this.enquiry['weight'] = '';
        this.images = [];
        this.enquiry['product_name'] = '';
        this.enquiry['design_name'] = '';
        this.enquiry['sub_design_name'] = '';
        this.enquiry['pro_id'] = '';
        this.enquiry['design_no'] = '';
        this.enquiry['sub_design_no'] = '';
        this.enquiry['net_wt'] = '';
        console.log(eve);
    };
    FaqPage.prototype.checkesti = function () {
        this.enquiry['whole'] =
            [{ 'design_no': '', 'design_name': '', 'sub_design_no': '', 'sub_design_name': '', 'pro_id': '', 'product_name': '', 'weight': '', 'id_weight': '', 'weight_description': '', 'reason': '', 'images': [] }];
        if (this.enquiry['taged'] != 'true') {
            this.enquiry['tag_code'] = '';
            this.enquiry['tag_code1'] = '';
            this.enquiry['tag_code2'] = '';
            this.enquiry['gettaged'] = '';
            this.enquiry['tag_id'] = '';
        }
    };
    FaqPage.prototype.submit = function () {
        var _this = this;
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        if (this.enquiry['taged'] != 'true') {
            this.enquiry['tag_code'] = '';
            this.enquiry['tag_code1'] = '';
            this.enquiry['tag_code2'] = '';
            this.enquiry['gettaged'] = '';
            this.enquiry['tag_id'] = '';
        }
        this.enquiry['images'] = this.images;
        this.enquiry['id_employee'] = this.empData['uid'];
        this.enquiry['id_branch'] = this.empData['id_branch'];
        this.enquiry['type'] = this.type;
        this.retail.addToenquiry(this.enquiry).then(function (data) {
            var toastMsg = _this.toast.create({
                message: data.msg,
                duration: 2000,
                position: 'middle'
            });
            toastMsg.present();
            loader.dismiss();
            _this.navCtrl.setRoot(__WEBPACK_IMPORTED_MODULE_15__home_home__["a" /* HomePage */]);
            //this.navCtrl.setRoot(faqpa)
        }, function (err) {
            var toastMsg = _this.toast.create({
                message: "* Fields are required",
                duration: 2000,
                position: 'middle'
            });
            toastMsg.present();
            loader.dismiss();
        });
    };
    FaqPage.prototype.removefield = function (i) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are You Sure Want to Delete?',
            buttons: [
                {
                    text: 'No',
                    role: 'cancel',
                    handler: function () {
                        console.log('Cancel clicked');
                    }
                },
                {
                    text: 'Yes',
                    handler: function () {
                        console.log('yes clicked');
                        _this.enquiry['whole'].splice(i, 1);
                        //  this.ferror = null;
                        if (_this.enquiry['whole'].length == 0) {
                            _this.enquiry['whole'] = [{ 'design_no': '', 'design_name': '', 'sub_design_no': '', 'sub_design_name': '', 'pro_id': '', 'product_name': '' }];
                        }
                    }
                }
            ]
        });
        alert.present();
    };
    FaqPage.prototype.addfield = function (i) {
        if (this.enquiry['whole'][i]['design_name'] != '' && this.enquiry['whole'][i]['sub_design_name'] != '' && this.enquiry['whole'][i]['product_name'] != '') {
            this.enquiry['whole'].push({ 'design_no': '', 'design_name': '', 'sub_design_no': '', 'sub_design_name': '', 'pro_id': '', 'product_name': '', 'weight': '', 'id_weight': '', 'weight_description': '', 'reason': '', 'images': '' });
        }
        else {
            // this.ferror = false;
            var toastMsg = this.toast.create({
                message: "Please Enter Valid Details",
                duration: this.comman.toastTimeout,
                position: 'center'
            });
            toastMsg.present();
        }
    };
    // Tag Item
    FaqPage.prototype.getref = function (tag_code) {
        var _this = this;
        if (tag_code.length > 0) {
            var loader_3 = this.load.create({
                content: 'Please Wait',
                spinner: 'bubbles',
            });
            loader_3.present();
            var postData = { "type": 'EstiTag', "searchTxt": tag_code, "searchField": "ref", "id_branch": this.empData['id_branch'] };
            this.retail.getref(postData).then(function (data) {
                if (data.status) {
                    // data.tagData['product_name'] = ( data.tagData['parent_prods_name'] != null ? (data.tagData['parent_prods_name']+','+data.tagData['product_name']) : data.tagData['product_name'] );
                    _this.enquiry = data.tagData;
                    _this.enquiry['taged'] = 'true';
                    _this.enquiry['gettaged'] = 'true';
                    // this.enquiry['net_wt'] = data.tagData['net_wt'];
                    _this.enquiry['tag_id'] = data.tagData['tag_id'];
                    _this.enquiry['tag_code'] = data.tagData['tag_code'];
                    _this.enquiry['whole'] = [];
                    _this.enquiry['whole'] = data.tagData['ref_details'];
                    _this.enquiry['empname'] = '';
                    // this.image = data.tagData['image'];
                }
                else {
                    var toastMsg = _this.toast.create({
                        message: data.msg,
                        duration: _this.comman.toastTimeout,
                        position: 'center'
                    });
                    toastMsg.present();
                }
                loader_3.dismiss();
            });
        }
        else {
            console.log(tag_code);
            var toastMsg = this.toast.create({
                message: "Enter Tag Code",
                duration: this.comman.toastTimeout,
                position: 'center'
            });
            toastMsg.present();
        }
    };
    FaqPage.prototype.getmodal = function (name, details) {
        var _this = this;
        var mod = this.modal.create(__WEBPACK_IMPORTED_MODULE_14__modal_countrymodel_countrymodel__["a" /* CountrymodelPage */], { data: details, name: name });
        mod.present();
        mod.onDidDismiss(function (dataa, name) {
            if (dataa != undefined) {
                if (name == 'Village') {
                    _this.enquiry['area'] = dataa['village_name'];
                    _this.enquiry['id_village'] = dataa['id_village'];
                }
            }
        });
    };
    FaqPage.prototype.setwei = function (i, data) {
        this.enquiry['whole'][i]['net_wt'] = data;
    };
    FaqPage.prototype.searchrange = function () {
        var _this = this;
        this.weights = this.sweights.filter(function (item) { return item['weight_description'].toUpperCase().includes(_this.input2.toUpperCase()); });
    };
    FaqPage.prototype.non = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_16__notconverted_notconverted__["a" /* NotconvertedPage */]);
    };
    FaqPage.prototype.texto = function (event) {
        if (event.keyCode == 13) {
            this.getref(this.enquiry['ref_no']);
        }
        console.log(event);
    };
    FaqPage.prototype.openEmpModal = function () {
        var _this = this;
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_17__modal_employee_employee__["a" /* EmpSearchPage */], { "empData": this.employees });
        modal.present();
        modal.onDidDismiss(function (data) {
            if (data != null) {
                _this.enquiry['empname'] = data.emp_name;
                _this.enquiry['id_employee'] = data.id_employee;
            }
        });
    };
    FaqPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-faq',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\faq\faq.html"*/'<!--\n  Generated template for the CreatestockPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n-->\n<ion-header>\n\n  <ion-navbar>\n    <!-- <button ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button> -->\n    <ion-title  style="text-align: center;\n    "><img class="header-logo" src=\'assets/header.svg\'/>\n	<span  style="float:right;padding:8px;border-radius:7px;font-size: 10px;margin-top: 15px !important;"></span>\n	<!-- <span (click)="non()" style="float:right;padding:8px;border-radius:7px;font-size: 10px;margin-top: 15px !important;background: #efefef">View Status</span> -->\n	</ion-title>\n  </ion-navbar>\n\n</ion-header>\n\n\n<ion-content padding>\n\n  <ion-segment style="margin-top: 6px !important;    width: 98% !important;margin-left: 3px !important;" [(ngModel)]="type" mode="ios" color="label-color" scrollable (ionChange)="estiTypeChanged($event)">\n    <ion-segment-button value="FactSheet">\n      Fact Sheet\n    </ion-segment-button>\n    <ion-segment-button value="Wishlist">\n      Wishlist\n    </ion-segment-button>\n    <ion-segment-button value="Enquiry">\n      Enquiry\n    </ion-segment-button>\n\n  </ion-segment>\n\n  <div style="margin-bottom: 100px;">\n\n  <ion-row *ngIf="type == \'FactSheet\'" style="    margin-bottom: 15px;">\n    <ion-col col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 >\n      <ion-list style="display: flex !important;margin: 0px 0 0px !important;"  [(ngModel)]="enquiry[\'taged\']" (ngModelChange)="checkesti()" radio-group>\n        <div style="margin-right: 15px;    margin-top: 13px;\n        font-weight: 400;color:#000000 !important;">Against Estimation ?</div>\n        <div style="display: flex;">\n          <ion-label style="color: black !important;">Yes.</ion-label>\n          <ion-radio style="margin: auto;" value="true"></ion-radio>\n        </div>\n        <div style="display: flex;margin-left: 10px;">\n          <ion-label style="color: black !important;">No.</ion-label>\n          <ion-radio style="margin: auto;" value="false"></ion-radio>\n        </div>\n      </ion-list>\n   </ion-col>\n\n   <!-- <div *ngIf="enquiry[\'taged\'] == \'true\'" class="row">\n     <div class="col" col-3 style="margin: auto;" >\n      <input  style="    border: 1px solid lightgray;height: 40px;width: -webkit-fill-available;" type="text" id="one"  [(ngModel)]="enquiry[\'tag_code1\']" (ngModelChange)="append()" >\n\n      </div>\n      <div class="col" col-1 style="margin: auto;font-weight: bold;">\n        <hr>\n        </div>\n\n      <div class="col" col-6 style="margin: auto;" >\n        <input  style="    border: 1px solid lightgray;height: 40px;width: -webkit-fill-available;" type="text"    [(ngModel)]="enquiry[\'ref_no\']" >\n\n      </div>\n      <div class="col" style="margin: auto;" col-2>\n        <button style="" item-right ion-button  color="light" (click)="getref(enquiry[\'ref_no\'])"><ion-icon name="ios-search"></ion-icon></button>\n\n      </div>\n  </div> -->\n\n\n  <ion-col *ngIf="enquiry[\'taged\'] == \'true\'" col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 >\n\n </ion-col>\n <ion-col *ngIf="enquiry[\'taged\'] == \'true\'" col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8 >\n  <ion-item   no-padding>\n    <!-- <ion-label color="label-color" stacked>Tag Code <span class="required">*</span></ion-label> -->\n    <ion-input type="number" [(ngModel)]="enquiry[\'ref_no\']" (keyup)="texto($event)"></ion-input>\n    <button item-right ion-button margin-top color="light" (click)="getref(enquiry[\'ref_no\'])"><ion-icon name="ios-search"></ion-icon></button>\n    <!-- <button item-right ion-button margin-top color="light" (click)="openQRScanner(\'tag\')"><ion-icon name="ios-qr-scanner"></ion-icon></button> -->\n\n    <!-- <button item-right ion-button icon-start outline small color="dark" (click)="openQRScanner(\'tag\')">\n      <ion-icon name="ios-qr-scanner"></ion-icon>\n    </button> -->\n  </ion-item>\n</ion-col>\n\n<ion-col col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 >\n  <!-- <ion-item no-padding> -->\n    <ion-label color="label-color"  stacked>Sales Person *</ion-label>\n    <!-- <ion-input type="text" [(ngModel)]="enquiry[\'empname\']" readonly></ion-input> -->\n  <!-- </ion-item> -->\n</ion-col>\n<ion-col col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8 >\n  <ion-item no-padding>\n    <!-- <ion-label color="label-color"  stacked>Sales Person</ion-label> -->\n    <ion-input type="text" [(ngModel)]="enquiry[\'empname\']" (click)="openEmpModal()" readonly></ion-input>\n  </ion-item>\n</ion-col>\n\n\n    <ion-col col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 >\n      <!-- <ion-item (click)="addWishlist()" no-padding> -->\n        <ion-label color="label-color" stacked>Customer Name</ion-label>\n        <!-- <ion-input type="text" [(ngModel)]="enquiry[\'name\']" readonly></ion-input> -->\n      <!-- </ion-item> -->\n   </ion-col>\n   <ion-col col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8 >\n    <ion-item (click)="addWishlist()" no-padding>\n      <!-- <ion-label color="label-color" stacked>Customer Name</ion-label> -->\n      <ion-input type="text" [(ngModel)]="enquiry[\'name\']" readonly></ion-input>\n    </ion-item>\n </ion-col>\n   <ion-col col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 >\n      <!-- <ion-item no-padding> -->\n        <ion-label color="label-color" stacked>Phone *</ion-label>\n        <!-- <ion-input type="number" [(ngModel)]="enquiry[\'phone\']" readonly></ion-input> -->\n      <!-- </ion-item> -->\n   </ion-col>\n   <ion-col col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8 >\n    <ion-item no-padding>\n      <!-- <ion-label color="label-color" stacked>Phone</ion-label> -->\n      <ion-input type="number" [(ngModel)]="enquiry[\'phone\']" readonly></ion-input>\n    </ion-item>\n </ion-col>\n   <ion-col col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 >\n    <!-- <ion-item no-padding> -->\n      <ion-label color="label-color" stacked>Area *</ion-label>\n      <!-- <ion-input type="text" [(ngModel)]="enquiry[\'area\']" ></ion-input> -->\n    <!-- </ion-item> -->\n </ion-col>\n <ion-col col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8 >\n  <ion-item (tap)="getmodal(\'Village\',village)"  no-padding>\n    <!-- <ion-label color="label-color" stacked>Area</ion-label> -->\n    <ion-input type="text" [(ngModel)]="enquiry[\'area\']" readonly=\'true\'></ion-input>\n  </ion-item>\n</ion-col>\n\n\n\n\n\n  <!-- <ion-col *ngIf="(type == \'FactSheet\' && enquiry[\'taged\'] != \'true\') || type == \'Wishlist\'"   col-12 >  -->\n\n  <ion-col  col-12 >\n\n    <ion-row style="margin-top: 10px" *ngFor="let e of enquiry[\'whole\'];let i = index;">\n\n    <ion-col  col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 >\n        <!-- <ion-item no-padding> -->\n          <ion-label color="label-color" stacked>Product *</ion-label>\n          <!-- <ion-input *ngIf="enquiry[\'taged\'] == \'true\'" type="text" [(ngModel)]="enquiry[\'product_name\']" readonly></ion-input>\n          <ion-input *ngIf="enquiry[\'taged\'] != \'true\'" type="text" [(ngModel)]="enquiry[\'product_name\']" readonly (click)="openMasSearch(\'Product\')"></ion-input>\n          <button *ngIf="enquiry[\'taged\'] != \'true\'" item-right ion-button clear color="dark" class="no-padding no-margin" (click)="openMasSearch(\'Product\')" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n        </ion-item> -->\n      </ion-col>\n      <ion-col  col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8 >\n        <ion-item no-padding>\n          <!-- <ion-label color="label-color" stacked>Product</ion-label> -->\n          <ion-input *ngIf="enquiry[\'taged\'] == \'true\'" type="text" [(ngModel)]="enquiry[\'whole\'][i][\'product_name\']" readonly></ion-input>\n          <ion-input *ngIf="enquiry[\'taged\'] != \'true\'" type="text" [(ngModel)]="enquiry[\'whole\'][i][\'product_name\']"  readonly (click)="openMasSearch(\'Product\',i)"></ion-input>\n          <button (click)="openMasSearch(\'Product\',i)" *ngIf="enquiry[\'taged\'] != \'true\'" item-right ion-button clear color="dark" class="no-padding no-margin"  ><ion-icon name="arrow-dropdown"></ion-icon></button>\n        </ion-item>\n      </ion-col>\n      <ion-col  col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 >\n        <!-- <ion-item no-padding> -->\n          <ion-label color="label-color" stacked>Design *</ion-label>\n          <!-- <ion-input *ngIf="enquiry[\'taged\'] == \'true\'" type="text" [(ngModel)]="enquiry[\'design_name\']" readonly></ion-input>\n          <ion-input *ngIf="enquiry[\'taged\'] != \'true\'" type="text" [(ngModel)]="enquiry[\'design_name\']" readonly (click)="openMasSearch(\'Design\')"></ion-input>\n          <button *ngIf="enquiry[\'taged\'] != \'true\'" item-right ion-button clear color="dark" class="no-padding no-margin" (click)="openMasSearch(\'Design\')" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n        </ion-item> -->\n      </ion-col>\n      <ion-col  col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8 >\n        <ion-item no-padding>\n          <!-- <ion-label color="label-color" stacked>Design</ion-label> -->\n          <ion-input *ngIf="enquiry[\'taged\'] == \'true\'" type="text" [(ngModel)]="enquiry[\'whole\'][i][\'design_name\']" readonly></ion-input>\n          <ion-input *ngIf="enquiry[\'taged\'] != \'true\'" type="text" [(ngModel)]="enquiry[\'whole\'][i][\'design_name\']"  readonly (click)="openMasSearch(\'Design\',i)"></ion-input>\n          <button (click)="openMasSearch(\'Design\',i)" *ngIf="enquiry[\'taged\'] != \'true\'" item-right ion-button clear color="dark" class="no-padding no-margin"  ><ion-icon name="arrow-dropdown"></ion-icon></button>\n        </ion-item>\n      </ion-col>\n\n      <ion-col  col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 >\n        <!-- <ion-item no-padding> -->\n          <ion-label color="label-color" stacked>Sub Design *</ion-label>\n          <!-- <ion-input *ngIf="enquiry[\'taged\'] == \'true\'" type="text" [(ngModel)]="enquiry[\'sub_design_name\']" readonly></ion-input>\n          <ion-input *ngIf="enquiry[\'taged\'] != \'true\'" type="text" [(ngModel)]="enquiry[\'sub_design_name\']" readonly (click)="openMasSearch(\'subDesign\')"></ion-input>\n          <button *ngIf="enquiry[\'taged\'] != \'true\'" item-right ion-button clear color="dark" class="no-padding no-margin" (click)="openMasSearch(\'subDesign\')" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n        </ion-item> -->\n      </ion-col>\n\n      <ion-col  col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8 >\n        <ion-item no-padding>\n          <!-- <ion-label color="label-color" stacked>Sub Design</ion-label> -->\n          <ion-input *ngIf="enquiry[\'taged\'] == \'true\'" type="text" [(ngModel)]="enquiry[\'whole\'][i][\'sub_design_name\']" readonly></ion-input>\n          <ion-input *ngIf="enquiry[\'taged\'] != \'true\'" type="text" [(ngModel)]="enquiry[\'whole\'][i][\'sub_design_name\']" readonly (click)="openMasSearch(\'subDesign\',i)"></ion-input>\n          <button (click)="openMasSearch(\'subDesign\',i)" *ngIf="enquiry[\'taged\'] != \'true\'" item-right ion-button clear color="dark" class="no-padding no-margin" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n        </ion-item>\n      </ion-col>\n\n       <ion-col col-12 *ngIf="enquiry[\'taged\'] != \'true\' && i == enquiry[\'whole\'].length - 1">\n        <ion-icon style="float: right;" *ngIf="enquiry[\'taged\'] != \'true\' && i != 0"  name="remove" (click)="removefield(i)"></ion-icon>\n        <ion-icon style="float: right;" name="add" (click)="addfield(i)"></ion-icon>\n      </ion-col>\n\n\n <ion-col *ngIf="type != \'Wishlist\'" col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 >\n    <!-- <ion-item no-padding> -->\n      <ion-label color="label-color" stacked>Weight(Gms) *</ion-label>\n      <!-- <ion-input type="text" [(ngModel)]="enquiry[\'area\']" ></ion-input> -->\n    <!-- </ion-item> -->\n </ion-col>\n <ion-col *ngIf="type != \'Wishlist\'" col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8 >\n  <ion-item  no-padding>\n    <!-- <ion-label color="label-color" stacked>Area</ion-label> -->\n    <ion-input type="number" [(ngModel)]="enquiry[\'whole\'][i][\'weight\']"  (ngModelChange)="setwei(i,enquiry[\'whole\'][i][\'weight\'])" placeholder="Enter wgt or choose range"></ion-input>\n  </ion-item>\n</ion-col>\n\n<ion-col *ngIf="type != \'Wishlist\'" col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 >\n  <ion-label style="margin-bottom: 10px;" color="label-color" stacked>Weight Range: <span class="required"> </span></ion-label>\n\n</ion-col>\n<ion-col *ngIf="type != \'Wishlist\'" col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8 >\n<ion-item  no-padding>\n  <ion-input type="text" [(ngModel)]="input2"  (ngModelChange)="searchrange()" placeholder="Search range or scroll"></ion-input>\n</ion-item>\n</ion-col>\n\n      <ion-col *ngIf="type != \'Wishlist\' && weights?.length > 0" col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 >\n        <!-- <ion-item no-padding> -->\n          <!-- <ion-label style="margin-bottom: 10px;" color="label-color" stacked>Weight Range: <span class="required"> </span></ion-label>  -->\n        <!-- </ion-item> -->\n        <!-- <ion-scroll style="    white-space: nowrap !important;"  class="purity-scroll-blk" scrollX="true">\n          <ion-chip #chip1 *ngFor="let pur of weights" color="light" [ngClass]="enquiry[\'id_weight\'] == pur[\'id_weight\'] ? \'selected\' : \'unselected\'" (click)="setweight(pur.id_weight,pur[\'weight_description\'])" style="margin-left: 5%;">\n            <ion-label>{{pur[\'weight_description\']}}</ion-label><ion-icon name="checkmark-circle" style="background-color:transparent!important;" *ngIf="enquiry[\'id_weight\'] == pur[\'id_weight\']"></ion-icon>\n          </ion-chip>\n        </ion-scroll> -->\n      </ion-col>\n\n      <ion-col *ngIf="type != \'Wishlist\' && weights?.length > 0" col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8   >\n        <!-- <ion-item no-padding> -->\n          <!-- <ion-label style="margin-bottom: 10px;" color="label-color" stacked>Weight Range <span class="required"> </span></ion-label>  -->\n        <!-- </ion-item> -->\n        <ion-scroll style=" height: 110px !important;"  class="purity-scroll-blk" scrollY="true">\n          <ion-chip #chip1 *ngFor="let pur of weights" color="light" [ngClass]="enquiry[\'whole\'][i][\'id_weight\'] == pur[\'id_weight\'] ? \'selected\' : \'unselected\'" (click)="setweight(pur.id_weight,pur[\'value\'],i)" style="margin-left: 5%;">\n            <ion-label>{{pur[\'weight_description\']}}</ion-label><ion-icon name="checkmark-circle" style="background-color:transparent!important;" *ngIf="enquiry[\'whole\'][i][\'id_weight\'] == pur[\'id_weight\']"></ion-icon>\n          </ion-chip>\n        </ion-scroll>\n      </ion-col>\n\n\n      <ion-col *ngIf="type != \'Wishlist\' && reasons?.length > 0" col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 >\n        <!-- <ion-item no-padding> -->\n          <ion-label style="margin-bottom: 10px;" color="label-color" stacked>Leaving Reason:  <span class="required"> </span></ion-label>\n        <!-- </ion-item> -->\n        <!-- <ion-scroll style="    white-space: nowrap !important;"  class="purity-scroll-blk" scrollX="true">\n          <ion-chip #chip1 *ngFor="let pur of reasons" color="light" [ngClass]="enquiry[\'reason\'] == pur ? \'selected\' : \'unselected\'" (click)="setreason(pur)" style="margin-left: 5%;">\n            <ion-label>{{pur}}</ion-label><ion-icon name="checkmark-circle" style="background-color:transparent!important;" *ngIf="enquiry[\'reason\'] == pur"></ion-icon>\n          </ion-chip>\n        </ion-scroll> -->\n      </ion-col>\n\n      <ion-col *ngIf="type != \'Wishlist\' && reasons?.length > 0" col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8 >\n        <!-- <ion-item no-padding> -->\n          <!-- <ion-label style="margin-bottom: 10px;" color="label-color" stacked>Reason for Leaving  <span class="required"> </span></ion-label>  -->\n        <!-- </ion-item> -->\n        <ion-scroll style=" height: 110px !important;"  class="purity-scroll-blk" scrollY="true">\n          <ion-chip #chip1 *ngFor="let pur of reasons" color="light" [ngClass]="enquiry[\'whole\'][i][\'reason\'] == pur ? \'selected\' : \'unselected\'" (click)="setreason(pur,i)" style="margin-left: 5%;">\n            <ion-label>{{pur}}</ion-label><ion-icon name="checkmark-circle" style="background-color:transparent!important;" *ngIf="enquiry[\'whole\'][i][\'reason\'] == pur"></ion-icon>\n          </ion-chip>\n        </ion-scroll>\n      </ion-col>\n\n       <ion-grid style="margin-top: 10px" *ngIf="type == \'FactSheet\'">\n\n    <ion-col style="margin: auto;color:#000000 !important;">\n      Add Images <span style="font-weight: bold;" *ngIf="enquiry[\'whole\'][i][\'images\'].length > 0">- ({{enquiry[\'whole\'][i][\'images\'].length}})</span>\n    </ion-col>\n        <ion-row>\n      <ion-col col-10 style="margin-top: 30px;">\n\n\n          <div style="margin-bottom:10px" class="row" *ngFor="let targetPath of enquiry[\'whole\'][i][\'images\']; let id = index" >\n\n              <div  class="col" col-7 no-padding style="text-align:center;"><img class="uploadimg1" src="{{targetPath[\'image_name\']}}" imageViewer="{{targetPath[\'image_name\']}}" onerror="this.src=\'assets/no-img.png\'"\n            *ngIf="targetPath" /></div><div style="margin: auto;" class="col" col-2 no-padding  >\n            <ion-icon (click)="deletePhoto(id,i)" style="padding: 0px !important;color: red;    font-size: 1.8em;" name="close-circle"></ion-icon></div>\n          </div>\n\n      </ion-col>\n      <ion-col style="margin: auto;" col-2 (click)="presentActionSheet(\'gallery\',i)">\n        <div  class="col" style="text-align: end;margin: auto;">\n          <span style="padding:5px;border: 1px solid lightgray;"><ion-icon name="add"></ion-icon></span>\n\n        </div>      </ion-col>\n    </ion-row>\n</ion-grid>\n\n\n\n      </ion-row>\n      </ion-col>\n      <ion-col style="margin-bottom: 10px;"  *ngIf=" enquiry[\'whole\'].length > 0" col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 >\n  <ion-label style="margin-bottom: 10px;" color="label-color" stacked>Product Information</ion-label>\n\n  <ion-row style="    border: 1px solid lightgray;">\n    <ion-col  style="text-align: center;color:#000000 !important;font-weight:bold;border-right: 1px solid lightgray;" col-3>\n      Product\n    </ion-col>\n    <ion-col  style="text-align: center;color:#000000 !important;font-weight:bold;border-right: 1px solid lightgray;" col-3>\n      Design\n    </ion-col>\n    <ion-col  style="text-align: center;color:#000000 !important;font-weight:bold;border-right: 1px solid lightgray;" col-3>\n      Subdesign\n    </ion-col>\n    <ion-col  style="text-align: center;color:#000000 !important;font-weight:bold" col-3>\n      Weight\n    </ion-col>\n  </ion-row>\n  <ion-row *ngFor="let e of enquiry[\'whole\'];let i = index;" style="    border: 1px solid lightgray;">\n    <ion-col  col-3 style="border-right: 1px solid lightgray;text-align: center;">\n      {{e[\'product_name\']}}\n    </ion-col>\n    <ion-col  col-3 style="border-right: 1px solid lightgray;text-align: center;">\n      {{e[\'design_name\']}}\n    </ion-col>\n    <ion-col  col-3 style="border-right: 1px solid lightgray;text-align: center;">\n      {{e[\'sub_design_name\']}}\n    </ion-col>\n    <ion-col style="text-align: center;" col-3>\n      {{enquiry[\'whole\'][i][\'net_wt\']}} g\n    </ion-col>\n  </ion-row>\n</ion-col>\n<!--       </ion-col>\n -->\n  </ion-row>\n\n\n\n\n\n\n  <div *ngIf="type == \'Wishlist\'" style="    margin-bottom: 15px;">\n    <!-- <ion-col col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 >\n      <ion-list style="display: flex !important;margin: 0px 0 0px !important;"  [(ngModel)]="enquiry[\'taged\']" (ngModelChange)="checkesti()" radio-group>\n        <div style="margin-right: 15px;    margin-top: 13px;\n        font-weight: 400;color:#000000 !important;">Against Estimation ?</div>\n        <div style="display: flex;">\n          <ion-label style="color: black !important;">Yes.</ion-label>\n          <ion-radio style="margin: auto;" value="true"></ion-radio>\n        </div>\n        <div style="display: flex;margin-left: 10px;">\n          <ion-label style="color: black !important;">No.</ion-label>\n          <ion-radio style="margin: auto;" value="false"></ion-radio>\n        </div>\n      </ion-list>\n   </ion-col> -->\n   <ion-row style="margin-top: 10px;">\n    <ion-col col-5  style="padding-top: 0px !important;">\n\n      <ion-item >\n        <ion-label *ngIf="checkold != true" style="" color="label-color" stacked>Tag Code <span class="required">*</span></ion-label>\n        <ion-label *ngIf="checkold == true" style="" color="label-color" stacked>Old Tag Code <span class="required">*</span></ion-label>\n\n        <ion-toggle [(ngModel)]="checkold"></ion-toggle>\n      </ion-item>\n      </ion-col>\n\n</ion-row>\n   <div  class="row">\n    <div class="col" col-3 style="margin: auto;" >\n      <input  style="    border: 1px solid lightgray;height: 40px;width: -webkit-fill-available;" type="text" id="one"  [(ngModel)]="enquiry[\'tag_code1\']" (keyup)="append($event)" >\n\n      </div>\n      <div class="col" col-1 style="margin: auto;font-weight: bold;">\n        <hr>\n        </div>\n\n      <div class="col" col-6 style="margin: auto;" >\n        <input  style="    border: 1px solid lightgray;height: 40px;width: -webkit-fill-available;" type="text"  id="two"  [(ngModel)]="enquiry[\'tag_code2\']" (keyup)="append($event)" >\n\n      </div>\n      <div class="col" style="margin: auto;" col-2>\n        <button style="" item-right ion-button  color="light" (click)="getTagData(enquiry[\'tag_code\'])"><ion-icon name="ios-search"></ion-icon></button>\n\n      </div>\n  </div>\n\n\n<ion-row>\n  <ion-col col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 >\n    <!-- <ion-item no-padding> -->\n      <ion-label color="label-color"  stacked>Sales Person:</ion-label>\n      <!-- <ion-input type="text" [(ngModel)]="enquiry[\'empname\']" readonly></ion-input> -->\n    <!-- </ion-item> -->\n  </ion-col>\n  <ion-col col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8 >\n    <ion-item no-padding>\n      <!-- <ion-label color="label-color"  stacked>Sales Person</ion-label> -->\n      <ion-input type="text" [(ngModel)]="enquiry[\'empname\']" (click)="openEmpModal()" readonly></ion-input>\n    </ion-item>\n  </ion-col>\n\n    <ion-col col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 >\n      <!-- <ion-item (click)="addWishlist()" no-padding> -->\n        <ion-label color="label-color" stacked>Customer Name *</ion-label>\n        <!-- <ion-input type="text" [(ngModel)]="enquiry[\'name\']" readonly></ion-input>\n      </ion-item> -->\n   </ion-col>\n   <ion-col col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8 >\n    <ion-item (click)="addWishlist()" no-padding>\n      <!-- <ion-label color="label-color" stacked>Customer Name</ion-label> -->\n      <ion-input type="text" [(ngModel)]="enquiry[\'name\']" readonly></ion-input>\n    </ion-item>\n </ion-col>\n   <ion-col col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 >\n      <!-- <ion-item no-padding> -->\n        <ion-label color="label-color" stacked>Phone *</ion-label>\n        <!-- <ion-input type="number" [(ngModel)]="enquiry[\'phone\']" readonly></ion-input>\n      </ion-item> -->\n   </ion-col>\n   <ion-col col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8 >\n    <ion-item no-padding>\n      <!-- <ion-label color="label-color" stacked>Phone</ion-label> -->\n      <ion-input type="number" [(ngModel)]="enquiry[\'phone\']" readonly></ion-input>\n    </ion-item>\n </ion-col>\n   <ion-col col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 >\n    <!-- <ion-item no-padding> -->\n      <ion-label color="label-color" stacked>Area *</ion-label>\n      <!-- <ion-input type="text" [(ngModel)]="enquiry[\'area\']" ></ion-input>\n    </ion-item> -->\n </ion-col>\n <ion-col col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8 >\n <ion-item (tap)="getmodal(\'Village\',village)"  no-padding>\n    <!-- <ion-label color="label-color" stacked>Area</ion-label> -->\n    <ion-input type="text" [(ngModel)]="enquiry[\'area\']" readonly=\'true\'></ion-input>\n  </ion-item>\n</ion-col>\n <ion-col col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4>\n  <!-- <ion-item no-padding> -->\n    <ion-label color="label-color" stacked>Due Date *</ion-label>\n    <!-- <ion-input type="number" readonly="true" class="ion_datetime" placeholder="Select Date" displayFormat="DD-MM-YYYY" [(ngModel)]="productdet.due_date" (focusin)="show()"> </ion-input> -->\n    <!-- <ion-input type="number"  placeholder="No of Days to Convert Sale"  [(ngModel)]="enquiry.due_date"> </ion-input>\n\n    <span float-right ></span>\n  </ion-item> -->\n</ion-col>\n<ion-col col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8>\n  <ion-item no-padding>\n    <!-- <ion-label color="label-color" stacked>Due Date *</ion-label> -->\n    <!-- <ion-input type="number" readonly="true" class="ion_datetime" placeholder="Select Date" displayFormat="DD-MM-YYYY" [(ngModel)]="productdet.due_date" (focusin)="show()"> </ion-input> -->\n    <ion-input type="number"  placeholder="No of days to convert sale"  [(ngModel)]="enquiry.due_date"> </ion-input>\n\n    <span float-right ></span>\n  </ion-item>\n</ion-col>\n\n<ion-col style="margin-top: 10px" col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 >\n  <!-- <ion-item no-padding> -->\n    <ion-label color="label-color" stacked>Product *</ion-label>\n    <!-- <ion-input *ngIf="enquiry[\'taged\'] == \'true\'" type="text" [(ngModel)]="enquiry[\'product_name\']" readonly></ion-input>\n    <ion-input *ngIf="enquiry[\'taged\'] != \'true\'" type="text" [(ngModel)]="enquiry[\'product_name\']" readonly (click)="openMasSearch(\'Product\')"></ion-input>\n    <button *ngIf="enquiry[\'taged\'] != \'true\'" item-right ion-button clear color="dark" class="no-padding no-margin" (click)="openMasSearch(\'Product\')" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n  </ion-item> -->\n</ion-col>\n<ion-col col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8 >\n  <ion-item no-padding>\n    <!-- <ion-label color="label-color" stacked>Product</ion-label> -->\n    <ion-input  type="text" [(ngModel)]="enquiry[\'product_name\']" readonly></ion-input>\n    <!-- <ion-input *ngIf="enquiry[\'taged\'] != \'true\'" type="text" [(ngModel)]="enquiry[\'product_name\']" readonly (click)="openMasSearch(\'Product\')"></ion-input>\n    <button *ngIf="enquiry[\'taged\'] != \'true\'" item-right ion-button clear color="dark" class="no-padding no-margin" (click)="openMasSearch(\'Product\')" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n   -->\n  </ion-item>\n</ion-col>\n<ion-col col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 >\n  <!-- <ion-item no-padding> -->\n    <ion-label color="label-color" stacked>Design *</ion-label>\n    <!-- <ion-input *ngIf="enquiry[\'taged\'] == \'true\'" type="text" [(ngModel)]="enquiry[\'design_name\']" readonly></ion-input>\n    <ion-input *ngIf="enquiry[\'taged\'] != \'true\'" type="text" [(ngModel)]="enquiry[\'design_name\']" readonly (click)="openMasSearch(\'Design\')"></ion-input>\n    <button *ngIf="enquiry[\'taged\'] != \'true\'" item-right ion-button clear color="dark" class="no-padding no-margin" (click)="openMasSearch(\'Design\')" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n  </ion-item> -->\n</ion-col>\n<ion-col col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8 >\n  <ion-item no-padding>\n    <!-- <ion-label color="label-color" stacked>Design</ion-label> -->\n    <ion-input  type="text" [(ngModel)]="enquiry[\'design_name\']" readonly></ion-input>\n    <!-- <ion-input *ngIf="enquiry[\'taged\'] != \'true\'" type="text" [(ngModel)]="enquiry[\'design_name\']" readonly (click)="openMasSearch(\'Design\')"></ion-input>\n    <button *ngIf="enquiry[\'taged\'] != \'true\'" item-right ion-button clear color="dark" class="no-padding no-margin" (click)="openMasSearch(\'Design\')" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n  -->\n  </ion-item>\n</ion-col>\n\n<ion-col col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 >\n  <!-- <ion-item no-padding> -->\n    <ion-label color="label-color" stacked>Sub Design *</ion-label>\n    <!-- <ion-input *ngIf="enquiry[\'taged\'] == \'true\'" type="text" [(ngModel)]="enquiry[\'sub_design_name\']" readonly></ion-input>\n    <ion-input *ngIf="enquiry[\'taged\'] != \'true\'" type="text" [(ngModel)]="enquiry[\'sub_design_name\']" readonly (click)="openMasSearch(\'subDesign\')"></ion-input>\n    <button *ngIf="enquiry[\'taged\'] != \'true\'" item-right ion-button clear color="dark" class="no-padding no-margin" (click)="openMasSearch(\'subDesign\')" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n  </ion-item> -->\n</ion-col>\n<ion-col col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8 >\n  <ion-item no-padding>\n    <!-- <ion-label color="label-color" stacked>Sub Design</ion-label> -->\n    <ion-input  type="text" [(ngModel)]="enquiry[\'sub_design_name\']" readonly></ion-input>\n    <!-- <ion-input *ngIf="enquiry[\'taged\'] != \'true\'" type="text" [(ngModel)]="enquiry[\'sub_design_name\']" readonly (click)="openMasSearch(\'subDesign\')"></ion-input>\n    <button *ngIf="enquiry[\'taged\'] != \'true\'" item-right ion-button clear color="dark" class="no-padding no-margin" (click)="openMasSearch(\'subDesign\')" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n   -->\n  </ion-item>\n</ion-col>\n\n      <ion-col col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4>\n        <!-- <ion-item no-padding> -->\n          <ion-label color="label-color" stacked>Description:</ion-label>\n          <!-- <ion-textarea [(ngModel)]="enquiry.sample_details" placeholder="Enter your description" rows="3"></ion-textarea>\n        </ion-item> -->\n      </ion-col>\n      <ion-col col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8>\n        <ion-item no-padding>\n          <!-- <ion-label color="label-color" stacked>Description</ion-label> -->\n          <ion-textarea [(ngModel)]="enquiry.sample_details" placeholder="Enter your description" rows="3"></ion-textarea>\n        </ion-item>\n      </ion-col>\n\n <ion-col *ngIf="enquiry[\'gettaged\'] == \'true\'" col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 >\n    <ion-label style="margin-bottom: 10px;" color="label-color" stacked>Product Information</ion-label>\n\n    <ion-row style="    border: 1px solid lightgray;">\n      <ion-col  style="text-align: center;color:#000000 !important;font-weight:bold;border-right: 1px solid lightgray;" col-3>\n        Product\n      </ion-col>\n      <ion-col  style="text-align: center;color:#000000 !important;font-weight:bold;border-right: 1px solid lightgray;" col-3>\n        Design\n      </ion-col>\n      <ion-col  style="text-align: center;color:#000000 !important;font-weight:bold;border-right: 1px solid lightgray;" col-3>\n        Subdesign\n      </ion-col>\n      <ion-col  style="text-align: center;color:#000000 !important;font-weight:bold" col-3>\n        Weight\n      </ion-col>\n    </ion-row>\n    <ion-row  style="    border: 1px solid lightgray;">\n      <ion-col  col-3 style="border-right: 1px solid lightgray;text-align: center;">\n        {{enquiry[\'product_name\']}}\n      </ion-col>\n      <ion-col  col-3 style="border-right: 1px solid lightgray;text-align: center;">\n        {{enquiry[\'design_name\']}}\n      </ion-col>\n      <ion-col  col-3 style="border-right: 1px solid lightgray;text-align: center;">\n        {{enquiry[\'sub_design_name\']}}\n      </ion-col>\n      <ion-col style="text-align: center;" col-3>\n        {{enquiry[\'net_wt\']}} g\n      </ion-col>\n    </ion-row>\n </ion-col>\n</ion-row>\n\n</div>\n\n\n\n  <ion-row *ngIf="type == \'Enquiry\'" style="    margin-bottom: 15px;">\n\n    <ion-col col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 >\n      <!-- <ion-item no-padding> -->\n        <ion-label color="label-color"  stacked>Sales Person:</ion-label>\n        <!-- <ion-input type="text" [(ngModel)]="enquiry[\'empname\']" readonly></ion-input> -->\n      <!-- </ion-item> -->\n    </ion-col>\n    <ion-col col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8 >\n      <ion-item no-padding>\n        <!-- <ion-label color="label-color"  stacked>Sales Person</ion-label> -->\n        <ion-input type="text" [(ngModel)]="enquiry[\'empname\']" (click)="openEmpModal()" readonly></ion-input>\n      </ion-item>\n    </ion-col>\n\n      <ion-col col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 >\n        <!-- <ion-item (click)="addWishlist()" no-padding> -->\n          <ion-label color="label-color" stacked>Customer Name *</ion-label>\n          <!-- <ion-input type="text" [(ngModel)]="enquiry[\'name\']" readonly></ion-input> -->\n        <!-- </ion-item> -->\n     </ion-col>\n     <ion-col col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8 >\n      <ion-item (click)="addWishlist()" no-padding>\n        <!-- <ion-label color="label-color" stacked>Customer Name</ion-label> -->\n        <ion-input type="text" [(ngModel)]="enquiry[\'name\']" readonly></ion-input>\n      </ion-item>\n   </ion-col>\n     <ion-col col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 >\n        <!-- <ion-item no-padding> -->\n          <ion-label color="label-color" stacked>Phone *</ion-label>\n          <!-- <ion-input type="number" [(ngModel)]="enquiry[\'phone\']" readonly></ion-input> -->\n        <!-- </ion-item> -->\n     </ion-col>\n     <ion-col col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8 >\n      <ion-item no-padding>\n        <!-- <ion-label color="label-color" stacked>Phone</ion-label> -->\n        <ion-input type="number" [(ngModel)]="enquiry[\'phone\']" readonly></ion-input>\n      </ion-item>\n   </ion-col>\n\n   <ion-col col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 >\n    <!-- <ion-item no-padding> -->\n      <ion-label color="label-color" stacked>Area *</ion-label>\n      <!-- <ion-input type="text" [(ngModel)]="enquiry[\'area\']" ></ion-input> -->\n    <!-- </ion-item> -->\n </ion-col>\n\n <ion-col col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8 >\n   <ion-item (tap)="getmodal(\'Village\',village)"  no-padding>\n    <!-- <ion-label color="label-color" stacked>Area</ion-label> -->\n    <ion-input type="text" [(ngModel)]="enquiry[\'area\']" readonly=\'true\'></ion-input>\n  </ion-item>\n</ion-col>\n\n     <ion-col col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 >\n      <!-- <ion-item no-padding> -->\n        <ion-label color="label-color" stacked>What type of product you want to buy * ?</ion-label>\n        <!-- <ion-input type="text" [(ngModel)]="enquiry[\'customerproduct\']" placeholder="Ex: chain, bangles, rings..."></ion-input> -->\n      <!-- </ion-item> -->\n   </ion-col>\n   <ion-col col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 >\n    <!-- <ion-item no-padding> -->\n      <!-- <ion-label color="label-color" stacked>What type of product you want to buy?</ion-label> -->\n      <!-- <ion-input type="text" [(ngModel)]="enquiry[\'customerproduct\']" placeholder="Ex: chain, bangles, rings..."></ion-input> -->\n    <!-- </ion-item> -->\n </ion-col>\n   <ion-col col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8 >\n    <ion-item no-padding>\n      <!-- <ion-label color="label-color" stacked>What type of product you want to buy?</ion-label> -->\n      <ion-input type="text" [(ngModel)]="enquiry[\'customerproduct\']" placeholder="Ex: chain, bangles, rings..."></ion-input>\n    </ion-item>\n </ion-col>\n\n  <ion-col col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 >\n    <!-- <ion-item no-padding> -->\n      <ion-label color="label-color" stacked>Weight(Gms) *</ion-label>\n      <!-- <ion-input type="text" [(ngModel)]="enquiry[\'area\']" ></ion-input> -->\n    <!-- </ion-item> -->\n </ion-col>\n <ion-col col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8 >\n  <ion-item  no-padding>\n    <!-- <ion-label color="label-color" stacked>Area</ion-label> -->\n    <ion-input type="number" [(ngModel)]="enquiry[\'weight\']" placeholder="Enter wgt or choose range"></ion-input>\n  </ion-item>\n</ion-col>\n<ion-col  col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 >\n  <ion-label style="margin-bottom: 10px;" color="label-color" stacked>Weight Range: <span class="required"> </span></ion-label>\n\n</ion-col>\n<ion-col  col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8 >\n<ion-item  no-padding>\n  <ion-input type="text" [(ngModel)]="input2"  (ngModelChange)="searchrange()" placeholder="Search range or scroll"></ion-input>\n</ion-item>\n</ion-col>\n        <ion-col col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 *ngIf="weights?.length > 0" >\n          <!-- <ion-item no-padding> -->\n            <!-- <ion-label style="margin-bottom: 10px;" color="label-color" stacked>Weight Range: <span class="required"> </span></ion-label>  -->\n          <!-- </ion-item> -->\n          <!-- <ion-scroll style="    white-space: nowrap !important;"  class="purity-scroll-blk" scrollX="true">\n            <ion-chip #chip1 *ngFor="let pur of weights" color="light" [ngClass]="enquiry[\'id_weight\'] == pur[\'id_weight\'] ? \'selected\' : \'unselected\'" (click)="setweight(pur.id_weight,pur[\'weight_description\'])" style="margin-left: 5%;">\n              <ion-label>{{pur[\'weight_description\']}}</ion-label><ion-icon name="checkmark-circle" style="background-color:transparent!important;" *ngIf="enquiry[\'id_weight\'] == pur[\'id_weight\']"></ion-icon>\n            </ion-chip>\n          </ion-scroll> -->\n        </ion-col>\n\n        <ion-col col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8 *ngIf="weights?.length > 0" >\n          <!-- <ion-item no-padding> -->\n            <!-- <ion-label style="margin-bottom: 10px;" color="label-color" stacked>Weight Range <span class="required"> </span></ion-label>  -->\n          <!-- </ion-item> -->\n          <ion-scroll style="height: 110px !important;"  class="purity-scroll-blk" scrollY="true">\n            <ion-chip #chip1 *ngFor="let pur of weights" color="light" [ngClass]="enquiry[\'id_weight\'] == pur[\'id_weight\'] ? \'selected\' : \'unselected\'" (click)="setweight(pur.id_weight,pur[\'value\'],0)" style="margin-left: 5%;">\n              <ion-label>{{pur[\'weight_description\']}}</ion-label><ion-icon name="checkmark-circle" style="background-color:transparent!important;" *ngIf="enquiry[\'id_weight\'] == pur[\'id_weight\']"></ion-icon>\n            </ion-chip>\n          </ion-scroll>\n        </ion-col>\n\n\n        <ion-col col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4 *ngIf="prices?.length > 0" >\n          <!-- <ion-item no-padding> -->\n            <ion-label style="margin-bottom: 10px;" color="label-color" stacked>Price Range:  <span class="required"> </span></ion-label>\n          <!-- </ion-item> -->\n          <!-- <ion-scroll style="    white-space: nowrap !important;"  class="purity-scroll-blk" scrollX="true">\n            <ion-chip #chip1 *ngFor="let pur of prices" color="light" [ngClass]="enquiry[\'price\'] == pur ? \'selected\' : \'unselected\'" (click)="setprice(pur)" style="margin-left: 5%;">\n              <ion-label>{{pur}}</ion-label><ion-icon name="checkmark-circle" style="background-color:transparent!important;" *ngIf="enquiry[\'price\'] == pur"></ion-icon>\n            </ion-chip>\n          </ion-scroll> -->\n        </ion-col>\n\n        <ion-col col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8 *ngIf="prices?.length > 0" >\n          <!-- <ion-item no-padding> -->\n            <!-- <ion-label style="margin-bottom: 10px;" color="label-color" stacked>Price Range  <span class="required"> </span></ion-label>  -->\n          <!-- </ion-item> -->\n          <ion-scroll style="    height: 110px !important;"  class="purity-scroll-blk" scrollY="true">\n            <ion-chip #chip1 *ngFor="let pur of prices" color="light" [ngClass]="enquiry[\'price\'] == pur ? \'selected\' : \'unselected\'" (click)="setprice(pur)" style="margin-left: 5%;">\n              <ion-label>{{pur}}</ion-label><ion-icon name="checkmark-circle" style="background-color:transparent!important;" *ngIf="enquiry[\'price\'] == pur"></ion-icon>\n            </ion-chip>\n          </ion-scroll>\n        </ion-col>\n\n\n        <ion-col col-4 col-sm-4 col-md-4 col-lg-4 col-xl-4>\n          <!-- <ion-item no-padding> -->\n            <ion-label color="label-color" stacked>Description:</ion-label>\n            <!-- <ion-textarea [(ngModel)]="enquiry.sample_details" placeholder="Enter your description" rows="3"></ion-textarea> -->\n          <!-- </ion-item> -->\n        </ion-col>\n\n        <ion-col col-8 col-sm-8 col-md-8 col-lg-8 col-xl-8>\n          <ion-item no-padding>\n            <!-- <ion-label color="label-color" stacked>Description</ion-label> -->\n            <ion-textarea [(ngModel)]="enquiry.sample_details" placeholder="Enter your description" rows="3"></ion-textarea>\n          </ion-item>\n        </ion-col>\n  </ion-row>\n\n\n      <!-- <ion-row *ngIf="type == \'Enquiry\'" style="    margin-bottom: 15px;">\n\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 >\n        <ion-item (click)="addWishlist()" no-padding>\n          <ion-label color="label-color" stacked>Customer Name</ion-label>\n          <ion-input type="text" [(ngModel)]="enquiry[\'name\']" readonly></ion-input>\n        </ion-item>\n     </ion-col>\n     <ion-col col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 >\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Phone</ion-label>\n          <ion-input type="number" [(ngModel)]="enquiry[\'phone\']" readonly></ion-input>\n        </ion-item>\n     </ion-col>\n     <ion-col col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 >\n      <ion-item no-padding>\n        <ion-label color="label-color" stacked>What type of product you want to buy?</ion-label>\n        <ion-input type="text" [(ngModel)]="enquiry[\'customerproduct\']" placeholder="Ex: chain, bangles, rings..."></ion-input>\n      </ion-item>\n   </ion-col>\n\n\n        <ion-col col-12 *ngIf="weights?.length > 0" >\n            <ion-label style="margin-bottom: 10px;" color="label-color" stacked>Weight Range <span class="required"> </span></ion-label>\n          <ion-scroll style="    white-space: nowrap !important;"  class="purity-scroll-blk" scrollX="true">\n            <ion-chip #chip1 *ngFor="let pur of weights" color="light" [ngClass]="enquiry[\'id_weight\'] == pur[\'id_weight\'] ? \'selected\' : \'unselected\'" (click)="setweight(pur.id_weight,pur[\'weight_description\'])" style="margin-left: 5%;">\n              <ion-label>{{pur[\'weight_description\']}}</ion-label><ion-icon name="checkmark-circle" style="background-color:transparent!important;" *ngIf="enquiry[\'id_weight\'] == pur[\'id_weight\']"></ion-icon>\n            </ion-chip>\n          </ion-scroll>\n        </ion-col>\n\n        <ion-col col-12 *ngIf="prices?.length > 0" >\n            <ion-label style="margin-bottom: 10px;" color="label-color" stacked>Price Range  <span class="required"> </span></ion-label>\n          <ion-scroll style="    white-space: nowrap !important;"  class="purity-scroll-blk" scrollX="true">\n            <ion-chip #chip1 *ngFor="let pur of prices" color="light" [ngClass]="enquiry[\'price\'] == pur ? \'selected\' : \'unselected\'" (click)="setprice(pur)" style="margin-left: 5%;">\n              <ion-label>{{pur}}</ion-label><ion-icon name="checkmark-circle" style="background-color:transparent!important;" *ngIf="enquiry[\'price\'] == pur"></ion-icon>\n            </ion-chip>\n          </ion-scroll>\n        </ion-col>\n\n\n        <ion-col col-12>\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Description</ion-label>\n            <ion-textarea [(ngModel)]="enquiry.sample_details" placeholder="Enter your description" rows="3"></ion-textarea>\n          </ion-item>\n        </ion-col>\n  </ion-row> -->\n\n  <!-- <ion-row *ngIf="type != \'Product\'"  style="    margin-bottom: 15px;">\n    <ion-col style="margin: auto;">\n      Default Image *\n    </ion-col>\n    <ion-col>\n      <div class="row" >\n  <div style="\n  height: 80px;\n  width: 100px;\n" class="col">\n<img style="height: 80px;\nwidth: 90px;\nobject-fit: cover;\nobject-position: center;" src="{{image}}" imageViewer="{{image}}" onerror="this.src=\'assets/no-img.png\'" />\n\n  </div>\n\n\n      </div>\n    </ion-col>\n  </ion-row> -->\n  <ion-grid *ngIf="type != \'FactSheet\'">\n\n    <ion-col style="margin: auto;color:#000000 !important;">\n      Add Images <span style="font-weight: bold;" *ngIf="images.length > 0">- ({{images.length}})</span>\n    </ion-col>\n        <ion-row>\n      <ion-col col-10 style="margin-top: 30px;">\n\n\n          <div style="margin-bottom:10px" class="row" *ngFor="let targetPath of images; let id = index" >\n\n              <div  class="col" col-7 no-padding style="text-align:center;"><img class="uploadimg1" src="{{targetPath[\'image_name\']}}" imageViewer="{{targetPath[\'image_name\']}}" onerror="this.src=\'assets/no-img.png\'"\n            *ngIf="targetPath" /></div><div style="margin: auto;" class="col" col-2 no-padding  >\n            <ion-icon (click)="deletePhoto(id,\'\')" style="padding: 0px !important;color: red;    font-size: 1.8em;" name="close-circle"></ion-icon></div>\n          </div>\n\n      </ion-col>\n      <ion-col style="margin: auto;" col-2 (click)="presentActionSheet(\'gallery\',0)">\n        <div  class="col" style="text-align: end;margin: auto;">\n          <span style="padding:5px;border: 1px solid lightgray;"><ion-icon name="add"></ion-icon></span>\n\n        </div>      </ion-col>\n    </ion-row>\n</ion-grid>\n  <div *ngIf="show != true" style="text-align: center;margin-top:20px;">\n    <button (click)="submit()" ion-button style="background:#000000 !important">Submit</button>\n  </div>\n</div>\n</ion-content>\n<ion-footer style="bottom: 83px !important;">\n<div *ngIf="show == true"  style="text-align: center;    margin-top: 5px;">\n  Upload Progress :\n</div>\n<div *ngIf="show == true" class="progress-outer">\n  <div class="progress-inner" [style.width]="progress + \'%\'">\n      {{progress}}%\n  </div>\n</div>\n</ion-footer>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\faq\faq.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_5__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_9__providers_retail__["a" /* RetailProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_0__angular_core__["j" /* ChangeDetectorRef */], __WEBPACK_IMPORTED_MODULE_11_ngx_image_compress__["a" /* NgxImageCompressService */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["b" /* AlertController */], __WEBPACK_IMPORTED_MODULE_10__ionic_native_image_picker__["a" /* ImagePicker */], __WEBPACK_IMPORTED_MODULE_9__providers_retail__["a" /* RetailProvider */], __WEBPACK_IMPORTED_MODULE_8__ionic_native_barcode_scanner__["a" /* BarcodeScanner */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_7__ionic_native_file__["a" /* File */], __WEBPACK_IMPORTED_MODULE_6_ionic_cordova_plugin_ratio_crop__["a" /* RatioCrop */], __WEBPACK_IMPORTED_MODULE_4__ionic_native_file_path__["a" /* FilePath */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["x" /* Platform */], __WEBPACK_IMPORTED_MODULE_5__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_3__ionic_native_transfer__["a" /* Transfer */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["a" /* ActionSheetController */], __WEBPACK_IMPORTED_MODULE_2__ionic_native_camera__["a" /* Camera */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */]])
    ], FaqPage);
    return FaqPage;
}());

//# sourceMappingURL=faq.js.map

/***/ }),

/***/ 425:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NotconvertedPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_common__ = __webpack_require__(5);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



/**
 * Generated class for the NotconvertedPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
//@IonicPage()
var NotconvertedPage = /** @class */ (function () {
    function NotconvertedPage(actionSheetCtrl, loadingCtrl, common, navCtrl, navParams) {
        var _this = this;
        this.actionSheetCtrl = actionSheetCtrl;
        this.loadingCtrl = loadingCtrl;
        this.common = common;
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.whole = [];
        this.ind = '';
        this.swhole = [];
        var loader = this.loadingCtrl.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        this.common.notconverted().then(function (data) {
            _this.whole = data;
            _this.swhole = data;
            data.forEach(function (element) {
                element['tog'] = 'View More';
            });
            loader.dismiss();
        }, function (err) {
            loader.dismiss();
        });
    }
    NotconvertedPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad NotconvertedPage');
    };
    NotconvertedPage.prototype.open = function (i) {
        if (this.whole[i]['tog'] == 'View More') {
            this.whole[i]['tog'] = 'View Less';
        }
        else {
            this.whole[i]['tog'] = 'View More';
        }
        console.log(this.ind);
    };
    NotconvertedPage.prototype.filter = function () {
        var _this = this;
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Filter by',
            buttons: [
                {
                    text: 'Created',
                    handler: function () {
                        _this.whole = _this.swhole.filter(function (item) { return item['status'] == '1'; });
                        console.log('Destructive clicked');
                    }
                },
                {
                    text: 'Converted',
                    handler: function () {
                        _this.whole = _this.swhole.filter(function (item) { return item['status'] == '2'; });
                        console.log('Archive clicked');
                    }
                },
                {
                    text: 'Closed',
                    handler: function () {
                        _this.whole = _this.swhole.filter(function (item) { return item['status'] == '3'; });
                        console.log('Cancel clicked');
                    }
                }
            ]
        });
        actionSheet.present();
    };
    NotconvertedPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-notconverted',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\notconverted\notconverted.html"*/'<ion-header> <ion-navbar>\n<button ion-button menuToggle>\n	<ion-icon name="menu"></ion-icon>\n</button>\n<ion-title>Order Status\n	<ion-icon  name="md-funnel" (click)="filter()" style="color:black !important;float: right;font-size:1.4em !important" ></ion-icon>\n\n</ion-title> </ion-navbar> </ion-header>\n<ion-content> \n <p *ngIf="whole.length == 0" class="empty">No result found</p>\n\n	<ion-card \n		 *ngFor=" let order of whole ;let i=index "> \n	<ion-item> <ion-badge color="light">{{order.tag_code}} -	{{order.status_desc}}</ion-badge></ion-item>\n	<ion-item>\n		<ion-avatar item-left>\n<img *ngIf="order[\'img_arr\'].length > 0" style="height: 50px;width: 50px;margin: 0 auto;object-fit: cover;"   src="{{order[\'img_arr\'][0]}}" imageViewer="{{order[\'img_arr\'][0]}}"  onerror="this.src=\'assets/no-img.png\'" imageCache/>\n    <img *ngIf="order[\'img_arr\'].length == 0" style="height: 50px;width: 50px;margin: 0 auto;object-fit: cover;"   src="assets/no-img.png" imageViewer="assets/no-img.png"  onerror="this.src=\'assets/no-img.png\'" imageCache/>\n  \n		</ion-avatar>\n		<!-- <h3>\n			<p>\n				Tag Id :\n				<ion-badge style="background: linear-gradient(to right,#000000 0%,#000000 75%,#000000 100%);">{{order.tag_id}}</ion-badge>			\n			</p>\n			<p >Customer : {{order.firstname}} <span (tap)="open(i)" style="float: right;color: \n			#000000">{{order.tog}}>></span></p> \n		    <p >Mobile : {{order.mobile}}</p>\n\n		</h3> -->\n\n		<ion-row  no-padding> <ion-col style="max-width:37% !important;margin-bottom: 5px;">\n			<h3 style="font-weight: bold;">Tag Id</h3>\n			</ion-col> \n			<ion-col style="max-width:3% !important;margin: auto;">\n				:\n				</ion-col> \n				<ion-col style="max-width:60% !important;margin: auto;">\n					<ion-badge style="background: linear-gradient(to right,#000000 0%,#000000 75%,#000000 100%);">{{order.tag_id}}</ion-badge>			\n				</ion-col> \n		 </ion-row>\n		 <ion-row  no-padding> <ion-col style="max-width:37% !important">\n			<h3 style="font-weight: bold;">Customer</h3>\n			</ion-col> \n			<ion-col style="max-width:3% !important;margin: auto;">\n				:\n				</ion-col> \n				<ion-col style="max-width:60% !important;margin: auto;">\n					{{order.firstname}}\n					</ion-col> \n		 </ion-row>\n		 <ion-row  no-padding> <ion-col style="max-width:37% !important">\n			<h3 style="font-weight: bold;">Mobile</h3>\n			</ion-col> \n			<ion-col style="max-width:3% !important;margin: auto;">\n				:\n				</ion-col> \n				<ion-col style="max-width:60% !important;margin: auto;">\n					{{order.mobile}}<span (tap)="open(i)" style="float: right;color: \n					#000000">{{order.tog}}>></span>\n					</ion-col> \n		 </ion-row>\n\n		<div style="margin-top: 5px" *ngIf="order[\'tog\'] == \'View Less\'">\n		<ion-row  no-padding> <ion-col style="max-width:37% !important">\n			<h3 style="font-weight: bold;">Product Name</h3>\n			</ion-col> \n			<ion-col style="max-width:3% !important;margin: auto;">\n				:\n				</ion-col> \n				<ion-col style="max-width:60% !important;margin: auto;">\n					{{order.product_name}}\n					</ion-col> \n		 </ion-row>\n		 <ion-row  no-padding> <ion-col style="max-width:37% !important">\n			<h3 style="font-weight: bold;">Design Name</h3>\n			</ion-col> \n			<ion-col style="max-width:3% !important;margin: auto;">\n				:\n				</ion-col> \n				<ion-col style="max-width:60% !important;margin: auto;">\n					{{order.design_name}}\n					</ion-col> \n		 </ion-row>\n		 <ion-row  no-padding> <ion-col style="max-width:37% !important">\n			<h3 style="font-weight: bold;">Subdesign Name</h3>\n			</ion-col> \n			<ion-col style="max-width:3% !important;margin: auto;">\n				:\n				</ion-col> \n				<ion-col style="max-width:60% !important;margin: auto;">\n					{{order.sub_design_name}}\n					</ion-col> \n		 </ion-row>\n			\n		<ion-row  no-padding> <ion-col>\n			<h3>{{order.area}}</h3>\n			</ion-col>  </ion-row>\n		<ion-row no-padding> <ion-col>\n		<h4 style="    font-weight: bold;">O.Dt: <span style="    font-weight: normal !important;">{{order.created_date}}</span> </h4>\n		</ion-col> <ion-col *ngIf="order.status == 3">\n		<h4 style="    font-weight: bold;">C.Dt: <span style="    font-weight: normal !important;">{{order.close_date}}</span></h4>\n		</ion-col> </ion-row> \n		<h4>{{order.remarks}}</h4>\n		</div>\n	</ion-item>\n	</ion-card>\n	<!--<ion-fab bottom right #fab *ngFor=" let order of myorders let i=index">\n		<button ion-fab *ngIf="!checkStatus" (click)="Ascending()">Sort</button>\n		<button ion-fab *ngIf="checkStatus"  (click)="Descending()">Sort</button>\n	  </ion-fab> -->\n</ion-content>\n<!-- <ion-footer>\n<ion-toolbar color="primary">\n    <ion-buttons>\n      <button ion-button  (click)="openModal()">\n        <ion-icon name="options"></ion-icon> Filter\n      </button>\n    </ion-buttons>\n</ion-toolbar>\n</ion-footer> -->\n\n\n\n\n\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\notconverted\notconverted.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["a" /* ActionSheetController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */]])
    ], NotconvertedPage);
    return NotconvertedPage;
}());

//# sourceMappingURL=notconverted.js.map

/***/ }),

/***/ 426:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DirectPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ionic_native_toast__ = __webpack_require__(62);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_retail__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__ionic_native_file_transfer__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__ionic_native_file__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__ionic_native_camera__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__angular_http__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__pages_cart_cart__ = __webpack_require__(27);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__pages_login_login__ = __webpack_require__(63);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__angular_platform_browser__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__img_editor_editor__ = __webpack_require__(71);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_ngx_image_compress__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__ionic_native_file_path__ = __webpack_require__(24);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__ionic_native_file_chooser__ = __webpack_require__(50);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__ionic_native_media_capture__ = __webpack_require__(93);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__modal_customer_customer__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__modal_add_stone_detail_add_stone_detail__ = __webpack_require__(194);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__charges_charges__ = __webpack_require__(94);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__ionic_native_file_opener__ = __webpack_require__(51);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__estimation_estimation__ = __webpack_require__(72);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__masssearch2_masssearch2__ = __webpack_require__(427);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__modal_employee_employee__ = __webpack_require__(49);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};

























/**
 * Generated class for the ProductDetailPage page.
 *
 * See http://ionicframework.com/docs/components/#navigation for more info
 * on Ionic pages and navigation.
 */
var DirectPage = /** @class */ (function () {
    function DirectPage(fileOpener, modal, retail, mediaCapture, fileChooser, filePath, imageCompress, cd, sanitizer, commonservice, navCtrl, platform, navParams, loadingCtrl, toastCtrl, event, toast, actionSheetCtrl, camera, transfer, file, http, alertCtrl) {
        // this.productdet = navParams.get( 'proid' );
        // this.productdet['TagImage'] = navParams.get( 'proid' )['arr'][0]['TagImage'];
        var _this = this;
        this.fileOpener = fileOpener;
        this.modal = modal;
        this.retail = retail;
        this.mediaCapture = mediaCapture;
        this.fileChooser = fileChooser;
        this.filePath = filePath;
        this.imageCompress = imageCompress;
        this.cd = cd;
        this.sanitizer = sanitizer;
        this.commonservice = commonservice;
        this.navCtrl = navCtrl;
        this.platform = platform;
        this.navParams = navParams;
        this.loadingCtrl = loadingCtrl;
        this.toastCtrl = toastCtrl;
        this.event = event;
        this.toast = toast;
        this.actionSheetCtrl = actionSheetCtrl;
        this.camera = camera;
        this.transfer = transfer;
        this.file = file;
        this.http = http;
        this.alertCtrl = alertCtrl;
        this.fileTransfer = this.transfer.create();
        this._username = "lmxretail";
        this._password = "lmx@2017";
        this.checkStatus = false;
        /* public photos : any;
        public base64Image : string; */
        this.targetPaths = [];
        this.vidtargetPaths = [];
        this.filenames = [];
        this.vidfilenames = [];
        this.charges = [];
        this.purityname = "";
        this.namey = "D0wqd2IyB1w";
        this.type = 1;
        this.lastImage = null;
        this.productdet = this.navParams.get("proid");
        this.productdetarr = this.navParams.get("single");
        this.metal_error_msg = true;
        this.video = "";
        this.slidess = this.navParams.get("single");
        this.productid = 0;
        this.inf = false;
        this.gif = false;
        this.temp = [
            { name: "Chennai" },
            { name: "Coimbatore" },
            { name: "Madurai" },
            { name: "Salem" },
        ];
        // footerScrollConfig: ScrollHideConfig= { cssProperty: 'margin-bottom', maxValue: undefined };
        this.base = "data:image/png;base64,";
        this.showdiamond = [];
        this.showstone = [];
        this.productItems1 = [];
        this.stoneMasData = [];
        this.stone_details = [];
        this.calc = 350;
        this.top = 0;
        this.MAX_FILE_SIZE = 60000000;
        this.ALLOWED_MIME_TYPE = "video/mp4";
        this.ids = "";
        this.idw = "";
        this.show = false;
        this.progress = 0;
        this.esti = {
            choose: "",
            cus_id: "",
            customer: "",
            id_branch: "",
            id_employee: "",
            emp_name: "",
            is_tag: false,
            is_non_tag: false,
            is_home_bill: false,
            is_old_metal: false,
            tag: [],
            non_tag: [],
            home_bill: [],
            old_metal: [],
            chit_details: [{ slip_no: "", slip_amt: "" }],
        };
        this.tot_purch_wgt = 0;
        this.tot_purch_rate = 0;
        this.tot_sale_wgt = 0;
        this.tot_sale_rate = 0;
        this.tot_charge = 0;
        this.total_esti_value = 0;
        this.advance = 0;
        this.tot_gift_rate = 0;
        this.dates = [];
        this.tot_incen = 0;
        this.slideimg = this.productdet["TagImage"];
        this.hbProducts = [];
        this.hbcat = [];
        this.hbDesigns = [];
        this.hbsubDesigns = [];
        this.empData = JSON.parse(localStorage.getItem("empDetail"));
        this.order_type = 1;
        this.showtagres = true;
        this.tagData = {
            taged: 1,
            fin_year: "",
            order_id: "",
            tag_code: "",
            tag_code1: "",
            tag_code2: "",
            is_partial: 0,
            stone_details: [],
        };
        this.checkold = false;
        this.tagMsg = "";
        this.tagErrorMsg = "";
        this.employees = [];
        // naveen
        this.Purities = [];
        this.nonback = true;
        this.nonback1 = false;
        this.nonback2 = false;
        this.othermetals = [];
        this.sizes = [];
        var currentDate = new Date();
        this.minDate = currentDate.toISOString();
        this.yearValues = this.generateFutureYears(currentDate.getFullYear(), 10);
        // this.selectedOption = 'option1'
        this.productdet['rate_type'] = 1;
        this.productdet['balance_type'] = 2;
        this.productdet['empname'] = '';
        this.commonservice.getBranchEmployees(this.empData['id_branch']).then(function (data) {
            _this.employees = data;
        });
        var i = this.slidess.findIndex(function (data) { return data["TagNo"] == _this.productdet["TagNo"]; });
        if (i >= 0) {
            this.slidess.splice(i, 1);
            this.slidess.unshift(this.productdet);
        }
        this.productdet["id_purity"] = this.productdet["purity_id"];
        console.log("1", this.productdet);
        console.log(this.slidess);
        // this.stone_details = this.productdet.hasOwnProperty('TagStoneDetails') ? this.productdet['TagStoneDetails'] : [];
        // if(this.productdet['colorcode'] == ''){
        //   this.productdet['colorcode'] = 'black';
        // }
        var empData = JSON.parse(localStorage.getItem("empDetail"));
        this.tax_details = this.navParams.get("taxGroupItems");
        console.log(this.tax_details, "pppppppppppp");
        this.metalRate = this.navParams.get("metal_rates");
        this.esti["id_log"] = empData["id_log"];
        this.esti["id_employee"] = empData["uid"];
        this.esti["emp_name"] = empData["username"];
        this.esti["id_branch"] = empData["id_branch"];
        this.retail
            .getAllStoneMaters({ id_branch: empData["id_branch"] })
            .then(function (data) {
            _this.stoneMasData = data;
        });
        this.retail.getAllTaxGroupItems().then(function (data) {
            _this.taxGroupItems = data;
            console.log(_this.taxGroupItems, "oooooooooo");
            _this.event.publish("taxGroup:loaded", true);
            _this.commonservice
                .getCurrencyAndSettings({
                id_metalrates: _this.esti["choose"],
                id_branch: _this.esti["id_branch"],
            })
                .then(function (data) {
                _this.metalRate = data.metal_rates;
                _this.calculate("");
            });
        });
        console.log(this.productdet.hasOwnProperty("weight"));
        // this.show = true;
        // this.showstone = this.productdet['TagStoneDetails'].length > 0 ? this.productdet['TagStoneDetails'].filter(data=>data['Nature'] != 'DIAMOND') : [];
        // this.stone_details = this.productdet.hasOwnProperty('TagStoneDetails') ? this.productdet['TagStoneDetails'] : [];
        // this.productdet['purities'] = [];
        // this.productdet['weights'] = [];
        // this.productdet['sizes'] = [];
        // this.productdet['weight'] = '';
        // this.productdet['pcs'] = '';
        // this.productdet['due_date'] = '';
        // this.productdet['id_weight'] = '';
        // this.productdet['id_purity'] = '';
        // this.productdet['id_size'] = '';
        // this.productdet['sample_details'] = '';
        // this.showdiamond = this.productdet['TagStoneDetails'].length > 0 ? this.productdet['TagStoneDetails'].filter(data=>data['Nature'] == 'DIAMOND') : [];
        this._header = new __WEBPACK_IMPORTED_MODULE_8__angular_http__["a" /* Headers */]();
        this._header.append("Authorization", "Basic " + btoa(this._username + ":" + this._password));
        this.productItems1 =
            JSON.parse(localStorage.getItem("wish")) != null
                ? JSON.parse(localStorage.getItem("wish")).filter(function (data) { return data["TagNo"] == _this.productdet["TagNo"]; })
                : [];
        setTimeout(function () {
            _this.content.resize();
            console.log("271892718927");
        }, 300);
        //  if(this.customData['stones']){
        //   this.item['stones'].forEach((value, key) => {
        //     let stone = this.customData['stones'].filter( i => i.stone_id === value.stone_id );
        //     if(stone.length > 0){
        //       this.item['stones'][key]['selected'] = true;
        //     }
        //     console.log(key);
        //     console.log(this.item['stones']);
        //   });
        // }
        this.commonservice.getdivision().then(function (data) {
            _this.productdet["allcharges"] = data["charges"];
            // loader.dismiss();
        });
        this.clear();
    }
    DirectPage_1 = DirectPage;
    DirectPage.prototype.generateFutureYears = function (startYear, numYears) {
        var futureYears = [];
        for (var i = 0; i < numYears; i++) {
            futureYears.push(startYear + i);
        }
        return futureYears;
    };
    DirectPage.prototype.ionViewDidLoad = function () { };
    DirectPage.prototype.photoURL = function (data) {
        // this.video.safeurl = this.sanitizer.bypassSecurityTrustResourceUrl('https://www.youtube.com/embed/'+data) ;
        //    this.video  =  this.sanitizer.bypassSecurityTrustResourceUrl(this.video) ;
        // return this.sanitizer.bypassSecurityTrustResourceUrl(this.video) ;
    };
    DirectPage.prototype.slide = function () {
        console.log(this.slides.getActiveIndex());
        this.productdet =
            this.slidess.length - 1 < this.slides.getActiveIndex()
                ? this.slidess[this.slides.getActiveIndex() - 1]
                : this.slidess[this.slides.getActiveIndex()];
        console.log(this.productdet);
        this.slideimg = this.productdet["TagImage"];
        this.productdet["net_wt"] = this.productdet["NetWt"];
        this.productdet["gross_wt"] = this.productdet["GrossWt"];
        this.productdet["metal_type"] = this.productdet["rate_field"];
        this.productdet["market_metal_type"] = this.productdet["market_rate_field"];
        this.productdet["tax_group_id"] = this.productdet["tgrp_id"];
        // if(this.productdet['colorcode'] == ''){
        //   this.productdet['colorcode'] = 'black';
        // }
        this.calculate("");
        this.cd.detectChanges();
    };
    DirectPage.prototype.back = function () {
        if (this.slides.getActiveIndex() != 0) {
            this.slides.slidePrev();
        }
    };
    DirectPage.prototype.next = function () {
        this.slides.slideNext();
    };
    // ionViewDidLoad() {
    // }
    DirectPage.prototype.presentToast = function (text) {
        var toast = this.toastCtrl.create({
            message: text,
            duration: 3000,
            position: "middle",
        });
        toast.present();
    };
    DirectPage.prototype.changeImage = function (image, type, video) {
        if (type == 2) {
            this.type = type;
            console.log("test");
            this.content.scrollToTop();
            console.log(this.type);
        }
        else {
            this.productdet.prodefaultimg = image;
            this.type = type;
            console.log(this.type);
        }
    };
    DirectPage.prototype.addtocart = function (product) {
        var _this = this;
        var loginstatus = JSON.parse(localStorage.getItem("check"));
        if (loginstatus == false || loginstatus == null) {
            // let toast = this.toastCtrl.create( {
            //     message: 'Please Login / Register Your Account to Checkout Your Item',
            //     duration: 4000,
            //     position: 'middle'
            // } );
            // toast.present();
            var alert_1 = this.alertCtrl.create({
                title: "Dhamu Chettiar Nagai Maligai",
                message: "Please Login / Register Your Account to View Item",
                enableBackdropDismiss: false,
                buttons: [
                    {
                        text: "SignIn",
                        role: "cancel",
                        handler: function () {
                            _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_10__pages_login_login__["a" /* LoginPage */]);
                        },
                    },
                ],
            });
            alert_1.present();
        }
        if (loginstatus == true) {
            var loader = this.loadingCtrl.create({});
            loader.present();
            if ((product.is_chain &&
                parseFloat(product.reqweight) <
                    parseFloat(product.order_minweight)) ||
                product.id_purity == undefined) {
                console.log(product);
                if (product.is_chain &&
                    parseFloat(product.reqweight) < parseFloat(product.order_minweight)) {
                    if (this.platform.is("cordova")) {
                        this.toast
                            .show("Minimum order weight is " + product.order_minweight + " g", "short", "center")
                            .subscribe(function (toast) {
                            console.log(toast);
                        });
                    }
                    else {
                        var toast = this.toastCtrl.create({
                            message: "Minimum order weight is " + product.order_minweight + " g",
                            duration: 5000,
                            position: "middle",
                        });
                        toast.present();
                    }
                }
                else if (product.id_purity == undefined) {
                    if (this.platform.is("cordova")) {
                        this.toast
                            .show("Select purity", "short", "center")
                            .subscribe(function (toast) {
                            console.log(toast);
                        });
                    }
                    else {
                        var toast = this.toastCtrl.create({
                            message: "Select purity",
                            duration: 4000,
                            position: "middle",
                        });
                        toast.present();
                    }
                }
                /* else if ( product.sizeorlen == undefined ) {
                    if ( this.platform.is( 'cordova' ) ) {
                        this.toast.show( 'Enter size or length', 'short', 'center' ).subscribe(
                            toast => {
                                console.log( toast );
                            }
                        );
                    } else {
                        let toast = this.toastCtrl.create( {
                            message: 'Enter size or length',
                            duration: 5000,
                            position: 'middle'
                        } );
                        toast.present();
                    }
                } */
                loader.dismiss();
            }
            else {
                if (localStorage.getItem("appcartitems") != null) {
                    var curr_cartproducts = JSON.parse(localStorage.getItem("appcartitems"));
                    var deliveryorders_1 = [];
                    var prodavail_1 = true;
                    curr_cartproducts.forEach(function (orders) {
                        // foreach statement
                        if (orders.id_product == product.id_product &&
                            orders.id_purity == product.id_purity &&
                            product.sizeorlen == orders.sizeorlen &&
                            product.reqweight == orders.reqweight) {
                            orders.qty = parseInt(orders.qty) + parseInt(product.qty);
                            prodavail_1 = false;
                        }
                        deliveryorders_1.push(orders);
                    });
                    if (prodavail_1) {
                        deliveryorders_1.push(product);
                    }
                    localStorage.setItem("appcartitems", JSON.stringify(deliveryorders_1));
                }
                else {
                    var deliveryorders = [];
                    deliveryorders.push(product);
                    localStorage.setItem("appcartitems", JSON.stringify(deliveryorders));
                }
                loader.dismiss();
                if (this.platform.is("cordova")) {
                    this.toast
                        .show("Item added to cart", "short", "center")
                        .subscribe(function (toast) {
                        console.log(toast);
                    });
                }
                else {
                    var toast = this.toastCtrl.create({
                        message: "Item added to cart",
                        duration: 3000,
                        position: "middle",
                    });
                    toast.present();
                }
                this.event.publish("cart:changed", JSON.parse(localStorage.getItem("appcartitems")).length);
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_9__pages_cart_cart__["a" /* CartPage */], { value: "" });
                //this.navCtrl.pop();
            }
        }
    };
    DirectPage.prototype.grid = function () {
        console.log("grid");
        this.checkStatus = true;
    };
    DirectPage.prototype.listgrid = function () {
        console.log("listgrid");
        this.checkStatus = false;
    };
    DirectPage.prototype.openProductdetails = function (id_design) {
        this.navCtrl.push(DirectPage_1, { proid: id_design });
    };
    DirectPage.prototype.ionViewWillLeave = function () {
        this.event.publish("entered", false);
    };
    DirectPage.prototype.ionViewWillEnter = function () {
        var _this = this;
        this.event.publish("entered", true);
        this.event.publish("pageno", 20);
        if (localStorage.getItem("dip") != "") {
            var path = JSON.parse(localStorage.getItem("dip"));
            var name = JSON.parse(localStorage.getItem("din"));
            console.log("dip : " + path + " -- " + "din : " + name);
        }
        if (path != null &&
            path != undefined &&
            path != "" &&
            this.navParams.get("state") == true) {
            this.targetPaths.push(path);
            console.log(this.targetPaths);
            this.filenames.push(name);
            console.log(this.filenames);
            this.productdet["targetPaths"] = this.targetPaths;
            this.productdet["sample_images"] = this.filenames;
        }
        this.event.subscribe("img", function (userEventData) {
            // this.productdet['sample_images'] = userEventData;
        });
        this.event.subscribe("tar", function (userEventData) {
            console.log(userEventData);
            _this.targetPaths.pop();
            _this.targetPaths.push(userEventData);
            console.log(_this.targetPaths);
        });
        this.event.subscribe("file", function (userEventData) {
            console.log(userEventData);
            _this.filenames.pop();
            _this.filenames.push(userEventData);
            console.log(_this.filenames);
            _this.productdet["sample_images"] = _this.filenames;
        });
        this.event.subscribe("err", function (userEventData) {
            _this.targetPaths.splice(userEventData, 1);
        });
        this.event.subscribe("errr", function (userEventData) {
            _this.filenames.splice(userEventData, 1);
        });
        console.log(this.productdet);
        console.log(this.targetPaths);
    };
    DirectPage.prototype.fixprice = function (data) {
        var temp1 = parseFloat(data).toFixed(3);
        // let temp:any = parseFloat(temp1);
        return temp1;
        // return temp.toLocaleString(undefined, {minimumFractionDigits: 3,
        //   maximumFractionDigits: 3});
        // return parseFloat(data).toLocaleString(undefined, {minimumFractionDigits: 2,
        //   maximumFractionDigits: 2});
        // return parseFloat(data).toFixed(2);
    };
    DirectPage.prototype.price = function (data) {
        var temp1 = parseFloat(data).toFixed();
        return temp1;
    };
    DirectPage.prototype.setimg = function (img, ind) {
        this.slideimg = img;
        console.log(this.slideimg);
    };
    DirectPage.prototype.addw = function () {
        var _this = this;
        var productItems = JSON.parse(localStorage.getItem("wish")) != null
            ? JSON.parse(localStorage.getItem("wish"))
            : [];
        if (productItems.length > 0) {
            var productItems1 = productItems.filter(function (data) { return data["TagNo"] == _this.productdet["TagNo"]; });
            if (productItems1.length == 0) {
                productItems.push(this.productdet);
                localStorage.setItem("wish", JSON.stringify(productItems));
                this.presentToast("Product Wishlisted Successfully");
                this.productItems1 =
                    JSON.parse(localStorage.getItem("wish")) != null
                        ? JSON.parse(localStorage.getItem("wish")).filter(function (data) { return data["TagNo"] == _this.productdet["TagNo"]; })
                        : [];
            }
            else {
                var index = productItems.findIndex(function (data) { return data["TagNo"] == _this.productdet["TagNo"]; });
                productItems.splice(index, 1);
                localStorage.setItem("wish", JSON.stringify(productItems));
                this.presentToast("Product Removed Successfully");
                this.productItems1 =
                    JSON.parse(localStorage.getItem("wish")) != null
                        ? JSON.parse(localStorage.getItem("wish")).filter(function (data) { return data["TagNo"] == _this.productdet["TagNo"]; })
                        : [];
            }
        }
        else {
            localStorage.setItem("wish", JSON.stringify([this.productdet]));
            this.presentToast("Product Wishlisted Successfully");
            this.productItems1 =
                JSON.parse(localStorage.getItem("wish")) != null
                    ? JSON.parse(localStorage.getItem("wish")).filter(function (data) { return data["TagNo"] == _this.productdet["TagNo"]; })
                    : [];
        }
    };
    DirectPage.prototype.scrolling = function (event) {
        if (event.scrollTop == 0) {
            this.calc = 350;
        }
        else {
            this.calc = 350 - event.scrollTop;
            this.content.resize();
            this.cd.detectChanges();
        }
        // your content here for scrolling
    };
    DirectPage.prototype.proceedToWishlist = function () {
        console.log(this.productdet, '99999999999999999999');
        console.log(this.productdet["wast_wgt"], '999999999999');
        console.log(this.productdet['empname']);
        // if ( (this.productdet["id_purity"] == "" || this.productdet["wast_wgt"] == "" || this.productdet["pcs"] == "" || this.productdet["due_date"] == "" || this.productdet['empname'] == '')) {
        console.log(this.productdet);
        console.log("111111111111");
        // naveen
        // if (this.productdet["id_purity"] == "") {
        //   console.log("2222222222222");
        //   this.commonservice.presentToast("Please Select Purity *", 1000);
        // } else if (this.productdet["wast_wgt"] == "" && this.productdet["wast_wgt"] != 0) {
        //   this.commonservice.presentToast("Please Enter Weight *", 1000);
        // } else if (this.productdet["pcs"] == "") {
        //   this.commonservice.presentToast("Please Enter Pieces *", 1000);
        // } else if (this.productdet["due_date"] == "") {
        //   this.commonservice.presentToast("Please Enter No of Days *", 1000);
        // } else if (this.productdet['empname'] == '' || this.productdet['empname'] == undefined) {
        //   this.commonservice.presentToast('Please Enter Employee *', 1000);
        // }
        // // }
        // else {
        //   console.log("elsee");
        if (this.productdet["from_weight"] > 0 && this.productdet["to_weight"] > 0) {
            console.log("this.productdet :", this.productdet);
            if (parseFloat(this.productdet.weight) >= parseFloat(this.productdet["from_weight"]) && parseFloat(this.productdet.weight) <= parseFloat(this.productdet["to_weight"])) {
                console.log("2222");
                var empData = JSON.parse(localStorage.getItem("empDetail"));
                console.log(empData);
                var wishlistData = {
                    id_customer: "",
                    id_branch: empData["id_branch"],
                    id_employee: empData["id_employee"],
                    item_type: 3,
                    is_customized: 1,
                    id_product: this.productdet["id_product"],
                    design_no: this.productdet["design_no"],
                    id_sub_design: this.productdet["id_sub_design"],
                    id_mc_type: this.productdet["mc_type"],
                    mc: this.productdet["mc_value"],
                    stn_amt: 0,
                    due_date: this.productdet["due_date"],
                    length: this.productdet["len"],
                    width: this.productdet["width"],
                    dia: this.productdet["dia"],
                    weight: this.productdet["gross_wt"],
                    id_size: this.productdet["id_size"],
                    id_weight: this.productdet["id_weight"],
                    pcs: this.productdet["pcs"],
                    id_purity: this.productdet["id_purity"],
                    hook_type: this.productdet["hook_type"],
                    sample_details: this.productdet["sample_details"],
                    image: this.productdet["TagImage"],
                    targetPaths: this.productdet["targetPaths"],
                    sample_images: this.productdet["targetPaths"],
                    sample_videos: this.vidfilenames,
                    stones: this.productdet["TagStoneDetails"],
                    stone_price: this.productdet["stone_price"],
                    stone_wt: this.productdet["stone_wt"],
                    stone_details: this.productdet["stone_details"],
                    status: 1,
                    id_wishlist: this.productdet["id_wishlist"],
                    sub_design_name: this.productdet["sub_design_name"],
                    design_name: this.productdet["design_name"],
                    product_name: this.productdet["product_name"],
                    id_category: this.productdet["id_category"],
                    // tag_id: this.productdet["id_tag_detail"],
                    // tag_code: this.productdet["TagNo"],
                    tag_id: this.productdet["tag_id"],
                    tag_code: this.productdet["tag_code"],
                    MetalCode: this.productdet["MetalCode"],
                    calculation_based_on: this.productdet["calculation_based_on"],
                    sales_value: this.productdet["sales_value"],
                    tgrp_id: this.productdet["tax_group_id"],
                    less_wt: this.productdet["less_wt"],
                    net_wt: this.productdet["net_wt"],
                    charge_value: this.productdet["charge_value"],
                    id_charge: this.productdet["id_charge"],
                    charges: this.productdet["charges"],
                    wast_percent: this.productdet["retail_max_wastage_percent"],
                    rate_type: this.productdet['rate_type'],
                    balance_type: this.productdet['balance_type'],
                    other_metal_details: this.productdet['other_metal_details'],
                    total_tax_rate: this.productdet['tax_price'],
                    order_rate: this.productdet['rate_per'],
                    taxable: this.productdet['taxable'],
                    order_type: this.order_type,
                    sub_product: this.productdet['sub_design_name'],
                    gross_wt: this.productdet['gross_wt'],
                    Purity: this.productdet['purity'],
                };
                console.log(wishlistData, 'list');
                if (localStorage.getItem("carts") == null) {
                    localStorage.setItem("carts", JSON.stringify({
                        id_branch: empData["id_branch"],
                        id_employee: empData["id_employee"],
                        id_customer: "",
                        status: 1,
                        items: [wishlistData],
                    }));
                }
                else {
                    var local = JSON.parse(localStorage.getItem("carts"))["items"];
                    console.log(local);
                    local.push(wishlistData);
                    console.log(local);
                    localStorage.setItem("carts", JSON.stringify({
                        id_branch: empData["id_branch"],
                        id_employee: empData["id_employee"],
                        id_customer: "",
                        status: 1,
                        items: local,
                    }));
                }
                // this.loader.dismiss();
                this.commonservice.presentToast("Product added to cart successfully", "");
                console.log('if wishlistData', wishlistData);
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_9__pages_cart_cart__["a" /* CartPage */]);
            }
            else {
                this.commonservice.presentToast("Please Enter Valid Weight *", 1000);
            }
        }
        else {
            var empData = JSON.parse(localStorage.getItem("empDetail"));
            console.log(empData);
            console.log("else 1 : ", this.productdet);
            var wishlistData = {
                id_customer: "",
                id_branch: empData["id_branch"],
                id_employee: empData["id_employee"],
                item_type: 3,
                is_customized: 1,
                id_product: this.productdet["id_product"],
                design_no: this.productdet["design_no"],
                id_sub_design: this.productdet["id_sub_design"],
                id_mc_type: this.productdet["mc_type"],
                mc: this.productdet["mc_value"],
                stn_amt: 0,
                due_date: this.productdet["due_date"],
                length: this.productdet["len"],
                width: this.productdet["width"],
                dia: this.productdet["dia"],
                weight: this.productdet["gross_wt"],
                id_size: this.productdet["id_size"],
                id_weight: this.productdet["id_weight"],
                pcs: this.productdet["pcs"],
                id_purity: this.productdet["id_purity"],
                hook_type: this.productdet["hook_type"],
                sample_details: this.productdet["sample_details"],
                image: this.productdet["TagImage"],
                targetPaths: this.productdet["targetPaths"],
                sample_images: this.productdet["targetPaths"],
                sample_videos: this.vidfilenames,
                stones: this.productdet["stone_details"],
                stone_price: this.productdet["stone_price"],
                stone_wt: this.productdet["stone_wt"],
                // stone_details: this.productdet["stone_details"],
                status: 1,
                id_wishlist: this.productdet["id_wishlist"],
                sub_design_name: this.productdet["sub_design_name"],
                design_name: this.productdet["design_name"],
                product_name: this.productdet["product_name"],
                id_category: this.productdet["id_category"],
                // tag_id: this.productdet["id_tag_detail"],
                // tag_code: this.productdet["TagNo"],
                tag_id: this.productdet["tag_id"],
                tag_code: this.productdet["tag_code"],
                MetalCode: this.productdet["MetalCode"],
                calculation_based_on: this.productdet["calculation_based_on"],
                sales_value: this.productdet["sales_value"],
                tgrp_id: this.productdet["tax_group_id"],
                less_wt: this.productdet["less_wt"],
                net_wt: this.productdet["net_wt"],
                charge_value: this.productdet["charge_value"],
                id_charge: this.productdet["id_charge"],
                charges: this.productdet["charges"],
                wast_percent: this.productdet["retail_max_wastage_percent"],
                rate_type: this.productdet['rate_type'],
                balance_type: this.productdet['balance_type'],
                other_metal_details: this.productdet['other_metal_details'],
                total_tax_rate: this.productdet['tax_price'],
                order_rate: this.productdet['rate_per'],
                taxable: this.productdet['taxable'],
                order_type: this.order_type,
                sub_product: this.productdet['sub_design_name'],
                gross_wt: this.productdet['gross_wt'],
                Purity: this.productdet['purity'],
            };
            console.log(wishlistData, 'list');
            if (localStorage.getItem("carts") == null) {
                localStorage.setItem("carts", JSON.stringify({ id_branch: empData["id_branch"], id_employee: empData["id_employee"], id_customer: "", status: 1, items: [wishlistData], }));
            }
            else {
                var local = JSON.parse(localStorage.getItem("carts"))["items"];
                console.log(local);
                local.push(wishlistData);
                console.log(local);
                localStorage.setItem("carts", JSON.stringify({ id_branch: empData["id_branch"], id_employee: empData["id_employee"], id_customer: "", status: 1, items: local, }));
            }
            // this.loader.dismiss();
            this.commonservice.presentToast("Product added to cart successfully", "");
            console.log('else wishlistData', wishlistData);
            this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_9__pages_cart_cart__["a" /* CartPage */], { 'page': 'direct' });
        }
        // }
    };
    DirectPage.prototype.presentActionSheet = function () {
        var _this = this;
        var actionSheet = this.actionSheetCtrl.create({
            title: "Select Image Source",
            buttons: [
                {
                    text: "Load from Gallery",
                    handler: function () {
                        _this.takePicture(_this.camera.PictureSourceType.PHOTOLIBRARY);
                    },
                },
                {
                    text: "Take Picture",
                    handler: function () {
                        _this.takePicture(_this.camera.PictureSourceType.CAMERA);
                    },
                },
                {
                    text: "Cancel",
                    role: "cancel",
                },
            ],
        });
        actionSheet.present();
    };
    DirectPage.prototype.presentActionSheetvideo = function () {
        var _this = this;
        var actionSheet = this.actionSheetCtrl.create({
            title: "Select Video Source",
            buttons: [
                {
                    text: "Load from Gallery",
                    handler: function () {
                        _this.recordVideo(_this.camera.PictureSourceType.PHOTOLIBRARY);
                    },
                },
                {
                    text: "Take Video",
                    handler: function () {
                        _this.rec();
                    },
                },
                {
                    text: "Cancel",
                    role: "cancel",
                },
            ],
        });
        actionSheet.present();
    };
    DirectPage.prototype.takePicture = function (sourceType) {
        var _this = this;
        console.log(sourceType);
        // this.navCtrl.push(EditorPage,{images:'assets/img/earings.jpg'});
        // Create options for the   Dialog
        var options = {
            quality: 100,
            sourceType: sourceType,
            saveToPhotoAlbum: false,
            correctOrientation: true,
        };
        console.log(options);
        // Get the data of an image
        this.camera.getPicture(options).then(function (imagePath) {
            console.log("getPicture");
            _this.loader = _this.loadingCtrl.create({
                content: "Fetching...",
                spinner: "bubbles",
            });
            _this.loader.present();
            console.log("imagePath : " + imagePath);
            if (_this.platform.is("android") &&
                sourceType === _this.camera.PictureSourceType.PHOTOLIBRARY) {
                _this.filePath.resolveNativePath(imagePath).then(function (filePath) {
                    console.log("ttttttttttt", _this.filePath);
                    var correctPath = filePath.substr(0, filePath.lastIndexOf("/") + 1);
                    var currentName = imagePath.substring(imagePath.lastIndexOf("/") + 1, imagePath.lastIndexOf("?"));
                    _this.copyFileToLocalDir(correctPath, currentName, _this.createFileName());
                    // this.uploadImage();
                });
            }
            else {
                var currentName = imagePath.substr(imagePath.lastIndexOf("/") + 1);
                var correctPath = imagePath.substr(0, imagePath.lastIndexOf("/") + 1);
                _this.copyFileToLocalDir(correctPath, currentName, _this.createFileName());
                // this.uploadImage();
            }
        }, function (err) {
            console.log(err);
            _this.commonservice.presentToast("Error while selecting image.", "");
        });
    };
    // Create a new name for the image
    DirectPage.prototype.createFileName = function () {
        var d = new Date(), n = d.getTime(), newFileName = n + ".jpg";
        return newFileName;
    };
    // Copy the image to a local folder
    DirectPage.prototype.copyFileToLocalDir = function (namePath, currentName, newFileName) {
        var _this = this;
        console.log("#### copyFileToLocalDir ####");
        console.log("namePath/correctPath : " + namePath);
        console.log("currentName : " + currentName);
        console.log("createdFileName : " + newFileName);
        console.log("Directory : " + cordova.file.dataDirectory);
        this.file
            .copyFile(namePath, currentName, cordova.file.dataDirectory, newFileName)
            .then(function (success) {
            // console.log("#### copyFile -- Success ####");
            // console.log(success);
            //   this.lastImage = newFileName;
            //   var targetPath = this.pathForImage( newFileName );
            //   this.targetPaths.push( targetPath );
            //   this.filenames.push( this.lastImage );
            //   this.loader.dismiss();
            //   console.log(targetPath);
            //   console.log(this.filenames);
            //   this.navCtrl.push(EditorPage,{"images":targetPath,"design_no":this.design_no})
            var orientation = -1;
            _this.imageCompress
                .compressFile(_this.pathForImage(newFileName), orientation, 100, 100)
                .then(function (result) { return __awaiter(_this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    this.writeFile(result, this.createFileName());
                    return [2 /*return*/];
                });
            }); }, function (err) {
                console.log(err);
            });
        }, function (error) {
            _this.commonservice.presentToast("Error while storing file.", "");
        });
    };
    // Always get the accurate path to your apps folder
    DirectPage.prototype.pathForImage = function (img) {
        if (img === null) {
            return "";
        }
        else {
            return cordova.file.dataDirectory + img;
        }
    };
    //here is the method is used to write a file in storage
    DirectPage.prototype.writeFile = function (base64Data, fileName) {
        var _this = this;
        var contentType = this.getContentType(base64Data);
        var DataBlob = this.base64toBlob(base64Data, contentType);
        // here iam mentioned this line this.file.externalRootDirectory is a native pre-defined file path storage. You can change a file path whatever pre-defined method.
        var filePath = cordova.file.dataDirectory;
        this.file
            .writeFile(filePath, fileName, DataBlob, contentType)
            .then(function (success) {
            console.log(success["nativeURL"]);
            var currentName = success["nativeURL"].substr(success["nativeURL"].lastIndexOf("/") + 1);
            var correctPath = success["nativeURL"].substr(0, success["nativeURL"].lastIndexOf("/") + 1);
            console.log("File Writed Successfully", success);
            console.log(currentName);
            console.log(correctPath);
            console.log("#### copyFile -- Success ####");
            console.log(success);
            _this.lastImage = currentName;
            var targetPath = _this.pathForImage(currentName);
            _this.targetPaths.push(targetPath);
            _this.filenames.push(_this.lastImage);
            _this.productdet["targetPaths"] = _this.targetPaths;
            _this.loader.dismiss();
            console.log(targetPath);
            console.log(_this.filenames);
            _this.loader.dismiss();
            _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_12__img_editor_editor__["a" /* EditorPage */], {
                images: targetPath,
                productdet: _this.productdet,
            });
        })
            .catch(function (err) {
            console.log("Error Occured While Writing File", err);
        });
    };
    //here is the method is used to get content type of an bas64 data
    DirectPage.prototype.getContentType = function (base64Data) {
        var block = base64Data.split(";");
        var contentType = block[0].split(":")[1];
        return contentType;
    };
    //here is the method is used to convert base64 data to blob data
    DirectPage.prototype.base64toBlob = function (b64Data, contentType) {
        contentType = contentType || "";
        var sliceSize = 512;
        var byteCharacters = atob(b64Data.replace(/^data:image\/(png|jpeg|jpg);base64,/, ""));
        var byteArrays = [];
        for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {
            var slice = byteCharacters.slice(offset, offset + sliceSize);
            var byteNumbers = new Array(slice.length);
            for (var i = 0; i < slice.length; i++) {
                byteNumbers[i] = slice.charCodeAt(i);
            }
            var byteArray = new Uint8Array(byteNumbers);
            byteArrays.push(byteArray);
        }
        var blob = new Blob(byteArrays, {
            type: contentType,
        });
        return blob;
    };
    DirectPage.prototype.rec = function () {
        var _this = this;
        var options = {
            limit: 1,
            duration: 20,
        };
        this.loader = this.loadingCtrl.create({
            content: "Fetching...",
            spinner: "bubbles",
        });
        this.loader.present();
        this.mediaCapture.captureVideo(options).then(function (videoUrl) { return __awaiter(_this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                if (videoUrl) {
                    console.log(videoUrl);
                    setTimeout(function () { return __awaiter(_this, void 0, void 0, function () {
                        return __generator(this, function (_a) {
                            console.log("outttt");
                            this.loader.dismiss();
                            this.recordVideo(this.camera.PictureSourceType.PHOTOLIBRARY);
                            return [2 /*return*/];
                        });
                    }); }, 2000);
                }
                return [2 /*return*/];
            });
        }); }, function (err) {
            _this.loader.dismiss();
            console.log(err);
        });
    };
    DirectPage.prototype.recordVideo = function (source) {
        var _this = this;
        var options = {
            mediaType: this.camera.MediaType.VIDEO,
            sourceType: source,
        };
        this.camera.getPicture(options).then(function (videoUrl) { return __awaiter(_this, void 0, void 0, function () {
            var _this = this;
            var filename, dirpath, dirUrl, retrievedFile, err_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!videoUrl) return [3 /*break*/, 6];
                        this.loader = this.loadingCtrl.create({
                            content: "Fetching...",
                            spinner: "bubbles",
                        });
                        this.loader.present();
                        filename = videoUrl.substr(videoUrl.lastIndexOf("/") + 1);
                        dirpath = videoUrl.substr(0, videoUrl.lastIndexOf("/") + 1);
                        dirpath = dirpath.includes("file://") ? dirpath : "file://" + dirpath;
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 4, , 5]);
                        return [4 /*yield*/, this.file.resolveDirectoryUrl(dirpath)];
                    case 2:
                        dirUrl = _a.sent();
                        return [4 /*yield*/, this.file.getFile(dirUrl, filename, {})];
                    case 3:
                        retrievedFile = _a.sent();
                        return [3 /*break*/, 5];
                    case 4:
                        err_1 = _a.sent();
                        console.log(err_1);
                        this.loader.dismiss();
                        return [2 /*return*/, this.presentAlert("Error", "Something went wrong.")];
                    case 5:
                        retrievedFile.file(function (data) {
                            _this.loader.dismiss();
                            if (data.size > _this.MAX_FILE_SIZE)
                                return _this.presentAlert("Error", "You cannot upload more than 60mb.");
                            if (data.type !== _this.ALLOWED_MIME_TYPE)
                                return _this.presentAlert("Error", "Upload mp4 file type only.");
                            _this.selectedVideo = retrievedFile.nativeURL;
                            console.log(_this.selectedVideo);
                            _this.selectedVideo = decodeURIComponent(_this.selectedVideo);
                            console.log(_this.selectedVideo);
                            var currentName = _this.selectedVideo.substr(_this.selectedVideo.lastIndexOf("/") + 1);
                            var correctPath = _this.selectedVideo.substr(0, _this.selectedVideo.lastIndexOf("/") + 1);
                            var type = _this.selectedVideo.substr(_this.selectedVideo.lastIndexOf(".") + 1);
                            _this.copyvideoToLocalDir(correctPath, currentName, _this.createvideoName(), data, data.size, type);
                        });
                        _a.label = 6;
                    case 6: return [2 /*return*/];
                }
            });
        }); }, function (err) {
            console.log(err);
        });
    };
    // selectVideo(){
    //   // choose your file from the device
    // this.fileChooser.open().then(uri => {
    //     this.loader = this.loadingCtrl.create( {
    //         content: "Fetching...",
    //         spinner: 'bubbles',
    //     } );
    //     this.loader.present();
    // console.log(111111111111)
    // console.log(uri)
    //   this.filePath.resolveNativePath(uri)
    //   .then(async(file) => {
    //     console.log(666666666666)
    //     console.log(file)
    //     var currentName = file.substr( file.lastIndexOf( '/' ) + 1 );
    //     var correctPath:any = file.substr( 0, file.lastIndexOf( '/' ) + 1 );
    //     let type =file.substr(file.lastIndexOf( '.' ) + 1);
    //     var filename = file.substr(file.lastIndexOf('/') + 1);
    //     var dirpath = file.substr(0, file.lastIndexOf('/') + 1);
    //     console.log(7777777777)
    //     console.log(dirpath)
    //     dirpath = dirpath.includes("file://") ? dirpath : "file://" + dirpath;
    //     try {
    //       var dirUrl = await this.file.resolveDirectoryUrl(dirpath);
    //       var retrievedFile = await this.file.getFile(dirUrl, filename, {});
    //     } catch(err) {
    //       console.log(888888888888)
    //       console.log(err)
    //       this.loader.dismiss();
    //       return this.presentAlert("Error","Please Choose File from File Explorer.");
    //     }
    //     retrievedFile.file( data => {
    //       console.log(999999999999)
    //       this.loader.dismiss();
    //       console.log(data)
    //       console.log(retrievedFile.nativeURL)
    //       if (data.size > this.MAX_FILE_SIZE) {
    //         this.loader.dismiss();
    //       }
    //       if (data.size > this.MAX_FILE_SIZE)  return this.presentAlert("Error", `You cannot upload more than 5mb.`);
    //       // this.selectedVideo = retrievedFile.nativeURL;
    //       if((type == 'mp4')){
    //         console.log(file)
    //         this.copyvideoToLocalDir( correctPath, currentName, this.createvideoName(),data,data.size,type );
    //       }
    //       else{
    //         this.loader.dismiss();
    //         let toast = this.toastCtrl.create( {
    //           message: 'Wrong File format',
    //           duration: 2000,
    //           position: "bottom"
    //       } );
    //       toast.present( toast );
    //       }
    //     });
    // })
    // .catch(err=>{
    //   this.loader.dismiss();
    //   let toast = this.toastCtrl.create( {
    //     message: 'Please Choose File from File Explorer',
    //     duration: 2000,
    //     position: "bottom"
    // } );
    // toast.present( toast );
    // console.log('000000000000')
    // console.log(err)
    // });
    // })
    // .catch(err=>{
    //   this.loader.dismiss();
    //   console.log(10101010110)
    //   console.log(err)
    // });
    // }
    DirectPage.prototype.pathForvideo = function (img) {
        if (img === null) {
            return "";
        }
        else {
            return cordova.file.dataDirectory + img;
        }
    };
    // Create a new name for the image
    DirectPage.prototype.createvideoName = function () {
        var d = new Date(), n = d.getTime(), newFileName = n + ".mp4";
        return newFileName;
    };
    // Copy the image to a local folder
    DirectPage.prototype.copyvideoToLocalDir = function (namePath, currentName, newFileName, data, size, type) {
        var _this = this;
        this.file
            .copyFile(namePath, currentName, cordova.file.dataDirectory, newFileName)
            .then(function (success) {
            console.log(_this.pathForvideo(newFileName));
            _this.vidtargetPaths.push(_this.pathForvideo(newFileName));
            _this.vidfilenames.push(newFileName);
            _this.productdet["sample_videos"] = _this.vidfilenames;
            _this.uploadvideo(_this.pathForvideo(newFileName), newFileName);
        }, function (error) {
            var toast = _this.toastCtrl.create({
                message: "Rename file and try again",
                duration: 3000,
                position: "bottom",
            });
            toast.present();
            _this.loader.dismiss();
            console.log("Error while storing file.");
            console.log(error);
        });
    };
    DirectPage.prototype.formatBytes = function (bytes, decimals) {
        if (decimals === void 0) { decimals = 2; }
        if (bytes === 0)
            return "0 Bytes";
        var k = 1024;
        var dm = decimals < 0 ? 0 : decimals;
        var sizes = ["Bytes", "KB", "MB"];
        var i = Math.floor(Math.log(bytes) / Math.log(k));
        return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + " " + sizes[i];
    };
    DirectPage.prototype.presentAlert = function (title, message) {
        var alert = this.alertCtrl.create({
            title: title,
            subTitle: message,
            buttons: ["Dismiss"],
        });
        alert.present();
    };
    DirectPage.prototype.checkstock = function (id) {
        var _this = this;
        var empData = JSON.parse(localStorage.getItem("empDetail"));
        this.ids = id;
        this.commonservice
            .checkstock({
            id_branch: empData["id_branch"],
            id_weight: this.idw,
            id_size: id,
            id_category: this.productdet["product_id"],
            id_product: this.productdet["product_id"],
            design_no: this.productdet["design_id"],
            id_sub_design: this.productdet["id_sub_design"],
            tag_id: this.productdet["id_tag_detail"],
            tag_code: this.productdet["TagNo"],
        })
            .then(function (result) {
            _this.productdet["is_stock_avail"] = result["avail_pcs"];
            _this.productdet["Status"] = result["avail_pcs"] > 0 ? "OPEN" : "CLOSE";
        });
    };
    DirectPage.prototype.checkwgstock = function (id) {
        var _this = this;
        var empData = JSON.parse(localStorage.getItem("empDetail"));
        this.idw = id;
        var ind = this.productdet.weights.findIndex(function (data) { return data["id_weight"] == id; });
        console.log(ind);
        this.productdet["to_weight"] = this.productdet.weights[ind]["to_weight"];
        this.productdet["from_weight"] =
            this.productdet.weights[ind]["from_weight"];
        this.commonservice
            .checkwgstock({
            id_branch: empData["id_branch"],
            id_size: this.ids,
            id_weight: id,
            id_category: this.productdet["product_id"],
            id_product: this.productdet["product_id"],
            design_no: this.productdet["design_id"],
            id_sub_design: this.productdet["id_sub_design"],
            tag_id: this.productdet["id_tag_detail"],
            tag_code: this.productdet["TagNo"],
        })
            .then(function (result) {
            _this.productdet["is_stock_avail"] = result["avail_pcs"];
            _this.productdet["Status"] = result["avail_pcs"] > 0 ? "OPEN" : "CLOSE";
        });
    };
    DirectPage.prototype.setPurity = function (data, name, whole) {
        this.productdet["id_purity"] = data;
        this.productdet["metal_type"] = whole.rate_field;
        this.productdet["market_metal_type"] = whole.market_rate_field;
        this.calculate("");
    };
    // Sample image
    DirectPage.prototype.deletevideo = function (index) {
        var _this = this;
        var confirm = this.alertCtrl.create({
            title: "Do you want to delete the video?",
            message: "",
            buttons: [
                {
                    text: "No",
                    handler: function () {
                        console.log("Disagree clicked");
                    },
                },
                {
                    text: "Yes",
                    handler: function () {
                        console.log("Agree clicked");
                        _this.vidtargetPaths.splice(index, 1);
                        _this.vidfilenames.splice(index, 1);
                    },
                },
            ],
        });
        confirm.present();
    };
    // Sample image
    DirectPage.prototype.deletePhoto = function (index) {
        var _this = this;
        var confirm = this.alertCtrl.create({
            title: "Do you want to delete the image?",
            message: "",
            buttons: [
                {
                    text: "No",
                    handler: function () {
                        console.log("Disagree clicked");
                    },
                },
                {
                    text: "Yes",
                    handler: function () {
                        console.log("Agree clicked");
                        _this.targetPaths.splice(index, 1);
                        _this.filenames.splice(index, 1);
                        _this.productdet["targetPaths"] = _this.targetPaths;
                        _this.productdet["sample_images"] = _this.filenames;
                        // this.lastImage == '';
                    },
                },
            ],
        });
        confirm.present();
    };
    DirectPage.prototype.addWishlist = function (item) {
        this.retail.addToWishlist(function (data) { });
    };
    DirectPage.prototype.uploadvideo = function (path, name) {
        var _this = this;
        // let loader = this.load.create( {
        //   content: "Uploading..."
        // } );
        // loader.present();
        this.show = true;
        // Destination URL
        var url = "https://sriganeshjewels.com/sriganeshemi/admin/index.php/admin_app_api/uploadvideo";
        var d = new Date(), n = d.getTime();
        // File for Upload
        var empData = JSON.parse(localStorage.getItem("empDetail"));
        // File name only
        var filename = name;
        var options = {
            fileKey: "name",
            fileName: name,
            chunkedMode: false,
            mimeType: "multipart/form-data",
            params: {
                fileName: name,
                id_sub_design: this.productdet["id_sub_design"],
                branch_id: empData["id_branch"],
                created_by: empData["uid"],
            },
        };
        console.log(path);
        console.log(name);
        console.log(encodeURI(url));
        console.log(options);
        console.log(url);
        // Use the FileTransfer to upload the image
        this.fileTransfer.upload(path, encodeURI(url), options).then(function (data) {
            console.log(data);
            var result = JSON.parse(data.response);
            console.log(result);
            console.log(result["imageid"]);
            var toastMsg = _this.toastCtrl.create({
                message: "Video succesfully uploaded.",
                duration: _this.commonservice.toastTimeout,
                position: "center",
            });
            toastMsg.present();
            _this.show = false;
        }, function (err) {
            // loader.dismissAll()
            console.log(err);
            var toastMsg = _this.toastCtrl.create({
                message: "Error while uploading Video.",
                duration: _this.commonservice.toastTimeout,
                position: "center",
            });
            toastMsg.present();
            _this.show = false;
        });
        this.fileTransfer.onProgress(function (data) {
            console.log(data);
            _this.progress = Math.round((data.loaded / data.total) * 100);
            _this.refresh();
            console.log(_this.progress);
        });
        // },err=>{
        //   console.log(err);
        // });
    };
    DirectPage.prototype.refresh = function () {
        console.log("refresheed");
        this.cd.detectChanges();
    };
    DirectPage.prototype.addWishlistw = function (item) {
        var _this = this;
        var empData = JSON.parse(localStorage.getItem("empDetail"));
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_17__modal_customer_customer__["a" /* CusSearchPage */], { show: "true" });
        modal.present();
        modal.onDidDismiss(function (mData) {
            console.log(mData);
            if (mData != null) {
                // this.idcus = mData['id_customer'];
                var loader_1 = _this.loadingCtrl.create({
                    content: "Please Wait",
                    spinner: "bubbles",
                });
                loader_1.present();
                _this.retail
                    .addToWishlist({
                    customer_name: mData["firstname"],
                    mobile: mData["mobile"],
                    customer_id: mData["id_customer"],
                    tag_id: item["id_tag_detail"],
                    tag_code: item["TagNo"],
                    branch_id: empData["id_branch"],
                    employee_id: empData["uid"],
                    id_sub_design: item["id_sub_design"],
                    product_id: item["product_id"],
                    design_id: item["design_id"],
                })
                    .then(function (data) {
                    var toastMsg = _this.toastCtrl.create({
                        message: data.msg,
                        duration: _this.commonservice.toastTimeout,
                        position: "middle",
                    });
                    toastMsg.present();
                    loader_1.dismiss();
                }, function (err) {
                    var toastMsg = _this.toastCtrl.create({
                        message: "try again",
                        duration: _this.commonservice.toastTimeout,
                        position: "middle",
                    });
                    toastMsg.present();
                    loader_1.dismiss();
                });
            }
            else {
            }
        });
    };
    DirectPage.prototype.stoneChaned = function (value, idx) {
        console.log(value + " " + idx);
        console.log(this.productdet["stones"]);
    };
    // Stone Details
    DirectPage.prototype.addStone = function () {
        var _this = this;
        var gross = 0;
        gross = this.productdet["gross_wt"];
        console.log('addStone : ', this.stone_details);
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_18__modal_add_stone_detail_add_stone_detail__["a" /* AddStoneDetailPage */], { stoneMasData: this.stoneMasData, action: "add", stone_details: JSON.parse(JSON.stringify(this.stone_details)), ptype: this.item_type, gross: gross, });
        modal.present();
        modal.onDidDismiss(function (data) {
            console.log('data : ', data);
            if (data != null) {
                _this.stone_details = data['data'];
                console.log('stone_details : ', _this.stone_details);
                var stData = _this.calcStoneDetail();
                console.log('stData : ', stData);
                if (data.type == 'tag') {
                    _this.productdet["stone_wt"] = stData["wt"];
                    _this.productdet["stone_price"] = stData["amount"];
                    _this.stone_details.forEach(function (i, index) {
                        _this.stone_details[index]["stone_wt"] = _this.stone_details[index]["wt"];
                        _this.stone_details[index]["stone_price"] = _this.stone_details[index]["amount"];
                    });
                    _this.productdet["stones"] = _this.stone_details;
                    console.log('this.productdet["stones"]  ==> ', _this.productdet["stones"]);
                    console.log('stones 1 : ', _this.productdet["stones"]);
                    console.log('Detail : ', _this.stone_details);
                    if (_this.stone_details.length != 0) {
                        _this.productdet["less_wt"] = _this.retail.setAsNumber(stData["wt"]);
                        _this.productdet["net_wt"] =
                            _this.productdet["gross_wt"] - _this.productdet["less_wt"];
                        _this.productdet["net_wt"] = _this.retail.setAsNumber(_this.productdet["net_wt"]).toFixed(3);
                        _this.productdet["actual_net_wt"] = _this.productdet["net_wt"];
                        _this.calcSaleValue("");
                    }
                }
                else {
                    _this.productdet["stone_wt"] = stData["stone_wt"];
                    _this.productdet["stone_price"] = stData["stone_price"];
                    _this.productdet["stones"] = _this.stone_details;
                    console.log('stones 1 : ', _this.productdet["stones"]);
                    console.log('Detail : ', _this.stone_details);
                    if (_this.stone_details.length != 0) {
                        _this.productdet["less_wt"] = _this.retail.setAsNumber(stData["wt"]);
                        _this.productdet["net_wt"] =
                            _this.productdet["gross_wt"] - _this.productdet["less_wt"];
                        _this.productdet["net_wt"] = _this.retail.setAsNumber(_this.productdet["net_wt"]).toFixed(3);
                        _this.productdet["actual_net_wt"] = _this.productdet["net_wt"];
                        _this.calcSaleValue("");
                    }
                }
            }
        });
    };
    DirectPage.prototype.calcStoneDetail = function () {
        var _this = this;
        if (this.item_type == 'tag') {
            console.log('tag : ', this.item_type);
            console.log('tag  stone: ', this.stone_details);
            /* this.stone_details = this.stone_details['data'];
            console.log('tag  stone: ',this.stone_details);
             */
            var data_1 = { wt: 0, amount: 0 };
            this.stone_details.forEach(function (i, index) {
                if (_this.stone_details[index]['lwt'] && _this.stone_details[index]['lwt'] != 0) {
                    _this.stone_details[index]['is_apply_in_lwt'] = 1;
                    // data['wt']   = data['wt'] + Number(i['wt']);
                    data_1['wt'] = data_1['wt'] + (i['uom_id'] == '6' ? Number(i['wt']) / 5 : Number(i['wt']));
                }
                else {
                    _this.stone_details[index]['is_apply_in_lwt'] = 0;
                }
                data_1['amount'] = data_1['amount'] + Number(i['amount']);
            });
            return data_1;
        }
        else {
            console.log('tag else : ', this.item_type);
            console.log('tag  stone eles: ', this.stone_details);
            var data_2 = { "stone_wt": 0, "stone_price": 0 };
            this.stone_details.forEach(function (i, index) {
                if (_this.stone_details[index]['lwt']) {
                    _this.stone_details[index]['is_apply_in_lwt'] = 1;
                    console.log(i['uom_id'] == 'Carat', Number(i['stone_wt']) / 5);
                    data_2['stone_wt'] = data_2['stone_wt'] + (i['uom_id'] == '6' ? Number(i['stone_wt']) / 5 : Number(i['stone_wt']));
                    console.log(data_2['stone_wt']);
                }
                else {
                    _this.stone_details[index]['is_apply_in_lwt'] = 0;
                }
                data_2['stone_price'] = data_2['stone_price'] + Number(i['stone_price']);
            });
            return data_2;
        }
    };
    DirectPage.prototype.createEsti = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_21__estimation_estimation__["a" /* EstiPage */], {
            page_type: "create",
            ecat: this.productdet.TagNo,
            bcode: this.productdet.BranchCode,
        });
    };
    DirectPage.prototype.createEsti2 = function () {
        var _this = this;
        if (this.esti["cus_id"] == "" ||
            this.esti["id_employee"] == "" ||
            this.esti["id_branch"] == "") {
            var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_17__modal_customer_customer__["a" /* CusSearchPage */], { show: "true" });
            modal.present();
            modal.onDidDismiss(function (mData) {
                console.log(mData);
                if (mData != null) {
                    _this.esti["cus_id"] = mData["id_customer"];
                    _this.esti["customer"] = mData["label"];
                    _this.esti["is_tag"] = true;
                    _this.esti["tag"].push(_this.productdet);
                    _this.calcEstiSummary();
                    _this.createEstisubmit();
                }
                else {
                }
            });
        }
        else {
            this.createEstisubmit();
        }
    };
    DirectPage.prototype.createEstisubmit = function () {
        var _this = this;
        this.esti["is_tag"] = this.esti["tag"].length > 0 ? true : false;
        this.esti["is_non_tag"] = this.esti["non_tag"].length > 0 ? true : false;
        this.esti["is_home_bill"] =
            this.esti["home_bill"].length > 0 ? true : false;
        this.esti["is_old_metal"] =
            this.esti["old_metal"].length > 0 ? true : false;
        console.log(this.esti);
        // Validate Postdata
        if (this.esti["cus_id"] == "" ||
            this.esti["id_employee"] == "" ||
            this.esti["id_branch"] == "") {
            var toastMsg = this.toastCtrl.create({
                message: "Please fill required fields",
                duration: this.commonservice.toastTimeout,
                position: "middle",
            });
            toastMsg.present();
        }
        else if (this.esti["is_tag"] ||
            this.esti["is_non_tag"] ||
            this.esti["is_home_bill"] ||
            this.esti["is_old_metal"]) {
            if (this.esti["tag"] ||
                this.esti["non_tag"] ||
                this.esti["home_bill"] ||
                this.esti["old_metal"]) {
                var loader_2 = this.loadingCtrl.create({
                    content: "Please Wait",
                    spinner: "bubbles",
                });
                loader_2.present();
                this.esti["type"] = 1;
                this.esti["total_cost"] = this.total_esti_value;
                this.retail.createEstimation(this.esti).then(function (data) {
                    if (data.status) {
                        _this.tot_sale_wgt = 0;
                        _this.tot_sale_rate = 0;
                        _this.tot_purch_wgt = 0;
                        _this.tot_purch_rate = 0;
                        _this.total_esti_value = 0;
                        _this.tot_charge = 0;
                        _this.esti = {
                            choose: "",
                            cus_id: _this.esti["cus_id"],
                            customer: _this.esti["customer"],
                            id_branch: _this.esti["id_branch"],
                            id_employee: _this.esti["id_employee"],
                            emp_name: _this.esti["emp_name"],
                            is_tag: false,
                            is_non_tag: false,
                            is_home_bill: false,
                            is_old_metal: false,
                            tag: [],
                            non_tag: [],
                            home_bill: [],
                            old_metal: [],
                            chit_details: [{ slip_no: "", slip_amt: "" }],
                        };
                        if (data.printURL != "") {
                            console.log(data.printURL);
                            _this.downloadfile(data.printURL, data.esti_name);
                        }
                    }
                    loader_2.dismiss();
                    var toastMsg = _this.toastCtrl.create({
                        message: data.msg,
                        duration: _this.commonservice.toastTimeout,
                        position: "middle",
                    });
                    toastMsg.present();
                    // this.navCtrl.setRoot(HomePage);
                });
            }
            else {
                var toastMsg = this.toastCtrl.create({
                    message: "Minimum 1 estimation item is required",
                    duration: this.commonservice.toastTimeout,
                    position: "middle",
                });
                toastMsg.present();
            }
        }
        else {
            var toastMsg = this.toastCtrl.create({
                message: "Invalid Estimation",
                duration: this.commonservice.toastTimeout,
                position: "middle",
            });
            toastMsg.present();
        }
    };
    DirectPage.prototype.calcEstiSummary = function () {
        var _this = this;
        console.log(this.esti);
        this.tot_sale_wgt = 0;
        this.tot_sale_rate = 0;
        this.tot_purch_wgt = 0;
        this.tot_purch_rate = 0;
        this.tot_charge = 0;
        this.tot_incen = 0;
        this.esti["tag"].forEach(function (tag) {
            _this.tot_sale_wgt = Number(_this.tot_sale_wgt) + Number(tag.net_wt);
            _this.tot_charge = Number(_this.tot_charge) + Number(tag.charge_value);
            _this.tot_sale_rate = Number(_this.tot_sale_rate) + Number(tag.sales_value);
        });
        this.esti["tag"].forEach(function (tag) {
            _this.tot_incen = Number(_this.tot_incen) + Number(tag.incentive);
        });
        this.tot_gift_rate = 0;
        this.esti["chit_details"].forEach(function (gift) {
            _this.tot_gift_rate = Number(_this.tot_gift_rate) + Number(gift.slip_amt);
        });
        this.total_esti_value =
            Number(this.tot_sale_rate) -
                Number(this.tot_purch_rate) -
                Number(this.advance) -
                Number(this.tot_gift_rate);
    };
    DirectPage.prototype.downloadfile = function (url, name) {
        var _this = this;
        console.log(url);
        var date = new Date();
        date.setDate(date.getDate());
        console.log(date.toISOString().split("T")[0]);
        this.platform.ready().then(function () {
            console.log("Platform ready");
            if (_this.platform.is("android")) {
                console.log("Platform Android");
                _this.file
                    .checkDir(_this.file.externalDataDirectory, _this.commonservice.cmpShortName)
                    .then(function (data) {
                    console.log("Check directory IDO");
                    _this.file
                        .checkDir(_this.file.externalDataDirectory +
                        "" +
                        _this.commonservice.cmpShortName +
                        "/", date.toISOString().split("T")[0])
                        .then(function (_) {
                        console.log("Check directory IDO " + date.toISOString().split("T")[0]);
                        _this.viewFile(url, name);
                    })
                        .catch(function (er) {
                        _this.file
                            .createDir(_this.file.externalDataDirectory +
                            "" +
                            _this.commonservice.cmpShortName +
                            "/", date.toISOString().split("T")[0], false)
                            .then(function (_) {
                            console.log("Create directory IDO " + date.toISOString().split("T")[0]);
                            _this.viewFile(url, name);
                        })
                            .catch(function (err) {
                            console.log(err);
                            console.log("Couldn't create directory");
                        });
                    });
                })
                    .catch(function (err) {
                    _this.file
                        .createDir(_this.file.externalDataDirectory, _this.commonservice.cmpShortName, false)
                        .then(function (_) {
                        console.log("Create directory IDO");
                        _this.file
                            .createDir(_this.file.externalDataDirectory +
                            "" +
                            _this.commonservice.cmpShortName +
                            "/", date.toISOString().split("T")[0], false)
                            .then(function (_) {
                            console.log("Create directory IDO / " +
                                date.toISOString().split("T")[0]);
                            _this.viewFile(url, name);
                        })
                            .catch(function (err1) {
                            console.log(err1);
                            console.log("Couldn't create directory");
                        });
                    })
                        .catch(function (err2) {
                        console.log(err2);
                        console.log("Couldn't create directory");
                    });
                });
            }
        });
    };
    DirectPage.prototype.viewFile = function (url, name) {
        var _this = this;
        var date = new Date();
        date.setDate(date.getDate());
        console.log(date);
        console.log(date.toISOString().split("T")[0]);
        this.platform.ready().then(function () {
            console.log("platform ready viewFile");
            _this.file
                .resolveDirectoryUrl(_this.file.externalDataDirectory +
                "" +
                _this.commonservice.cmpShortName +
                "/" +
                date.toISOString().split("T")[0])
                .then(function (resolvedDirectory) {
                console.log(resolvedDirectory);
                console.log("resolved  directory: " + resolvedDirectory.nativeURL);
                _this.file.checkFile(resolvedDirectory.nativeURL, name).then(function (data) {
                    console.log(data);
                    console.log(resolvedDirectory.nativeURL + name);
                    _this.fileOpener
                        .open(resolvedDirectory.nativeURL + name, "application/pdf")
                        .then(function () { return console.log("File is opened"); })
                        .catch(function (e) { return console.log("Error opening file", e); });
                    // this.printEsti(resolvedDirectory.nativeURL+name,name);
                }, function (err) {
                    console.log(err);
                    var loader = _this.loadingCtrl.create({
                        content: "Please Wait",
                        spinner: "bubbles",
                    });
                    loader.present();
                    var targetPath = _this.file.externalDataDirectory +
                        "" +
                        _this.commonservice.cmpShortName +
                        "/" +
                        date.toISOString().split("T")[0] +
                        "/" +
                        name;
                    _this.fileTransfer.download(url, targetPath, true).then(function (entry) {
                        console.log("download complete: " + entry.toURL());
                        loader.dismiss();
                        _this.fileOpener
                            .open(entry.toURL(), "application/pdf")
                            .then(function () { return console.log("File is opened"); })
                            .catch(function (e) { return console.log("Error opening file", e); });
                        // this.printEsti(entry.toURL(),name);
                    }, function (error) {
                        loader.dismiss();
                        console.log(error);
                    });
                });
            }, function (err) {
                console.log(err);
            });
        });
    };
    // }
    DirectPage.prototype.checkcode = function () {
        var _this = this;
        var temp = this.productdet["allcharges"].filter(function (data) { return data["id_charge"] == _this.productdet["id_charge"]; });
        this.productdet["chargecode"] = temp[0]["code_charge"];
        this.productdet["charge_value"] = temp[0]["value_charge"];
        this.productdet["id_charge"] = temp[0]["id_charge"];
        this.productdet["charges"] = temp;
    };
    // Stone Details
    DirectPage.prototype.addcharge = function () {
        var _this = this;
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_19__charges_charges__["a" /* ChargesPage */], {
            stoneMasData: this.stoneMasData,
            action: "add",
            stone_details: this.charges,
            ptype: "pro",
            gross: "",
        });
        modal.present();
        modal.onDidDismiss(function (data) {
            if (data != null) {
                _this.charges = data;
                _this.productdet["charges"] = _this.charges;
                if (_this.charges.length != 0) {
                    _this.productdet["charge_value"] = 0;
                    _this.charges.forEach(function (tag) {
                        _this.productdet["charge_value"] =
                            Number(_this.productdet["charge_value"]) +
                                Number(tag.charge_value);
                    });
                    _this.calcSaleValue("");
                }
            }
        });
    };
    DirectPage.prototype.calculate = function (changedInput) {
        console.log(this.productdet["gross_wt"]);
        console.log(this.productdet["less_wt"]);
        this.productdet["net_wt"] = this.productdet["gross_wt"];
        console.log(this.productdet["net_wt"]);
        if (this.productdet["less_wt"] > 0) {
            this.productdet["net_wt"] =
                this.productdet["net_wt"] - this.productdet["less_wt"];
        }
        console.log(this.productdet["retail_max_wastage_percent"]);
    };
    DirectPage.prototype.calculatecus = function () {
        this.productdet["metalratec"] = "true";
        var max_tol = parseFloat(this.empData['emp_setting']['max_gold_tol']);
        var min_tol = parseFloat(this.empData['emp_setting']['min_gold_tol']);
        var metal_rate = parseFloat(this.metalRate[this.productdet['metal_type']]);
        var max_metal_val = metal_rate + (metal_rate * max_tol / 100);
        var min_metal_value = metal_rate - (metal_rate * min_tol / 100);
        var rate_per = parseFloat(this.productdet['rate_per']);
        console.log(max_metal_val);
        console.log(min_metal_value);
        if (rate_per >= min_metal_value && rate_per <= max_metal_val) {
            this.metal_error_msg = true;
            this.calcSaleValue("");
        }
        else {
            this.metal_error_msg = false;
        }
    };
    DirectPage.prototype.openMasSearch = function (master) {
        var _this = this;
        console.log(master);
        console.log(this.productdet);
        if (master == "category") {
            var loader_3 = this.loadingCtrl.create({
                content: "Please Wait",
                spinner: "bubbles",
            });
            loader_3.present();
            var postData = {
                id_employee: this.empData != null ? this.empData["uid"] : null,
                type: "active",
                last_id: 0,
                page_no: 1,
            };
            if (this.hbcat.length == 0) {
                this.retail.getCategories(postData).then(function (data) {
                    _this.hbcat = data;
                    loader_3.dismiss();
                    _this.openMasModal({ searchArr: _this.hbcat, page: master, listType: "normal" }, master);
                });
            }
            else {
                loader_3.dismiss();
                this.openMasModal({ searchArr: this.hbcat, page: master, listType: "normal" }, master);
            }
        }
        else if (master == "Product") {
            if (this.productdet["id_category"]) {
                this.openMasModal({ searchArr: this.hbProducts, page: master, listType: "normal" }, master);
            }
        }
        else if (master == "Design") {
            if (this.productdet["id_product"]) {
                this.openMasModal({ searchArr: this.hbDesigns, page: master, listType: "normal" }, master);
                this.retail
                    .getAllPurities(this.productdet["id_product"])
                    .then(function (data) {
                    _this.Purities = data;
                    // loader.dismiss();
                });
            }
        }
        else if (master == "subDesign") {
            if (this.productdet["design_no"]) {
                console.log(this.hbsubDesigns, "99999999999");
                this.openMasModal({ searchArr: this.hbsubDesigns, page: master, listType: "normal" }, master);
            }
        }
        else if (master == "Purity") {
            console.log(this.productdet["id_product"]);
            console.log(this.Purities);
            this.productdet['purity'] = this.Purities['purity'];
            if (this.productdet["id_product"]) {
                this.openMasModal({ searchArr: this.Purities, page: master, listType: "normal" }, master);
            }
        }
    };
    DirectPage.prototype.openMasModal = function (data, master) {
        var _this = this;
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_22__masssearch2_masssearch2__["a" /* Masssearch2Page */], data);
        console.log(data, "00000000");
        modal.present();
        modal.onDidDismiss(function (data) {
            if (data != null) {
                if (master == "Design") {
                    _this.productdet["design_no"] = data.id_design;
                    _this.productdet["design_name"] = data.label;
                    _this.productdet["sub_design_name"] = "";
                    _this.hbdesignSelected();
                }
                else if (master == "subDesign") {
                    console.log(data);
                    _this.productdet = Object.assign(_this.productdet, data);
                    console.log(_this.productdet);
                    _this.productdet["net_wt"] = _this.productdet["NetWt"];
                    _this.productdet["gross_wt"] = _this.productdet["GrossWt"];
                    _this.productdet["metal_type"] = _this.productdet["rate_field"];
                    _this.productdet["market_metal_type"] =
                        _this.productdet["market_rate_field"];
                    // this.productdet['tax_group_id'] = this.productdet['tgrp_id'];
                    console.log(_this.productdet["design_no"]);
                    _this.commonservice
                        .getset({
                        id_product: _this.productdet["id_product"],
                        id_design: _this.productdet["design_no"],
                        id_sub_design: _this.productdet["sub_design_id"],
                        gross_wt: _this.productdet["gross_wt"],
                        type: 2,
                        lot_no: "",
                    })
                        .then(function (data) {
                        console.log(data, "0000000000");
                        _this.productdet["checkwas"] = data["data"]["wastag_min"];
                        _this.productdet["mc_min"] = data["data"]["mc_min"];
                    });
                    // this.calculate('');
                    // this.cd.detectChanges();
                }
                else if (master == "category") {
                    _this.productdet["category_name"] = data.name;
                    _this.productdet["id_category"] = data.id_ret_category;
                    _this.productdet["product_name"] = "";
                    _this.productdet["design_name"] = "";
                    _this.productdet["sub_design_name"] = "";
                    _this.hbcatSelected();
                }
                else if (master == "Product") {
                    _this.productdet["id_product"] = data.pro_id;
                    _this.productdet["tax_type"] = data.tax_type;
                    _this.productdet["scheme_closure_benefit"] =
                        data.scheme_closure_benefit;
                    // this.productdet['pro_id'] = data.pro_id;
                    _this.productdet["tax_group_id"] = data.tax_group_id;
                    _this.productdet["tax_percentage"] = data.tax_percentage;
                    _this.productdet["calculation_based_on"] = data.calculation_based_on;
                    console.log(data);
                    _this.productdet["product_name"] = data.product_name;
                    _this.productdet["design_name"] = "";
                    _this.productdet["sub_design_name"] = "";
                    _this.getproductsize();
                    _this.hbProdSelected();
                }
                else if (master == "Purity") {
                    _this.productdet["id_purity"] = data.id_purity;
                    _this.productdet["purname"] = data.label;
                    _this.productdet["metal_type"] = data.rate_field;
                    _this.productdet["market_metal_type"] = data.market_rate_field;
                    _this.calcSaleValue("");
                }
            }
        });
    };
    DirectPage.prototype.hbdesignSelected = function () {
        var _this = this;
        console.log("1111");
        // if(this.hbDesigns.length == 0) {
        var loader = this.loadingCtrl.create({
            content: "Please Wait",
            spinner: "bubbles",
        });
        loader.present();
        var temp = {
            Category: [
                {
                    category_code: this.productdet["id_category"],
                },
            ],
            Product: [
                {
                    productcode: this.productdet["id_product"],
                    category_code: this.productdet["id_category"],
                    id_product: this.productdet["id_product"],
                },
            ],
            Design: [
                {
                    id_product: this.productdet["id_product"],
                    id_design: this.productdet["design_no"],
                    design_code: this.productdet["design_code"],
                    productcode: this.productdet["id_product"],
                    category_code: this.productdet["id_category"],
                },
            ],
            last_id: 0,
            page_no: 1,
        };
        console.log(temp);
        this.commonservice
            .getsubdesigns({
            id_product: this.productdet["id_product"],
            design_no: this.productdet["design_no"],
        })
            .then(function (data) {
            _this.hbsubDesigns = data;
            console.log(_this.hbsubDesigns, "pppppppppp");
            console.log(_this.hbsubDesigns);
            //  if (this.hbsubDesigns.length == 1) {
            //     this.productdet['sub_design_no'] = this.hbsubDesigns[0].id_sub_design;
            //     this.productdet['sub_design_name'] = this.hbsubDesigns[0].label;
            //     }
            //     else {
            //           this.productdet['sub_design_no'] = '';
            //           this.productdet['sub_design_name'] = '';
            //          }
            loader.dismiss();
        });
    };
    DirectPage.prototype.getproductsize = function () {
        var _this = this;
        console.log('00000000000');
        this.sizes = [];
        this.retail
            .getProductsizes(this.productdet["id_product"])
            .then(function (data) {
            _this.sizes = data;
        });
    };
    DirectPage.prototype.hbProdSelected = function () {
        var _this = this;
        // if(this.hbDesigns.length == 0) {
        var loader = this.loadingCtrl.create({
            content: "Please Wait",
            spinner: "bubbles",
        });
        loader.present();
        this.retail
            .getDesigns({
            id_employee: this.empData["uid"] != null ? this.empData["uid"] : null,
            type: "active",
            id_product: this.productdet["id_product"],
            last_id: 0,
            page_no: 1,
        })
            .then(function (data) {
            _this.hbDesigns = data;
            loader.dismiss();
        });
        // }
    };
    DirectPage.prototype.hbcatSelected = function () {
        var _this = this;
        // if(this.hbDesigns.length == 0) {
        var loader = this.loadingCtrl.create({
            content: "Please Wait",
            spinner: "bubbles",
        });
        loader.present();
        this.retail
            .getProducts({
            id_employee: this.empData["uid"] != null ? this.empData["uid"] : null,
            type: "active",
            id_category: this.productdet["id_category"],
            last_id: -1,
            page_no: 1,
        })
            .then(function (data) {
            _this.hbProducts = data;
            // if (this.hbProducts.length == 1) {
            //   this.productdet["id_product"] = this.hbProducts[0].pro_id;
            //   this.productdet["product_name"] = this.hbProducts[0].label;
            //   this.hbdesignSelected();
            // } else {
            //   this.productdet["id_product"] = "";
            //   this.productdet["product_name"] = "";
            // }
            loader.dismiss();
        });
        // }
    };
    DirectPage.prototype.change = function (data) {
        console.log(data);
        this.order_type = data;
        console.log(this.order_type, 'pppppppppppppppp');
        this.item_type = this.order_type == 1 ? 'non_tag' : 'tag';
        console.log(this.item_type);
        this.clear();
        // this.cd.detectChanges();
    };
    DirectPage.prototype.getTagByID = function (tagData) {
        var _this = this;
        console.log("0000000000");
        console.log();
        if (tagData != "") {
            var istagId = tagData.search("/") > 0 ? true : false;
            var isTagCode = tagData.search("-") > 0 ? true : false;
            if (istagId) {
                var tId = tagData.split("/");
                var searchTxt = tId.length >= 2 ? tId[0] : "";
                var searchField = this.checkold == true ? "old_tag_id" : "tag_id";
            }
            else if (isTagCode) {
                var searchTxt = tagData;
                var searchField = this.checkold == true ? "old_tag_id" : "tag_code";
            }
            else if (this.checkold) {
                var searchTxt = tagData;
                var searchField = "old_tag_id";
            }
            // Search Tag
            var loader_4 = this.loadingCtrl.create({
                content: "Please Wait",
                spinner: "bubbles",
            });
            loader_4.present();
            var postData = {
                searchTxt: searchTxt,
                searchField: searchField,
                id_branch: this.esti["id_branch"],
            };
            this.retail.getTagData(postData).then(function (data) {
                if (data.status) {
                    _this.tagMsg = data.msg;
                    _this.tagErrorMsg = "";
                    var toastMsg = _this.toastCtrl.create({
                        message: _this.tagMsg,
                        duration: _this.commonservice.toastTimeout,
                        position: "middle",
                    });
                    toastMsg.present();
                    console.log(data.tagData, "oooooooo");
                    if (data.tagData['stone_details'] && data.tagData['stone_details'].length > 0) {
                        // reset before summing
                        data.tagData['less_wt'] = 0;
                        data.tagData['stone_price'] = 0;
                        data.tagData['stone_details'].forEach(function (element) {
                            var wt = parseFloat(element['wt']) || 0; // ensure number
                            if (element['is_apply_in_lwt'] == '1') {
                                if (element['uom_id'] == '6') {
                                    wt = wt / 5;
                                    // element['wt'] = wt.toString(); // keep as string if needed
                                }
                                data.tagData['less_wt'] = parseFloat((data.tagData['less_wt'] + wt).toFixed(3)); // proper numeric addition
                            }
                            _this.tag_stoneamount_calc(element);
                            var amt = parseFloat(element['amount']) || 0; // ensure number
                            data.tagData['stone_price'] = parseFloat((data.tagData['stone_price'] + amt).toFixed(3)); // proper numeric addition
                        });
                    }
                    setTimeout(function () {
                        _this.tagMsg = "";
                    }, _this.commonservice.msgTimeout);
                    _this.productdet = data.tagData;
                    _this.productdet["due_date"] = '';
                    console.log(_this.productdet);
                    // data.tagData['actual_gross_wt'] = data.tagData['gross_wt'];
                    // data.tagData['actual_less_wt'] = data.tagData['less_wt'];
                    // data.tagData['actual_net_wt'] = data.tagData['net_wt'];
                    // data.tagData['charge_value'] = data.tagData['charge_value'];
                    // data.tagData['charges'] = data.tagData['charges'];
                    // data.tagData['checkwas'] = data.tagData['retail_max_wastage_percent'];
                    // this.productdet['net_wt'] = data.tagData['net_wt']
                    _this.productdet["category_name"] = data.tagData["category_name"];
                    _this.productdet["product_name"] = data.tagData["product_name"];
                    _this.productdet["design_name"] = data.tagData["design_name"];
                    _this.productdet["sub_design_name"] = data.tagData["sub_design_name"];
                    console.log(_this.productdet["sub_design_name"]);
                    _this.productdet["id_category"] = data.tagData["id_ret_category"];
                    _this.productdet["id_product"] = data.tagData["pro_id"];
                    _this.productdet["design_no"] = data.tagData["design_no"];
                    _this.productdet["sub_design_no"] = data.tagData["sub_design_no"];
                    _this.productdet["pcs"] = Number(data.tagData['piece']);
                    _this.productdet["size"] = data.tagData['size'];
                    _this.productdet['rate_type'] = 1;
                    _this.productdet['balance_type'] = 2;
                    console.log(_this.productdet["sub_design_no"]);
                    //this.hbdesignSelected();
                    _this.showstone = _this.productdet['stone_details'].length > 0 ? _this.productdet['stone_details'].filter(function (data) { return data['Nature'] != 'DIAMOND'; }) : [];
                    _this.stone_details = _this.productdet.hasOwnProperty('stone_details') ? _this.productdet['stone_details'] : [];
                    console.log(_this.stone_details);
                    _this.othermetals = _this.productdet.hasOwnProperty('other_metal_details') ? _this.productdet['other_metal_details'] : [];
                    console.log(_this.othermetals);
                    var detail = {
                        itemData: data.tagData,
                        metalRate: _this.metalRate,
                        tax_details: _this.taxGroupItems,
                        item_type: "tag",
                    };
                    var tagItem_1 = _this.retail.calculateSaleValue(detail);
                    _this.productdet["net_wt"] = parseFloat(tagItem_1.net_wt).toFixed(2);
                    // parseFloat(this.productdet["net_wt"]).toFixed(2)
                    console.log(_this.productdet["net_wt"], '00000000');
                    var addItem_1 = true;
                    _this.get_data();
                    _this.getproductsize();
                    _this.esti["tag"].forEach(function (item) {
                        if (item.tag_id == tagItem_1.tag_id) {
                            _this.tagMsg = "";
                            addItem_1 = false;
                            _this.tagErrorMsg = "Tag Already exist..";
                            var toastMsg_1 = _this.toastCtrl.create({
                                message: _this.tagErrorMsg,
                                duration: _this.commonservice.toastTimeout,
                                position: "middle",
                            });
                            toastMsg_1.present();
                            setTimeout(function () {
                                _this.tagErrorMsg = "";
                            }, _this.commonservice.msgTimeout);
                        }
                    });
                    if (addItem_1) {
                        _this.esti["is_tag"] = true;
                        _this.esti["tag"].push(tagItem_1);
                    }
                    var y = Object.assign({}, _this.esti["tag"]);
                    console.log(y);
                    _this.esti["tag"].reverse();
                    console.log(_this.esti["tag"]);
                }
                else {
                    _this.tagMsg = "";
                    _this.tagErrorMsg = data.msg;
                    var toastMsg = _this.toastCtrl.create({
                        message: _this.tagErrorMsg,
                        duration: _this.commonservice.toastTimeout,
                        position: "middle",
                    });
                    toastMsg.present();
                    setTimeout(function () {
                        _this.tagErrorMsg = "";
                    }, _this.commonservice.msgTimeout);
                }
                loader_4.dismiss();
            });
        }
        console.log(this.productdet["design_no"]);
        console.log(this.productdet);
    };
    DirectPage.prototype.tag_stoneamount_calc = function (data) {
        if (data["stone_cal_type"] == "2") {
            data["amount"] =
                (data["pieces"] * data["rate_per_gram"]).toFixed(3);
        }
        else if (data["stone_cal_type"] == "1") {
            data["amount"] =
                (data["wt"] * data["rate_per_gram"]).toFixed(3);
        }
    };
    DirectPage.prototype.get_data = function () {
        var _this = this;
        console.log(this.productdet);
        this.commonservice
            .getset({
            id_product: this.productdet["id_product"],
            id_design: this.productdet["design_no"],
            id_sub_design: this.productdet["sub_design_id"],
            gross_wt: this.productdet["gross_wt"],
            type: 2,
            lot_no: "",
        })
            .then(function (data) {
            console.log(data, "0000000000");
            _this.productdet["checkwas"] = data["data"]["wastag_min"];
            _this.productdet["mc_min"] = data["data"]["mc_min"];
        });
    };
    DirectPage.prototype.append = function (event) {
        var one = (document.getElementById("one")).value.toUpperCase();
        var two = (document.getElementById("two")).value.toUpperCase();
        this.tagData["tag_code1"] = this.tagData["tag_code1"].toUpperCase();
        this.tagData["tag_code2"] = this.tagData["tag_code2"].toUpperCase();
        console.log(one);
        console.log(two);
        if (this.tagData["tag_code1"] != "" && this.tagData["tag_code2"] != "") {
            this.tagData["tag_code"] = one + "-" + two;
        }
        else {
            this.tagData["tag_code"] = one + two;
        }
        if (event.keyCode == 13) {
            this.getTagByID(this.tagData["tag_code"]);
        }
    };
    // calcSaleValue(changedInput) {
    //   console.log(this.tagData);
    //   console.log(this.productdet["gross_wt"]);
    //   console.log(this.productdet["stone_details"]);
    //   this.productdet["net_wt"] = this.productdet["gross_wt"]
    //   console.log( this.productdet["gross_wt"]);
    //   // this.checkinghome();
    //   let stData = this.calcStoneDetail();
    //   this.productdet["stone_wt"] = stData["stone_wt"];
    //   this.productdet["stone_price"] = stData["stone_price"];
    //   this.productdet["stone_details"] = this.stone_details;
    //   console.log(this.productdet["stone_details"]);
    //   if (this.productdet["is_partly_sold"] == 1) {
    //     if (
    //       parseFloat(this.productdet["gross_wt"]) >
    //       parseFloat(this.productdet["stock_gross_wt"])
    //     ) {
    //       this.productdet["gross_wt"] = this.retail.setAsNumber(
    //         this.productdet["stock_gross_wt"]
    //       );
    //     }
    //     if (
    //       parseFloat(this.productdet["less_wt"]) >
    //       parseFloat(this.productdet["stock_less_wt"])
    //     ) {
    //       this.productdet["less_wt"] = this.retail.setAsNumber(
    //         this.productdet["stock_less_wt"]
    //       );
    //     }
    //   }
    //   if (this.stone_details.length != 0) {
    //     this.productdet["less_wt"] = this.retail.setAsNumber(stData["stone_wt"]);
    //   }
    //   console.log( this.retail.setAsNumber(this.productdet["less_wt"]),'ppppppppppppp');
    //   console.log( parseFloat(this.productdet["gross_wt"]) ,'ooooooooooooo');
    //   this.productdet["net_wt"] = parseFloat(this.productdet["gross_wt"]) - this.retail.setAsNumber(this.productdet["less_wt"]);
    //   console.log( this.productdet["net_wt"] ,'eeeeeeeeeeeeeee');
    //   if (changedInput == "wastage_wt") {
    //     let wast_percent = parseFloat(
    //       ((this.retail.setAsNumber(this.productdet["wast_wgt"]) * 100) / this.retail.setAsNumber(this.productdet["net_wt"])).toFixed(3)
    //     );
    //     this.productdet["retail_max_wastage_percent"] = wast_percent;
    //   } else if (changedInput == "wast") {
    //     let wast_wgt = parseFloat(
    //       (
    //         this.productdet["net_wt"] *
    //         (this.retail.setAsNumber(
    //           this.productdet["retail_max_wastage_percent"]
    //         ) /
    //           100)
    //       ).toFixed(3)
    //     );
    //     this.productdet["wast_wgt"] = wast_wgt;
    //   }
    //   console.log(this.productdet["checkwas"]);
    //   // let detail = { itemData: this.productdet, metalRate: this.metalRate, tax_details: this.taxGroupItems, item_type: "home_bill" };
    //   console.log(this.productdet["id_purity"]);
    //   // console.log(detail)
    //   /*    if (this.productdet['retail_max_wastage_percent'] <= parseInt(this.productdet['checkwas']))
    //       { */
    //   let detail = {
    //     itemData: this.productdet,
    //     metalRate: this.metalRate,
    //     tax_details: this.taxGroupItems,
    //     item_type: "home_bill",
    //   };
    //   console.log(detail);
    //   this.productdet = this.retail.calculateSaleValue(detail);
    //   if (this.productdet["calculation_based_on"] == 3) {
    //     this.productdet["sales_value"] = this.productdet["taxable"];
    //   }
    //   this.productdet = this.retail.calculateSaleValue(detail);
    //   console.log(    this.productdet ,'9999999999999');
    //   /*     }else
    //           {
    //             console.log('11111111111111111')
    //            this.tagMsg = "Please Enter required wastage";
    //             this.tagErrorMsg = "Please Enter required wastage";
    //            // Alert Message Timeout setTimeout(() => {this.tagMsg = ""; }, this.commonservice.msgTimeout);}
    //            } */
    // }
    DirectPage.prototype.calcSaleValue = function (changedInput) {
        console.log(this.tagData);
        console.log(this.productdet["gross_wt"]);
        console.log(this.productdet["stone_details"]);
        console.log('less_wt :::', this.productdet["less_wt"]);
        this.productdet["less_wt"] = isNaN(this.productdet["less_wt"]) ? 0 : this.productdet["less_wt"];
        console.log(this.productdet["less_wt"], 'less wt');
        // this.checkinghome();
        var stData = this.calcStoneDetail();
        this.productdet["stone_details"] = this.stone_details;
        console.log(this.productdet["stone_details"]);
        if (this.productdet["is_partly_sold"] == 1) {
            if (parseFloat(this.productdet["gross_wt"]) >
                parseFloat(this.productdet["stock_gross_wt"])) {
                this.productdet["gross_wt"] = this.retail.setAsNumber(this.productdet["stock_gross_wt"]);
            }
            if (parseFloat(this.productdet["less_wt"]) > parseFloat(this.productdet["stock_less_wt"])) {
                this.productdet["less_wt"] = this.retail.setAsNumber(this.productdet["stock_less_wt"]);
            }
        }
        if (this.stone_details.length != 0 && this.order_type == 1) {
            this.productdet["stone_wt"] = stData["stone_wt"];
            this.productdet["stone_price"] = stData["stone_price"];
            this.productdet["less_wt"] = this.retail.setAsNumber(stData["stone_wt"]);
        }
        else if (this.stone_details.length != 0 && this.order_type == 2) {
            this.productdet["stone_wt"] = stData["wt"];
            this.productdet["stone_price"] = stData["amount"];
            this.productdet["less_wt"] = this.retail.setAsNumber(stData["wt"]);
        }
        this.productdet["net_wt"] = parseFloat(this.productdet["gross_wt"]) - this.retail.setAsNumber(this.productdet["less_wt"]);
        if (changedInput == "wastage_wt") {
            var wast_percent = parseFloat(((this.retail.setAsNumber(this.productdet["wast_wgt"]) * 100) / this.retail.setAsNumber(this.productdet["net_wt"])).toFixed(3));
            this.productdet["retail_max_wastage_percent"] = wast_percent;
        }
        else if (changedInput == "wast") {
            var wast_wgt = parseFloat((this.productdet["net_wt"] *
                (this.retail.setAsNumber(this.productdet["retail_max_wastage_percent"]) /
                    100)).toFixed(3));
            this.productdet["wast_wgt"] = wast_wgt;
        }
        console.log(this.productdet["checkwas"]);
        // let detail = { itemData: this.productdet, metalRate: this.metalRate, tax_details: this.taxGroupItems, item_type: "home_bill" };
        console.log(this.productdet["id_purity"]);
        // console.log(detail)
        /*  if (this.productdet['retail_max_wastage_percent'] <= parseInt(this.productdet['checkwas']))
          { */
        var detail = {
            itemData: this.productdet,
            metalRate: this.metalRate,
            tax_details: this.taxGroupItems,
            item_type: "home_bill",
        };
        console.log(detail);
        //  this.productdet = this.retail.calculateSaleValue(detail);
        if (this.productdet["calculation_based_on"] == 3) {
            this.productdet["sales_value"] = this.productdet["taxable"];
        }
        this.productdet = this.retail.calculateSaleValue(detail);
        /*   }else
            {
             console.log('11111111111111111')
            this.tagMsg = "Please Enter required wastage";
             this.tagErrorMsg = "Please Enter required wastage";
            // Alert Message Timeout setTimeout(() => {this.tagMsg = ""; }, this.commonservice.msgTimeout);}
            } */
    };
    DirectPage.prototype.get_purity = function (data) {
        console.log(data);
        this.productdet["id_purity"] = data.id_purity;
        this.productdet["purname"] = data.label;
        this.productdet["metal_type"] = data.rate_field;
        this.productdet["market_metal_type"] = data.market_rate_field;
    };
    DirectPage.prototype.clear = function () {
        this.productdet["category_name"] = "";
        this.productdet["product_name"] = "";
        this.productdet["design_name"] = "";
        this.productdet["sub_design_name"] = "";
        this.productdet["gross_wt"] = "";
        this.productdet["less_wt"] = "";
        this.productdet["net_wt"] = "";
        this.productdet["purname"] = "";
        this.productdet["id_purity"] = "";
        this.productdet["retail_max_wastage_percent"] = "";
        this.productdet["wast_wgt"] = "";
        this.productdet["rate_per"] = "";
        this.productdet["mc_type"] = "";
        this.productdet["mc_value"] = "";
        this.productdet["making_charge"] = "";
        this.productdet["taxable"] = "";
        this.productdet["tax_price"] = "";
        this.productdet["sales_value"] = "";
        this.productdet["due_date"] = "";
        this.productdet['empname'] = "";
        this.productdet['rate_type'] = 1;
        this.productdet['balance_type'] = 2;
    };
    // naveen
    DirectPage.prototype.openEmpModal = function () {
        var _this = this;
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_23__modal_employee_employee__["a" /* EmpSearchPage */], { "empData": this.employees });
        modal.present();
        modal.onDidDismiss(function (data) {
            if (data != null) {
                _this.productdet['empname'] = data.emp_name;
                _this.productdet['id_employee'] = data.id_employee;
            }
        });
    };
    DirectPage.prototype.radio_option = function (data) {
        console.log(data, 'options');
    };
    DirectPage.prototype.nnext = function (data) {
        this.nonback1 = data;
        this.nonback = false;
        this.nonback2 = false;
        this.content.scrollToTop();
    };
    DirectPage.prototype.nxt = function (data) {
        this.nonback2 = data;
        this.nonback = false;
        this.nonback1 = false;
        this.content.scrollToTop();
    };
    DirectPage.prototype.nback = function (data) {
        this.nonback = data;
        this.nonback1 = false;
        this.nonback2 = false;
        this.content.scrollToTop();
    };
    DirectPage.prototype.nxtback = function (data) {
        this.nonback1 = data;
        this.nonback = false;
        this.nonback2 = false;
        this.content.scrollToTop();
    };
    DirectPage.prototype.canAddToCart = function () {
        var p = this.productdet;
        return (!!p.sub_design_name &&
            !!p.design_name &&
            !!p.product_name &&
            !!p.category_name &&
            p.gross_wt !== undefined &&
            p.net_wt !== undefined &&
            p.pcs !== undefined &&
            !!p.due_date &&
            !!p.sample_details);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_8" /* ViewChild */])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* Content */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* Content */])
    ], DirectPage.prototype, "content", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_8" /* ViewChild */])("slides"),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["y" /* Slides */])
    ], DirectPage.prototype, "slides", void 0);
    DirectPage = DirectPage_1 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: "page-direct",template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\direct\direct.html"*/'<!-- <iframe src="https://www.youtube.com/embed/tgbNymZ7vqY">\n</iframe> -->\n<ion-header style="background: #000"> <ion-navbar>\n  <button ion-button menuToggle>\n    <ion-icon name="menu"></ion-icon>\n  </button>\n  <ion-title>Create Order\n    <!-- <span *ngIf="item.is_stock_avail==1 " class="instock">Instock</span>\n    <span *ngIf="item.is_stock_avail==0 "  class="outofstock">Out of stock</span> -->\n    <!-- <div [ngStyle]="{\'width.px\': 30,\'height.px\': 30,\'border-radius.px\':50,\'background\':productdet.colorcode,\'position\':\'absolute\',\'right.px\':55,\'top.px\':-6}"></div>-->\n <!-- <div [ngStyle]="{\'width.px\': 30,\'height.px\': 30,\'color\':productdet.colorcode,\'position\':\'absolute\',\'right.px\':55,\'top.px\':-6}">\n				<ion-icon *ngIf="productdet.colorcode != \'\' "  style="font-size:1.6em !important" name="bookmark"></ion-icon>\n			  </div>\n    <ion-icon [ngClass] = "productItems1.length > 0 ? \'co\' : \'noco\' " style="margin-top:-4px !important;font-size:1.4em !important;float: right;" name="heart" (click)="addWishlistw(productdet)"></ion-icon> -->\n\n  </ion-title> </ion-navbar>\n  <!-- <ion-row *ngIf="productdet.hasOwnProperty(\'weight\')">\n\n    <ion-col align="center" style="    background: white !important;">\n      <div>\n        <span *ngIf="productdet.Status == \'OPEN\'"  style="float:right;"><ion-badge color="secondary">Stock Available {{productdet.BranchName}}</ion-badge></span>\n        <span *ngIf="productdet.Status != \'OPEN\'"  style="float:right;"><ion-badge color="danger">Out of Stock</ion-badge></span>\n\n      </div> -->\n      <!-- <div style="margin-top: 22px;">\n\n      <img *ngIf="productdet.TagImage != null" class="proimage" [ngStyle]="{height: calc+\'px\',\'min-height.px\' : 100}" src=\'{{productdet.TagImage}}\'\n    imageViewer=\'{{productdet.TagImage}}\' onerror="this.src=\'assets/no-img.png\'" />\n    <img *ngIf="productdet.TagImage == null" class="proimage" [ngStyle]="{height: calc+\'px\',\'min-height.px\' : 100}" src=\'assets/no-img.png\'\n    imageViewer=\'assets/no-img.png\' onerror="this.src=\'assets/no-img.png\'" />\n    </div> -->\n    <!-- <ion-slides style="margin-top: 22px;" (ionSlideWillChange)="slide()"  *ngIf="slidess && slidess.length" #slides [ngClass]="animateClass"   zoom =\'true\' speed=\'500\' initialSlide=\'0\'>\n      <ion-slide (click)="openurl(slide)" *ngFor="let slide of slidess;let in = index">\n        <img *ngIf="slideimg != null" [src]="slideimg" class="slide-image" imageViewer=\'{{slideimg}}\' [ngStyle]="{height: calc+\'px\',\'min-height.px\' : 100}" onerror="this.src=\'assets/no-img.png\'"/>\n        <img *ngIf="slideimg == null" src=\'assets/no-img.png\'  class="slide-image" imageViewer=\'assets/no-img.png\' [ngStyle]="{height: calc+\'px\',\'min-height.px\' : 100}" onerror="this.src=\'assets/no-img.png\'"/>\n\n      </ion-slide>\n    </ion-slides> -->\n    <!-- </iframe> -->\n    <!-- </ion-col>\n  </ion-row> -->\n</ion-header>\n  <ion-content (ionScroll)="scrolling($event)">\n    <div style="margin-bottom: 200px !important;">\n\n    <ion-row padding *ngIf="nonback == true">\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col" >\n        <ion-item no-padding>\n        <ion-label color="label-color" stacked>Order Type</ion-label>\n        <ion-select [(ngModel)]="order_type" placeholder="Order Type" (ionChange)="change($event)"> <!-- (ionChange)="change($event)" skn no need it -->\n        <ion-option [value]="1" selected>Customized Order</ion-option>\n        <ion-option [value]="2">Tag Reserve</ion-option>     <!--  skn no need it -->\n        </ion-select>\n        </ion-item>\n        </ion-col>\n\n  <ion-col col-7  class="custom-2col" style="padding-top: 0px !important;" *ngIf="order_type == 2" >\n\n    <ion-item *ngIf="showtagres == true">\n      <ion-label *ngIf="showtagres == true && checkold != true" style="" color="label-color" stacked>Tag Code <span class="required">*</span></ion-label>\n      <ion-label *ngIf="showtagres == true && checkold == true" style="" color="label-color" stacked>Old Tag Code <span class="required">*</span></ion-label>\n\n      <ion-toggle [(ngModel)]="checkold"></ion-toggle>\n    </ion-item>\n    </ion-col>\n\n\n\n    <div class="row" *ngIf="order_type == 2 && nonback == true" >\n      <div class="col" col-3 style="margin: auto;" >\n        <input  style="    border: 1px solid lightgray;height: 40px;width: -webkit-fill-available;" type="text" id="one" [(ngModel)]="tagData[\'tag_code1\']"  (keyup)="append($event)" ><!--   -->\n\n        </div>\n        <div class="col" col-1 style="margin: auto;font-weight: bold;">\n          <hr>\n          </div>\n\n        <div class="col" col-6 style="margin: auto;" >\n          <input  style="    border: 1px solid lightgray;height: 40px;width: -webkit-fill-available;" type="text"  id="two" [(ngModel)]="tagData[\'tag_code2\']"   (keyup)="append($event)" ><!--  -->\n\n        </div>\n        <div class="col" style="margin: auto;" col-2>\n          <button style="" item-right ion-button  color="light" (click)="getTagByID(tagData[\'tag_code\'])"><ion-icon name="ios-search"></ion-icon></button>\n\n        </div>\n    </div>\n\n     <!-- *ngIf="order_type == 1" -->\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Category</ion-label>\n          <ion-input  type="text" [(ngModel)]="productdet[\'category_name\']" [readonly]="true" (click)="openMasSearch(\'category\')"></ion-input>\n          <button  item-right ion-button clear color="dark" class="no-padding no-margin" (click)="openMasSearch(\'category\')" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n\n        </ion-item>\n      </ion-col>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Product</ion-label>\n          <ion-input  type="text" [(ngModel)]="productdet[\'product_name\']" [readonly]="true" (click)="openMasSearch(\'Product\')"></ion-input>\n          <button  item-right ion-button clear color="dark" class="no-padding no-margin" (click)="openMasSearch(\'Product\')" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n\n        </ion-item>\n      </ion-col>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Design</ion-label>\n          <ion-input  type="text" [(ngModel)]="productdet[\'design_name\']" [readonly]="true" (click)="openMasSearch(\'Design\')"></ion-input>\n          <button  item-right ion-button clear color="dark" class="no-padding no-margin" (click)="openMasSearch(\'Design\')" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n\n        </ion-item>\n      </ion-col>\n\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Sub Design</ion-label>\n          <ion-input  type="text" [(ngModel)]="productdet[\'sub_design_name\']" [readonly]="true" (click)="openMasSearch(\'subDesign\')" ></ion-input>\n          <button  item-right ion-button clear color="dark" class="no-padding no-margin" (click)="openMasSearch(\'subDesign\')" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n\n        </ion-item>\n      </ion-col>\n\n\n          <div class="theme-title-blk" no-margin >\n              Customize Product\n              <!-- <ion-icon *ngIf="!showCustomize" name="add-circle" float-right></ion-icon>\n              <ion-icon *ngIf="showCustomize" name="remove-circle" float-right></ion-icon>  -->\n          </div>\n\n\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col" >\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Employee <span class="required"> *</span></ion-label>\n          <ion-input type="text" [(ngModel)]="productdet[\'empname\']" (click)="openEmpModal()" placeholder="-- Choose Employee --"></ion-input>\n        </ion-item>\n         <!-- <span float-right [ngClass]="productdet.weight >= productdet[\'from_weight\'] && productdet.weight <= productdet[\'to_weight\'] ?  \'input-msg\' : \'input-error-msg\' "><span *ngIf="productdet.from_weight > 0">Min. {{productdet.from_weight}} g </span><span *ngIf="productdet.to_weight > 0">Max. {{productdet.to_weight}} g</span></span> -->\n      </ion-col>\n\n\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col"  >\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Balance Type</ion-label>\n          <ion-select [(ngModel)]="productdet[\'balance_type\']" (ionChange)="radio_option(productdet[\'balance_type\'])"  placeholder="-- Choose --">\n            <ion-option  [value]="2">Cash Balance</ion-option>\n            <ion-option  [value]="1">Metal Balance</ion-option>\n          </ion-select>\n        </ion-item>\n    </ion-col>\n\n    <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col"  >\n      <ion-item no-padding>\n        <ion-label color="label-color" stacked>Rate Type</ion-label>\n        <ion-select [(ngModel)]="productdet[\'rate_type\']" (ionChange)="radio_option(productdet[\'rate_type\'])"  placeholder="-- Choose --">\n          <ion-option  [value]="1">Delivery Rate(Un Fixed)</ion-option>\n          <ion-option  [value]="2">Order Rate(Fixed)</ion-option>\n        </ion-select>\n      </ion-item>\n  </ion-col>\n\n  <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col" style="text-align: end;">\n    <button [disabled]="productdet[\'sub_design_name\'] == \'\' ||  productdet[\'design_name\'] == \'\' ||  productdet[\'product_name\'] == \'\' || productdet[\'category_name\'] == \'\'"  item-right ion-button clear color="dark" class="no-padding no-margin" (click)="nnext(true)" >Next<ion-icon name="arrow-forward"></ion-icon></button>\n</ion-col>\n\n</ion-row>\n        <!-- <ion-col col-12 class="custom-2col" >\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Purity  <span class="required"> *</span></ion-label>\n          </ion-item>\n          <ion-scroll style=" white-space: nowrap !important;" class="purity-scroll-blk" scrollX="true">\n            <ion-chip #chip1 *ngFor="let pur of productdet.purities" color="light" [ngClass]="productdet[\'id_purity\'] == pur[\'id_purity\'] ? \'selected\' : \'unselected\'" (click)="setPurity(pur.id_purity,pur.purity,pur)" style="margin-left: 5%;">\n              <ion-label>{{pur.purity}}</ion-label><ion-icon name="checkmark-circle" style="background-color:transparent!important;" *ngIf="productdet[\'id_purity\'] == pur[\'id_purity\']"></ion-icon>\n            </ion-chip>\n          </ion-scroll>\n        </ion-col>\n		<ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col" >\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Weight</ion-label>\n            <ion-select [(ngModel)]="productdet.id_weight" (ngModelChange)=checkwgstock(productdet.id_weight)  placeholder="-- Choose --">\n              <ion-option *ngFor="let s of productdet.weights" [value]="s.id_weight">{{s[\'weight_description\']}}</ion-option>\n            </ion-select>\n          </ion-item>\n      </ion-col> -->\n        <!-- <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col" >\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Weight <span class="required"> *</span></ion-label>\n            <ion-input type="number" placeholder="Enter weight in grams" [(ngModel)]="productdet.weight" (ngModelChange)="calculate()"> </ion-input>\n          </ion-item>\n           <span float-right [ngClass]="productdet.weight >= productdet[\'from_weight\'] && productdet.weight <= productdet[\'to_weight\'] ?  \'input-msg\' : \'input-error-msg\' "><span *ngIf="productdet.from_weight > 0">Min. {{productdet.from_weight}} g </span><span *ngIf="productdet.to_weight > 0">Max. {{productdet.to_weight}} g</span></span>\n        </ion-col> -->\n\n\n       <ion-row padding *ngIf="nonback1 == true"  >\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col">\n           <ion-item no-padding><ion-label color="label-color" stacked>Gross Wgt(g) <span class="required">*</span></ion-label>\n            <ion-input type="number"[(ngModel)]="productdet[\'gross_wt\']"  (ngModelChange)="calcSaleValue()"></ion-input>\n             <p class="input-err">Stock :{{productdet.stock_gross_wt}}</p> </ion-item>\n        </ion-col>\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col">\n         <ion-item no-padding><ion-label color="label-color" stacked>Less Wgt(g)</ion-label>\n          <ion-input type="number"[(ngModel)]="productdet[\'less_wt\']" (ngModelChange)="calcSaleValue()" readonly></ion-input>\n        </ion-item>\n       </ion-col>\n          <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col">\n            <ion-item no-padding><ion-label color="label-color" stacked>Net Wgt(g) <span class="required">*</span></ion-label>\n              <ion-input type="number"[(ngModel)]="productdet[\'net_wt\']" readonly></ion-input>\n            </ion-item>\n           </ion-col>\n              <!-- <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col"> <ion-item no-padding>\n                <ion-label color="label-color" stacked>Purity</ion-label>\n                 <ion-select  placeholder="Purity" [(ngModel)]="productdet[\'purity\']" (ionChange)="get_purity(productdet[\'purity\'])" >\n                   <ion-option *ngFor="let pur of Purities" [value]="pur" >{{pur.purity}}</ion-option>\n                  </ion-select>\n              </ion-item>\n              </ion-col> -->\n              <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n                <ion-item no-padding>\n                  <ion-label color="label-color" stacked>Purity <span class="required">*</span></ion-label>\n                  <!-- <ion-input  type="text" [(ngModel)]="productdet[\'purname\']" readonly></ion-input> -->\n                  <ion-input  type="text" [(ngModel)]="productdet[\'purname\']" [readonly] (click)="openMasSearch(\'Purity\')"></ion-input>\n                  <button  item-right ion-button clear color="dark" class="no-padding no-margin" (click)="openMasSearch(\'Purity\')" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n                </ion-item>\n              </ion-col>\n\n         <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n           <ion-item no-padding>\n             <ion-label color="label-color" stacked>Wast %</ion-label>\n             <ion-input type="number"  [readonly]="productdet[\'calculation_based_on\'] == 3"   [(ngModel)]="productdet[\'retail_max_wastage_percent\']" (ngModelChange)="calcSaleValue(\'wast\')"></ion-input>\n           </ion-item>\n          </ion-col>\n          <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n           <ion-item no-padding>\n             <ion-label color="label-color" stacked>Wast Wgt(g)</ion-label>\n             <ion-input type="number"   [(ngModel)]="productdet[\'wast_wgt\']" (ngModelChange)="calcSaleValue(\'wastage_wt\')"></ion-input>\n           </ion-item>\n          </ion-col>\n\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col">\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Pieces <span class="required"> *</span></ion-label>\n            <ion-input type="number" placeholder="Pieces" [(ngModel)]="productdet[\'pcs\']" > </ion-input>\n            <span float-right ></span>\n          </ion-item>\n        </ion-col>\n<!-- \n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col" *ngIf="productdet.sizes?.length > 0" >\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Size</ion-label>\n            <ion-select [(ngModel)]="productdet.id_size" (ngModelChange)=checkstock(productdet.id_size) placeholder="-- Choose --">\n              <ion-option *ngFor="let s of productdet.sizes" [value]="s.id_size">{{s.value}} {{s.name}}</ion-option>\n            </ion-select>\n          </ion-item>\n      </ion-col>  -->\n\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col">\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Size </ion-label>\n            <ion-select [(ngModel)]="productdet[\'id_size\']" (ngModelChange)=checkstock(productdet.id_size) placeholder="-- Choose --">\n              <ion-option *ngFor="let s of sizes" [value]="s.id_size">{{s.value}} {{s.name}}</ion-option>\n            </ion-select>\n          </ion-item>\n          <!-- <ion-item no-padding>\n            <ion-label color="label-color" stacked>Size *</ion-label>\n            <ion-input type="number" placeholder="Size" [(ngModel)]="productdet[\'size\']" > </ion-input>\n            <span float-right ></span>\n          </ion-item> -->\n        </ion-col>\n\n        <ion-item *ngIf="empData[\'emp_setting\'][\'allow_manual_rate\'] == \'1\' ">\n          <ion-label style="" color="label-color" stacked>Manual Rate</ion-label>\n          <ion-toggle  [(ngModel)]="mr" ></ion-toggle>\n        </ion-item>\n\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Rate()</ion-label>\n          <ion-input [readonly]="!mr" type="number"   [(ngModel)]="productdet[\'rate_per\']" (ngModelChange)="calculatecus()"></ion-input>\n        </ion-item>\n\n        <ion-col  col-6  class="custom-2col">\n          <button  item-left ion-button clear color="dark" class="no-padding no-margin" (click)="nback(true)" ><ion-icon name="arrow-back"></ion-icon>Back</button>\n      </ion-col>\n\n        <ion-col  col-6  class="custom-2col" style="text-align: end;">\n          <button [disabled]="productdet[\'gross_wt\'] == undefined  ||  productdet[\'net_wt\'] == undefined  || productdet[\'pcs\'] == undefined"  item-right ion-button clear color="dark" class="no-padding no-margin" (click)="nxt(true)" >Next<ion-icon name="arrow-forward"></ion-icon></button>\n      </ion-col>\n    </ion-row>\n\n\n        <ion-row padding *ngIf="nonback2 == true" >\n          <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n            <ion-item no-padding>\n              <ion-label color="label-color" stacked>MC Type</ion-label>\n              <ion-select interface="popover" [(ngModel)]="productdet[\'mc_type\']" placeholder="MC Type" (ngModelChange)="calcSaleValue()" *ngIf="!productdet[\'is_partly_sold\']">\n                <ion-option [value]="1">Piece</ion-option>\n                <ion-option [value]="2">Gram</ion-option>\n                <ion-option [value]="3">Percentage</ion-option>\n\n              </ion-select>\n              <!-- <ion-input *ngIf="productdet[\'is_partly_sold\']" type="text" [(ngModel)]="productdet[\'mc_type\']" readonly></ion-input> -->\n            </ion-item>\n          </ion-col>\n\n\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>MC Value</ion-label>\n            <ion-input type="number"   [(ngModel)]="productdet[\'mc_value\']" (ngModelChange)="calcSaleValue()" [readonly]="productdet[\'is_partly_sold\'] || productdet[\'calculation_based_on\'] == 3"></ion-input>\n          </ion-item>\n        </ion-col>\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Total MC()</ion-label>\n            <ion-input type="number"   [(ngModel)]="productdet[\'making_charge\']" readonly></ion-input>\n          </ion-item>\n        </ion-col>\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Taxable Amount()</ion-label>\n            <ion-input type="number"   [(ngModel)]="productdet[\'taxable\']" (ngModelChange)="calcSaleValue()" [readonly]="productdet[\'calculation_based_on\'] != 3"></ion-input>\n          </ion-item>\n        </ion-col>\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>GST()</ion-label>\n            <ion-input type="number"   [(ngModel)]="productdet[\'tax_price\']" readonly></ion-input>\n          </ion-item>\n        </ion-col>\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Amount()</ion-label>\n            <ion-input type="number"   [(ngModel)]="productdet[\'sales_value\']" readonly></ion-input>\n          </ion-item>\n        </ion-col>\n\n    <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col">\n            <ion-item no-padding>\n              <ion-label color="label-color" stacked>Due Date <span class="required"> *</span></ion-label>\n              <!-- <ion-input type="number" readonly="true" class="ion_datetime" placeholder="Select Date" displayFormat="DD-MM-YYYY" [(ngModel)]="productdet.due_date" (focusin)="show()"> </ion-input> -->\n              <!-- <ion-input type="number"  placeholder="No of Days"  [(ngModel)]="productdet.due_date"> </ion-input> -->\n              <ion-datetime placeholder="Select Date" displayFormat="DD/MM/YYYY" min="{{minDate}}"  [yearValues]="yearValues" [(ngModel)]="productdet.due_date" ></ion-datetime>\n  <!--\n              <ion-datetime placeholder="Select Date" displayFormat="MM/DD/YYYY" [(ngModel)]="productdet.due_date"></ion-datetime> -->\n\n              <span float-right ></span>\n            </ion-item>\n          </ion-col>\n      <!--  <ion-col  col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Other Charges</ion-label>\n            <ion-select  [(ngModel)]="productdet[\'id_charge\']" (ngModelChange)="checkcode()"  placeholder="Charges" >\n                <ion-option *ngFor="let b of productdet[\'allcharges\']" [value]="b[\'id_charge\']">{{b[\'code_charge\']}}</ion-option>\n            </ion-select>\n        </ion-item>\n        </ion-col> -->\n          <!-- <ion-col col-12 class="custom-2col" *ngIf="productdet.stones?.length > 0">\n            <ion-item no-padding>\n                <ion-label color="label-color" stacked>Stones</ion-label>\n              </ion-item>\n\n            <ion-list text-center>\n              <ion-row  style="background: #b1abab;color: white;">\n                <ion-col col-4>Stone</ion-col>\n                <ion-col col-4>Pcs</ion-col>\n                <ion-col col-4>Weight</ion-col>\n              </ion-row>\n              <div *ngFor="let st of productdet.stones; let i=index" class="text-small">\n                <ion-row>\n                  <ion-col col-1>\n                    <ion-checkbox  [(ngModel)]="st.selected" (ionChange)=stoneChaned(st.stone_id,i)></ion-checkbox>\n                  </ion-col>\n                  <ion-col col-4 class="text-small">\n                    {{st.stone_name}}\n                  </ion-col>\n                  <ion-col col-3>\n                    <ion-item>\n                      <ion-input type="number" [value] = "st.stone_pcs" [disabled]="!st.selected"></ion-input>\n                    </ion-item>\n                  </ion-col>\n                  <ion-col col-4>\n                    <ion-item>\n                      <ion-input type="number" [value] = "st.stone_wt" [disabled]="!st.selected"></ion-input>\n                    </ion-item>\n                  </ion-col>\n                </ion-row>\n              </div>\n            </ion-list>\n          </ion-col>  -->\n\n          <ion-col col-12 class="custom-2col">\n            <ion-item no-padding>\n              <ion-label color="label-color" stacked>Description <span class="required"> *</span></ion-label>\n              <ion-textarea [(ngModel)]="productdet.sample_details" placeholder="Enter your description" rows="3"     (ngModelChange)="productdet.sample_details = productdet.sample_details?.trim()"></ion-textarea>\n            </ion-item>\n          </ion-col>\n\n       <ion-col col-12>\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Other Charges</ion-label>\n          <button *ngIf="charges.length == 0" ion-button  outline small color="dark" item-right icon-left (click)="addcharge()">\n            <ion-icon name="ios-add"></ion-icon>\n            Add\n          </button>\n          <button *ngIf="charges.length != 0" ion-button item-right icon-left outline small color="dark" (click)="addcharge()">\n            <ion-icon name="edit"></ion-icon>\n            Update\n          </button>\n        </ion-item>\n       </ion-col>\n\n       <ion-col col-12>\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Stone Detail</ion-label>\n          <button *ngIf="stone_details.length == 0" ion-button item-right icon-left outline small color="dark" (click)="addStone()">\n            <ion-icon name="ios-add"></ion-icon>\n            Add\n          </button>\n          <button *ngIf="stone_details.length != 0" ion-button item-right icon-left outline small color="dark" (click)="addStone()">\n            <ion-icon name="edit"></ion-icon>\n            Update\n          </button>\n        </ion-item>\n       </ion-col>\n\n  <!-- <ion-col col-12 style="margin-top: 10px;margin-bottom: 10px;">\n            <div class="row">\n\n            <div  class="col" style="margin: auto" col-4 no-padding>\n              <h5>Other Charges</h5>\n            </div>\n            <div class="col" style="margin: auto" no-padding>\n              <div float-right>\n                <button *ngIf="charges.length == 0" ion-button icon-start outline small color="dark" (click)="addcharge()">\n                  <ion-icon name="ios-add"></ion-icon>\n                  Add\n                </button>\n                <button *ngIf="charges.length != 0" ion-button icon-start outline small color="dark" (click)="addcharge()">\n                  <ion-icon name="edit"></ion-icon>\n                  Update\n                </button>\n            </div>\n            </div>\n          </div>\n         </ion-col> -->\n\n   <!--        <ion-col col-12 style="margin-top: 10px;margin-bottom: 10px;">\n            <div class="row">\n\n            <div  class="col" style="margin: auto" col-4 no-padding>\n              <h5>Stone Detail</h5>\n            </div>\n            <div class="col" style="margin: auto" no-padding>\n              <div float-right>\n                <button *ngIf="stone_details.length == 0" ion-button icon-start outline small color="dark" (click)="addStone()">\n                  <ion-icon name="ios-add"></ion-icon>\n                  Add\n                </button>\n                <button *ngIf="stone_details.length != 0" ion-button icon-start outline small color="dark" (click)="addStone()">\n                  <ion-icon name="edit"></ion-icon>\n                  Update\n                </button>\n            </div>\n            </div>\n          </div>\n         </ion-col> -->\n\n          <ion-col col-12 class="custom-2col">\n            <ion-item no-padding>\n              <ion-label color="label-color" stacked>Upload Sample</ion-label>\n              <button *ngIf="targetPath?.length <= 10" ion-button outline small color="dark" type="button" item-right icon-left (click)="presentActionSheet()">\n                  <ion-icon name="camera"></ion-icon>\n                  Choose Image\n              </button>\n            </ion-item>\n            <ion-grid>\n              <ion-row *ngIf="targetPaths.length > 0">\n                <ion-col col-6 *ngFor="let targetPath of targetPaths; let id = index">\n                  <ion-card class="block">\n                    <ion-icon name="trash" class="deleteIcon" (click)="deletePhoto(id)"></ion-icon> <img [src]="targetPath" *ngIf="targetPath" />\n                  </ion-card>\n                </ion-col>\n              </ion-row>\n            </ion-grid>\n          </ion-col>\n\n          <ion-col col-12 class="custom-2col">\n            <ion-item no-padding>\n              <ion-label color="label-color" stacked>Upload Sample</ion-label>\n              <button *ngIf="targetPath?.length <= 10" ion-button outline small color="dark" type="button" item-right icon-left (click)="presentActionSheetvideo()">\n                  <ion-icon name="videocam"></ion-icon>\n                  Choose Video\n              </button>\n            </ion-item>\n            <ion-grid>\n              <ion-row *ngIf="vidtargetPaths.length > 0">\n                <ion-col col-6 *ngFor="let targetPath of vidtargetPaths; let id = index">\n                  <ion-card class="block" style="text-align: center">\n                    <ion-icon name="trash" class="deleteIcon" (click)="deletevideo(id)"></ion-icon>\n                    <video height="140" controls>\n                      <source [src]=\'targetPath\' type="video/mp4">\n                    </video>\n                  </ion-card>\n                </ion-col>\n              </ion-row>\n            </ion-grid>\n          </ion-col>\n          <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n            <button  item-left ion-button clear color="dark" class="no-padding no-margin" (click)="nxtback(true)" ><ion-icon name="arrow-back"></ion-icon>Back</button>\n        </ion-col>\n        </ion-row>\n\n\n\n\n</div>\n\n  </ion-content>\n\n  <ion-footer style="bottom: 83px !important;">\n    <div *ngIf="show == true"  style="text-align: center;    margin-top: 5px;">\n      Upload Progress :\n    </div>\n    <div *ngIf="show == true" class="progress-outer">\n      <div class="progress-inner" [style.width]="progress + \'%\'">\n          {{progress}}%\n      </div>\n    </div>\n    <ion-row>\n      <!-- <ion-col col-6>\n        <button [disabled]="productdet.Status != \'OPEN\'" style="border-radius: 5px;" ion-button  icon-start full class="theme-btn" (click)="createEsti()">Create Estimation</button>\n      </ion-col> -->\n      <ion-col col-12>\n        <button style="border-radius: 5px;"   [disabled]="!canAddToCart() || !metal_error_msg"  ion-button  icon-start full class="theme-btn" (click)="proceedToWishlist()">Add to Cart</button>\n      </ion-col>\n    </ion-row>\n  </ion-footer>\n\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\direct\direct.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_4__providers_retail__["a" /* RetailProvider */]],
            animations: [
                Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_24" /* trigger */])("flyInTopSlow", [
                    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_21" /* state */])("0", Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_22" /* style */])({
                        transform: "translate3d(0,0,0)",
                    })),
                    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_23" /* transition */])("* => 0", [
                        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_13" /* animate */])("500ms ease-in", Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_18" /* keyframes */])([
                            Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_22" /* style */])({ transform: "translate3d(0,-500px,0)", offset: 0 }),
                            Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_22" /* style */])({ transform: "translate3d(0,0,0)", offset: 1 }),
                        ])),
                    ]),
                ]),
            ],
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_20__ionic_native_file_opener__["a" /* FileOpener */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */],
            __WEBPACK_IMPORTED_MODULE_4__providers_retail__["a" /* RetailProvider */],
            __WEBPACK_IMPORTED_MODULE_16__ionic_native_media_capture__["a" /* MediaCapture */],
            __WEBPACK_IMPORTED_MODULE_15__ionic_native_file_chooser__["a" /* FileChooser */],
            __WEBPACK_IMPORTED_MODULE_14__ionic_native_file_path__["a" /* FilePath */],
            __WEBPACK_IMPORTED_MODULE_13_ngx_image_compress__["a" /* NgxImageCompressService */],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["j" /* ChangeDetectorRef */],
            __WEBPACK_IMPORTED_MODULE_11__angular_platform_browser__["c" /* DomSanitizer */],
            __WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["x" /* Platform */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */],
            __WEBPACK_IMPORTED_MODULE_2__ionic_native_toast__["a" /* Toast */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["a" /* ActionSheetController */],
            __WEBPACK_IMPORTED_MODULE_7__ionic_native_camera__["a" /* Camera */],
            __WEBPACK_IMPORTED_MODULE_5__ionic_native_file_transfer__["a" /* FileTransfer */],
            __WEBPACK_IMPORTED_MODULE_6__ionic_native_file__["a" /* File */],
            __WEBPACK_IMPORTED_MODULE_8__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["b" /* AlertController */]])
    ], DirectPage);
    return DirectPage;
    var DirectPage_1;
}());

//# sourceMappingURL=direct.js.map

/***/ }),

/***/ 427:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Masssearch2Page; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_common__ = __webpack_require__(5);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



/**
 * Generated class for the MasSearchPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
// @IonicPage()
var Masssearch2Page = /** @class */ (function () {
    function Masssearch2Page(events, keyboard, load, common, viewCtrl, navCtrl, navParams) {
        var _this = this;
        this.events = events;
        this.keyboard = keyboard;
        this.load = load;
        this.common = common;
        this.viewCtrl = viewCtrl;
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.searchArr = [];
        this.toggle = true;
        this.page = "";
        this.list = [];
        this.listType = "normal";
        this.searchArr = this.navParams.get('searchArr');
        this.list = this.navParams.get('searchArr');
        this.page = this.navParams.get('page');
        this.listType = this.navParams.get('listType');
        events.subscribe('treeProd:selected', function (data) {
            _this.viewCtrl.dismiss(data);
        });
        console.log(this.page);
    }
    Masssearch2Page.prototype.selected = function (data) {
        this.viewCtrl.dismiss(data);
    };
    Masssearch2Page.prototype.getSearch = function (ev) {
        var val = ev.target.value;
        if (!val.trim().length || !this.keyboard.isOpen()) {
            this.list = this.navParams.get('searchArr');
            return;
        }
        if (this.page == 'category') {
            this.list = this.searchArr.filter(function (item) { return item['name'].toUpperCase().includes(val.toUpperCase()); });
        }
        else if (this.page == 'subDesign') {
            this.list = this.searchArr.filter(function (item) { return item['sub_design_name'].toUpperCase().includes(val.toUpperCase()); });
        }
        else {
            this.list = this.searchArr.filter(function (item) { return item['label'].toUpperCase().includes(val.toUpperCase()); });
        }
        console.log(this.list);
    };
    Masssearch2Page.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad MasSearchPage');
    };
    Masssearch2Page.prototype.dismiss = function () {
        this.viewCtrl.dismiss();
    };
    Masssearch2Page.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    Masssearch2Page.prototype.ionViewWillEnter = function () {
        this.events.publish('entered', true);
        this.events.publish('pageno', 1);
    };
    Masssearch2Page = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-masssearch2',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\masssearch2\masssearch2.html"*/'<ion-header>\n  <ion-navbar>\n    <ion-title>\n      Search {{page}}\n    </ion-title>\n    <ion-buttons end>\n        <button ion-button icon-only (click)="dismiss()">\n            <ion-icon item-right name="ios-close-outline"></ion-icon>\n        </button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n<ion-content>\n  <span *ngIf="listType == \'normal\'">\n    <ion-searchbar (ionInput)="getSearch($event)"></ion-searchbar>\n    <ion-list>\n      <ion-item *ngFor="let d of list" (click)="selected(d)">\n        <span *ngIf="page == \'category\'">{{ d.name }}</span> \n        <span *ngIf="page == \'Product\'">{{ d.label }}</span> \n        <span *ngIf="page == \'Design\'">{{ d.label }}</span> \n        <span *ngIf="page == \'Purity\'">{{ d.label }}</span> \n        <span *ngIf="page == \'subDesign\'">{{ d.sub_design_name }}</span>\n      </ion-item>\n    </ion-list>\n  </span>\n  <!-- <tree-view *ngIf="page == \'Product\'" [TreeData]="list" [hasCheckbox]="true"></tree-view> -->\n</ion-content>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\masssearch2\masssearch2.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["p" /* Keyboard */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["B" /* ViewController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */]])
    ], Masssearch2Page);
    return Masssearch2Page;
}());

//# sourceMappingURL=masssearch2.js.map

/***/ }),

/***/ 428:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EstiBasicDetailPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__customer_customer__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__employee_employee__ = __webpack_require__(49);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__add_quick_cus_add_quick_cus__ = __webpack_require__(189);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__home_home__ = __webpack_require__(31);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







/**
 * Generated class for the EstiBasicDetailPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
// @IonicPage()
var EstiBasicDetailPage = /** @class */ (function () {
    function EstiBasicDetailPage(events, load, app, common, viewCtrl, navCtrl, navParams, modal) {
        var _this = this;
        this.events = events;
        this.load = load;
        this.app = app;
        this.common = common;
        this.viewCtrl = viewCtrl;
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.modal = modal;
        this.toggle = true;
        this.employees = [];
        this.askBranch = 0;
        this.selectedCusData = [];
        this.esti = [];
        this.branches = [];
        this.cusData = [];
        this.empData = JSON.parse(localStorage.getItem('empDetail'));
        this.askBranch = this.navParams.get('askBranch');
        console.log(this.askBranch);
        this.employees = this.navParams.get('employees');
        this.selectedCusData = this.navParams.get('selectedCusData');
        this.esti = this.navParams.get('esti');
        this.branches = this.navParams.get('branches');
        console.log(this.esti);
        var temp = this.employees.filter(function (data) { return data['id_employee'] == _this.empData['uid']; });
        if (temp.length > 0) {
            this.esti['id_employee'] = temp[0]['id_employee'];
            this.esti['emp_name'] = temp[0]['emp_name'];
        }
    }
    EstiBasicDetailPage.prototype.proceed = function () {
        this.viewCtrl.dismiss(this.esti);
    };
    EstiBasicDetailPage.prototype.openEmpModal = function () {
        var _this = this;
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_4__employee_employee__["a" /* EmpSearchPage */], { "empData": this.employees });
        modal.present();
        modal.onDidDismiss(function (data) {
            if (data != null) {
                _this.esti['id_employee'] = data.id_employee;
                _this.esti['emp_name'] = data.emp_name;
            }
        });
    };
    EstiBasicDetailPage.prototype.openCusModal = function () {
        var _this = this;
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_3__customer_customer__["a" /* CusSearchPage */]);
        modal.present();
        modal.onDidDismiss(function (data) {
            if (data != null) {
                _this.esti['cus_id'] = data.id_customer;
                _this.esti['customer'] = data.label;
                _this.selectedCusData = data;
                _this.esti['selectedCusData'] = data;
            }
        });
    };
    EstiBasicDetailPage.prototype.openQuickCus = function () {
        var _this = this;
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_5__add_quick_cus_add_quick_cus__["a" /* AddQuickCus */]);
        modal.present();
        modal.onDidDismiss(function (data) {
            console.log(data);
            if (data != null) {
                _this.esti['cus_id'] = data.id_customer;
                _this.esti['customer'] = data.label;
                _this.selectedCusData = data;
                _this.esti['selectedCusData'] = data;
            }
        });
    };
    EstiBasicDetailPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad EstiBasicDetailPage');
    };
    EstiBasicDetailPage.prototype.dismiss = function () {
        this.viewCtrl.dismiss();
        this.app.getRootNav().setRoot(__WEBPACK_IMPORTED_MODULE_6__home_home__["a" /* HomePage */]);
    };
    EstiBasicDetailPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    EstiBasicDetailPage.prototype.ionViewWillEnter = function () {
        this.events.publish('entered', true);
        this.events.publish('pageno', 1);
    };
    EstiBasicDetailPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-esti-basic-detail',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\modal\esti-basic-detail\esti-basic-detail.html"*/'<ion-header>\n  <ion-navbar>\n    <ion-title>\n      Estimation Basic Detail\n    </ion-title>\n    <ion-buttons end>\n      <button ion-button icon-only (click)="dismiss()">\n          <ion-icon item-right name="ios-close-outline"></ion-icon>\n      </button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content padding>\n  <ion-card class="errorMsg" padding *ngIf="errorMsg">\n    {{errorMsg}}\n  </ion-card>\n  <ion-card class="msg" padding *ngIf="msg">\n    {{msg}}\n  </ion-card>\n  <p align="center">Fill below details to create estimation</p>\n  <ion-row  *ngIf="askBranch == 1">\n    <ion-col text-wrap col-12>\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Branch <span class="required">*</span></ion-label>\n          <ion-select [(ngModel)]="esti[\'id_branch\']">\n            <ion-option *ngFor="let b of branches" [value]="b.id_branch">{{b.name}}</ion-option>\n          </ion-select>\n          <ion-icon style="margin-top: 10px !important;" name="arrow-dropdown"></ion-icon>\n        </ion-item>\n    </ion-col>\n  </ion-row> \n  <ion-row>    \n    <ion-col text-wrap col-12>\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Employee <span class="required">*</span></ion-label>\n          <ion-input type="text" [(ngModel)]="esti[\'emp_name\']" (tap)="openEmpModal()" readonly></ion-input>\n          <button item-right ion-button clear color="dark" class="no-padding no-margin" (click)="openEmpModal()" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n        </ion-item>\n    </ion-col>\n  </ion-row> \n  <ion-row>\n    <ion-col text-wrap col-12>\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Estimation For <span class="required">*</span></ion-label>\n          <ion-select [(ngModel)]="esti[\'esti_for\']" [interface]="popover">\n            <ion-option [value]="1" selected>Customer</ion-option>\n            <!-- <ion-option [value]="2">Branch Transfer</ion-option> -->\n          </ion-select> \n        </ion-item>\n    </ion-col>\n  </ion-row>  \n  <ion-row>\n    <ion-col text-wrap col-12>\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>\n            Customer <span class="required">*</span> \n            <span *ngIf="selectedCusData.is_vip == 1" class="vip">\n              <ion-icon name="star" class="vip">V I P</ion-icon> \n            </span>\n            <span *ngIf="selectedCusData.accounts > 0" color="secondary">\n              <ion-icon name="checkmark-circle"  color="secondary">Chit</ion-icon> \n            </span>\n          </ion-label>\n          <ion-input type="text" [(ngModel)]="esti[\'customer\']" (tap)="openQuickCus()" readonly></ion-input>\n          <button item-right ion-button clear color="dark" class="no-padding no-margin" (click)="openQuickCus()" ><ion-icon name="arrow-dropdown"></ion-icon></button>\n          {{village_name}}\n        </ion-item>\n    </ion-col>\n  </ion-row> \n</ion-content>\n\n<ion-footer *ngIf="this.esti[\'cus_id\'] != \'\' && this.esti[\'id_employee\'] != \'\' && this.esti[\'id_employee\'] != \'\' ">\n  <button ion-button icon-start full class="theme-btn" (click)="proceed()">Proceed</button>\n</ion-footer>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\modal\esti-basic-detail\esti-basic-detail.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["d" /* App */], __WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["B" /* ViewController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */]])
    ], EstiBasicDetailPage);
    return EstiBasicDetailPage;
}());

//# sourceMappingURL=esti-basic-detail.js.map

/***/ }),

/***/ 429:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CartListViewPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ionic_native_toast__ = __webpack_require__(62);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ionic_native_file_transfer__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__ionic_native_file__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__ionic_native_camera__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__angular_http__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__angular_platform_browser__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_ngx_image_compress__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__ionic_native_file_path__ = __webpack_require__(24);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__ionic_native_file_chooser__ = __webpack_require__(50);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__ionic_native_media_capture__ = __webpack_require__(93);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__ionic_native_file_opener__ = __webpack_require__(51);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__providers_retail__ = __webpack_require__(7);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
















/**
 * Generated class for the CartListViewPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
// @IonicPage()
var CartListViewPage = /** @class */ (function () {
    function CartListViewPage(fileOpener, modal, retail, mediaCapture, fileChooser, filePath, imageCompress, cd, sanitizer, commonservice, navCtrl, platform, navParams, loadingCtrl, toastCtrl, event, toast, actionSheetCtrl, camera, transfer, file, http, alertCtrl) {
        // let data1 = this.navParams.get( 'item' );
        // console.log(data1,'hhhhhhhhhhhhh');
        this.fileOpener = fileOpener;
        this.modal = modal;
        this.retail = retail;
        this.mediaCapture = mediaCapture;
        this.fileChooser = fileChooser;
        this.filePath = filePath;
        this.imageCompress = imageCompress;
        this.cd = cd;
        this.sanitizer = sanitizer;
        this.commonservice = commonservice;
        this.navCtrl = navCtrl;
        this.platform = platform;
        this.navParams = navParams;
        this.loadingCtrl = loadingCtrl;
        this.toastCtrl = toastCtrl;
        this.event = event;
        this.toast = toast;
        this.actionSheetCtrl = actionSheetCtrl;
        this.camera = camera;
        this.transfer = transfer;
        this.file = file;
        this.http = http;
        this.alertCtrl = alertCtrl;
        this.fileTransfer = this.transfer.create();
        this._username = 'lmxretail';
        this._password = 'lmx@2017';
        this.checkStatus = false;
        /* public photos : any;
        public base64Image : string; */
        this.targetPaths = [];
        this.vidtargetPaths = [];
        this.filenames = [];
        this.vidfilenames = [];
        this.charges = [];
        this.purityname = "";
        this.namey = 'D0wqd2IyB1w';
        this.type = 1;
        this.lastImage = null;
        this.productdet = this.navParams.get('data');
        this.productdetarr = this.navParams.get('single');
        this.video = '';
        this.slidess = this.navParams.get('single');
        this.productid = 0;
        this.inf = false;
        this.gif = false;
        this.temp = [{ 'name': 'Chennai' }, { 'name': 'Coimbatore' }, { 'name': 'Madurai' }, { 'name': 'Salem' }];
        // footerScrollConfig: ScrollHideConfig= { cssProperty: 'margin-bottom', maxValue: undefined };
        this.base = "data:image/png;base64,";
        this.showdiamond = [];
        this.showstone = [];
        this.productItems1 = [];
        this.stoneMasData = [];
        this.stone_details = [];
        this.calc = 350;
        this.top = 0;
        this.MAX_FILE_SIZE = 60000000;
        this.ALLOWED_MIME_TYPE = "video/mp4";
        this.ids = '';
        this.idw = '';
        this.show = false;
        this.progress = 0;
        this.esti = { "choose": '', "cus_id": "", "customer": "", "id_branch": "", "id_employee": "", "emp_name": "", "is_tag": false, "is_non_tag": false, "is_home_bill": false, "is_old_metal": false, "tag": [], "non_tag": [], "home_bill": [], "old_metal": [], "chit_details": [{ 'slip_no': '', 'slip_amt': '' }] };
        this.tot_purch_wgt = 0;
        this.tot_purch_rate = 0;
        this.tot_sale_wgt = 0;
        this.tot_sale_rate = 0;
        this.tot_charge = 0;
        this.total_esti_value = 0;
        this.advance = 0;
        this.tot_gift_rate = 0;
        this.dates = [];
        this.tot_incen = 0;
        console.log(this.productdet, 'uuuuuuuuuuuu');
        // this.get_group_item()
    }
    CartListViewPage.prototype.get_group_item = function () {
        var _this = this;
        this.retail.getAllTaxGroupItems().then(function (data) {
            _this.taxGroupItems = data;
            console.log(_this.taxGroupItems, 'jjjjjjjjj');
            _this.event.publish('taxGroup:loaded', true);
            _this.commonservice.getCurrencyAndSettings({ "id_metalrates": _this.esti['choose'], "id_branch": _this.esti['id_branch'] }).then(function (data) {
                _this.metalRate = data.metal_rates;
                console.log(_this.metalRate, 'kkkkkkkkkkk');
                _this.calculate();
            });
        });
    };
    CartListViewPage.prototype.price = function (data) {
        var temp1 = parseFloat(data).toFixed();
        return temp1;
    };
    CartListViewPage.prototype.fixprice = function (data) {
        console.log(data, 'pppppppp');
        var temp1 = parseFloat(data).toFixed(3);
        return temp1;
    };
    CartListViewPage.prototype.scrolling = function (event) {
        if (event.scrollTop == 0) {
            this.calc = 350;
        }
        else {
            this.calc = 350 - event.scrollTop;
            this.content.resize();
            this.cd.detectChanges();
        }
        // your content here for scrolling
    };
    CartListViewPage.prototype.calculate = function () {
        var detail = { itemData: this.productdet, metalRate: this.metalRate, tax_details: this.taxGroupItems, item_type: 'tag' };
        console.log(detail, 'kkkkkkkkkkk');
        console.log('*******', this.retail.calculateSaleValue(detail));
        var data = this.retail.calculateSaleValue(detail);
        console.log(data, 'uuuuuuuuuuuu');
        this.productdet['taxable'] = data['taxable'];
        this.productdet['sales_value'] = data['sales_value'];
        this.productdet['rate_per'] = data['rate_per'];
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_8" /* ViewChild */])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* Content */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* Content */])
    ], CartListViewPage.prototype, "content", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_8" /* ViewChild */])('slides'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["y" /* Slides */])
    ], CartListViewPage.prototype, "slides", void 0);
    CartListViewPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-cart-list-view',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\cart-list-view\cart-list-view.html"*/'<!-- <iframe src="https://www.youtube.com/embed/tgbNymZ7vqY">\n</iframe> -->\n<ion-header style="background: #000"> <ion-navbar>\n  <button ion-button menuToggle>\n    <ion-icon name="menu"></ion-icon>\n  </button>\n  <ion-title>Product Details\n    <!-- <span *ngIf="item.is_stock_avail==1 " class="instock">Instock</span>\n    <span *ngIf="item.is_stock_avail==0 "  class="outofstock">Out of stock</span> -->\n    <!-- <div [ngStyle]="{\'width.px\': 30,\'height.px\': 30,\'border-radius.px\':50,\'background\':productdet.colorcode,\'position\':\'absolute\',\'right.px\':55,\'top.px\':-6}"></div>-->\n <div [ngStyle]="{\'width.px\': 30,\'height.px\': 30,\'color\':productdet.colorcode,\'position\':\'absolute\',\'right.px\':55,\'top.px\':-6}">\n				<!-- <ion-icon *ngIf="productdet.colorcode != \'\' "  style="font-size:1.6em !important" name="bookmark"></ion-icon> -->\n			  </div>\n    <!-- <ion-icon [ngClass] = "productItems1.length > 0 ? \'co\' : \'noco\' " style="margin-top:-4px !important;font-size:1.4em !important;float: right;" name="heart" (click)="addWishlistw(productdet)"></ion-icon> -->\n\n  </ion-title> </ion-navbar>\n  <ion-row *ngIf="productdet.Status !=null && productdet.Status !=undefined">\n\n    <ion-col align="center" style="background: white !important;" >\n      <div>\n        <span *ngIf="productdet.Status == \'OPEN\'"  style="float:right;"><ion-badge color="secondary">Stock Available {{productdet.BranchName}}</ion-badge></span>\n        <span *ngIf="productdet.Status != \'OPEN\'"  style="float:right;"><ion-badge color="danger">Out of Stock</ion-badge></span>\n      </div>\n\n      <!-- <ion-slides style="margin-top: 22px;" (ionSlideWillChange)="slide()"  *ngIf="slidess && slidess.length" #slides [ngClass]="animateClass"   zoom =\'true\' speed=\'500\' initialSlide=\'0\'>\n        <ion-slide (click)="openurl(slide)" *ngFor="let slide of slidess;let in = index">\n          <img *ngIf="slideimg != null" [src]="slideimg" class="slide-image" imageViewer=\'{{slideimg}}\' [ngStyle]="{height: calc+\'px\',\'min-height.px\' : 100}" onerror="this.src=\'assets/no-img.png\'"/>\n          <img *ngIf="slideimg == null" src=\'assets/no-img.png\'  class="slide-image" imageViewer=\'assets/no-img.png\' [ngStyle]="{height: calc+\'px\',\'min-height.px\' : 100}" onerror="this.src=\'assets/no-img.png\'"/>\n\n        </ion-slide>\n      </ion-slides> -->\n\n      <!-- <div style="margin-top: 22px;">\n\n      <img *ngIf="productdet.TagImage != null" class="proimage" [ngStyle]="{height: calc+\'px\',\'min-height.px\' : 100}" src=\'{{productdet.TagImage}}\'\n    imageViewer=\'{{productdet.TagImage}}\' onerror="this.src=\'assets/no-img.png\'" />\n    <img *ngIf="productdet.TagImage == null" class="proimage" [ngStyle]="{height: calc+\'px\',\'min-height.px\' : 100}" src=\'assets/no-img.png\'\n    imageViewer=\'assets/no-img.png\' onerror="this.src=\'assets/no-img.png\'" />\n    </div> -->\n\n    <!-- </iframe> -->\n    </ion-col>\n  </ion-row>\n</ion-header>\n  <ion-content (ionScroll)="scrolling($event)">\n    <div style="margin-bottom: 85px !important;">\n\n    <!-- <div style="margin: 5px;height: 17px">\n      <span  style="float:right;"><ion-badge color="secondary">Stock Available {{productdet.BranchName}}</ion-badge></span>\n      </div>\n\n  <ion-row>\n    <ion-col align="center">\n      <img *ngIf="productdet.TagImage != null" class="proimage" src=\'{{productdet.TagImage}}\'\n    imageViewer=\'{{productdet.TagImage}}\' onerror="this.src=\'assets/no-img.png\'" />\n    <img *ngIf="productdet.TagImage == null" class="proimage" src=\'assets/no-img.png\'\n    imageViewer=\'assets/no-img.png\' onerror="this.src=\'assets/no-img.png\'" />\n    </ion-col>\n  </ion-row> -->\n\n  <hr>\n  <ion-row nowrap>\n\n     <ion-card *ngIf="productdet" style="box-shadow: none;">\n  <img style="margin: auto;object-fit: cover !important;" src=\'{{productdet.image}}\' onerror="this.src=\'assets/no-img.png\'"  imageCache/>\n\n  </ion-card>\n\n </ion-row>\n  <hr>\n\n    <hr>\n  <div>\n\n    <span>\n      <h5>&nbsp;{{productdet.sub_design_name}}</h5>\n    </span>\n  </div>\n  <div>\n\n    <span>\n      <!-- <h5 *ngIf="productdet">&nbsp; {{price(productdet.Rate)}}</h5> -->\n    </span>\n  </div>\n  <hr>\n\n\n\n<div  >\n  <h6 style="text-align: center;\n  margin-bottom: 20px;">Metal Information</h6>\n  <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n  <ion-col col-6 no-padding>\n    <button ion-button clear small>Metal </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{productdet.metal_name}}\n  </ion-col>\n  </ion-row>\n  <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n  <ion-col col-6 no-padding>\n    <button ion-button clear small>Product Name </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{productdet.product_name}}\n  </ion-col>\n  </ion-row>\n  <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n  <ion-col col-6 no-padding>\n    <button ion-button clear small>Sub Product Name </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{productdet.sub_product}}\n  </ion-col>\n</ion-row>\n<ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Tag No </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{productdet.tag_num}}\n  </ion-col>\n  </ion-row>\n  <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Pcs  </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{productdet.pcs}}\n  </ion-col>\n  </ion-row>\n  <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Gross Wt (Gms) </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{productdet.gross_wt}} g\n  </ion-col>\n  </ion-row>\n  <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Net Wt (Gms)  </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{productdet.net_wt}} g\n\n  </ion-col>\n  </ion-row>\n  <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Purity  </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{productdet.Purity}}\n  </ion-col>\n  </ion-row>\n\n\n  <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n    <ion-col no-padding col-6>\n      <button ion-button clear small>Metal Rate</button>\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-5>\n       {{productdet.rate}}\n    </ion-col>\n    </ion-row>\n    <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n      <ion-col no-padding col-6>\n        <button ion-button clear small>Wastage %</button>\n      </ion-col>\n      <ion-col no-padding style="margin:auto" col-1>\n          :\n      </ion-col>\n      <ion-col no-padding style="margin:auto" col-5>\n        {{productdet.wast_percent}} %\n      </ion-col>\n      </ion-row>\n\n      <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n        <ion-col no-padding col-6>\n          <button ion-button clear small>Wastage Wgt</button>\n        </ion-col>\n        <ion-col no-padding style="margin:auto" col-1>\n            :\n        </ion-col>\n        <ion-col no-padding style="margin:auto" col-5>\n          {{productdet.wast_wgt}} g\n        </ion-col>\n        </ion-row>\n      <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n        <ion-col no-padding col-6>\n          <button ion-button clear small>GST </button>\n        </ion-col>\n        <ion-col no-padding style="margin:auto" col-1>\n            :\n        </ion-col>\n        <ion-col no-padding style="margin:auto" col-5>\n           {{productdet.tax_price}}\n        </ion-col>\n        </ion-row>\n\n      <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n        <ion-col no-padding col-6>\n          <button ion-button clear small>Total Stone Amount </button>\n        </ion-col>\n        <ion-col no-padding style="margin:auto" col-1>\n            :\n        </ion-col>\n        <ion-col no-padding style="margin:auto" col-5>\n           {{productdet.stone_price}}\n        </ion-col>\n        </ion-row>\n\n</div>\n\n<div  *ngIf="productdet.stones.length > 0 ">\n  <h6 style="text-align: center;\n  margin-bottom: 20px;">Stone Information</h6>\n  <ion-row *ngFor="let s of productdet.stones" no-padding>\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Type</button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{s.stone_type}}\n  </ion-col>\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Stone Name</button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{s.stone_name}}\n  </ion-col>\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Pcs  </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{s.stone_pcs}}\n  </ion-col>\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Weight({{s.uom_short_code}}) </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{s.stone_wt}}\n     {{s.uom_short_code}}\n\n    <!-- {{fixprice(s[\'stone_wt\'])}} {{s.uom_short_code}} -->\n\n  </ion-col>\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Rate  </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n     {{s.rate}}\n  </ion-col>\n  </ion-row>\n</div>\n\n<!-- <div *ngIf="productdet">\n  <div  *ngIf="productdet.stones.length > 0 ||productdet.stones.length !=0 ">\n    <h6 style="text-align: center;\n    margin-bottom: 20px;">Stone Information</h6>\n    <ion-row *ngFor="let s of  productdet.stones" no-padding>\n\n    <ion-col no-padding col-6>\n      <button ion-button clear small>Type</button>\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-5>\n      {{s.Nature}}\n    </ion-col>\n\n    <ion-col no-padding col-6>\n      <button ion-button clear small>Stone Name</button>\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-5>\n      {{s.StoneName}}\n    </ion-col>\n\n    <ion-col no-padding col-6>\n      <button ion-button clear small>Pcs  </button>\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-5>\n      {{s.Pieces}}\n    </ion-col>\n    <ion-col no-padding col-6>\n      <button ion-button clear small>Weight(Gms) </button>\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-5>\n      {{s.Weight}} g\n\n    </ion-col>\n\n    <ion-col no-padding col-6>\n      <button ion-button clear small>Rate  </button>\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-5>\n       {{s.Rate}}\n    </ion-col>\n    </ion-row>\n  </div>\n</div> -->\n\n\n<!-- <div style="margin-bottom: 50px;" *ngIf="showdiamond.length > 0">\n  <h6  style="text-align: center;\n  margin-bottom: 20px;">Diamond Information</h6>\n  <ion-row *ngFor="let s of showdiamond;let i = index;"  style="margin-bottom: 15px;" no-padding>\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Type</button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{s.Nature}}\n  </ion-col>\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Stone Name</button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{s.StoneName}}\n  </ion-col>\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Pcs  </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{s.Pieces}}\n  </ion-col>\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Weight(CT) </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{fixprice(s[\'Weight\'])}} ct\n\n  </ion-col>\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Rate  </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n     {{price(s.Rate)}}\n  </ion-col> -->\n\n\n    <!-- <ion-col  style="margin-top: 15px;" *ngIf="showdiamond.length - 1 == i" no-padding col-6>\n      <button ion-button clear small>Cut  </button>\n    </ion-col>\n    <ion-col  *ngIf="showdiamond.length - 1 == i" no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col  *ngIf="showdiamond.length - 1 == i" no-padding style="margin:auto" col-5>\n      {{productdet.Cut}}\n    </ion-col>\n    <ion-col  *ngIf="showdiamond.length - 1 == i" no-padding col-6>\n      <button ion-button clear small>Color </button>\n    </ion-col>\n    <ion-col  *ngIf="showdiamond.length - 1 == i" no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col  *ngIf="showdiamond.length - 1 == i" no-padding style="margin:auto" col-5>\n      {{productdet.Color}}\n    </ion-col>\n\n    <ion-col  *ngIf="showdiamond.length - 1 == i" no-padding col-6>\n      <button ion-button clear small>Shape  </button>\n    </ion-col>\n    <ion-col  *ngIf="showdiamond.length - 1 == i" no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col  *ngIf="showdiamond.length - 1 == i" no-padding style="margin:auto" col-5>\n      {{productdet.Shape}}\n    </ion-col>\n\n    <ion-col  *ngIf="showdiamond.length - 1 == i" no-padding col-6>\n      <button ion-button clear small>Clarity  </button>\n    </ion-col>\n    <ion-col  *ngIf="showdiamond.length - 1 == i" no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col  *ngIf="showdiamond.length - 1 == i" no-padding style="margin:auto" col-5>\n      {{productdet.Clarity}}\n    </ion-col>\n  </ion-row>\n</div>\n\n -->\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\cart-list-view\cart-list-view.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_14__providers_retail__["a" /* RetailProvider */]],
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_13__ionic_native_file_opener__["a" /* FileOpener */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */], __WEBPACK_IMPORTED_MODULE_14__providers_retail__["a" /* RetailProvider */], __WEBPACK_IMPORTED_MODULE_12__ionic_native_media_capture__["a" /* MediaCapture */], __WEBPACK_IMPORTED_MODULE_11__ionic_native_file_chooser__["a" /* FileChooser */], __WEBPACK_IMPORTED_MODULE_10__ionic_native_file_path__["a" /* FilePath */], __WEBPACK_IMPORTED_MODULE_9_ngx_image_compress__["a" /* NgxImageCompressService */], __WEBPACK_IMPORTED_MODULE_0__angular_core__["j" /* ChangeDetectorRef */], __WEBPACK_IMPORTED_MODULE_8__angular_platform_browser__["c" /* DomSanitizer */], __WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["x" /* Platform */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_2__ionic_native_toast__["a" /* Toast */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["a" /* ActionSheetController */], __WEBPACK_IMPORTED_MODULE_6__ionic_native_camera__["a" /* Camera */], __WEBPACK_IMPORTED_MODULE_4__ionic_native_file_transfer__["a" /* FileTransfer */], __WEBPACK_IMPORTED_MODULE_5__ionic_native_file__["a" /* File */], __WEBPACK_IMPORTED_MODULE_7__angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["b" /* AlertController */]])
    ], CartListViewPage);
    return CartListViewPage;
}());

//# sourceMappingURL=cart-list-view.js.map

/***/ }),

/***/ 431:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AvrproductdetailsPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__avrsearch_avrsearch__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__folderpress_folderpress__ = __webpack_require__(73);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__auto_auto__ = __webpack_require__(45);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__designs_designs__ = __webpack_require__(200);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__wishlist_wishlist__ = __webpack_require__(34);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








// @IonicPage()
var AvrproductdetailsPage = /** @class */ (function () {
    function AvrproductdetailsPage(toast, events, modal, comman, navCtrl, load, navParams) {
        var _this = this;
        this.toast = toast;
        this.events = events;
        this.modal = modal;
        this.comman = comman;
        this.navCtrl = navCtrl;
        this.load = load;
        this.navParams = navParams;
        this.id_product = this.navParams.get('id_product');
        this.design = this.navParams.get('design_no');
        this.empData = JSON.parse(localStorage.getItem('empDetail'));
        this.designs = [];
        // designs: any[]=[];
        this.last_id = 0;
        this.page_no = 1;
        this.id_ret_category = this.navParams.get('id_category');
        this.pagename = this.navParams.get('pagename');
        this.from = this.navParams.get('filter');
        this.checkStatus = false;
        this.total_records = 0;
        this.where = '';
        this.totalcartitems = localStorage.getItem('carts') != null ? JSON.parse(localStorage.getItem('carts'))['items'] : [];
        this.wish = [];
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        this.where = this.navParams.get('collect');
        // if(this.from != undefined){
        var postData = {
            // 'id_employee': this.empData['uid'] != null ? this.empData['uid'] : null,
            'type': 'active',
            'id_product': this.id_product,
            'last_id': this.last_id,
            'design_no': this.design
        };
        // this.from["lastid"] = this.last_id;
        this.from["page_no"] = this.page_no;
        this.from["type"] = 'pr';
        this.comman.metal(this.from).then(function (data) {
            // this.designs = data;
            _this.designs = data['ReturnObject'] != null ? data['ReturnObject'] : [];
            console.log(_this.designs);
            _this.total_records = data['total_records'];
            loader.dismiss();
        }, function (err) {
            loader.dismiss();
        });
        // }
        // else{
        //   var postData = {
        //     'id_employee': this.empData['uid'] != null ? this.empData['uid'] : null,
        //     'type': 'active',
        //     'id_product': this.id_product,
        //     'last_id': this.last_id,
        //     'design_no':this.design
        //   }
        //   this.comman.getsubdesigns(postData).then(data => {
        //     this.designs = data;
        //     console.log(this.designs);
        //     loader.dismiss();
        //   })
        // }
    }
    AvrproductdetailsPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad DesignsPage');
    };
    AvrproductdetailsPage.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        console.log(this.designs);
        this.page_no = this.page_no + 1;
        // if(this.from != undefined){
        this.from["lastid"] = this.designs[this.designs.length - 1]['id_tag_detail'];
        this.from["page_no"] = this.page_no;
        console.log(this.last_id);
        var postData = {
            // 'id_employee': this.empData['uid'] != null ? this.empData['uid'] : null,
            'type': 'active',
            'id_product': this.id_product,
            'last_id': this.last_id,
            'design_no': this.design
        };
        this.from["type"] = 'pr';
        this.comman.metal(this.from).then(function (data) {
            var productItems = data['ReturnObject'] != null ? data['ReturnObject'] : [];
            for (var index = 0; index < productItems.length; index++) {
                _this.designs.push(productItems[index]);
            }
            infiniteScroll.complete();
        });
        // }else{
        //   this.last_id = this.designs[this.designs.length - 1]['id_sub_design'];
        // console.log(this.last_id);
        // var postData = {
        //   'id_employee': this.empData['uid'] != null ? this.empData['uid'] : null,
        //   'type': 'active',
        //   'id_product': this.id_product,
        //   'last_id': this.last_id,
        //   'design_no':this.design
        // }
        // this.comman.getsubdesigns(postData).then(data => {
        //   console.log(data)
        //   for (let index = 0; index < data.length; index++) {
        //     this.designs.push(data[index])
        //   }
        //   infiniteScroll.complete();
        // })
        // }
    };
    AvrproductdetailsPage.prototype.openDesign = function (product_id) {
        product_id['net_wt'] = product_id['NetWt'];
        product_id['gross_wt'] = product_id['GrossWt'];
        product_id['metal_type'] = product_id['rate_field'];
        product_id['market_metal_type'] = product_id['market_rate_field'];
        product_id['tax_group_id'] = product_id['tgrp_id'];
        // if(this.from != undefined){
        // this.navCtrl.push( ProdetailPage, { proid: design_no } );
        if (product_id.hasOwnProperty('TagStone')) {
            product_id['TagStoneDetails'] = product_id['TagStone'];
        }
        localStorage.setItem('see', JSON.stringify(this.designs));
        console.log(JSON.parse(localStorage.getItem('see')));
        // product_id['arr'] = JSON.parse(localStorage.getItem('see'));
        // product_id['arr'].unshift(product_id);
        // this.comman.setdata(this.designs);
        // product_id['arr'] = this.designs;
        // product_id['arr'].unshift(product_id);
        // product_id['purities'] = [{'purity':'90.00','id_purity':1},{'purity':'80.00','id_purity':2}];
        // product_id['weights'] = [{'weight_description':'70g' ,'id_weight':1}];
        // product_id['sizes'] = [{'value':'70','name':'inch' ,'id_size':1}];
        // product_id['weight'] = '';
        // product_id['pcs'] = '';
        // product_id['due_date'] = '';
        // product_id['id_weight'] = '';
        // product_id['id_purity'] = '';
        // product_id['min_weight'] = '';
        // product_id['max_weight'] = '';
        // product_id['id_size'] = '';
        // product_id['sample_details'] = '';
        this.events.publish('inf', product_id);
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__designs_designs__["a" /* DesignsPage */], { filter: { metalcode: this.from['MetalCode'], product_id: product_id['product_id'] }, single: JSON.parse(localStorage.getItem('see')) });
        // }else{
        //   this.navCtrl.push(DesignDetailPage,{ 'id_category': this.id_ret_category,'id_product': this.id_product,'design_no':this.design,'id_sub_design':design_no.id_sub_design,'type':'edit'})
        // }
    };
    AvrproductdetailsPage.prototype.open = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_3__avrsearch_avrsearch__["a" /* AvrsearchPage */], { 'supplier': true });
    };
    AvrproductdetailsPage.prototype.grid = function () {
        console.log("grid");
        this.checkStatus = true;
    };
    AvrproductdetailsPage.prototype.listgrid = function () {
        console.log("listgrid");
        this.checkStatus = false;
    };
    AvrproductdetailsPage.prototype.price = function (data) {
        var temp1 = parseFloat(data).toFixed();
        return temp1;
    };
    //   sort(){
    //     console.log(this.designs)
    //     // else if(no == 4){
    //       this.designs = this.designs.sort(function(a, b){
    //         return parseInt(a.GrossWt) - parseInt(b.GrossWt)
    //     });
    //     console.log(this.designs)
    // }
    AvrproductdetailsPage.prototype.sort = function (now) {
        var _this = this;
        var profileModal = this.modal.create(__WEBPACK_IMPORTED_MODULE_4__folderpress_folderpress__["a" /* FolderpressPage */]);
        profileModal.present();
        profileModal.onDidDismiss(function (no) {
            console.log(no);
            if (no != null) {
                if (no == 2) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        var nameA = a['sub_design_name'].toLowerCase(), nameB = b['sub_design_name'].toLowerCase();
                        if (nameA < nameB)
                            return -1;
                        if (nameA > nameB)
                            return 1;
                        return 0; //default return value (no sorting)
                    });
                }
                else if (no == 3) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        var nameA = a['sub_design_name'].toLowerCase(), nameB = b['sub_design_name'].toLowerCase();
                        if (nameA > nameB)
                            return -1;
                        if (nameA < nameB)
                            return 1;
                        return 0; //default return value (no sorting)
                    });
                }
                else if (no == 4) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        if (a.Rate != null && b.Rate != null) {
                            return parseInt(a.Rate) - parseInt(b.Rate);
                        }
                        // if(a.Rate != null && b.Rate == null){
                        //   return parseInt(a.Rate) - parseInt(b.price)
                        //   }
                        //   if(a.Rate == null && b.Rate != null){
                        //     return parseInt(a.price) - parseInt(b.Rate)
                        //     }
                        //     if(a.Rate == null && b.Rate == null){
                        //       return parseInt(a.price) - parseInt(b.price)
                        //       }
                    });
                }
                else if (no == 5) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        if (b.Rate != null && a.Rate != null) {
                            return parseInt(b.Rate) - parseInt(a.Rate);
                        }
                        // if(b.Rate != null && a.Rate == null){
                        //   return parseInt(b.Rate) - parseInt(a.price)
                        //   }
                        //   if(b.Rate == null && a.Rate != null){
                        //     return parseInt(b.price) - parseInt(a.Rate)
                        //     }
                        //     if(b.Rate == null && a.Rate == null){
                        //       return parseInt(b.price) - parseInt(a.price)
                        //       }
                    });
                }
                else if (no == 6) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        return parseInt(a.weights['weight']) - parseInt(b.weights['weight']);
                    });
                }
                else if (no == 7) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        return parseInt(b.weights['weight']) - parseInt(a.weights['weight']);
                    });
                }
                else if (no == 8) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        return parseInt(a.timestamp) - parseInt(b.timestamp);
                    });
                }
                else if (no == 9) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        return parseInt(b.timestamp) - parseInt(a.timestamp);
                    });
                }
                console.log(no);
                console.log(_this.designs);
            }
        });
    };
    AvrproductdetailsPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    AvrproductdetailsPage.prototype.ionViewWillEnter = function () {
        var _this = this;
        this.events.publish('entered', true);
        this.events.publish('pageno', 5);
        this.comman.getwish().then(function (data) {
            console.log(data);
            _this.wish = data['supp_cat'];
        });
    };
    AvrproductdetailsPage.prototype.fixprice = function (data) {
        var temp1 = parseFloat(data).toFixed(3);
        // let temp:any = parseFloat(temp1);
        return temp1;
        // return temp.toLocaleString(undefined, {minimumFractionDigits: 3,
        //   maximumFractionDigits: 3});
        // return parseFloat(data).toLocaleString(undefined, {minimumFractionDigits: 2,
        //   maximumFractionDigits: 2});
        // return parseFloat(data).toFixed(2);
    };
    AvrproductdetailsPage.prototype.addWishlist = function (item, i) {
        var _this = this;
        var empData = JSON.parse(localStorage.getItem('sssuser'));
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        this.comman.addToWishlist({
            "customer_name": empData['customer']['firstname'],
            "mobile": empData['mobile'],
            "customer_id": empData['customer']['id_customer'],
            "id_sub_design": item['id_sub_design'],
            "product_id": item['product_id'],
            "design_id": item['design_id'],
            // "branch_id"       : empData['id_branch'],
            // "employee_id"     : empData['uid'],
            'id_supp_catalogue': item['id_supp_catalogue']
        }).then(function (data) {
            var toastMsg = _this.toast.create({
                message: data.msg,
                duration: 4000,
                position: 'middle'
            });
            toastMsg.present();
            if (_this.designs[i]['wishlist'] == 0) {
                _this.designs[i]['wishlist'] = 1;
            }
            else {
                _this.designs[i]['wishlist'] = 0;
            }
            loader.dismiss();
        }, function (err) {
            var toastMsg = _this.toast.create({
                message: "try again",
                duration: 4000,
                position: 'middle'
            });
            toastMsg.present();
            loader.dismiss();
        });
    };
    AvrproductdetailsPage.prototype.auto = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__auto_auto__["a" /* AutoPage */]);
    };
    AvrproductdetailsPage.prototype.wishlist = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__wishlist_wishlist__["a" /* WishlistPage */]);
    };
    AvrproductdetailsPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-avrproductdetails',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\avrproductdetails\avrproductdetails.html"*/'<!--\n  Generated template for the DesignsPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n-->\n<!-- <ion-header>\n  <ion-navbar>\n      <button ion-button menuToggle><ion-icon name="menu"></ion-icon></button>\n      <ion-title>SubDesigns\n        <ion-icon  name="md-funnel" (click)="open()" style="color:black !important;float: right;" ></ion-icon>\n\n      </ion-title> \n  </ion-navbar> \n</ion-header> \n\n\n<ion-content padding-vertical> \n  <ion-grid no-padding>\n      <ion-row *ngIf="designs.length > 0" text-center>\n          <ion-col text-wrap col-6 col-sm-6 col-md-4 col-lg-4 col-xl-4  *ngFor="let item of designs; let i=index" class="custom-2col" [ngClass]="animateClass" (click)="openDesign(item)">\n              <ion-card>\n                  <img class="full-image" src=\'{{item.default_image}}\' onerror="this.onerror=null;this.src=\'assets/no-img.png\';" imageCache/>\n                  <ion-item text-center no-margin>\n                      <h5 class="text-small theme-color">{{item.label}}</h5>\n                  </ion-item>\n              </ion-card> \n          </ion-col>\n      </ion-row> \n  </ion-grid> \n\n  <ion-row *ngIf="designs.length == 0 " style="text-align: center;">\n      <ion-col>\n          <h4>{{errormsg}}</h4>\n      </ion-col>\n  </ion-row>\n\n   <ion-infinite-scroll (ionInfinite)="doInfinite($event)">\n      <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="Loading more data..."></ion-infinite-scroll-content>\n  </ion-infinite-scroll> \n\n</ion-content> -->\n\n<ion-header>\n  <ion-navbar>\n      <!-- <button ion-button menuToggle>\n          <ion-icon name="menu"></ion-icon>\n      </button> -->\n      <ion-title>\n        <!-- Collections -->\n        <span>Products</span> <span *ngIf="total_records != \'\'">({{total_records}})</span>\n        <div  style="        width: 30px !important;float: right; " >\n          <ion-icon style="color:black;float: right;font-size:1.4em !important;" name="heart" (click)="wishlist()"></ion-icon>\n        <ion-badge *ngIf="wish != null && wish.length > 0" style="   background-color: red;\n          position: absolute;\n          top: -6px;\n          right: 5px;\n          border-radius: 100%;\n          font-size: 10px !important;\n      padding: 0px;\n      padding-top: 3px;\n      height: 16px;\n      width: 17px;"   color="danger">{{wish.length}}</ion-badge>                \n      \n      </div> \n         <ion-icon  name="md-funnel" (click)="open()" style="color:black !important;float: right;font-size:1.4em !important" ></ion-icon>\n         <ion-icon style="color:black !important;float: right;font-size:1.4em !important" name="search" (click)="auto()"></ion-icon>\n\n      </ion-title>\n  </ion-navbar>\n</ion-header>\n<ion-content>\n  <!-- <ion-row *ngIf="total_records != 0" style="background:#eee;">\n    <ion-col col-8 style="margin: auto;">\n      There are {{total_records}} products.\n    </ion-col>\n          <ion-col col-4 align="right">\n              <ion-icon   *ngIf="!checkStatus" (click)="grid()" name="grid" ></ion-icon> \n              <ion-icon  *ngIf="checkStatus"  (click)="listgrid()" name="list"></ion-icon>\n          </ion-col>\n      </ion-row> -->\n      <!-- <ion-row  style="">\n        <ion-col style="font-weight: bold;\n        font-size: medium !important;\n        margin: 10px;    text-transform: capitalize;color:#000000;text-align: center;">\n          {{designs[0][\'sub_design_name\']}} ({{total_records}})\n        </ion-col>\n            \n          </ion-row> -->\n          <!-- <ion-row  style="border: 1px solid lightgray;padding: 7px !important;">\n            \n            <ion-col (click)="sort()" col-4 >\n              <img style="height: 15px;" src="assets/up-down.png"><span style="color: black;    margin-left: 2px;">Sort</span>\n            </ion-col>\n          <ion-col style="text-align: center;" (click)="open()" col-4 >\n            <ion-icon     name="ios-funnel-outline" ></ion-icon><span style="color: black;">Filter</span>\n        </ion-col>\n                  <ion-col style="text-align: end;" col-4 *ngIf="!checkStatus" (click)="grid()">\n                      <ion-icon     name="grid" ></ion-icon><span *ngIf="!checkStatus"  style="color: black;">View Style</span> \n                  </ion-col>\n                  <ion-col style="text-align: end;" col-4 *ngIf="checkStatus" (click)="listgrid()">\n                    <ion-icon     name="list"></ion-icon><span *ngIf="checkStatus"  style="color: black;">View Style</span>\n                </ion-col>\n              </ion-row> -->\n      <ion-grid no-padding>\n\n  <ion-row [class.hide]="checkStatus">\n      <ion-col style="padding: 2px !important;" col-6 col-sm-6 col-md-4 col-lg-4 col-xl-4 [ngClass]="animateClass" *ngFor=" let item of designs; let i=index "  no-padding>\n           <ion-card style="border: 1px solid #e4e4e4;height: 180px;border-radius: 2px">\n             <!-- <div style="margin: 3px;"><span *ngIf="item.is_stock_avail==1 && item.stock_manage == 1" class="instock">Instock</span><span *ngIf="item.is_stock_avail==0 && item.stock_manage == 1"  class="outofstock">Out of stock</span></div> -->\n             <!-- <div style="margin: 3px;text-align: right;"><span class="instock">{{item.BranchName}}</span></div> -->\n             <!-- <ion-icon [ngClass] = "item.wishlist == 1 ? \'co\' : \'noco\' " (click)="addWishlist(item,i)" name="heart"></ion-icon>  -->\n\n             <img (click)="openDesign(item)" style="height: 150px;width: auto;margin: 0 auto;object-fit: cover !important;" *ngIf=\'item.TagImage != null\' src=\'{{item.TagImage}}\' onerror="this.src=\'assets/no-img.png\'" imageCache/>\n              <img (click)="openDesign(item)" style="height: 150px;margin: 0 auto;object-fit: cover !important;" *ngIf=\'item.TagImage == null\' src=\'assets/no-img.png\' imageCache/>\n              <!-- <div (click)="openDesign(item)" *ngIf="item.Status != \'OPEN\'" style="    position: absolute;\n  top: 55px;\n  transform: rotate(-32deg);                left: 0;\n              right: 0;\n              text-align: center;\n              background: white;\n              padding: 8px;">OUT OF STOCK</div> -->\n              <div (click)="openDesign(item)" class="row"  style="    text-align: center;\n              font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 14px;overflow: hidden;color: #bb9532;\n        justify-content: center;\n        align-items: center;text-transform: capitalize;">\n          <div  class="col" col-3 style="text-align: center;\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px !important;\n          overflow: hidden;\n          display: grid;\n          justify-content: left;\n          align-items: center;\n          color: black !important;\n          text-transform: capitalize;">\n                  Product\n        \n          </div>\n          <div class="col" col-1 style="text-align: center;\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px !important;\n          overflow: hidden;\n          display: grid !important;\n          justify-content: left;\n          align-items: center;\n          color: black !important;\n          text-transform: capitalize;">\n            :\n                  </div>\n          <div class="col" col-8 style="\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px !important;\n          overflow: scroll;\n           white-space: nowrap;\n                     display: grid;\n          justify-content: left;\n          align-items: center;\n          color: #962129 !important;\n          text-transform: capitalize;">\n                  <span>{{item.ProductName}}</span>\n        \n                  </div>\n                    \n        \n              </div>\n\n              \n\n               <!-- <div (click)="openDesign(item)" class="row"  style="    text-align: center;\n               font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 14px;overflow: hidden;color: #bb9532;\n         justify-content: center;\n         align-items: center;text-transform: capitalize;">\n           <div  class="col" col-3 style="text-align: center;\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px !important;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: black !important;\n           text-transform: capitalize;">\n                   Design\n         \n           </div>\n           <div class="col" col-1 style="text-align: center;\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px !important;\n           overflow: hidden;\n           display: grid !important;\n           justify-content: left;\n           align-items: center;\n           color: black !important;\n           text-transform: capitalize;">\n             :\n                   </div>\n           <div class="col" col-8 style="\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px !important;\n           overflow: scroll;\n            white-space: nowrap;\n                      display: grid;\n           justify-content: left;\n           align-items: center;\n           color: #962129 !important;\n           text-transform: capitalize;">\n                   <span>{{item.sub_design_name}}</span>\n         \n                   </div>\n                     \n         \n               </div>\n               <div (click)="openDesign(item)" class="row"  style="    text-align: center;\n               font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 14px;overflow: hidden;color: #bb9532;\n         justify-content: center;\n         align-items: center;text-transform: capitalize;">\n           <div  class="col" col-3 style="text-align: center;\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px !important;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: black !important;\n           text-transform: capitalize;">\n                   WtRange\n         \n           </div>\n                     <div  class="col" col-1 style="text-align: center;\n                     height: 25px;\n                     font-weight: 500;\n                     text-overflow: ellipsis;\n                     padding: 4px;\n                     padding-bottom: 0px !important;\n                     font-size: 10px !important;\n                     overflow: hidden;\n                     white-space: nowrap;\n   padding-top: 8px;                      justify-content: left;\n   display: grid;\n                     align-items: center;\n                     color: black !important;\n                     text-transform: capitalize;">\n                       :\n                             </div>\n           <div class="col" col-8 style="\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px !important;\n           overflow: scroll;\n           white-space: nowrap;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: #962129 !important;\n           text-transform: capitalize;">\n                   <span>    {{fixprice(item[\'weights\'][\'from_weight\'])}} g - {{fixprice(item[\'weights\'][\'to_weight\'])}} g\n                  </span>\n         \n                   </div>\n                     \n         \n               </div> -->\n              <!-- <div (click)="openDesign(item)" class="row"  style="    text-align: center;\n              font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 14px;overflow: hidden;color: #bb9532;\n        justify-content: center;\n        align-items: center;text-transform: capitalize;">\n          <div  class="col" col-4 style="text-align: center;\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: hidden;\n          display: grid;\n          justify-content: left;\n          align-items: center;\n          color: black !important;\n          text-transform: capitalize;">\n                  Id.\n        \n          </div>\n          <div class="col" col-1 style="text-align: center;\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: hidden;\n          display: grid !important;\n          justify-content: left;\n          align-items: center;\n          color: black !important;\n          text-transform: capitalize;">\n            :\n                  </div>\n          <div class="col" col-7 style="\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: hidden;\n          display: grid;\n          justify-content: left;\n          align-items: center;\n          color: #962129 !important;\n          text-transform: capitalize;">\n                  <span>{{item.id_supp_catalogue}}</span>\n        \n                  </div>\n                    \n        \n              </div> -->\n\n<!-- \n              <div (click)="openDesign(item)" class="row"  style="    text-align: center;\n              font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 10px;overflow: hidden;color: #bb9532;\n        justify-content: left;\n        align-items: center;text-transform: capitalize;">\n          <div class="col" col-4 style="text-align: center;\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: hidden;\n          display: grid;\n          justify-content: left;\n          align-items: center;\n          color: black !important;\n          text-transform: capitalize;">\n                  G.Wt.\n        \n                  </div>\n                    <div class="col" col-1 style="text-align: center;\n                    height: 25px;\n                    font-weight: 500;\n                    text-overflow: ellipsis;\n                    padding: 4px;\n                    padding-bottom: 0px !important;\n                    font-size: 10px;\n                    overflow: hidden;\n                    display: grid;\n                    justify-content: left;\n                    align-items: center;\n                    color: black !important;\n                    text-transform: capitalize;">\n                      :\n                            </div>\n          <div class="col" col-7 style="\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: hidden;\n          display: grid;\n          justify-content: left;\n          align-items: center;\n          color: #962129 !important;\n          text-transform: capitalize;">\n                  {{item.GrossWt}} g\n        \n                  </div>\n                    \n        \n              </div> -->\n\n              <!-- <div (click)="openDesign(item)" class="row"  style="    text-align: center;\n              font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 10px;overflow: hidden;color: #bb9532;\n        justify-content: left;\n        align-items: center;text-transform: capitalize;">\n          <div class="col" col-4 style="text-align: center;\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: hidden;\n          display: grid;\n          justify-content: left;\n          align-items: center;\n          color: black !important;\n          text-transform: capitalize;">\n                  N.Wt.\n        \n                  </div>\n                    <div class="col" col-1 style="text-align: center;\n                    height: 25px;\n                    font-weight: 500;\n                    text-overflow: ellipsis;\n                    padding: 4px;\n                    padding-bottom: 0px !important;\n                    font-size: 10px;\n                    overflow: hidden;\n                    display: grid;\n                    justify-content: left;\n                    align-items: center;\n                    color: black !important;\n                    text-transform: capitalize;">\n                      :\n                            </div>\n          <div class="col" col-7 style="\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: hidden;\n          display: grid;\n          justify-content: left;\n          align-items: center;\n          color: #962129 !important;\n          text-transform: capitalize;">\n                  {{item.net_wt}} g\n        \n                  </div>\n                    \n        \n              </div> -->\n\n              <!-- <div class="row"  style="    text-align: center;\n              font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 10px;overflow: hidden;color: #bb9532;\n        justify-content: left;\n        align-items: center;text-transform: capitalize;">\n           <div (click)="openDesign(item)" class="col" col-3 style="text-align: center;\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: hidden;\n          display: grid;\n          justify-content: left;\n          align-items: center;\n          color: black !important;\n          text-transform: capitalize;">\n                  Design\n        \n                  </div>\n                    <div (click)="openDesign(item)" class="col" col-1 style="text-align: center;\n                    height: 25px;\n                    font-weight: 500;\n                    text-overflow: ellipsis;\n                    padding: 4px;\n                    padding-bottom: 0px !important;\n                    font-size: 10px;\n                    overflow: hidden;\n                    display: grid;\n                    justify-content: left;\n                    align-items: center;\n                    color: black !important;\n                    text-transform: capitalize;">\n                      :\n                            </div> \n          <div class="col" col-8 style="\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: scroll !important;\n          display: grid;\n          justify-content: left;\n          align-items: center;\n          color: #962129 !important;\n          text-transform: capitalize;\n          display: contents;">\n                 <span (click)="openDesign(item)" style="    margin-left: 4px;\n                 white-space: nowrap;\n                 padding-top: 5px;\n                 width: 34%;\n                 overflow: scroll !important;\n                text-align: left;"> {{item.sub_design_name}}</span>  -->\n                  <!-- <div style="margin-left:10px;"> -->\n                    <!-- <ion-icon style="    background:#000000;\n                  color: #ffc04b;\n                  border-radius: 5px;" (click)="proceedToWishlist(item)" name="ios-cart-outline"></ion-icon> -->\n                   <!-- <ion-icon [ngClass] = "item.wishlist == 1 ? \'co\' : \'noco\' " (click)="addWishlist(item)" name="heart"></ion-icon> \n                  </div> -->\n        \n          <!-- </div>\n                    \n        \n              </div> -->\n  \n              <!-- <div class="row"  style="text-align: center;">\n                  <div class="col" col-12>\n                    <div style="\n                   text-align: center;color: #86354d !important;\n                    ">\n                      <span style="font-weight: bold;font-size: 20px;">{{price(item.Rate)}}</span>\n                    </div>\n                   \n                  </div>\n                \n                </div> -->\n           \n          </ion-card>\n          \n      </ion-col>\n      <!-- <div class="itemempty"  *ngIf="designs?.length == 0">No item to display</div> -->\n  </ion-row>\n\n  </ion-grid>\n  <p  [class.hide]="!checkStatus" style="    margin-top: 0px;">\n    <ion-card *ngFor=" let item of designs; let i=index " style="border: 1px solid #e4e4e4;height: 130px;border-radius: 2px">\n\n      <ion-row >\n\n      <ion-col (click)="openDesign(item)" col-4>\n        <ion-icon [ngClass] = "item.wishlist == 1 ? \'co\' : \'noco\' " (click)="addWishlist(item,i)" name="heart"></ion-icon> \n\n        <img style="height: 120px;width: auto;margin: 0 auto;object-fit: cover !important;" *ngIf=\'item.TagImage != null\' src=\'{{item.TagImage}}\' onerror="this.src=\'assets/no-img.png\'" imageCache/>\n        <img style="height: 120px;margin: 0 auto;object-fit: cover !important;" *ngIf=\'item.TagImage == null\' src=\'assets/no-img.png\' imageCache/>\n        <!-- <div *ngIf="item.Status != \'OPEN\'" style="    position: absolute;\n  top: 50px;\n  transform: rotate(-32deg);                 left: 0;\n               right: 0;\n               text-align: center;\n               background: white;\n               padding: 8px;">OUT OF STOCK</div> -->\n      </ion-col>\n          <ion-col col-8  [ngClass]="animateClass"  >\n              <!-- <div style="margin: 3px;"><span *ngIf="item.is_stock_avail==1 && item.stock_manage == 1" class="instock">Instock</span><span *ngIf="item.is_stock_avail==0 && item.stock_manage == 1"  class="outofstock">Out of stock</span></div> -->\n              <!-- <div style="margin: 3px;text-align: right;"><span class="instock">{{item.BranchName}}</span></div> -->\n \n              <div (click)="openDesign(item)" class="row"  style="    text-align: center;\n               font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 14px;overflow: hidden;color: #bb9532;\n         justify-content: center;\n         align-items: center;text-transform: capitalize;margin-top: 10px;">\n           <div  class="col" col-3 style="text-align: center;\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px !important;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: black !important;\n           text-transform: capitalize;">\n                   Product\n         \n           </div>\n                     <div  class="col" col-1 style="text-align: center;\n                     height: 25px;\n                     font-weight: 500;\n                     text-overflow: ellipsis;\n                     padding: 4px;\n                     padding-bottom: 0px !important;\n                     font-size: 10px !important;\n                     overflow: hidden;\n                     white-space: nowrap;\n   padding-top: 8px;                      justify-content: left;\n   display: grid;\n                     align-items: center;\n                     color: black !important;\n                     text-transform: capitalize;">\n                       :\n                             </div>\n           <div class="col" col-8 style="\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px !important;\n           overflow: scroll;\n           white-space: nowrap;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: #962129 !important;\n           text-transform: capitalize;">\n                   <span>{{item.ProductName}}</span>\n         \n                   </div>\n                     \n         \n               </div>\n\n               <!-- <div (click)="openDesign(item)" class="row"  style="    text-align: center;\n               font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 14px;overflow: hidden;color: #bb9532;\n         justify-content: center;\n         align-items: center;text-transform: capitalize;">\n           <div  class="col" col-3 style="text-align: center;\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px !important;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: black !important;\n           text-transform: capitalize;">\n                   Design\n         \n           </div>\n                     <div  class="col" col-1 style="text-align: center;\n                     height: 25px;\n                     font-weight: 500;\n                     text-overflow: ellipsis;\n                     padding: 4px;\n                     padding-bottom: 0px !important;\n                     font-size: 10px !important;\n                     overflow: hidden;\n                     white-space: nowrap;\n   padding-top: 8px;                      justify-content: left;\n   display: grid;\n                     align-items: center;\n                     color: black !important;\n                     text-transform: capitalize;">\n                       :\n                             </div>\n           <div class="col" col-8 style="\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px !important;\n           overflow: scroll;\n           white-space: nowrap;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: #962129 !important;\n           text-transform: capitalize;">\n                   <span>{{item.sub_design_name}}</span>\n         \n                   </div>\n                     \n         \n               </div>\n\n               <div (click)="openDesign(item)" class="row"  style="    text-align: center;\n               font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 14px;overflow: hidden;color: #bb9532;\n         justify-content: center;\n         align-items: center;text-transform: capitalize;">\n           <div  class="col" col-3 style="text-align: center;\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px !important;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: black !important;\n           text-transform: capitalize;">\n                   WtRange\n         \n           </div>\n                     <div  class="col" col-1 style="text-align: center;\n                     height: 25px;\n                     font-weight: 500;\n                     text-overflow: ellipsis;\n                     padding: 4px;\n                     padding-bottom: 0px !important;\n                     font-size: 10px !important;\n                     overflow: hidden;\n                     white-space: nowrap;\n   padding-top: 8px;                      justify-content: left;\n   display: grid;\n                     align-items: center;\n                     color: black !important;\n                     text-transform: capitalize;">\n                       :\n                             </div>\n           <div class="col" col-8 style="\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px !important;\n           overflow: scroll;\n           white-space: nowrap;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: #962129 !important;\n           text-transform: capitalize;">\n                   <span>    {{fixprice(item[\'weights\'][\'from_weight\'])}} g - {{fixprice(item[\'weights\'][\'to_weight\'])}} g\n                  </span>\n         \n                   </div>\n                     \n         \n               </div>\n               -->\n               <!-- <div (click)="openDesign(item)" class="row"  style="    text-align: center;\n               font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 14px;overflow: hidden;color: #bb9532;\n         justify-content: center;\n         align-items: center;text-transform: capitalize;">\n           <div  class="col" col-3 style="text-align: center;\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: black !important;\n           text-transform: capitalize;">\n                   Id.\n         \n           </div>\n                     <div  class="col" col-1 style="text-align: center;\n                     height: 25px;\n                     font-weight: 500;\n                     text-overflow: ellipsis;\n                     padding: 4px;\n                     padding-bottom: 0px !important;\n                     font-size: 10px;\n                     overflow: hidden;\n                     white-space: nowrap;\n   padding-top: 8px;                      justify-content: left;\n   display: grid;\n                     align-items: center;\n                     color: black !important;\n                     text-transform: capitalize;">\n                       :\n                             </div>\n           <div class="col" col-8 style="\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: #962129 !important;\n           text-transform: capitalize;">\n                   <span>{{item.id_supp_catalogue}}</span>\n         \n                   </div>\n                     \n         \n               </div> -->\n\n\n               <!-- <div (click)="openDesign(item)" class="row"  style="    text-align: center;\n               font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 10px;overflow: hidden;color: #bb9532;\n         justify-content: left;\n         align-items: center;text-transform: capitalize;">\n           <div class="col" col-3 style="text-align: center;\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: black !important;\n           text-transform: capitalize;">\n                   G.Wt.\n         \n                   </div>\n                     <div class="col" col-1 style="text-align: center;\n                     height: 25px;\n                     font-weight: 500;\n                     text-overflow: ellipsis;\n                     padding: 4px;\n                     padding-bottom: 0px !important;\n                     font-size: 10px;\n                     overflow: hidden;\n                     display: grid;\n                     justify-content: left;\n                     align-items: center;\n                     color: black !important;\n                     text-transform: capitalize;">\n                       :\n                             </div>\n           <div class="col" col-8 style="\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: #962129 !important;\n           text-transform: capitalize;">\n                   {{item.GrossWt}} g\n         \n                   </div>\n                     \n         \n               </div>\n\n               <div (click)="openDesign(item)" class="row"  style="    text-align: center;\n               font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 10px;overflow: hidden;color: #bb9532;\n         justify-content: left;\n         align-items: center;text-transform: capitalize;">\n           <div class="col" col-3 style="text-align: center;\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: black !important;\n           text-transform: capitalize;">\n                   N.Wt.\n         \n                   </div>\n                     <div class="col" col-1 style="text-align: center;\n                     height: 25px;\n                     font-weight: 500;\n                     text-overflow: ellipsis;\n                     padding: 4px;\n                     padding-bottom: 0px !important;\n                     font-size: 10px;\n                     overflow: hidden;\n                     display: grid;\n                     justify-content: left;\n                     align-items: center;\n                     color: black !important;\n                     text-transform: capitalize;">\n                       :\n                             </div>\n           <div class="col" col-8 style="\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: #962129 !important;\n           text-transform: capitalize;">\n                   {{item.net_wt}} g\n         \n                   </div>\n                     \n         \n               </div> -->\n\n               <!-- <div class="row"  style="    margin-top: 10px;text-align: center;\n               font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 10px;overflow: hidden;color: #bb9532;\n         justify-content: left;\n         align-items: center;text-transform: capitalize;margin-top: 10px;">\n           <div (click)="openDesign(item)" class="col" col-3 style="text-align: center;\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: black !important;\n           text-transform: capitalize;">\n                   Design\n         \n                   </div> \n                      <div (click)="openDesign(item)" class="col" col-1 style="text-align: center;\n                     height: 25px;\n                     font-weight: 500;\n                     text-overflow: ellipsis;\n                     padding: 4px;\n                     padding-bottom: 0px !important;\n                     font-size: 10px;\n                     overflow: hidden;\n                     display: grid;\n                     justify-content: left;\n                     align-items: center;\n                     color: black !important;\n                     text-transform: capitalize;">\n                       :\n                             </div>\n           <div class="col" col-8 style="\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: #962129 !important;\n           text-transform: capitalize;\n           display: contents;">\n                  <span (click)="openDesign(item)" style="    margin-left: 4px;\n                  white-space: nowrap;\n                  padding-top: 5px;\n                  width: 42%;\n                  overflow: scroll;\n                 text-align: left;"> {{item.sub_design_name}}</span>  -->\n                   <!-- <div style="margin-left:10px;"> -->\n                     <!-- <ion-icon style="    background:#000000;\n                   color: #ffc04b;\n                   border-radius: 5px;" (click)="proceedToWishlist(item)" name="ios-cart-outline"></ion-icon>  -->\n                   <!-- <ion-icon [ngClass] = "item.wishlist == 1 ? \'co\' : \'noco\' " (click)="addWishlist(item)" name="heart"></ion-icon> \n                   </div> -->\n<!--          \n           </div>\n                     \n         \n               </div> -->\n   \n               <!-- <div class="row"  style="text-align: center;">\n                   <div class="col" col-12>\n                     <div style="\n                    text-align: center;color: #86354d !important;\n                     ">\n                       <span style="font-weight: bold;font-size: 20px;">{{price(item.Rate)}}</span>\n                     </div>\n                    \n                   </div>\n                 \n                 </div> -->\n                </ion-col>\n         \n              </ion-row>\n           </ion-card>\n        \n         \n          </p>\n  \n  \n         <ion-infinite-scroll   style="text-align: center;" (ionInfinite)="doInfinite($event)">\n              <ion-infinite-scroll-content ></ion-infinite-scroll-content> \n              <!-- <img *ngIf="gif" style=" max-width: 60px !important;" src="assets/loader.gif"> -->\n  \n          </ion-infinite-scroll>  \n\n          <!-- <ion-fab bottom right >\n            <button (click)="sort()" ion-fab>Sort</button>\n          \n          </ion-fab> -->\n          <!-- <ion-fab bottom right >\n            <button ion-fab>Sort</button>\n            <ion-fab-list side="top">\n              <button ion-fab (click)="sort(2)">A to Z</button>\n              <button ion-fab (click)="sort(3)">Z to A</button>\n              <button ion-fab (click)="sort(4)">Cost low </button>\n              <button ion-fab (click)="sort(5)">Cost high </button>\n              <button ion-fab (click)="sort(6)">Wg low </button>\n              <button ion-fab (click)="sort(7)">Wg high </button>\n      \n            </ion-fab-list>\n          </ion-fab> -->\n  </ion-content>\n  '/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\avrproductdetails\avrproductdetails.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */], __WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */]])
    ], AvrproductdetailsPage);
    return AvrproductdetailsPage;
}());

//# sourceMappingURL=avrproductdetails.js.map

/***/ }),

/***/ 432:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser_dynamic__ = __webpack_require__(433);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__app_module__ = __webpack_require__(437);


Object(__WEBPACK_IMPORTED_MODULE_0__angular_platform_browser_dynamic__["a" /* platformBrowserDynamic */])().bootstrapModule(__WEBPACK_IMPORTED_MODULE_1__app_module__["a" /* AppModule */]);
//# sourceMappingURL=main.js.map

/***/ }),

/***/ 437:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export declarations */
/* unused harmony export entryComponents */
/* unused harmony export providers */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ionic_img_viewer__ = __webpack_require__(473);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ionic_native_splash_screen__ = __webpack_require__(386);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__ionic_native_status_bar__ = __webpack_require__(390);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__angular_http__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__angular_platform_browser_animations__ = __webpack_require__(497);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__ionic_storage__ = __webpack_require__(499);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__app_component__ = __webpack_require__(503);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__ionic_native_market__ = __webpack_require__(392);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__ionic_native_date_picker__ = __webpack_require__(66);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__pipes_truncate_truncate__ = __webpack_require__(777);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__ionic_native_image_picker__ = __webpack_require__(65);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__ionic_native_toast__ = __webpack_require__(62);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__ionic_native_printer__ = __webpack_require__(95);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__ionic_native_network__ = __webpack_require__(401);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__ionic_native_app_version__ = __webpack_require__(402);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__ionic_native_android_permissions__ = __webpack_require__(120);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__ionic_native_file_opener__ = __webpack_require__(51);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__ionic_native_file__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__ionic_native_file_transfer__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__ionic_native_file_chooser__ = __webpack_require__(50);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__ionic_native_file_path__ = __webpack_require__(24);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__ionic_native_camera__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__ionic_native_crop__ = __webpack_require__(406);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__ionic_native_transfer__ = __webpack_require__(58);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_27__pages_home_home__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_28__pages_write_review_write_review__ = __webpack_require__(411);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_29__pages_login_login__ = __webpack_require__(63);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_30__pages_maintenance_maintenance__ = __webpack_require__(416);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_31__pages_introimg_introimg__ = __webpack_require__(415);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_32__pages_otp_otp__ = __webpack_require__(403);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_33__pages_estimation_estimation__ = __webpack_require__(72);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_34__pages_cus_register_cus_register__ = __webpack_require__(198);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_35__pages_category_category__ = __webpack_require__(199);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_36__pages_products_products__ = __webpack_require__(412);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_37__pages_designs_designs__ = __webpack_require__(200);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_38__pages_e_catalog_e_catalog__ = __webpack_require__(201);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_39__pages_design_detail_design_detail__ = __webpack_require__(202);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_40__pages_img_editor_editor__ = __webpack_require__(71);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_41__pages_wishlist_wishlist__ = __webpack_require__(34);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_42__pages_cart_cart__ = __webpack_require__(27);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_43__pages_stock_entry_stock_entry__ = __webpack_require__(203);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_44__pages_modal_countrymodel_countrymodel__ = __webpack_require__(92);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_45__pages_modal_customer_customer__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_46__pages_modal_employee_employee__ = __webpack_require__(49);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_47__pages_modal_add_esti_item_add_esti_item__ = __webpack_require__(193);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_48__pages_modal_mas_search_mas_search__ = __webpack_require__(96);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_49__pages_modal_esti_basic_detail_esti_basic_detail__ = __webpack_require__(428);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_50__pages_modal_filter_filter__ = __webpack_require__(413);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_51__pages_modal_add_quick_cus_add_quick_cus__ = __webpack_require__(189);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_52__pages_modal_add_stone_detail_add_stone_detail__ = __webpack_require__(194);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_53__ionic_native_barcode_scanner__ = __webpack_require__(64);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_54__app_pipes_filter_pipe_pipe__ = __webpack_require__(778);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_55__components_tree_view_tree_view__ = __webpack_require__(779);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_56__components_items_list_items_list__ = __webpack_require__(780);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_57__pages_edittag_edittag__ = __webpack_require__(781);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_58_ionic_cordova_plugin_ratio_crop__ = __webpack_require__(69);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_59__components_carousel_carousel__ = __webpack_require__(782);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_60__pages_estimationlist_estimationlist__ = __webpack_require__(204);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_61__ionic_native_bluetooth_serial__ = __webpack_require__(409);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_62__pages_bluetooth_bluetooth__ = __webpack_require__(195);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_63__pages_branch_branch__ = __webpack_require__(414);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_64__pages_subdesignimg_subdesignimg__ = __webpack_require__(418);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_65__pages_subdesignlist_subdesignlist__ = __webpack_require__(417);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_66__pages_cusupdate_cusupdate__ = __webpack_require__(188);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_67__pages_subdesign_subdesign__ = __webpack_require__(91);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_68__pages_designimg_designimg__ = __webpack_require__(420);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_69__pages_designlist_designlist__ = __webpack_require__(419);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_70__pages_customorder_customorder__ = __webpack_require__(421);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_71__pages_gift_gift__ = __webpack_require__(410);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_72__pages_other_other__ = __webpack_require__(407);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_73_ngx_image_compress__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_74__ionic_native_in_app_browser__ = __webpack_require__(422);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_75__ionic_native_device__ = __webpack_require__(187);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_76__pages_mass2_mass2__ = __webpack_require__(783);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_77__pages_avrsearch_avrsearch__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_78__pages_prodetail_prodetail__ = __webpack_require__(70);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_79__pages_auto_auto__ = __webpack_require__(45);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_80__pages_collection_collection__ = __webpack_require__(423);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_81__pages_folderpress_folderpress__ = __webpack_require__(73);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_82__ionic_native_media_capture__ = __webpack_require__(93);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_83__pages_supsubdesign_supsubdesign__ = __webpack_require__(197);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_84__pages_supprodetail_supprodetail__ = __webpack_require__(196);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_85__pages_addstone2_addstone2__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_86__pages_faq_faq__ = __webpack_require__(424);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_87__pages_edittag2_edittag2__ = __webpack_require__(186);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_88_ionic3_star_rating__ = __webpack_require__(784);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_89__pages_details_details__ = __webpack_require__(404);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_90__pages_charges_charges__ = __webpack_require__(94);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_91__pages_notconverted_notconverted__ = __webpack_require__(425);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_92__pages_stonesearch_stonesearch__ = __webpack_require__(192);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_93__pages_mass3_mass3__ = __webpack_require__(408);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_94__pages_masssearch2_masssearch2__ = __webpack_require__(427);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_95__pages_direct_direct__ = __webpack_require__(426);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_96__pages_avrproductdetails_avrproductdetails__ = __webpack_require__(431);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_97__pages_instock_instock__ = __webpack_require__(786);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_98__pages_order_status_order_status__ = __webpack_require__(190);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_99__pages_cart_list_view_cart_list_view__ = __webpack_require__(429);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_100__pages_status_view_status_view__ = __webpack_require__(787);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_101__pages_order_status_view_order_status_view__ = __webpack_require__(405);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_102__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_103__pipes_indian_currency__ = __webpack_require__(788);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};












//import { SocialSharing } from '@ionic-native/social-sharing';


//import { Ionic2RatingModule } from 'ionic2-rating/';

//import { OneSignal } from '@ionic-native/onesignal';
// import { QRScanner, QRScannerStatus } from '@ionic-native/qr-scanner';












// PAGES

















// MODAL










//Pipes

// COMPONENTS



















/* import { AnimationService, AnimationBuilder } from 'css-animator'; */






























// import { DocumentViewer,DocumentViewerOptions } from '@ionic-native/document-viewer';
var pages = [
    __WEBPACK_IMPORTED_MODULE_9__app_component__["a" /* MyApp */],
    __WEBPACK_IMPORTED_MODULE_27__pages_home_home__["a" /* HomePage */],
    __WEBPACK_IMPORTED_MODULE_29__pages_login_login__["a" /* LoginPage */],
    __WEBPACK_IMPORTED_MODULE_30__pages_maintenance_maintenance__["a" /* MaintenancePage */],
    __WEBPACK_IMPORTED_MODULE_31__pages_introimg_introimg__["a" /* IntroimgPage */],
    __WEBPACK_IMPORTED_MODULE_32__pages_otp_otp__["a" /* OtpPage */],
    __WEBPACK_IMPORTED_MODULE_33__pages_estimation_estimation__["a" /* EstiPage */],
    __WEBPACK_IMPORTED_MODULE_34__pages_cus_register_cus_register__["a" /* CusRegisterPage */],
    __WEBPACK_IMPORTED_MODULE_35__pages_category_category__["a" /* CategoryPage */],
    __WEBPACK_IMPORTED_MODULE_36__pages_products_products__["a" /* ProductsPage */],
    __WEBPACK_IMPORTED_MODULE_37__pages_designs_designs__["a" /* DesignsPage */],
    __WEBPACK_IMPORTED_MODULE_38__pages_e_catalog_e_catalog__["a" /* EcatalogPage */],
    __WEBPACK_IMPORTED_MODULE_39__pages_design_detail_design_detail__["a" /* DesignDetailPage */],
    //MODAL
    __WEBPACK_IMPORTED_MODULE_44__pages_modal_countrymodel_countrymodel__["a" /* CountrymodelPage */],
    __WEBPACK_IMPORTED_MODULE_45__pages_modal_customer_customer__["a" /* CusSearchPage */],
    __WEBPACK_IMPORTED_MODULE_47__pages_modal_add_esti_item_add_esti_item__["a" /* AddEstiItemPage */],
    __WEBPACK_IMPORTED_MODULE_46__pages_modal_employee_employee__["a" /* EmpSearchPage */],
    __WEBPACK_IMPORTED_MODULE_48__pages_modal_mas_search_mas_search__["a" /* MasSearchPage */],
    __WEBPACK_IMPORTED_MODULE_49__pages_modal_esti_basic_detail_esti_basic_detail__["a" /* EstiBasicDetailPage */],
    __WEBPACK_IMPORTED_MODULE_50__pages_modal_filter_filter__["a" /* FilterPage */],
    __WEBPACK_IMPORTED_MODULE_40__pages_img_editor_editor__["a" /* EditorPage */],
    __WEBPACK_IMPORTED_MODULE_51__pages_modal_add_quick_cus_add_quick_cus__["a" /* AddQuickCus */],
    __WEBPACK_IMPORTED_MODULE_52__pages_modal_add_stone_detail_add_stone_detail__["a" /* AddStoneDetailPage */],
    __WEBPACK_IMPORTED_MODULE_41__pages_wishlist_wishlist__["a" /* WishlistPage */],
    __WEBPACK_IMPORTED_MODULE_42__pages_cart_cart__["a" /* CartPage */],
    __WEBPACK_IMPORTED_MODULE_43__pages_stock_entry_stock_entry__["a" /* StockCodeEntryPage */],
    __WEBPACK_IMPORTED_MODULE_57__pages_edittag_edittag__["a" /* EdittagPage */],
    __WEBPACK_IMPORTED_MODULE_60__pages_estimationlist_estimationlist__["a" /* EstimationlistPage */],
    __WEBPACK_IMPORTED_MODULE_62__pages_bluetooth_bluetooth__["a" /* BluetoothPage */],
    __WEBPACK_IMPORTED_MODULE_63__pages_branch_branch__["a" /* BranchPage */],
    __WEBPACK_IMPORTED_MODULE_64__pages_subdesignimg_subdesignimg__["a" /* SubdesignimgPage */],
    __WEBPACK_IMPORTED_MODULE_65__pages_subdesignlist_subdesignlist__["a" /* SubdesignlistPage */],
    __WEBPACK_IMPORTED_MODULE_66__pages_cusupdate_cusupdate__["a" /* CusupdatePage */],
    __WEBPACK_IMPORTED_MODULE_67__pages_subdesign_subdesign__["a" /* SubdesignPage */],
    __WEBPACK_IMPORTED_MODULE_68__pages_designimg_designimg__["a" /* DesignimgPage */],
    __WEBPACK_IMPORTED_MODULE_69__pages_designlist_designlist__["a" /* DesignlistPage */],
    __WEBPACK_IMPORTED_MODULE_70__pages_customorder_customorder__["a" /* CustomorderPage */],
    __WEBPACK_IMPORTED_MODULE_71__pages_gift_gift__["a" /* GiftPage */],
    __WEBPACK_IMPORTED_MODULE_72__pages_other_other__["a" /* OtherPage */],
    __WEBPACK_IMPORTED_MODULE_76__pages_mass2_mass2__["a" /* Mass2Page */],
    __WEBPACK_IMPORTED_MODULE_93__pages_mass3_mass3__["a" /* Mass3Page */],
    __WEBPACK_IMPORTED_MODULE_77__pages_avrsearch_avrsearch__["a" /* AvrsearchPage */],
    __WEBPACK_IMPORTED_MODULE_78__pages_prodetail_prodetail__["a" /* ProdetailPage */],
    __WEBPACK_IMPORTED_MODULE_79__pages_auto_auto__["a" /* AutoPage */],
    __WEBPACK_IMPORTED_MODULE_80__pages_collection_collection__["a" /* CollectionPage */],
    __WEBPACK_IMPORTED_MODULE_81__pages_folderpress_folderpress__["a" /* FolderpressPage */],
    __WEBPACK_IMPORTED_MODULE_83__pages_supsubdesign_supsubdesign__["a" /* SupsubdesignPage */],
    __WEBPACK_IMPORTED_MODULE_84__pages_supprodetail_supprodetail__["a" /* SupprodetailPage */],
    __WEBPACK_IMPORTED_MODULE_85__pages_addstone2_addstone2__["a" /* Addstone2Page */],
    __WEBPACK_IMPORTED_MODULE_86__pages_faq_faq__["a" /* FaqPage */],
    __WEBPACK_IMPORTED_MODULE_87__pages_edittag2_edittag2__["a" /* Edittag2Page */],
    __WEBPACK_IMPORTED_MODULE_28__pages_write_review_write_review__["a" /* WriteReviewPage */],
    __WEBPACK_IMPORTED_MODULE_89__pages_details_details__["a" /* DetailsPage */],
    __WEBPACK_IMPORTED_MODULE_90__pages_charges_charges__["a" /* ChargesPage */],
    __WEBPACK_IMPORTED_MODULE_91__pages_notconverted_notconverted__["a" /* NotconvertedPage */],
    __WEBPACK_IMPORTED_MODULE_92__pages_stonesearch_stonesearch__["a" /* StonesearchPage */],
    __WEBPACK_IMPORTED_MODULE_94__pages_masssearch2_masssearch2__["a" /* Masssearch2Page */],
    __WEBPACK_IMPORTED_MODULE_95__pages_direct_direct__["a" /* DirectPage */],
    __WEBPACK_IMPORTED_MODULE_99__pages_cart_list_view_cart_list_view__["a" /* CartListViewPage */],
    __WEBPACK_IMPORTED_MODULE_98__pages_order_status_order_status__["a" /* OrderStatusPage */],
    __WEBPACK_IMPORTED_MODULE_100__pages_status_view_status_view__["a" /* StatusViewPage */],
    __WEBPACK_IMPORTED_MODULE_96__pages_avrproductdetails_avrproductdetails__["a" /* AvrproductdetailsPage */],
    __WEBPACK_IMPORTED_MODULE_97__pages_instock_instock__["a" /* InstockPage */],
    __WEBPACK_IMPORTED_MODULE_101__pages_order_status_view_order_status_view__["a" /* OrderStatusViewPage */]
];
var components = [
    __WEBPACK_IMPORTED_MODULE_59__components_carousel_carousel__["a" /* CarouselComponent */],
    __WEBPACK_IMPORTED_MODULE_55__components_tree_view_tree_view__["a" /* TreeView */],
    __WEBPACK_IMPORTED_MODULE_56__components_items_list_items_list__["a" /* ItemsListComponent */]
];
var modals = [
    __WEBPACK_IMPORTED_MODULE_44__pages_modal_countrymodel_countrymodel__["a" /* CountrymodelPage */],
    __WEBPACK_IMPORTED_MODULE_45__pages_modal_customer_customer__["a" /* CusSearchPage */],
    __WEBPACK_IMPORTED_MODULE_47__pages_modal_add_esti_item_add_esti_item__["a" /* AddEstiItemPage */],
    __WEBPACK_IMPORTED_MODULE_46__pages_modal_employee_employee__["a" /* EmpSearchPage */],
    __WEBPACK_IMPORTED_MODULE_48__pages_modal_mas_search_mas_search__["a" /* MasSearchPage */],
    __WEBPACK_IMPORTED_MODULE_49__pages_modal_esti_basic_detail_esti_basic_detail__["a" /* EstiBasicDetailPage */],
    __WEBPACK_IMPORTED_MODULE_50__pages_modal_filter_filter__["a" /* FilterPage */]
];
var pipes = [
    __WEBPACK_IMPORTED_MODULE_12__pipes_truncate_truncate__["a" /* TruncatePipe */],
    __WEBPACK_IMPORTED_MODULE_54__app_pipes_filter_pipe_pipe__["a" /* FilterPipe */],
    __WEBPACK_IMPORTED_MODULE_103__pipes_indian_currency__["a" /* IndianCurrencyPipe */]
];
function declarations() {
    return [pages, components, modals, pipes];
}
function entryComponents() {
    return pages;
}
function providers() {
    return [
        __WEBPACK_IMPORTED_MODULE_102__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_82__ionic_native_media_capture__["a" /* MediaCapture */], __WEBPACK_IMPORTED_MODULE_75__ionic_native_device__["a" /* Device */], __WEBPACK_IMPORTED_MODULE_74__ionic_native_in_app_browser__["a" /* InAppBrowser */], __WEBPACK_IMPORTED_MODULE_73_ngx_image_compress__["a" /* NgxImageCompressService */], __WEBPACK_IMPORTED_MODULE_10__ionic_native_market__["a" /* Market */], __WEBPACK_IMPORTED_MODULE_17__ionic_native_app_version__["a" /* AppVersion */], __WEBPACK_IMPORTED_MODULE_13__ionic_native_image_picker__["a" /* ImagePicker */], __WEBPACK_IMPORTED_MODULE_11__ionic_native_date_picker__["a" /* DatePicker */], __WEBPACK_IMPORTED_MODULE_18__ionic_native_android_permissions__["a" /* AndroidPermissions */], __WEBPACK_IMPORTED_MODULE_5__ionic_native_status_bar__["a" /* StatusBar */], __WEBPACK_IMPORTED_MODULE_4__ionic_native_splash_screen__["a" /* SplashScreen */], __WEBPACK_IMPORTED_MODULE_14__ionic_native_toast__["a" /* Toast */], __WEBPACK_IMPORTED_MODULE_16__ionic_native_network__["a" /* Network */], __WEBPACK_IMPORTED_MODULE_15__ionic_native_printer__["a" /* Printer */], __WEBPACK_IMPORTED_MODULE_19__ionic_native_file_opener__["a" /* FileOpener */], __WEBPACK_IMPORTED_MODULE_20__ionic_native_file__["a" /* File */], __WEBPACK_IMPORTED_MODULE_21__ionic_native_file_transfer__["a" /* FileTransfer */], __WEBPACK_IMPORTED_MODULE_22__ionic_native_file_chooser__["a" /* FileChooser */], __WEBPACK_IMPORTED_MODULE_23__ionic_native_file_path__["a" /* FilePath */], __WEBPACK_IMPORTED_MODULE_24__ionic_native_camera__["a" /* Camera */], __WEBPACK_IMPORTED_MODULE_25__ionic_native_crop__["a" /* Crop */], __WEBPACK_IMPORTED_MODULE_26__ionic_native_transfer__["a" /* Transfer */], __WEBPACK_IMPORTED_MODULE_58_ionic_cordova_plugin_ratio_crop__["a" /* RatioCrop */], __WEBPACK_IMPORTED_MODULE_53__ionic_native_barcode_scanner__["a" /* BarcodeScanner */], __WEBPACK_IMPORTED_MODULE_61__ionic_native_bluetooth_serial__["a" /* BluetoothSerial */],
        { provide: __WEBPACK_IMPORTED_MODULE_1__angular_core__["u" /* ErrorHandler */], useClass: __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["n" /* IonicErrorHandler */], ModalController: __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["s" /* ModalController */] }
    ];
}
var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["I" /* NgModule */])({
            declarations: declarations(),
            imports: [
                __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["o" /* IonicModule */].forRoot(__WEBPACK_IMPORTED_MODULE_9__app_component__["a" /* MyApp */], {
                    scrollPadding: false,
                    scrollAssist: false
                }, {
                    links: []
                }), __WEBPACK_IMPORTED_MODULE_8__ionic_storage__["a" /* IonicStorageModule */].forRoot(), __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__["a" /* BrowserModule */],
                __WEBPACK_IMPORTED_MODULE_6__angular_http__["c" /* HttpModule */], __WEBPACK_IMPORTED_MODULE_7__angular_platform_browser_animations__["a" /* BrowserAnimationsModule */], __WEBPACK_IMPORTED_MODULE_3_ionic_img_viewer__["a" /* IonicImageViewerModule */], __WEBPACK_IMPORTED_MODULE_88_ionic3_star_rating__["a" /* StarRatingModule */]
            ],
            bootstrap: [__WEBPACK_IMPORTED_MODULE_2_ionic_angular__["m" /* IonicApp */]],
            entryComponents: entryComponents(),
            providers: providers()
        })
    ], AppModule);
    return AppModule;
}());

//# sourceMappingURL=app.module.js.map

/***/ }),

/***/ 45:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AutoPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_retail__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__prodetail_prodetail__ = __webpack_require__(70);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__modal_customer_customer__ = __webpack_require__(29);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


// import { ProductDetailPage } from '../../pages/product-detail/product-detail';





var AutoPage = /** @class */ (function () {
    function AutoPage(toast, retail, modal, events, renderer, viewCtrl, keyboard, commonProvider, loadingCtrl, navCtrl) {
        // // this.renderer.setElementClass(viewCtrl.pageRef().nativeElement, 'mobilecontactsjoin', true);
        this.toast = toast;
        this.retail = retail;
        this.modal = modal;
        this.events = events;
        this.renderer = renderer;
        this.viewCtrl = viewCtrl;
        this.keyboard = keyboard;
        this.commonProvider = commonProvider;
        this.loadingCtrl = loadingCtrl;
        this.navCtrl = navCtrl;
        this.searchData = [];
        this.input = '';
        this.temp = [];
        this.status = false;
        //   this.categoryProvider.readall().then(( data ) => {
        //     this.searchData = data;
        //     // this.dataService = completerService.local(this.searchData, 'name_design', 'name_design');
        //     console.log(data);
        //     this.commonProvider.search(
        //       {
        //         "UserId":"LOGIMAX",
        //             "Password":"123",
        //             "Branch":"",
        //             "Metal":"",
        //             "Product":0,
        //             "SubProduct":0,
        //             "TagNo":"",
        //             "FromWt":0,
        //             "ToWt":0,
        //             "FromPrice":0,
        //             "ToPrice":0
        //     }
        //     ).then(( data ) => {
        //       let productItems = data['ReturnObject'] != null ? data['ReturnObject'] : [];
        //       productItems.forEach(element => {
        //         element['name_design'] = element['ProductName'];
        //         this.searchData.push(element);
        //       });
        //       console.log(this.searchData)
        //       console.log(productItems)
        //       loader.dismiss();
        //     });
        // } );
    }
    AutoPage.prototype.goback = function () {
        this.navCtrl.pop();
    };
    AutoPage.prototype.onItemSelect = function (selected) {
        console.log(selected);
        if (selected.hasOwnProperty('TagNo')) {
            // this.navCtrl.push( TagDetailsPage, { 'filter': [selected] } );
            selected['net_wt'] = selected['NetWt'];
            selected['gross_wt'] = selected['GrossWt'];
            selected['metal_type'] = selected['rate_field'];
            selected['market_metal_type'] = selected['market_rate_field'];
            selected['tax_group_id'] = selected['tgrp_id'];
            if (selected.hasOwnProperty('TagStone')) {
                selected['TagStoneDetails'] = selected['TagStone'];
            }
            selected['arr'] = this.temp;
            //this.navCtrl.push( ProdetailPage, { proid: selected } );
            this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__prodetail_prodetail__["a" /* ProdetailPage */], { proid: selected, single: [selected] });
        }
        else {
            console.log(selected['id_design']);
            // this.navCtrl.push( ProdetailPage, { proid: '' , single: '' } );
        }
        // if(selected)
        //     this.model.searchStr = selected.originalObject.value;
        // }
    };
    AutoPage.prototype.removeFocus = function () {
        this.keyboard.close();
    };
    ;
    AutoPage.prototype.search = function () {
        var _this = this;
        var loader = this.loadingCtrl.create({});
        loader.present();
        // this.categoryProvider.readall().then(( data ) => {
        // this.searchData = data;
        // this.dataService = completerService.local(this.searchData, 'name_design', 'name_design');
        // console.log(data);
        console.log(this.input);
        this.commonProvider.filter({ "TagNo": this.input }).then(function (data) {
            _this.temp = data['ReturnObject'] != null ? data['ReturnObject'] : [];
            // productItems.forEach(element => {
            //   element['name_design'] = element['ProductName'];
            //   this.searchData.push(element);
            // });
            // console.log(this.searchData)
            // console.log(productItems)
            loader.dismiss();
            _this.status = true;
            if (_this.temp.length == 1) {
                console.log(_this.temp);
                _this.onItemSelect(_this.temp[0]);
            }
        });
        // } );
        //   if (!this.input.trim().length || !this.keyboard.isOpen()) {
        //     console.log('11111111')
        //     this.temp = [];
        //     return;
        //   }
        //   console.log(this.searchData)
        //   this.temp = this.searchData.filter(item => !item.hasOwnProperty('TagNo') ? item['name_design'].toUpperCase().includes(this.input.toUpperCase()) : item['TagNo'].toUpperCase().includes(this.input.toUpperCase()));
        // }
    };
    AutoPage.prototype.ionViewWillLeave = function () {
        console.log('ooooooooooooo');
        this.events.publish('entered', false);
    };
    AutoPage.prototype.ionViewWillEnter = function () {
        console.log('ssssssssssss');
        this.events.publish('entered', true);
        this.events.publish('pageno', 1);
        this.temp = [];
        this.input = '';
    };
    AutoPage.prototype.texto = function (event) {
        if (event.keyCode == 13) {
            this.search();
        }
        console.log(event);
    };
    AutoPage.prototype.fixprice = function (data) {
        var temp1 = parseFloat(data).toFixed(3);
        return temp1;
    };
    AutoPage.prototype.addWishlist = function (item) {
        var _this = this;
        var empData = JSON.parse(localStorage.getItem('empDetail'));
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_5__modal_customer_customer__["a" /* CusSearchPage */], { 'show': 'true' });
        modal.present();
        modal.onDidDismiss(function (mData) {
            console.log(mData);
            if (mData != null) {
                // this.idcus = mData['id_customer'];
                var loader_1 = _this.loadingCtrl.create({
                    content: 'Please Wait',
                    spinner: 'bubbles',
                });
                loader_1.present();
                _this.retail.addToWishlist({
                    "customer_name": mData['firstname'],
                    "mobile": mData['mobile'],
                    "customer_id": mData['id_customer'],
                    "tag_id": item['id_tag_detail'],
                    "tag_code": item['TagNo'],
                    "branch_id": empData['id_branch'],
                    "employee_id": empData['uid'],
                    "id_sub_design": item['id_sub_design'],
                    "product_id": item['product_id'],
                    "design_id": item['design_id'],
                }).then(function (data) {
                    var toastMsg = _this.toast.create({
                        message: data.msg,
                        duration: _this.commonProvider.toastTimeout,
                        position: 'middle'
                    });
                    toastMsg.present();
                    loader_1.dismiss();
                }, function (err) {
                    var toastMsg = _this.toast.create({
                        message: "try again",
                        duration: _this.commonProvider.toastTimeout,
                        position: 'middle'
                    });
                    toastMsg.present();
                    loader_1.dismiss();
                });
            }
            else {
            }
        });
    };
    AutoPage.prototype.price = function (data) {
        var temp1 = parseFloat(data).toFixed();
        return temp1;
    };
    AutoPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-auto',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\auto\auto.html"*/'<!--\n  Generated template for the AutoPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n-->\n<ion-header style="background:#efefef;min-height:56px;">\n\n   <ion-row style="margin-top:2px">\n\n    <ion-col >\n\n      <ion-searchbar placeholder="Search Product" no-padding [(ngModel)]="input" (keyup)="texto($event)"\n      ></ion-searchbar>    </ion-col>\n    <ion-col col-3 >\n\n        <ion-icon (click)="goback()" style="font-size: 1.8em;\n        color: black;margin-top:8px;float:right" name="close"></ion-icon>\n\n<ion-icon style="font-size: 1.8em;\ncolor: black;margin-top:8px;float:right" (click)="search()" name="search"></ion-icon>\n    </ion-col>\n    </ion-row>\n\n\n</ion-header>\n\n\n<ion-content padding>\n    <ion-content padding>\n      <ion-list>\n        <ion-item *ngFor="let data of temp" >\n        <ion-row>\n          <ion-col (click)="onItemSelect(data)" col-3>\n            <div [ngStyle]="{\'width.px\': 30,\'height.px\': 30,\'color\':data.colorcode,\'position\':\'absolute\',\'left.px\':-10,\'top\':0,\'z-index\':1}">\n              <ion-icon *ngIf="data.colorcode != \'\' " style="font-size:2em !important;" name="bookmark"></ion-icon>\n              </div>\n            <img  style="height: 100px;width: auto;margin: 0 auto;object-fit: cover !important;" *ngIf=\'data.TagImage != null\' src=\'{{data.TagImage}}\' onerror="this.src=\'assets/no-img.png\'" imageCache/>\n            <img  style="height: 100px;margin: 0 auto;object-fit: cover !important;" *ngIf=\'data.TagImage == null\' src=\'assets/no-img.png\' imageCache/>\n          </ion-col>\n          <ion-col col-9 style="margin: auto;">\n              <div (click)="onItemSelect(data)">\n                {{data[\'ProductName\']}}&nbsp;<span *ngIf="data.hasOwnProperty(\'TagNo\')">({{data[\'TagNo\']}})</span>\n              </div>\n              <div style="font-weight: bold;\n              padding: 5px;">\n              <div  style="margin-bottom: 5px;" (click)="onItemSelect(data)">\n                {{fixprice(data[\'GrossWt\'])}} g\n              </div>\n\n              <span style="font-size: 15px;"  (click)="onItemSelect(data)">\n                 {{price(data[\'Rate\'])}}\n              </span>\n                 <ion-icon style="\n                color: black;\n                border-radius: 5px;float: right;" (click)="addWishlist(data)" name="heart-outline"></ion-icon>\n              </div>\n          </ion-col>\n          </ion-row>\n        </ion-item>\n\n      </ion-list>\n      <div style="font-weight:bold;margin-left:20px;" *ngIf="temp.length == 0 && status == true">\n          No Result Found\n        </div>\n    </ion-content>\n\n</ion-content>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\auto\auto.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_3__providers_retail__["a" /* RetailProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_3__providers_retail__["a" /* RetailProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_0__angular_core__["V" /* Renderer */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["B" /* ViewController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["p" /* Keyboard */], __WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */]])
    ], AutoPage);
    return AutoPage;
}());

//# sourceMappingURL=auto.js.map

/***/ }),

/***/ 49:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EmpSearchPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



/**
 * Generated class for the CustomPopupPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
// @IonicPage()
var EmpSearchPage = /** @class */ (function () {
    function EmpSearchPage(keyboard, events, navCtrl, renderer, viewCtrl, navParams, loadingCtrl) {
        this.keyboard = keyboard;
        this.events = events;
        this.navCtrl = navCtrl;
        this.renderer = renderer;
        this.viewCtrl = viewCtrl;
        this.navParams = navParams;
        this.loadingCtrl = loadingCtrl;
        this.details = [];
        this.empData = [];
        this.input = '';
        var loader = this.loadingCtrl.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        this.empData = this.navParams.get('empData');
        this.details = this.navParams.get('empData');
        console.log(this.empData.length, 'ooooooooooo');
        this.renderer.setElementClass(viewCtrl.pageRef().nativeElement, 'countrymodel', true);
        // if(this.empData.length != 0){ 
        loader.dismiss();
        // }
    }
    EmpSearchPage.prototype.selected = function (temp) {
        this.viewCtrl.dismiss(temp);
    };
    EmpSearchPage.prototype.dismiss = function (temp) {
        this.viewCtrl.dismiss();
    };
    EmpSearchPage.prototype.search = function () {
        var _this = this;
        if (!this.input.trim().length || !this.keyboard.isOpen()) {
            this.details = this.navParams.get('data');
            return;
        }
        this.details = this.empData.filter(function (item) { return item['emp_name'].toUpperCase().includes(_this.input.toUpperCase()); });
    };
    EmpSearchPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    EmpSearchPage.prototype.ionViewWillEnter = function () {
        this.events.publish('entered', true);
        this.events.publish('pageno', 1);
    };
    EmpSearchPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-employee',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\modal\employee\employee.html"*/'<ion-header>\n  <ion-navbar>\n    <ion-title>\n      Choose Employee\n    </ion-title>\n    <ion-buttons end>\n        <button ion-button icon-only (click)="dismiss()">\n            <ion-icon item-right name="ios-close-outline"></ion-icon>\n        </button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n<ion-content>\n    <ion-searchbar [(ngModel)]="input" placeholder="Search Employee" (ionChange)="search()"></ion-searchbar>\n    <ion-list>\n        <ion-item *ngFor="let data of details" (click)="selected(data)">\n            <span *ngIf="data[\'emp_name\']">  {{data[\'emp_name\']}} </span>\n        </ion-item>\n    </ion-list>\n</ion-content>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\modal\employee\employee.html"*/,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["p" /* Keyboard */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_0__angular_core__["V" /* Renderer */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["B" /* ViewController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */]])
    ], EmpSearchPage);
    return EmpSearchPage;
}());

//# sourceMappingURL=employee.js.map

/***/ }),

/***/ 5:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return CommonProvider; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BaseAPIURL; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs__ = __webpack_require__(504);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



//import { encode } from 'punycode';

//import { Chart } from 'chart.js';
/*
  Generated class for the CommonProvider provider.

  See https://angular.io/docs/ts/latest/guide/dependency-injection.html
  for more info on providers and Angular DI.
*/
var CommonProvider = /** @class */ (function () {
    function CommonProvider(http, toast) {
        this.http = http;
        this.toast = toast;
        this._username = 'lmxretail';
        this._password = 'lmx@2017';
        this.status = false;
        this.cmpName = "Hari Jewellery ";
        this.cmpShortName = "RTM";
        this.msgTimeout = 10000; // Alert Block timeout
        this.toastTimeout = 6000; // Toast message timeout
        this.currentUser = JSON.parse(localStorage.getItem('empDetail'));
        this.designs = [];
        this._header = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        this._header.append('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');
        //  this._header.append('Content-Type', 'application/json');
        this._imageheader = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        this._imageheader.append('Authorization', 'Basic ' + btoa(this._username + ':' + this._password));
    }
    CommonProvider.prototype.getHeader = function () {
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: this._header });
        return options;
    };
    CommonProvider.prototype.getImageHeader = function () {
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: this._imageheader });
        return options;
    };
    CommonProvider.prototype.getAuthUserName = function () {
        return this._username;
    };
    CommonProvider.prototype.getAuthUserPwd = function () {
        return this._password;
    };
    CommonProvider.prototype.presentToast = function (text, duration) {
        var toast = this.toast.create({
            message: text,
            duration: (duration == '' ? this.toastTimeout : duration),
            position: 'bottom',
            //dismissOnPageChange : true,
            showCloseButton: true,
            closeButtonText: "Ok"
        });
        toast.present();
    };
    /*updatestatus(data) {
        console.log(data)
        this.status = data;
        console.log(this.status);
    }*/
    CommonProvider.prototype.doLogin = function (logindata) {
        return this.http
            .post(BaseAPIURL + 'admin_app_api/authenticate', logindata, this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.createCustomer = function (postData) {
        return this.http
            .post(BaseAPIURL + 'admin_app_api/createCustomer', postData, this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.createQuickCustomer = function (postData) {
        return this.http
            .post(BaseAPIURL + 'admin_app_api/createQuickCustomer', postData, this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.getbranch = function () {
        var d = new Date(), n = d.getTime();
        return this.http
            .get(BaseAPIURL + 'admin_app_api/getBranchList?&nocache=' + n)
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.getBranchEmployees = function (id_branch) {
        var d = new Date(), n = d.getTime();
        return this.http
            .get(BaseAPIURL + 'admin_app_api/getBranchEmployees?id_branch=' + id_branch + '&nocache=' + n)
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.getCustBySearch = function (data) {
        return this.http
            .post(BaseAPIURL + 'admin_app_api/getCustBySearch', data, this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.getCusAppVersion = function () {
        return this.http
            .get(BaseAPIURL + 'admin_app_api/getVersion', this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.getCurrencyAndSettings = function (data) {
        return this.http
            .post(BaseAPIURL + 'admin_app_api/getCurrencyAndSettings', data, this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.getcountry = function () {
        var d = new Date(), n = d.getTime();
        return this.http
            .get(BaseAPIURL + 'admin_app_api/getCountry?nocache=' + n)
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.getstate = function (id) {
        var d = new Date(), n = d.getTime();
        return this.http
            .get(BaseAPIURL + 'admin_app_api/getState?id_country=' + id + '&nocache=' + n)
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.getcity = function (id) {
        var d = new Date(), n = d.getTime();
        return this.http
            .get(BaseAPIURL + 'admin_app_api/getCity?id_state=' + id + '&nocache=' + n)
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.getVillages = function () {
        var d = new Date(), n = d.getTime();
        return this.http
            .get(BaseAPIURL + 'admin_app_api/getVillages?&nocache=' + n)
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.getoldcategory = function () {
        var d = new Date(), n = d.getTime();
        return this.http
            .get(BaseAPIURL + 'admin_app_api/getOldMetalCategory?&nocache=' + n)
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.getoldrates = function () {
        var d = new Date(), n = d.getTime();
        return this.http
            .get(BaseAPIURL + 'admin_app_api/getAllOldMetalRates?&nocache=' + n)
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.verifyLoginOTP = function (data) {
        return this.http
            .post(BaseAPIURL + 'admin_app_api/verifyLoginOTP', data, this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    // Dashboard
    CommonProvider.prototype.getRetDashboard = function (postData) {
        return this.http
            .post(BaseAPIURL + 'admin_app_api/get_ret_dashboard', postData, this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.getlist = function (postData) {
        return this.http
            .post(BaseAPIURL + 'admin_app_api/getCurrentDayEstimationsByBranch', postData, this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.getdivision = function () {
        return this.http
            .get(BaseAPIURL + 'admin_app_api/getRetCharges', this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.getsubdesigns = function (postData) {
        return this.http
            .post(BaseAPIURL + 'admin_app_api/getSubDesigns', postData, this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.deletegallery = function (postData) {
        return this.http
            .post(BaseAPIURL + 'admin_app_api/deletesubdesignimage', postData, this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.deletedesgallery = function (postData) {
        return this.http
            .post(BaseAPIURL + 'admin_app_api/deleteDesignimage', postData, this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.updatedefault = function (postData) {
        return this.http
            .post(BaseAPIURL + 'admin_app_api/updateDefaultSubDesignImage', postData, this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.updatedefaultdes = function (postData) {
        return this.http
            .post(BaseAPIURL + 'admin_app_api/updateDefaultDesignImage', postData, this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.updatedefaulttag = function (postData) {
        return this.http
            .post(BaseAPIURL + 'admin_app_api/updateDefaultTagImage', postData, this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.updatecustomer = function (postData) {
        return this.http
            .post(BaseAPIURL + 'admin_app_api/updateCustomer', postData, this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.getcustomer = function (postData) {
        return this.http
            .post(BaseAPIURL + 'admin_app_api/estcustomerDetails', postData, this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.getsub = function (postData) {
        return this.http
            .post(BaseAPIURL + 'admin_app_api/estcustomerDetails', postData, this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.getslip = function (postData) {
        return this.http
            .post(BaseAPIURL + 'admin_app_api/slipdetails', postData, this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.checkstock = function (postData) {
        return this.http
            .post(BaseAPIURL + 'admin_app_api/getCheckStockAvail', postData, this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.fin = function () {
        var d = new Date(), n = d.getTime();
        return this.http
            .get(BaseAPIURL + 'admin_app_api/getFinancialYear?nocache=' + n)
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.checkwgstock = function (postData) {
        return this.http
            .post(BaseAPIURL + 'admin_app_api/getCheckStockAvail', postData, this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.othermetal = function () {
        var d = new Date(), n = d.getTime();
        return this.http
            .get(BaseAPIURL + 'admin_app_api/getFinancialYear?nocache=' + n)
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.getsubdesignsold = function (postData) {
        return this.http
            .post(BaseAPIURL + 'admin_app_api/getProductSubDesignBySearch', postData, this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.getsubdesignsproduct = function (postData) {
        return this.http
            .post(BaseAPIURL + 'admin_app_api/getProductBySearch', postData, this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    /*     generateotp(mobile): any {
            var d = new Date(),
                n = d.getTime()
            return this.http
                .get(BaseAPIURL + 'mobile_api/generateOTP?mobile=' + mobile + '&nocache=' + n)
                .map((response) => {
                    // some response manipulation
                    let result = response.json();
                    return result;
                })
                .toPromise();
        }
     */
    CommonProvider.prototype.filter = function (passworddata) {
        console.log(passworddata);
        return this.http
            .post(BaseAPIURL + 'admin_app_api/applyFilter', passworddata, this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    /*     public filter( passworddata ) {
          var currentUser = JSON.parse(localStorage.getItem('sssuser'));
                passworddata['id_customer'] = currentUser['customer']['id_customer']
                console.log(passworddata)
                console.log(passworddata)
                return this.http
                .post( 'https://skjewels.in/skjsavings/admin/index.php/admin_app_api/applyFilter', passworddata, this.getHeader() )
                .map(( response ) => {
                    // some response manipulation
                    let result = response.json();
                    return result;
                } )
                .toPromise();
            } */
    CommonProvider.prototype.search = function (passworddata) {
        console.log(passworddata);
        return this.http
            .post(BaseAPIURL + 'admin_app_api/search', passworddata, this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.getfilter = function (temp) {
        var currentUser = JSON.parse(localStorage.getItem('newuser'));
        return this.http
            .get(BaseAPIURL + 'admin_app_api/get_filter?supplier=' + temp, this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.getreasons = function () {
        var currentUser = JSON.parse(localStorage.getItem('newuser'));
        return this.http
            .get(BaseAPIURL + 'admin_app_api/get_enq_fields', this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.getreview = function () {
        var currentUser = JSON.parse(localStorage.getItem('newuser'));
        return this.http
            .get(BaseAPIURL + 'admin_app_api/getCusReviewOptions', this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.feedback = function (data) {
        console.log(data);
        return this.http
            .post(BaseAPIURL + 'admin_app_api/updateCusReview', data, this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.logout = function () {
        var empData = JSON.parse(localStorage.getItem('empDetail'));
        empData['uid'];
        return this.http
            .post(BaseAPIURL + 'admin_app_api/logout', { 'username': empData['username'], 'status': 0 }, this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.setdata = function (data) {
        this.designs = data;
        // return this.designs;
    };
    CommonProvider.prototype.getwish = function () {
        var currentUser = JSON.parse(localStorage.getItem('newuser'));
        var empData = JSON.parse(localStorage.getItem('empDetail'));
        return this.http
            .get(BaseAPIURL + 'admin_app_api/get_wishlist?type=5', this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.notconverted = function () {
        var currentUser = JSON.parse(localStorage.getItem('newuser'));
        var empData = JSON.parse(localStorage.getItem('empDetail'));
        return this.http
            .get(BaseAPIURL + 'admin_app_api/get_wishlist', this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.delwish = function (data) {
        var empData = JSON.parse(localStorage.getItem('empDetail'));
        empData['uid'];
        return this.http
            .post(BaseAPIURL + 'admin_app_api/delete_wishlist', { 'username': empData['username'], 'wishlist_id': data }, this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.limit = function (data) {
        var empData = JSON.parse(localStorage.getItem('empDetail'));
        empData['uid'];
        return this.http
            .post(BaseAPIURL + 'admin_app_api/get_mc_va_limit', { 'username': empData['username'], 'wishlist_id': data }, this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.getedit = function (data) {
        var d = new Date(), n = d.getTime();
        return this.http
            .get(BaseAPIURL + 'admin_app_api/editEstimation/' + data)
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.getuom = function () {
        var d = new Date(), n = d.getTime();
        return this.http
            .get(BaseAPIURL + 'admin_app_api/get_uomdetails')
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.getset = function (data) {
        var empData = JSON.parse(localStorage.getItem('empDetail'));
        empData['uid'];
        return this.http
            .post(BaseAPIURL + 'admin_app_api/get_mc_va_limit', data, this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.metal = function (postData) {
        return this.http
            .post('https://skjewels.in/skjsavings/admin/index.php/admin_app_api/get_supplier_items', postData, this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.addToWishlist = function (postData) {
        return this.http
            .post('https://skjewels.in/skjsavings/admin/index.php/admin_app_api/createWishlist', postData, this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.getSections = function (id_branch) {
        var d = new Date(), n = d.getTime();
        return this.http
            .get(BaseAPIURL + 'admin_app_api/getSections/' + id_branch)
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.getOrder_status = function () {
        return this.http
            .get(BaseAPIURL + 'admin_app_api/getOrderFilters ', this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.get_order_list = function (data) {
        return this.http
            .post(BaseAPIURL + 'admin_app_api/getOrderedList', data, this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider.prototype.getarea = function (data) {
        return this.http
            .post(BaseAPIURL + 'admin_app_api/get_village_by_pincode', data, this.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    CommonProvider = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["z" /* ToastController */]])
    ], CommonProvider);
    return CommonProvider;
}());

var BaseAPIURL = 'https://erp.harijewellery.in/staging/admin/index.php/';
// export const BaseAPIURL = 'http://192.168.1.36/harijwl/admin/index.php/';
// https://staging.rajathangamaligai.com/admin/
//# sourceMappingURL=common.js.map

/***/ }),

/***/ 503:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MyApp; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ionic_native_status_bar__ = __webpack_require__(390);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ionic_native_splash_screen__ = __webpack_require__(386);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ionic_native_market__ = __webpack_require__(392);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__ionic_native_network__ = __webpack_require__(401);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__ionic_native_toast__ = __webpack_require__(62);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__ionic_native_app_version__ = __webpack_require__(402);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_ionic_angular_index__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__ionic_native_android_permissions__ = __webpack_require__(120);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__ionic_native_file__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__pages_home_home__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__pages_login_login__ = __webpack_require__(63);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__pages_introimg_introimg__ = __webpack_require__(415);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__pages_maintenance_maintenance__ = __webpack_require__(416);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__pages_estimation_estimation__ = __webpack_require__(72);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__pages_cus_register_cus_register__ = __webpack_require__(198);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__pages_category_category__ = __webpack_require__(199);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__pages_e_catalog_e_catalog__ = __webpack_require__(201);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__pages_wishlist_wishlist__ = __webpack_require__(34);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__pages_cart_cart__ = __webpack_require__(27);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__pages_stock_entry_stock_entry__ = __webpack_require__(203);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__pages_estimationlist_estimationlist__ = __webpack_require__(204);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__pages_subdesignlist_subdesignlist__ = __webpack_require__(417);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__pages_designlist_designlist__ = __webpack_require__(419);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__pages_customorder_customorder__ = __webpack_require__(421);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_27__ionic_native_in_app_browser__ = __webpack_require__(422);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_28__ionic_native_device__ = __webpack_require__(187);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_29__pages_subdesign_subdesign__ = __webpack_require__(91);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_30__pages_collection_collection__ = __webpack_require__(423);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_31__pages_avrsearch_avrsearch__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_32__pages_supcat_supcat__ = __webpack_require__(775);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_33__pages_faq_faq__ = __webpack_require__(424);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_34__pages_edittag2_edittag2__ = __webpack_require__(186);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_35__pages_direct_direct__ = __webpack_require__(426);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_36__pages_order_status_order_status__ = __webpack_require__(190);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






//import { OneSignal } from '@ionic-native/onesignal';






//Pages

























var MyApp = /** @class */ (function () {
    function MyApp(device, iab, file, androidPermissions, market, platform, events, menu, statusBar, splashScreen, network, loadingCtrl, toastCtrl, toast, alertCtrl, appVersion, app, modalCtrl, common) {
        var _this = this;
        this.device = device;
        this.iab = iab;
        this.file = file;
        this.market = market;
        this.platform = platform;
        this.events = events;
        this.menu = menu;
        this.network = network;
        this.loadingCtrl = loadingCtrl;
        this.toastCtrl = toastCtrl;
        this.toast = toast;
        this.alertCtrl = alertCtrl;
        this.appVersion = appVersion;
        this.app = app;
        this.modalCtrl = modalCtrl;
        this.common = common;
        this.rootPage = __WEBPACK_IMPORTED_MODULE_13__pages_login_login__["a" /* LoginPage */];
        this.loginstatus = false;
        this.showSplash = true;
        this.pages = [];
        this.overlayHidden = true;
        this.lastBack = 0;
        this.allowClose = false;
        this.app_version = 0;
        this.count = 1;
        this.foot = true;
        this.id_branch = 0;
        this.clickedMenu = 0;
        this.enter = true;
        this.page = 1;
        this.companyName = 'Hari Jewellery ';
        events.subscribe('user:created', function (user) {
            // user and time are the same arguments passed in `events.publish(user, time)
            _this.foot = user;
            console.log('Welcome', user);
        });
        // events.subscribe( 'entered', (enter) => {
        // 	console.log(enter)
        // 	this.enter = enter;
        // });
        events.subscribe('lp', function (enter) {
            console.log(enter);
            _this.enter = enter;
        });
        events.subscribe('pageno', function (no) {
            console.log(no);
            _this.page = no;
        });
        platform.ready().then(function () {
            appVersion.getVersionNumber().then(function (s) {
                _this.app_version = s;
                console.log(_this.app_version);
            });
            // this.nav.push(SubdesignPage);
            androidPermissions.requestPermissions([
                androidPermissions.PERMISSION.READ_EXTERNAL_STORAGE,
                androidPermissions.PERMISSION.WRITE_EXTERNAL_STORAGE,
                androidPermissions.PERMISSION.READ_CONTACTS,
                androidPermissions.PERMISSION.READ_SMS
            ]);
            // Okay, so the platform is ready and our plugins are available.
            // Here you can do any higher level native things you might need.
            var disconnectSubscription = _this.network.onDisconnect().subscribe(function () {
                _this.presentAlert('Turn on Wi-Fi or mobile data.', 'You are Offline', '');
            });
            //disconnectSubscription.unsubscribe();
            var connectSubscription = _this.network.onConnect().subscribe(function () {
                //this.presentAlert('Turn on Wi-Fi or mobile connection','You are Offline');
            });
            //	connectSubscription.unsubscribe();
            if (platform.is('cordova')) {
                appVersion.getVersionNumber().then(function (s) {
                    _this.app_version = s;
                    console.log(_this.app_version);
                });
            }
            // Delete downloaded Estimation files in local
            _this.storageDirectory = _this.file.externalDataDirectory;
            _this.file.resolveDirectoryUrl(_this.storageDirectory).then(function (resolvedDirectory) {
                _this.file.listDir(_this.storageDirectory, _this.common.cmpShortName).then(function (data) {
                    console.log('resolvedDirectory', data);
                    if (data) {
                        var now = new Date().toISOString().split('T')[0];
                        var nowTimeStamp = Math.floor((new Date(now)).getTime() / 1000);
                        console.log(nowTimeStamp);
                        // Delete directory
                        for (var i = 0; i < data.length; i++) {
                            console.log('----- list Directory', data[i].name);
                            var folderTimeStamp = Math.floor((new Date(data[i].name)).getTime() / 1000);
                            var CurrentDate = new Date();
                            console.log(data[i].name);
                            console.log(CurrentDate.toISOString().split('T')[0]);
                            if (CurrentDate.toISOString().split('T')[0] == data[i].name) {
                                console.log(1111111);
                            }
                            else {
                                console.log(222222);
                                _this.file.removeRecursively(resolvedDirectory.nativeURL + '' + _this.common.cmpShortName + '/', data[i].name).then(function () {
                                    console.log("Directory deleted successfully");
                                }).catch(function (err) {
                                    console.log(err);
                                    console.log("Error occurred while deleting directory");
                                });
                            }
                        }
                    }
                    else {
                        console.log("No directories found");
                    }
                }).catch(function (err1) {
                    console.log(err1);
                    console.log("Error occurred while listDir");
                });
            }).catch(function (err2) {
                console.log(err2);
                console.log("Error occurred while resolveDirectoryUrl");
            });
            platform.registerBackButtonAction(function () {
                if (_this.nav.getActive()['name'] == 'EstiBasicDetailPage') {
                    _this.nav.setRoot(__WEBPACK_IMPORTED_MODULE_12__pages_home_home__["a" /* HomePage */]);
                }
                else if (_this.nav.getActive()['name'] != 'PaymentPage') {
                    var overlay = _this.app._appRoot._overlayPortal.getActive();
                    var nav = _this.app.getActiveNav();
                    var closeDelay = 2000;
                    var spamDelay = 500;
                    if (overlay && overlay.dismiss) {
                        overlay.dismiss();
                    }
                    else if (nav.canGoBack()) {
                        nav.pop();
                    }
                    else if (Date.now() - _this.lastBack > spamDelay && !_this.allowClose) {
                        _this.allowClose = true;
                        var toast_1 = _this.toastCtrl.create({
                            message: "Press back again to exit",
                            duration: closeDelay,
                            dismissOnPageChange: true
                        });
                        toast_1.onDidDismiss(function () {
                            _this.allowClose = false;
                        });
                        toast_1.present();
                    }
                    else if (Date.now() - _this.lastBack < closeDelay && _this.allowClose) {
                        platform.exitApp();
                    }
                    _this.lastBack = Date.now();
                }
            });
            statusBar.styleDefault();
            statusBar.overlaysWebView(false);
            splashScreen.hide();
            // check app version
            _this.common.getCusAppVersion().then(function (data) {
                _this.versionData = data;
                _this.branch_settings = data['settings']['branch_settings'];
                _this.login_branch = data['settings']['login_branch'];
                localStorage.setItem('versionData', JSON.stringify(_this.versionData));
                console.log(_this.versionData);
                if (_this.versionData.mode == 1) {
                    _this.nav.setRoot(__WEBPACK_IMPORTED_MODULE_15__pages_maintenance_maintenance__["a" /* MaintenancePage */], { 'maintainData': _this.versionData });
                }
                else {
                    var remember = JSON.parse(localStorage.getItem('remember'));
                    if (remember == true) {
                        localStorage.setItem('logstatus', JSON.stringify(true));
                    }
                    else {
                        localStorage.setItem('logstatus', JSON.stringify(false));
                    }
                    if (platform.is('android')) {
                        if ((_this.versionData.android) != _this.app_version) {
                            if ((_this.versionData.new_android_ver) != _this.app_version) {
                                _this.presentAlert(_this.versionData.msg, _this.versionData.title, _this.versionData.path);
                            }
                        }
                    }
                    else if (platform.is('ios')) {
                        if ((_this.versionData.ios) != _this.app_version) {
                            if ((_this.versionData.newver_ios) != _this.app_version) {
                                _this.presentAlert(_this.versionData.iMsg, _this.versionData.title, _this.versionData.iPackage);
                            }
                        }
                    }
                }
            });
            _this.common.getfilter(false).then(function (data) {
                localStorage.setItem('predata', JSON.stringify(data['ReturnObject']));
            });
            _this.common.getfilter(true).then(function (data) {
                localStorage.setItem('spredata', JSON.stringify(data['ReturnObject']));
            });
        });
        var status = JSON.parse(localStorage.getItem('logstatus'));
        if (status == false || status == null) {
            this.pages = [];
            this.common.getCusAppVersion().then(function (data) {
                _this.versionData = data;
                _this.branch_settings = data['settings']['branch_settings'];
                _this.login_branch = data['settings']['login_branch'];
                if (data.showpopup == 1) {
                    var profileModal = _this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_14__pages_introimg_introimg__["a" /* IntroimgPage */], { 'image': _this.versionData });
                    profileModal.present();
                }
            });
            this.loginstatus = false;
            localStorage.setItem('logstatus', JSON.stringify(false));
            this.rootPage = __WEBPACK_IMPORTED_MODULE_13__pages_login_login__["a" /* LoginPage */];
        }
        else {
            this.pages = [];
            //this.pages = this.getpages();
            var remember = JSON.parse(localStorage.getItem('remember'));
            this.common.getCusAppVersion().then(function (data) {
                _this.versionData = data;
                localStorage.setItem('versionData', JSON.stringify(_this.versionData));
                if (data.showpopup == 1) {
                    console.log(_this.versionData);
                    var profileModal = _this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_14__pages_introimg_introimg__["a" /* IntroimgPage */], { 'image': _this.versionData });
                    profileModal.present();
                }
            });
            if (remember == true) {
                //	this.loginstatus = true;
                if (localStorage.getItem('userdet') != null) {
                    this.common.doLogin({ 'mobile': JSON.parse(localStorage.getItem('userdet'))['mobile'], 'passwd': JSON.parse(localStorage.getItem('userdet'))['passwd'] }).then(function (res) {
                        if (res) {
                            if (res.is_valid) {
                                localStorage.setItem('kyc_status', JSON.stringify(res['customer']['kyc_status']));
                                localStorage.setItem('sssuser', JSON.stringify(res));
                                _this.loginstatus = true;
                            }
                        }
                    });
                }
            }
            else {
                localStorage.setItem('logstatus', JSON.stringify(false));
                this.loginstatus = false;
                this.rootPage = __WEBPACK_IMPORTED_MODULE_13__pages_login_login__["a" /* LoginPage */];
            }
        }
        events.subscribe('user:changed', function (status) {
            _this.loginstatus = status;
            if (status) {
                var empdata = JSON.parse(localStorage.getItem('empDetail'));
                _this.pages = empdata.menus;
            }
            else {
                _this.loginstatus = false;
            }
        });
        var date = new Date();
        var ddd = date.getDate();
        var mmm = date.getMonth() + 1;
        var yy = date.getFullYear();
        this.currYear = yy;
        var postData = {
            'id_branch': this.id_branch
        };
    }
    MyApp.prototype.ionViewWillEnter = function () {
        console.log("ionViewWillEnter");
    };
    MyApp.prototype.presentAlert = function (msg, title, mypackage) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: title,
            subTitle: msg,
            enableBackdropDismiss: false,
            buttons: [
                {
                    text: 'Ok',
                    handler: function (data) {
                        // this.nav.push(CustomorderPage);
                        if (mypackage != '') {
                            // this.market.open(mypackage);
                            // window.open(mypackage)
                            _this.iab.create(mypackage, '_system', 'location=yes,hardwareback=yes,hidden=yes');
                        }
                        // this.platform.exitApp();
                    }
                }
            ]
        });
        alert.present();
    };
    /*getpages() {
        return [
                        { title: 'Home', icon: 'home', component: HomePage, show : (this.loginstatus ? 1 : 0) },
            { title: 'Estimation', icon: 'calculator', component: EstiPage, show : (this.loginstatus ? 1 : 0) },
            { title: 'Sign Out', icon: 'log-out', component: EstiPage, show : (this.loginstatus ? 1 : 0) },
        ];
  }*/
    // On clicking Menu
    MyApp.prototype.openPage = function (pageData) {
        var _this = this;
        console.log(pageData);
        var pageName = pageData.component;
        console.log(pageName);
        this.clickedMenu = pageData.id;
        this.menu.close();
        if (pageName == 'LoginPage') {
            this.nav.push(__WEBPACK_IMPORTED_MODULE_13__pages_login_login__["a" /* LoginPage */]);
        }
        else if (pageName == 'HomePage') {
            this.nav.setRoot(__WEBPACK_IMPORTED_MODULE_12__pages_home_home__["a" /* HomePage */]);
        }
        else if (pageName == 'EstiPage') {
            this.nav.setRoot(__WEBPACK_IMPORTED_MODULE_16__pages_estimation_estimation__["a" /* EstiPage */], { 'old_metal': [], 'home_bill': [], 'non_tag': [], 'tag': [], "page_type": pageData.page, 'tit': pageData.title });
        }
        else if (pageName == 'CusRegisterPage') {
            this.nav.push(__WEBPACK_IMPORTED_MODULE_17__pages_cus_register_cus_register__["a" /* CusRegisterPage */]);
        }
        else if (pageName == 'CategoryPage') {
            this.nav.push(__WEBPACK_IMPORTED_MODULE_18__pages_category_category__["a" /* CategoryPage */], { 'pagename': pageName == 'LiveStock' ? 'instock' : 'outofstock' });
        }
        else if (pageName == 'SupplierCategoryPage') {
            this.nav.setRoot(__WEBPACK_IMPORTED_MODULE_32__pages_supcat_supcat__["a" /* SupcatPage */], { 'pagename': pageName == 'LiveStock' ? 'instock' : 'outofstock' });
        }
        else if (pageName == 'Ecatalog') {
            this.nav.setRoot(__WEBPACK_IMPORTED_MODULE_19__pages_e_catalog_e_catalog__["a" /* EcatalogPage */]);
        }
        else if (pageName == 'OrderstatusPage') {
            this.nav.setRoot(__WEBPACK_IMPORTED_MODULE_36__pages_order_status_order_status__["a" /* OrderStatusPage */]);
        }
        else if (pageName == 'OrdercreationPage') {
            this.nav.setRoot(__WEBPACK_IMPORTED_MODULE_35__pages_direct_direct__["a" /* DirectPage */], { proid: {}, single: [] });
        }
        else if (pageName == 'CollectionPage') {
            this.nav.push(__WEBPACK_IMPORTED_MODULE_30__pages_collection_collection__["a" /* CollectionPage */], { 'filter': {
                    // 	"Category": [
                    // 	{
                    // 	  "category_code": '0',
                    // 	}
                    //   ]
                    "is_newArrival": 1,
                    "Stock Status": [
                        {
                            "name": "Open",
                            "count": "-1",
                            "status": true
                        }
                    ]
                }, 'collect': 'tt' });
        }
        else if (pageName == 'EdittagPage') {
            this.nav.push(__WEBPACK_IMPORTED_MODULE_34__pages_edittag2_edittag2__["a" /* Edittag2Page */]);
        }
        else if (pageName == "WishlistPage") {
            this.nav.setRoot(__WEBPACK_IMPORTED_MODULE_20__pages_wishlist_wishlist__["a" /* WishlistPage */]);
        }
        else if (pageName == "CartPage") {
            this.nav.push(__WEBPACK_IMPORTED_MODULE_21__pages_cart_cart__["a" /* CartPage */]);
        }
        else if (pageName == "FaqPage") {
            this.nav.push(__WEBPACK_IMPORTED_MODULE_33__pages_faq_faq__["a" /* FaqPage */]);
        }
        else if (pageName == "StockCodeEntryPage") {
            this.nav.setRoot(__WEBPACK_IMPORTED_MODULE_22__pages_stock_entry_stock_entry__["a" /* StockCodeEntryPage */]);
        }
        else if (pageName == 'EstimationlistPage') {
            this.nav.push(__WEBPACK_IMPORTED_MODULE_23__pages_estimationlist_estimationlist__["a" /* EstimationlistPage */]);
        }
        else if (pageName == 'SubdesignPage') {
            this.nav.push(__WEBPACK_IMPORTED_MODULE_24__pages_subdesignlist_subdesignlist__["a" /* SubdesignlistPage */]);
        }
        else if (pageName == 'CustomorderPage') {
            this.nav.setRoot(__WEBPACK_IMPORTED_MODULE_26__pages_customorder_customorder__["a" /* CustomorderPage */]);
        }
        else if (pageName == 'DesignlistPage') {
            this.nav.push(__WEBPACK_IMPORTED_MODULE_25__pages_designlist_designlist__["a" /* DesignlistPage */]);
        }
        else if (pageName == 'logout') {
            var confirm_1 = this.alertCtrl.create({
                title: 'Confirm Logout',
                subTitle: 'Are you sure you want to logout!',
                buttons: [
                    {
                        text: 'Cancel',
                        handler: function () {
                            console.log('Disagree clicked');
                        }
                    }, {
                        text: 'Ok',
                        handler: function () {
                            var loader = _this.loadingCtrl.create({
                                content: 'Please Wait',
                                spinner: 'bubbles',
                            });
                            loader.present();
                            _this.common.logout().then(function (data) {
                                loader.dismiss();
                                localStorage.setItem('logstatus', JSON.stringify(false));
                                localStorage.setItem('remember', JSON.stringify(false));
                                localStorage.setItem('remember2', JSON.stringify(false));
                                _this.loginstatus = false;
                                _this.events.publish('user:changed', false);
                                //this.nav.setRoot(HomePage, { st: false });
                                _this.nav.push(__WEBPACK_IMPORTED_MODULE_13__pages_login_login__["a" /* LoginPage */]);
                            }, function (err) {
                                loader.dismiss();
                            });
                        }
                    }
                ]
            });
            confirm_1.present();
        }
    };
    MyApp.prototype.color = function (no) {
        if (no == 1) {
            this.page = no;
            this.nav.setRoot(__WEBPACK_IMPORTED_MODULE_12__pages_home_home__["a" /* HomePage */]);
        }
        if (no == 2) {
            // if(this.loginstatus == true){
            this.page = no;
            this.nav.push(__WEBPACK_IMPORTED_MODULE_18__pages_category_category__["a" /* CategoryPage */], { 'data': { 'name': 'Category', 'id': 2 }, 'status': false, 'nav': false, 'more': false, 'supplier': false });
            // }
            // else{
            // 	this.nav.push( LoginPage );
            // }
        }
        if (no == 3) {
            this.page = no;
            var empdata = JSON.parse(localStorage.getItem('empDetail'));
            // if(this.loginstatus == true){
            this.nav.push(__WEBPACK_IMPORTED_MODULE_29__pages_subdesign_subdesign__["a" /* SubdesignPage */], { 'filter': { "Category": [
                        {
                            "category_code": '0',
                        },
                    ], "Stock Status": [
                        {
                            "name": "Open",
                            "count": "-1",
                            "status": true
                        }
                    ],
                    "Branch": [
                        {
                            "id_branch": empdata['id_branch'],
                        }
                    ],
                    'supplier': false
                },
                'supplier': false,
                'collect': 'tt',
            });
            // this.nav.setRoot(CollectionPage,{'data':{'name':'Collection','id':2},'status':false,'nav':false,'more':false})
            // }
            // else{
            // 	this.nav.push( LoginPage );
            // }
        }
        if (no == 4) {
            console.log(no);
            this.page = no;
            // if(this.loginstatus == true){
            // this.nav.setRoot(CusRegisterPage);
            /* this.nav.push(SupsubdesignPage,{'filter':{	},'collect':'tt'}); */
            this.nav.push(__WEBPACK_IMPORTED_MODULE_18__pages_category_category__["a" /* CategoryPage */], { 'data': { 'name': 'Category', 'id': 2 }, 'status': false, 'nav': false, 'more': false, 'supplier': true }); // }
            // else{
            // 	this.nav.push( LoginPage );
            // }
        }
        if (no == 5) {
            this.page = no;
            // if(this.loginstatus == true){
            this.nav.push(__WEBPACK_IMPORTED_MODULE_31__pages_avrsearch_avrsearch__["a" /* AvrsearchPage */]);
            // }
            // else{
            // 	this.nav.push( LoginPage );
            // }
        }
    };
    MyApp.prototype.direct = function () {
        this.nav.push(__WEBPACK_IMPORTED_MODULE_35__pages_direct_direct__["a" /* DirectPage */], { proid: {}, single: [] });
    };
    MyApp.prototype.openStatusPage = function () {
        this.nav.push(__WEBPACK_IMPORTED_MODULE_36__pages_order_status_order_status__["a" /* OrderStatusPage */]);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_8" /* ViewChild */])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["t" /* Nav */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["t" /* Nav */])
    ], MyApp.prototype, "nav", void 0);
    MyApp = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\app\app.html"*/'<ion-menu [content]="content">\n\n    <ion-header>\n        <ion-toolbar color="primary">\n            <ion-title align="center"><img  style="height: 85px;" src=\'assets/header.svg\' />\n\n            </ion-title>\n        </ion-toolbar>\n    </ion-header>\n\n    <ion-content>\n        <ion-list>\n        	<button menuClose ion-item *ngFor="let p of pages;let i = index;" [hidden]="p.show == 0" (click)="openPage(p)" no-lines>\n				<ion-icon name="{{p.icon}}" item-left color="theme-color"></ion-icon>\n				<span>{{p.title}}<span *ngIf="i == pages.length - 1">(v -{{app_version}})</span></span>\n			</button>\n	<!-- 		<button menuClose ion-item  (click)="openStatusPage()" no-lines>\n				<ion-icon name="basket" item-left color="theme-color"></ion-icon>\n				<span>Order Status</span>\n			</button>\n			<button menuClose ion-item  (click)="direct()" no-lines>\n				<ion-icon name="basket" item-left color="theme-color"></ion-icon>\n				<span>Order Creation</span>\n			</button> -->\n        </ion-list>\n    </ion-content>\n</ion-menu>\n<div class="my-overlay" padding [hidden]="overlayHidden">\n    <br />\n    <h3>You are Offline.</h3><br />\n    <h4>Turn on Wi-Fi or mobile data.</h4>\n</div>\n<ion-nav #content [root]="rootPage"></ion-nav>\n\n<!-- <ion-footer *ngIf="foot == true" style="background: #88344c !important;">\n    <ion-row>\n        <ion-col col-10 style="font-weight: bold;color:white;">\n            &#169; Sri Krishna Jewellers Retail {{currYear}}\n        </ion-col>\n        <ion-col col-2>\n            <img src=\'assets/img/logimax.png\'>\n        </ion-col>\n    </ion-row>\n</ion-footer> -->\n\n<ion-footer *ngIf="enter" style=" background-color: #575353  !important;    border-top-left-radius: 15px;\nborder-top-right-radius: 15px;">\n<!-- Ecom modult footer -->\n	<!-- <ion-row>\n\n\n		<ion-col (click)="color(1)" [ngClass]="page == 1 ? \'ch\':\'noch\'"  style="font-weight: bold;margin: auto;text-align: center;">\n			<span ><ion-icon style="font-size:1.8em !important" name="home"></ion-icon></span><br>\n			<div style="font-size: 8px;">HOME</div>\n		</ion-col>\n		<ion-col  (click)="color(2)"  [ngClass]="page == 2 ? \'ch\':\'noch\'" style="font-weight: bold;margin: auto;text-align: center;">\n			<span><ion-icon style="font-size:1.8em !important" name="md-grid"></ion-icon></span><br>\n			<div style="font-size: 8px;">CATEGORY</div>\n		</ion-col> -->\n		<!-- <ion-col  (click)="color(3)"  [ngClass]="page == 3 ? \'ch\':\'noch\'" style="font-weight: bold;margin: auto;text-align: center;">\n			<span><ion-icon style="font-size:1.8em !important" name="bookmarks"></ion-icon></span><br>\n			<div style="font-size: 8px;">COLLECTION</div>\n		</ion-col> -->\n		<!-- <ion-col  (click)="color(4)" [ngClass]="page == 4 ? \'ch\':\'noch\'" style="font-weight: bold;margin: auto;text-align: center;">\n			<span ><ion-icon style="font-size:1.8em !important" name="people"></ion-icon></span><br>\n			<div style="font-size: 8px;">CATALOGUE</div>\n		</ion-col> -->\n		<!-- <ion-col  (click)="color(5)"  [ngClass]="page == 5 ? \'ch\':\'noch\'" style="font-weight: bold;margin: auto;text-align: center;">\n			<span><ion-icon style="font-size:1.8em !important" name="options"></ion-icon></span><br>\n			<div style="font-size: 8px;">FILTER</div>\n		</ion-col>\n\n\n	</ion-row> -->\n	<ion-row>\n		<ion-col col-10 style="color:white;margin: auto;font-size: 10px !IMPORTANT;">\n			@ {{companyName}} v - {{app_version}} \n		</ion-col>\n		<ion-col col-2>\n		<img style="height: 17px;" src=\'assets/logimax.png\'>\n		</ion-col>\n	</ion-row>\n</ion-footer>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\app\app.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_5__providers_common__["b" /* CommonProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_28__ionic_native_device__["a" /* Device */], __WEBPACK_IMPORTED_MODULE_27__ionic_native_in_app_browser__["a" /* InAppBrowser */], __WEBPACK_IMPORTED_MODULE_11__ionic_native_file__["a" /* File */], __WEBPACK_IMPORTED_MODULE_10__ionic_native_android_permissions__["a" /* AndroidPermissions */], __WEBPACK_IMPORTED_MODULE_4__ionic_native_market__["a" /* Market */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["x" /* Platform */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["r" /* MenuController */], __WEBPACK_IMPORTED_MODULE_2__ionic_native_status_bar__["a" /* StatusBar */], __WEBPACK_IMPORTED_MODULE_3__ionic_native_splash_screen__["a" /* SplashScreen */], __WEBPACK_IMPORTED_MODULE_6__ionic_native_network__["a" /* Network */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_7__ionic_native_toast__["a" /* Toast */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["b" /* AlertController */], __WEBPACK_IMPORTED_MODULE_8__ionic_native_app_version__["a" /* AppVersion */], __WEBPACK_IMPORTED_MODULE_9_ionic_angular_index__["d" /* App */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */], __WEBPACK_IMPORTED_MODULE_5__providers_common__["b" /* CommonProvider */]])
    ], MyApp);
    return MyApp;
}());

//# sourceMappingURL=app.component.js.map

/***/ }),

/***/ 63:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LoginPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__(26);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__edittag2_edittag2__ = __webpack_require__(186);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__otp_otp__ = __webpack_require__(403);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__ionic_native_device__ = __webpack_require__(187);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__avrsearch_avrsearch__ = __webpack_require__(33);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








/*
  Generated class for the Login page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
*/
var LoginPage = /** @class */ (function () {
    function LoginPage(device, navParams, appCtrl, viewCtrl, toast, platform, builder, nav, event, menu, common, loadingCtrl, events, modal) {
        var _this = this;
        this.device = device;
        this.navParams = navParams;
        this.appCtrl = appCtrl;
        this.viewCtrl = viewCtrl;
        this.toast = toast;
        this.platform = platform;
        this.builder = builder;
        this.nav = nav;
        this.event = event;
        this.menu = menu;
        this.common = common;
        this.loadingCtrl = loadingCtrl;
        this.events = events;
        this.modal = modal;
        this.visibleState = 'visible';
        // public branchname: AbstractControl;
        this.submitted = false;
        this.isDisabled = false;
        this.getuserLoginURL = '';
        this.errorMessage = '';
        this.typecheck = 'password';
        this.showPass = false;
        this.remember = false;
        this.currency = '';
        this.id_branch = [];
        this.branch_name = '';
        this.user = { username: '' };
        this.emailChanged = false;
        this.submitAttempt = false;
        this.animateClass = { 'zoom-in': true };
        this.branches = [];
        this.class = "margin";
        this.cmpName = "";
        this.deviceid = '';
        platform.ready().then(function () {
            console.log(_this.device);
            if (_this.device.platform === 'browser') {
                console.log('Device UUID is not supported on browser platform');
            }
            else {
                _this.deviceid = _this.device.uuid;
                console.log('Device UUID is: ' + _this.device.uuid);
            }
        });
        console.log(this.device);
        this.nav = nav;
        this.menu = menu;
        this.platform = platform;
        this.type = "User";
        this.cmpName = this.common.cmpName;
        this.loginForm = builder.group({
            username: ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].required, __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].minLength(5), __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].maxLength(15)])],
            password: ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].compose([__WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].required, __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].minLength(8), __WEBPACK_IMPORTED_MODULE_2__angular_forms__["g" /* Validators */].maxLength(16)])],
            id_branch: ['2', this.id_branch != null ? this.id_branch['id_branch'] : null],
            remember2: [false, ''],
            device: this.device['uuid'],
            status: 1
        });
        this.username = this.loginForm.controls['username'];
        this.password = this.loginForm.controls['password'];
        this.id_branch = this.loginForm.controls['id_branch'];
        this.remember2 = this.loginForm.controls['remember2'];
        var loader = this.loadingCtrl.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        this.common.getCusAppVersion().then(function (data) {
            _this.branch_settings = data['settings']['branch_settings'];
            _this.login_branch = data['settings']['login_branch'];
            localStorage.setItem('versionData', JSON.stringify(data));
            // if(this.branch_settings == 1 && this.login_branch == 1){
            //   this.common.getbranch().then(data=>{
            //     loader.dismiss();
            //     this.branches = data;
            //   })
            // }else{
            //   loader.dismiss();
            // }
            if (_this.branch_settings == 1 && _this.login_branch == 1) {
                _this.common.getbranch().then(function (data) {
                    loader.dismiss();
                    _this.branches = data;
                    var remember = JSON.parse(localStorage.getItem('remember2'));
                    console.log(remember);
                    if (remember == true) {
                        // this.remember2 = true;
                        _this.loginForm.controls["remember2"].setValue(true);
                        _this.loginForm.controls["username"].setValue(JSON.parse(localStorage.getItem('remember2value'))['username']);
                        _this.loginForm.controls["password"].setValue(JSON.parse(localStorage.getItem('remember2value'))['password']);
                        _this.loginForm.controls["id_branch"].setValue(JSON.parse(localStorage.getItem('remember2value'))['id_branch']);
                    }
                });
            }
            else {
                var remember = JSON.parse(localStorage.getItem('remember2'));
                console.log(remember);
                if (remember == true) {
                    // this.remember2 = true;
                    _this.loginForm.controls["remember2"].setValue(true);
                    _this.loginForm.controls["username"].setValue(JSON.parse(localStorage.getItem('remember2value'))['username']);
                    _this.loginForm.controls["password"].setValue(JSON.parse(localStorage.getItem('remember2value'))['password']);
                    _this.loginForm.controls["id_branch"].setValue(_this.login_branch);
                }
                loader.dismiss();
            }
        });
    }
    LoginPage_1 = LoginPage;
    LoginPage.prototype.onSubmit = function (values) {
        var _this = this;
        // this.nav.setRoot(EstiPage);
        //   let modal = this.modal.create(WriteReviewPage,{'data':'data'},{
        //     cssClass: "my-modal"
        // })
        //   modal.present();
        values['device'] = this.device.uuid;
        //  values['device'] = '1111111';
        values['model'] = this.device.model;
        values['manufacturer'] = this.device.manufacturer;
        var hasBranch = (this.branch_settings == 1 && this.login_branch == 1) ? true : false;
        this.submitted = true;
        if (hasBranch == false) {
            /*  this.loginForm.controls["branchname"].setValidators(null);
              this.loginForm.controls["branchname"].updateValueAndValidity();*/
        }
        if (this.loginForm.valid) {
            this.errorMessage = 'Logging in...';
            this.isDisabled = true;
            var loader_1 = this.loadingCtrl.create({
                content: 'Please Wait',
                spinner: 'bubbles',
            });
            loader_1.present();
            this.common.doLogin(JSON.stringify(values)).then(function (res) {
                if (res) {
                    if (res.result) {
                        localStorage.setItem('remember', JSON.stringify(_this.remember));
                        if (res.type == "logged") {
                            localStorage.setItem('remember2', JSON.stringify(_this.loginForm.get('remember2').value));
                            localStorage.setItem('remember2value', JSON.stringify(values));
                            localStorage.setItem('userdet', JSON.stringify(values)); // Login details
                            console.log(values);
                            console.log(JSON.parse(localStorage.getItem('remember2value')));
                            res.empdata['id_branch'] = JSON.parse(localStorage.getItem('remember2value'))['id_branch'];
                            var bname = _this.branches.filter(function (data) { return data['id_branch'] == res.empdata['id_branch']; });
                            res.empdata['branch_name'] = bname.length > 0 ? bname[0]['name'] : res.empdata['branch_name'];
                            console.log(res.empdata);
                            localStorage.setItem('empDetail', JSON.stringify(res.empdata)); // Employee Details
                            localStorage.setItem('logstatus', JSON.stringify(true));
                            _this.event.publish('user:changed', true);
                            _this.nav.setRoot(__WEBPACK_IMPORTED_MODULE_4__edittag2_edittag2__["a" /* Edittag2Page */]);
                        }
                        else if (res.type == "otp") {
                            _this.nav.setRoot(__WEBPACK_IMPORTED_MODULE_5__otp_otp__["a" /* OtpPage */], { userdet: values, page: 'loginOTP', otpDetail: res });
                        }
                    }
                    else {
                        _this.errorMessage = res.msg;
                        var ctrl = _this.toast.create({
                            message: res.msg,
                            duration: _this.common.toastTimeout,
                            position: 'bottom'
                        });
                        ctrl.present();
                        _this.isDisabled = false;
                    }
                    loader_1.dismiss();
                }
            }, function (error) {
                _this.isDisabled = false;
                loader_1.dismiss();
            });
        }
        else {
            if (!this.loginForm.get('username').valid) {
                var ctrl = this.toast.create({
                    message: 'Please Enter Username Minimum 5 & Maximum 15 letters',
                    duration: this.common.toastTimeout,
                    position: 'bottom'
                });
                ctrl.present();
            }
            else {
                if (!this.loginForm.get('password').valid) {
                    var ctrl = this.toast.create({
                        message: 'Please Enter Password Minimum 8 & Maximum 16 letters',
                        duration: this.common.toastTimeout,
                        position: 'bottom'
                    });
                    ctrl.present();
                }
            }
        }
    };
    LoginPage.prototype.updateremember = function (value) {
        this.remember = value;
        console.log(this.remember);
    };
    LoginPage.prototype.login = function () {
        this.nav.setRoot(LoginPage_1); //navigate to Edittag2Page
    };
    LoginPage.prototype.skip = function () {
        this.nav.setRoot(__WEBPACK_IMPORTED_MODULE_4__edittag2_edittag2__["a" /* Edittag2Page */]); //navigate to Edittag2Page
    };
    /*openmodal() {
      let mod = this.modal.create(BranchPage)
      mod.present();
      mod.onDidDismiss(data => {
        if (data != undefined) {
          this.loginForm.controls['branchname'].setValue(data['name']);
          this.loginForm.controls['id_branch'].setValue(data['id_branch']);
        }
      });
    }*/
    LoginPage.prototype.showPassword = function () {
        this.showPass = !this.showPass;
        if (this.showPass) {
            this.typecheck = 'text';
        }
        else {
            this.typecheck = 'password';
        }
    };
    /* for footer as hide in default. it's assigned in app.components.ts */
    LoginPage.prototype.ionViewWillEnter = function () {
        var user = false;
        this.events.publish('user:created', user);
        this.events.publish('lp', false);
    };
    LoginPage.prototype.ionViewDidEnter = function () {
        this.menu.swipeEnable(false);
        // If you have more than one side menu, use the id like below
        // this.menu.swipeEnable(false, 'menu1');
    };
    LoginPage.prototype.ionViewWillLeave = function () {
        // Don't forget to return the swipe to normal, otherwise
        // the rest of the pages won't be able to swipe to open menu
        this.menu.swipeEnable(true);
        this.events.publish('lp', true);
        // If you have more than one side menu, use the id like below
        // this.menu.swipeEnable(true, 'menu1');
    };
    LoginPage.prototype.toggleVisible = function () {
        this.visibleState = (this.visibleState == 'visible') ? 'invisible' : 'visible';
    };
    LoginPage.prototype.updateremember2 = function (value) {
        // this.remember2 = value;
        this.loginForm.controls["remember2"].setValue(value);
        console.log(value);
    };
    LoginPage.prototype.open = function () {
        this.nav.push(__WEBPACK_IMPORTED_MODULE_7__avrsearch_avrsearch__["a" /* AvrsearchPage */]);
    };
    LoginPage = LoginPage_1 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-login',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\login\login.html"*/'<ion-content padding text-center class="login-content loginbg">\n\n    <div class="margin">\n\n        <img style="height: 70px;" src=\'assets/header.svg\' />\n\n       <!--  <p class="theme-color">{{cmpName}}</p> -->\n\n    </div>\n\n\n\n    <ion-grid>\n\n        <ion-row>\n\n            <ion-col col-sm-12 col-md-6 offset-md-3 col-lg-6 offset-lg-3 col-xl-6 offset-xl-3>\n\n                <div class="login-box">\n\n                    <form [formGroup]="loginForm" (ngSubmit)="onSubmit(loginForm.value)" novalidate padding>\n\n\n\n                        <ion-item no-padding>\n\n                            <ion-label color="label-color" stacked>User Name <span class="required"> *</span>\n\n                            </ion-label>\n\n                            <ion-input type="text" [formControl]="username" placeholder="User Name" name="username">\n\n                            </ion-input>\n\n                        </ion-item>\n\n\n\n                        <ion-item no-padding>\n\n                            <ion-label color="label-color" stacked>Password <span class="required"> *</span></ion-label>\n\n                            <ion-input placeholder="Password" [formControl]="password" type="{{typecheck}}"></ion-input>\n\n                            <button class="no-margin" *ngIf="!showPass" ion-button clear color="dark" type="button"\n\n                                item-right (click)="showPassword()">\n\n                                <ion-icon style="background:none !important;" name="eye"></ion-icon>\n\n                            </button>\n\n                            <button class="no-margin" *ngIf="showPass" ion-button clear color="dark" type="button"\n\n                                item-right (click)="showPassword()">\n\n                                <ion-icon style="background:none !important;" name="eye-off"></ion-icon>\n\n                            </button>\n\n                        </ion-item>\n\n\n\n                        <span *ngIf="branch_settings == 1 && login_branch == 1">\n\n                            <ion-item no-padding>\n\n                                <ion-label color="label-color" stacked>Branch <span class="required"> *</span>\n\n                                </ion-label>\n\n                                <ion-select [formControl]="id_branch" placeholder="Branch" name="branchname">\n\n                                    <ion-option *ngFor="let b of branches" [value]="b.id_branch">{{b.name}}</ion-option>\n\n                                </ion-select>\n\n                            </ion-item>\n\n                        </span>\n\n                        <ion-row style="margin-top: 10px;">\n\n                            <ion-col col-6>\n\n                            </ion-col>\n\n                            <ion-col col-1>\n\n                                <ion-checkbox [formControl]="remember2" (ionChange)="updateremember2(remember2.value)">\n\n                                </ion-checkbox>\n\n                            </ion-col>\n\n\n\n                            <ion-col col-5>\n\n                                <span style="font-size: 1.4rem;font-weight: normal;color: #222;float:left;margin-top: 2px;">Remember\n\n                                    me</span>\n\n                            </ion-col>\n\n                        </ion-row>\n\n                        <div style="margin-top: 5%;">\n\n                            <button ion-button icon-start full class="theme-btn" type="submit">Login</button>\n\n                        </div>\n\n                    </form>\n\n                </div>\n\n            </ion-col>\n\n        </ion-row>\n\n    </ion-grid>\n\n    <!-- <ion-note margin align="center">Retail v2</ion-note> -->\n\n</ion-content>'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\login\login.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */]],
            animations: [
                Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_24" /* trigger */])('myvisibility', [
                    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_21" /* state */])('visible', Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_22" /* style */])({
                        opacity: 1
                    })),
                    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_21" /* state */])('invisible', Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_22" /* style */])({
                        opacity: 0
                    })),
                    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_23" /* transition */])('* => *', Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_13" /* animate */])('.5s'))
                ])
            ]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_6__ionic_native_device__["a" /* Device */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["d" /* App */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["B" /* ViewController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["x" /* Platform */], __WEBPACK_IMPORTED_MODULE_2__angular_forms__["b" /* FormBuilder */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["r" /* MenuController */], __WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */]])
    ], LoginPage);
    return LoginPage;
    var LoginPage_1;
}());

//# sourceMappingURL=login.js.map

/***/ }),

/***/ 7:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RetailProvider; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_ionic_angular__ = __webpack_require__(2);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var RetailProvider = /** @class */ (function () {
    function RetailProvider(event, http, commonService) {
        this.event = event;
        this.http = http;
        this.commonService = commonService;
    }
    // Item Sale Value calculation - Common for all Pages
    RetailProvider.prototype.setAsNumber = function (data) {
        if (typeof data != 'undefined' && data) {
            return Number(data);
        }
        else {
            return 0;
        }
    };
    RetailProvider.prototype.calculate_base_value_tax = function (taxcallrate, taxgroup) {
        var totaltax = 0;
        this.tax_details.forEach(function (taxitem) {
            if (taxitem.tgi_tgrpcode == taxgroup) {
                if (taxitem.tgi_calculation == 1) {
                    if (taxitem.tgi_type == 1) {
                        totaltax += (taxcallrate) * ((taxitem.tax_percentage) / 100);
                    }
                    else {
                        totaltax -= (taxcallrate) * ((taxitem.tax_percentage) / 100);
                    }
                }
            }
        });
        return totaltax;
    };
    RetailProvider.prototype.calculate_arrived_value_tax = function (taxcallrate, taxgroup) {
        var totaltax = 0;
        this.tax_details.forEach(function (taxitem) {
            if (taxitem.tgi_tgrpcode == taxgroup) {
                if (taxitem.tgi_calculation == 2) {
                    if (taxitem.tgi_type == 1) {
                        totaltax += (taxcallrate) * ((taxitem.tax_percentage) / 100);
                    }
                    else {
                        totaltax -= (taxcallrate) * ((taxitem.tax_percentage) / 100);
                    }
                }
            }
        });
        return totaltax;
    };
    RetailProvider.prototype.calculateSaleValueBasedMc = function (data) {
        var itemData = data.itemData;
        var metalRates = data.metalRate;
        this.tax_details = data.tax_details;
        console.log(data);
        var arrived_value_tax = 0;
        var base_value_amt = 0;
        var arrived_value_amt = 0;
        var market_arrived_value_tax = 0;
        var market_base_value_amt = 0;
        var market_arrived_value_amt = 0;
        var gross_wt = this.setAsNumber(itemData.gross_wt);
        var less_wt = this.setAsNumber(itemData.less_wt);
        var net_wt = this.setAsNumber(itemData.net_wt);
        var piece = this.setAsNumber(itemData.piece);
        var tax_group = this.setAsNumber(itemData.tax_group_id);
        var metal_type = this.setAsNumber(itemData.metal_type);
        var calculation_type = this.setAsNumber(itemData.calculation_based_on);
        var mc_type = this.setAsNumber(itemData.mc_type);
        var mc_value = this.setAsNumber(itemData.mc_value);
        var tot_wastage = this.setAsNumber(itemData.retail_max_wastage_percent);
        var stone_price = this.setAsNumber(itemData.stone_price);
        var other_metal_total_price = this.setAsNumber(itemData.other_metal_total_price);
        var certification_price = this.setAsNumber(itemData.certification_cost);
        var ratePerG = this.setAsNumber(metalRates[itemData.metal_type]);
        var marketRatePerG = this.setAsNumber(metalRates[itemData.market_metal_type]);
        var item_rate = this.setAsNumber(itemData.item_rate);
        var sales_value = this.setAsNumber(itemData.sales_value);
        var charges = this.setAsNumber(itemData.charge_value);
        var finalmaking_charge = this.setAsNumber(itemData.making_charge);
        /**
        *	Amount calculation based on settings (without discount and tax )
        *   0 - Wastage on Gross weight And MC on Gross weight
        *   1 - Wastage on Net weight And MC on Net weight
        *   2 - Wastage On Netwt And MC On Grwt
        *   taxable = Metal Rate + Stone + OM + Wastage + MC
        */
        if (calculation_type == 0) {
            var wast_wgt = parseFloat(((gross_wt) * (tot_wastage / 100)).toFixed(5));
            if (mc_type != 3) {
                var making_charge = finalmaking_charge;
                // Metal Rate + Stone + OM + Wastage + MC
                mc_value = parseFloat((mc_type == 2 ? (making_charge / gross_wt) : ((mc_type) == 1 ? (mc_value / piece) : 0)).toFixed(2));
                console.log(mc_value);
                var taxable = ((ratePerG * ((wast_wgt) + (net_wt))) + (making_charge) + (stone_price) + (other_metal_total_price) + (certification_price) + (charges));
                var market_taxable = ((marketRatePerG * ((wast_wgt) + (net_wt))) + (making_charge) + (stone_price) + (certification_price) + (charges));
            }
            else {
                var making_charge = finalmaking_charge;
                var taxable = ((ratePerG * ((wast_wgt) + (net_wt))) + (making_charge) + (stone_price) + (other_metal_total_price) + (certification_price) + (charges));
                var market_taxable = ((marketRatePerG * ((wast_wgt) + (net_wt))) + (making_charge) + (stone_price) + (certification_price) + (charges));
            }
        }
        else if (calculation_type == 1) {
            var wast_wgt = parseFloat(((net_wt) * (tot_wastage / 100)).toFixed(5));
            if (mc_type != 3) {
                var making_charge = finalmaking_charge;
                // Metal Rate + Stone + OM + Wastage + MC
                mc_value = parseFloat((mc_type == 2 ? (making_charge / net_wt) : ((mc_type) == 1 ? (mc_value / piece) : 0)).toFixed(2));
                console.log(mc_value);
                var taxable = parseFloat(((ratePerG * ((wast_wgt) + (net_wt))) + (making_charge) + (stone_price) + (other_metal_total_price) + (certification_price) + (charges)).toFixed(2));
                var market_taxable = parseFloat(((marketRatePerG * ((wast_wgt) + (net_wt))) + (making_charge) + (stone_price) + (certification_price) + (charges)).toFixed(2));
            }
            else {
                var making_charge = finalmaking_charge;
                // Metal Rate + Stone + OM + Wastage + MC
                console.log(ratePerG);
                console.log(wast_wgt);
                console.log(net_wt);
                console.log(making_charge);
                console.log(stone_price);
                console.log(other_metal_total_price);
                console.log(certification_price);
                console.log(charges);
                var taxable = parseFloat(((ratePerG * ((wast_wgt) + (net_wt))) + (making_charge) + (stone_price) + (other_metal_total_price) + (certification_price) + (charges)).toFixed(2));
                var market_taxable = parseFloat(((marketRatePerG * ((wast_wgt) + (net_wt))) + (making_charge) + (stone_price) + (certification_price) + (charges)).toFixed(2));
            }
        }
        else if (calculation_type == 2) {
            var wast_wgt = parseFloat(((net_wt) * (tot_wastage / 100)).toFixed(5));
            if (mc_type != 3) {
                var making_charge = finalmaking_charge;
                console.log(making_charge);
                console.log(mc_value);
                console.log(piece);
                mc_value = parseFloat((mc_type == 2 ? (making_charge / gross_wt) : ((mc_type) == 1 ? (mc_value / piece) : 0)).toFixed(2));
                console.log(mc_value);
                // Metal Rate + Stone + OM + Wastage + MC
                var taxable = parseFloat(((((ratePerG) * ((wast_wgt) + (net_wt))) + (making_charge)) + (stone_price) + (other_metal_total_price) + (certification_price) + (charges)).toFixed(2));
                var market_taxable = parseFloat(((((marketRatePerG) * ((wast_wgt) + (net_wt))) + (making_charge)) + (stone_price) + (other_metal_total_price) + (certification_price) + (charges)).toFixed(2));
            }
            else {
                console.log(making_charge);
                var making_charge = finalmaking_charge;
                // Metal Rate + Stone + OM + Wastage + MC
                var taxable = parseFloat(((((ratePerG) * ((wast_wgt) + (net_wt))) + (making_charge)) + (stone_price) + (other_metal_total_price) + (certification_price) + (charges)).toFixed(2));
                var market_taxable = parseFloat(((((marketRatePerG) * ((wast_wgt) + (net_wt))) + (making_charge)) + (stone_price) + (other_metal_total_price) + (certification_price) + (charges)).toFixed(2));
            }
        }
        else if (calculation_type == 3) {
            var wast_wgt = 0;
            var taxable = (sales_value ? sales_value : 0);
            var market_taxable = (sales_value ? sales_value : 0);
        }
        else if (calculation_type == 4) {
            var wast_wgt = 0;
            var taxable = item_rate * gross_wt;
            var market_taxable = taxable + charges;
        }
        // if(calculation_type != 3){ 
        if (this.tax_details) {
            // Tax Calculation
            var base_value_tax = (this.calculate_base_value_tax(taxable, tax_group));
            var base_value_amt = ((taxable) + (base_value_tax));
            var arrived_value_tax = (this.calculate_arrived_value_tax(base_value_amt, tax_group));
            var arrived_value_amt = ((base_value_amt) + (arrived_value_tax));
            var total_tax_rate = parseFloat((base_value_tax + arrived_value_tax).toFixed(2));
            var market_base_value_tax = (this.calculate_base_value_tax(market_taxable, tax_group));
            var market_base_value_amt = ((market_taxable) + (base_value_tax));
            var market_arrived_value_tax = (this.calculate_arrived_value_tax(base_value_amt, tax_group));
            var market_arrived_value_amt = ((base_value_amt) + (arrived_value_tax));
            var market_total_tax_rate = parseFloat((base_value_tax + arrived_value_tax).toFixed(2));
            // }else{
            //     var total_tax_rate	= 0;
            //     var market_total_tax_rate	= 0;
            // }
            var total_price = (taxable + total_tax_rate);
            var market_total_price = (market_taxable + market_total_tax_rate);
        }
        else {
            var total_price = sales_value;
            var market_total_price = sales_value;
        }
        // Set Calculated Value
        itemData["mc_value"] = mc_value;
        itemData["making_charge"] = making_charge;
        itemData["wast_wgt"] = wast_wgt;
        itemData["taxable"] = taxable;
        itemData["sales_value"] = total_price.toFixed(2);
        itemData["market_tax_price"] = market_total_tax_rate;
        itemData["market_sales_value"] = market_total_price;
        itemData["tax_price"] = total_tax_rate;
        itemData["gross_wt"] = itemData.gross_wt;
        itemData["less_wt"] = itemData.less_wt;
        itemData["net_wt"] = itemData.net_wt;
        if (data.item_type == 'tag') {
            itemData["is_partial"] = itemData.is_partial;
        }
        if (data.item_type == 'non_tag') {
            itemData["design"] = itemData.design;
        }
        console.log(itemData);
        return itemData;
    };
    //   public calculateSaleValue(data){
    //     var itemData = data.itemData ;
    //     var metalRates = data.metalRate;
    //     this.tax_details = data.tax_details;
    //     console.log(data); 
    //     var arrived_value_tax = 0;
    //     var base_value_amt=0;
    //     var arrived_value_amt=0;
    //     var market_arrived_value_tax = 0;
    //     var market_base_value_amt=0;
    //     var market_arrived_value_amt=0;
    //     var gross_wt  = this.setAsNumber(itemData.gross_wt) ;
    //     var less_wt   = this.setAsNumber(itemData.less_wt) ;
    //     var other_metal_total_wt =  this.setAsNumber(itemData.other_metal_total_wt)
    //     console.log(gross_wt,less_wt,other_metal_total_wt,'333333333333333333333');
    //     //var net_wt    = this.setAsNumber(itemData.net_wt) ;
    //     // var piece     = this.setAsNumber(itemData.piece) ;
    //     var net_wt = this.setAsNumber(gross_wt-less_wt-other_metal_total_wt);
    //     console.log('1111111111',net_wt);
    //     var piece     = 1;
    //     var tax_group = this.setAsNumber(itemData.tax_group_id) ;
    //     var metal_type= this.setAsNumber(itemData.metal_type) ;
    //     var calculation_type = this.setAsNumber(itemData.calculation_based_on) ;
    //     var mc_type       = this.setAsNumber(itemData.mc_type);
    //     var mc_value      = this.setAsNumber(itemData.mc_value);
    //     var tot_wastage   = this.setAsNumber(itemData.retail_max_wastage_percent);
    //     var stone_price   = this.setAsNumber(itemData.stone_price);
    //     var certification_price = this.setAsNumber(itemData.certification_cost);
    //     console.log(121231313213,itemData['metalratec'] == 'true')
    //     var ratePerG      = itemData['metalratec'] == 'true' ? itemData.rate_per :  this.setAsNumber(metalRates[itemData.metal_type]);
    //     var marketRatePerG= this.setAsNumber(metalRates[itemData.market_metal_type]);
    //     var item_rate     = this.setAsNumber(itemData.item_rate);
    //     var sales_value     = this.setAsNumber(itemData.sales_value);
    //     var charges     = this.setAsNumber(itemData.charge_value);
    //     var othercharges     = this.setAsNumber(itemData.othermetal_charges);
    //     var othermetalprice = this.setAsNumber(itemData.other_metal_total_price);
    // console.log(sales_value ,charges);
    //     var advance     = this.setAsNumber(itemData['advance']);
    //     /**
    //     *	Amount calculation based on settings (without discount and tax )
    //     *   0 - Wastage on Gross weight And MC on Gross weight
    //     *   1 - Wastage on Net weight And MC on Net weight
    //     *   2 - Wastage On Netwt And MC On Grwt
    //     *   taxable = Metal Rate + Stone + OM + Wastage + MC
    //     */
    //     if(calculation_type == 0){
    //       var wast_wgt = parseFloat( ((gross_wt) * (tot_wastage/100)).toFixed(3) ); 
    //       if(mc_type != 3){ 
    //       var making_charge =  (mc_type == 2 ? (mc_value * gross_wt ) : ((mc_type) == 1 ? (mc_value * piece) : 0));
    //       // Metal Rate + Stone + OM + Wastage + MC
    //       var taxable = ((ratePerG * ((wast_wgt) + (net_wt))) + (making_charge) +(stone_price)+(certification_price)+(charges) + (othercharges));
    //       var market_taxable = ((marketRatePerG * ((wast_wgt) + (net_wt))) + (making_charge) +(stone_price)+(certification_price)+(charges)+ (othercharges));
    //     }else{
    //         var making_charge = (ratePerG * ((wast_wgt) + (net_wt)) * (mc_value/100));
    //         var taxable = ((ratePerG * ((wast_wgt) + (net_wt))) + (making_charge) +(stone_price)+(certification_price)+(charges)+ (othercharges));
    //       var market_taxable = ((marketRatePerG * ((wast_wgt) + (net_wt))) + (making_charge) +(stone_price)+(certification_price)+(charges)+ (othercharges));
    //     }
    //     }
    //     else if(calculation_type == 1){
    //       var wast_wgt = parseFloat( ((net_wt) * (tot_wastage/100)).toFixed(3) ); 
    //       if(mc_type != 3){ 
    //       var making_charge       = parseFloat( (mc_type == 2 ? (mc_value * net_wt ) : ((mc_type) == 1 ? (mc_value * piece) : 0)).toFixed(2) );
    //       // Metal Rate + Stone + OM + Wastage + MC
    //       var taxable =  parseFloat(((ratePerG * ((wast_wgt) + (net_wt))) + (making_charge) +(stone_price)+(certification_price)+(charges)+ (othercharges)).toFixed(2) );
    //       console.log(ratePerG)
    //       console.log(wast_wgt)
    //       console.log(net_wt)
    //       console.log(making_charge)
    //       console.log(stone_price)
    //       console.log(certification_price)
    //       console.log(charges)
    //       console.log(othercharges)
    //       console.log(taxable)
    //       var market_taxable = parseFloat( ((marketRatePerG * ((wast_wgt) + (net_wt))) + (making_charge) +(stone_price)+(certification_price)+(charges)+ (othercharges)).toFixed(2) );
    //       }else{
    //         var making_charge       = ((ratePerG * ((wast_wgt) + (net_wt))) * (mc_value/100));
    //         // Metal Rate + Stone + OM + Wastage + MC
    //         var taxable =  parseFloat(((ratePerG * ((wast_wgt) + (net_wt))) + (making_charge) +(stone_price)+(certification_price)+(charges)+ (othercharges)).toFixed(2) );
    //         var market_taxable = parseFloat( ((marketRatePerG * ((wast_wgt) + (net_wt))) + (making_charge) +(stone_price)+(certification_price)+(charges)+ (othercharges)).toFixed(2) );
    //       }
    //     }
    //     else if(calculation_type == 2){ 
    //       var wast_wgt = parseFloat( ((net_wt) * (tot_wastage/100)).toFixed(3) ); 
    //       if(mc_type != 3){ 
    //       var making_charge = parseFloat( (mc_type == 2 ? (mc_value * gross_wt ) : ((mc_type) == 1 ? (mc_value * piece) : 0)).toFixed(2) ); 
    //       console.log(making_charge);
    //       console.log(mc_value);
    //       console.log(piece);
    //       console.log(ratePerG);
    //       console.log(wast_wgt);
    //       console.log(net_wt);
    //       // Metal Rate + Stone + OM + Wastage + MC
    //       var taxable = parseFloat( ((((ratePerG) * ((wast_wgt) + (net_wt)))+ (making_charge) )+(stone_price)+(certification_price)+(charges)+ (othercharges)).toFixed(2) );
    //       var market_taxable =   parseFloat( ((((marketRatePerG) * ((wast_wgt) + (net_wt)))+ (making_charge) )+(stone_price)+(certification_price)+(charges)+ (othercharges)).toFixed(2) );
    //       }else{
    //         console.log(making_charge)
    //         var making_charge =  (((ratePerG) * ((wast_wgt) + (net_wt))) * (mc_value/100));
    //         // Metal Rate + Stone + OM + Wastage + MC
    //         var taxable = parseFloat( ((((ratePerG) * ((wast_wgt) + (net_wt)))+ (making_charge) )+(stone_price)+(certification_price)+(charges)+ (othercharges)).toFixed(2) );
    //         var market_taxable =   parseFloat( ((((marketRatePerG) * ((wast_wgt) + (net_wt)))+ (making_charge) )+(stone_price)+(certification_price)+(charges)+ (othercharges)).toFixed(2) );
    //       }
    //     }
    //     else if(calculation_type == 3){
    //         var wast_wgt = 0;
    //         console.log(charges)
    //         var taxable  = (sales_value  ? sales_value + (charges)+ (othercharges) : 0);
    //         var market_taxable  = (sales_value  ? sales_value +(charges)+ (othercharges) : 0);
    //     }
    //     // else if(calculation_type == 4){
    //     //   var wast_wgt = 0;
    //     //   var taxable  = (item_rate  ? item_rate : 0);
    //     //   var market_taxable  = (item_rate  ? item_rate : 0);
    //     // }
    //     else if(calculation_type == 4){
    //       var wast_wgt = 0;
    //       console.log(charges)
    //       var taxable  = (sales_value  ? sales_value + (charges)+ (othercharges) : 0);
    //       taxable = taxable * gross_wt;
    //       var market_taxable  = (sales_value  ? sales_value +(charges)+ (othercharges) : 0);
    //       market_taxable = market_taxable * gross_wt;
    //   }
    //   taxable =  parseFloat((taxable + othermetalprice).toFixed(2))
    //   console.log(taxable);
    // 	if((calculation_type != 3 && calculation_type != 4 ) || ((calculation_type == 3 && itemData.tax_type == 2 ) || (calculation_type == 4 && itemData.tax_type == 2) ) ){ 
    //         if(this.tax_details){
    //         // Tax Calculation
    //         var base_value_tax	= (this.calculate_base_value_tax(taxable,tax_group));
    //         console.log(base_value_tax)
    //         var base_value_amt	= ((taxable)+(base_value_tax));
    //         var arrived_value_tax = (this.calculate_arrived_value_tax(base_value_amt,tax_group));
    //         console.log(arrived_value_tax)
    //         var arrived_value_amt = ((base_value_amt)+(arrived_value_tax));
    //         var total_tax_rate	= parseFloat( (base_value_tax+arrived_value_tax).toFixed(2));
    //         var market_base_value_tax	= (this.calculate_base_value_tax(market_taxable,tax_group));
    //         var market_base_value_amt	= ((market_taxable)+(base_value_tax));
    //         var market_arrived_value_tax= (this.calculate_arrived_value_tax(base_value_amt,tax_group));
    //         var market_arrived_value_amt= ((base_value_amt)+(arrived_value_tax));
    //         var market_total_tax_rate	= parseFloat((base_value_tax + arrived_value_tax).toFixed(2));
    //         }else{
    //             var total_tax_rate	= 0;
    //             var market_total_tax_rate	= 0;
    //         }
    //         var total_price = (taxable+total_tax_rate);
    //         var market_total_price = (market_taxable+market_total_tax_rate);
    //     }else{
    //         var total_price = sales_value;
    //         var market_total_price = sales_value;
    //     }    
    //     // if(itemData.hasOwnProperty('advance')){
    //     // total_price =  total_price - advance;
    //     // }
    //     // Set Calculated Value
    //     itemData["making_charge"]  = making_charge;
    //     itemData["wast_wgt"]       = wast_wgt;
    //     itemData["taxable"]        = taxable;
    //     itemData["sales_value"]    = total_price.toFixed(2);
    //     itemData["market_tax_price"]  = market_total_tax_rate;
    //     itemData["market_sales_value"]= market_total_price;
    //     itemData["tax_price"]      = total_tax_rate;
    //     itemData["gross_wt"]       = itemData.gross_wt;
    //     itemData["less_wt"] = parseFloat(itemData.less_wt).toFixed(3);
    //     itemData["net_wt"] = net_wt.toFixed(3);
    // console.log('itemData["net_wt"] >>>>>>>' ,itemData["net_wt"]);
    //     itemData["rate_per"]         = ratePerG;
    //     if(data.item_type == 'tag'){
    //       itemData["is_partial"]     = itemData.is_partial;
    //     }
    //     if(data.item_type == 'non_tag'){
    //       itemData["design"]     = itemData.design;
    //     }
    //     console.log(itemData);
    //     return itemData;
    //   }
    RetailProvider.prototype.calculateSaleValue = function (data) {
        var itemData = data.itemData;
        var metalRates = data.metalRate;
        this.tax_details = data.tax_details;
        console.log(data);
        var arrived_value_tax = 0;
        var base_value_amt = 0;
        var arrived_value_amt = 0;
        var market_arrived_value_tax = 0;
        var market_base_value_amt = 0;
        var market_arrived_value_amt = 0;
        var gross_wt = this.setAsNumber(itemData.gross_wt);
        var less_wt = this.setAsNumber(itemData.less_wt);
        console.log('less_wt :  ', less_wt);
        var other_metal_total_wt = this.setAsNumber(itemData.other_metal_total_wt);
        var net_wt = this.setAsNumber(gross_wt - less_wt - other_metal_total_wt);
        console.log('retail : ', net_wt);
        //  var net_wt    = this.setAsNumber(itemData.net_wt) ;
        // var piece     = this.setAsNumber(itemData.piece) ;
        var piece = 1;
        var tax_group = this.setAsNumber(itemData.tax_group_id);
        var metal_type = this.setAsNumber(itemData.metal_type);
        var calculation_type = this.setAsNumber(itemData.calculation_based_on);
        var mc_type = this.setAsNumber(itemData.mc_type);
        var mc_value = this.setAsNumber(itemData.mc_value);
        var tot_wastage = this.setAsNumber(itemData.retail_max_wastage_percent);
        var stone_price = this.setAsNumber(itemData.stone_price);
        var other_metal_total_price = this.setAsNumber(itemData.other_metal_total_price);
        var certification_price = this.setAsNumber(itemData.certification_cost);
        console.log(121231313213, itemData['metalratec'] == 'true');
        var ratePerG = itemData['metalratec'] == 'true' ? itemData.rate_per : this.setAsNumber(metalRates[itemData.metal_type]);
        var marketRatePerG = this.setAsNumber(metalRates[itemData.market_metal_type]);
        var item_rate = this.setAsNumber(itemData.rate_per);
        var sales_value = this.setAsNumber(itemData.sales_value);
        var charges = this.setAsNumber(itemData.charge_value);
        //var othercharges = this.setAsNumber(itemData.othermetal_charges);
        var othermetalprice = this.setAsNumber(itemData.other_metal_total_price);
        var advance = this.setAsNumber(itemData['advance']);
        /**
        *	Amount calculation based on settings (without discount and tax )
        *   0 - Wastage on Gross weight And MC on Gross weight
        *   1 - Wastage on Net weight And MC on Net weight
        *   2 - Wastage On Netwt And MC On Grwt
        *   taxable = Metal Rate + Stone + OM + Wastage + MC
        */
        if (calculation_type == 0) {
            var wast_wgt = parseFloat(((gross_wt) * (tot_wastage / 100)).toFixed(3));
            if (mc_type != 3) {
                var making_charge = (mc_type == 2 ? (mc_value * gross_wt) : ((mc_type) == 1 ? (mc_value * piece) : 0));
                // Metal Rate + Stone + OM + Wastage + MC
                var taxable = ((ratePerG * ((wast_wgt) + (net_wt))) + (making_charge) + (stone_price) + (other_metal_total_price) + (certification_price) + (charges));
                var market_taxable = ((marketRatePerG * ((wast_wgt) + (net_wt))) + (making_charge) + (stone_price) + (other_metal_total_price) + (certification_price) + (charges));
            }
            else {
                var making_charge = (ratePerG * ((wast_wgt) + (net_wt)) * (mc_value / 100));
                var taxable = ((ratePerG * ((wast_wgt) + (net_wt))) + (making_charge) + (stone_price) + (other_metal_total_price) + (certification_price) + (charges));
                var market_taxable = ((marketRatePerG * ((wast_wgt) + (net_wt))) + (making_charge) + (stone_price) + (other_metal_total_price) + (certification_price) + (charges));
            }
        }
        else if (calculation_type == 1) {
            var wast_wgt = parseFloat(((net_wt) * (tot_wastage / 100)).toFixed(3));
            if (mc_type != 3) {
                console.log(ratePerG);
                console.log(wast_wgt);
                console.log(net_wt);
                console.log(making_charge);
                console.log(stone_price);
                console.log(other_metal_total_price);
                console.log(certification_price);
                console.log(charges);
                var making_charge = parseFloat((mc_type == 2 ? (mc_value * net_wt) : ((mc_type) == 1 ? (mc_value * piece) : 0)).toFixed(2));
                // Metal Rate + Stone + OM + Wastage + MC
                var taxable = parseFloat(((ratePerG * ((wast_wgt) + (net_wt))) + (making_charge) + (stone_price) + (other_metal_total_price) + (certification_price) + (charges)).toFixed(2));
                //  console.log(ratePerG)
                // console.log(wast_wgt)
                // console.log(net_wt)
                // console.log(making_charge)
                // console.log(stone_price)
                // console.log(certification_price)
                // console.log(charges)
                // // console.log(othercharges)
                console.log(taxable);
                var market_taxable = parseFloat(((marketRatePerG * ((wast_wgt) + (net_wt))) + (making_charge) + (stone_price) + (other_metal_total_price) + (certification_price) + (charges)).toFixed(2));
            }
            else {
                console.log(ratePerG);
                console.log(wast_wgt);
                console.log(net_wt);
                console.log(making_charge);
                console.log(stone_price);
                console.log(other_metal_total_price);
                console.log(certification_price);
                console.log(charges);
                var making_charge = ((ratePerG * ((wast_wgt) + (net_wt))) * (mc_value / 100));
                // Metal Rate + Stone + OM + Wastage + MC
                var taxable = parseFloat(((ratePerG * ((wast_wgt) + (net_wt))) + (making_charge) + (stone_price) + (other_metal_total_price) + (certification_price) + (charges)).toFixed(2));
                var market_taxable = parseFloat(((marketRatePerG * ((wast_wgt) + (net_wt))) + (making_charge) + (stone_price) + (other_metal_total_price) + (certification_price) + (charges)).toFixed(2));
            }
        }
        else if (calculation_type == 2) {
            var wast_wgt = parseFloat(((net_wt) * (tot_wastage / 100)).toFixed(3));
            if (mc_type != 3) {
                var making_charge = parseFloat((mc_type == 2 ? (mc_value * gross_wt) : ((mc_type) == 1 ? (mc_value * piece) : 0)).toFixed(2));
                console.log(making_charge);
                console.log(mc_value);
                console.log(piece);
                console.log(ratePerG);
                console.log(wast_wgt);
                console.log(net_wt);
                // Metal Rate + Stone + OM + Wastage + MC
                var taxable = parseFloat(((((ratePerG) * ((wast_wgt) + (net_wt))) + (making_charge)) + (stone_price) + (other_metal_total_price) + (certification_price) + (charges)).toFixed(2));
                var market_taxable = parseFloat(((((marketRatePerG) * ((wast_wgt) + (net_wt))) + (making_charge)) + (stone_price) + (other_metal_total_price) + (certification_price) + (charges)).toFixed(2));
            }
            else {
                console.log(making_charge);
                var making_charge = (((ratePerG) * ((wast_wgt) + (net_wt))) * (mc_value / 100));
                // Metal Rate + Stone + OM + Wastage + MC
                var taxable = parseFloat(((((ratePerG) * ((wast_wgt) + (net_wt))) + (making_charge)) + (stone_price) + (other_metal_total_price) + (certification_price) + (charges)).toFixed(2));
                var market_taxable = parseFloat(((((marketRatePerG) * ((wast_wgt) + (net_wt))) + (making_charge)) + (stone_price) + (other_metal_total_price) + (certification_price) + (charges)).toFixed(2));
            }
        }
        else if (calculation_type == 3) {
            // var wast_wgt = 0;
            // console.log(charges)
            // console.log(taxable,'taxable');
            var wast_wgt = 0;
            var taxable = (sales_value ? sales_value : 0);
            var market_taxable = (sales_value ? sales_value : 0);
            // var taxable = (sales_value ? sales_value + (charges) : 0);
            // var market_taxable = (sales_value ? sales_value + (charges) : 0);
        }
        else if (calculation_type == 4) {
            var wast_wgt = 0;
            var taxable = item_rate * gross_wt;
            var market_taxable = taxable + charges;
            //    var wast_wgt = 0;
            // var taxable = (sales_value ? sales_value : 0);
            // var market_taxable = (sales_value ? sales_value : 0);
        }
        // else if(calculation_type == 4){
        //   var wast_wgt = 0;
        //   var taxable  = (item_rate  ? item_rate : 0);
        //   var market_taxable  = (item_rate  ? item_rate : 0);
        // }
        /*         else if (calculation_type == 4) {
                    var wast_wgt = 0;
                    console.log(charges)
                    var taxable = (sales_value ? sales_value + (charges) : 0);
                    console.log('tax => ', taxable);
                    //  taxable = taxable * gross_wt; --->  commented by krishna  reason calculation overlap
                    var market_taxable = (sales_value ? sales_value + (charges) : 0);
                    // market_taxable = market_taxable * gross_wt; --->  commented by krishna  reason calculation overlap
                    console.log(market_taxable);
                }
         */
        //  taxable = parseFloat((taxable + othermetalprice).toFixed(2))
        console.log(taxable);
        if ((calculation_type != 3 && calculation_type != 4) || ((calculation_type == 3 && itemData.tax_type == 2) || (calculation_type == 4 && itemData.tax_type == 2))) {
            if (this.tax_details) {
                // Tax Calculation
                var base_value_tax = (this.calculate_base_value_tax(taxable, tax_group));
                console.log(base_value_tax);
                var base_value_amt = ((taxable) + (base_value_tax));
                var arrived_value_tax = (this.calculate_arrived_value_tax(base_value_amt, tax_group));
                console.log(arrived_value_tax);
                var arrived_value_amt = ((base_value_amt) + (arrived_value_tax));
                var total_tax_rate = parseFloat((base_value_tax + arrived_value_tax).toFixed(2));
                var market_base_value_tax = (this.calculate_base_value_tax(market_taxable, tax_group));
                var market_base_value_amt = ((market_taxable) + (base_value_tax));
                var market_arrived_value_tax = (this.calculate_arrived_value_tax(base_value_amt, tax_group));
                var market_arrived_value_amt = ((base_value_amt) + (arrived_value_tax));
                var market_total_tax_rate = parseFloat((base_value_tax + arrived_value_tax).toFixed(2));
            }
            else {
                var total_tax_rate = 0;
                var market_total_tax_rate = 0;
            }
            var total_price = (taxable + total_tax_rate);
            var market_total_price = (market_taxable + market_total_tax_rate);
        }
        else {
            var total_price = sales_value;
            var market_total_price = sales_value;
        }
        // if(itemData.hasOwnProperty('advance')){
        // total_price =  total_price - advance;
        // }
        // Set Calculated Value
        itemData["making_charge"] = making_charge;
        itemData["wast_wgt"] = wast_wgt;
        itemData["taxable"] = taxable;
        itemData["sales_value"] = total_price.toFixed(2);
        itemData["market_tax_price"] = market_total_tax_rate;
        itemData["market_sales_value"] = market_total_price;
        itemData["tax_price"] = total_tax_rate;
        itemData["gross_wt"] = itemData.gross_wt;
        itemData["less_wt"] = parseFloat(itemData.less_wt).toFixed(3);
        itemData["net_wt"] = this.setAsNumber(gross_wt - less_wt - other_metal_total_wt).toFixed(3);
        console.log('trrrrtrtr : ', itemData["net_wt"]);
        itemData["rate_per"] = ratePerG;
        if (data.item_type == 'tag') {
            itemData["is_partial"] = itemData.is_partial;
        }
        if (data.item_type == 'non_tag') {
            itemData["design"] = itemData.design;
        }
        console.log(itemData);
        return itemData;
    };
    // ./Item Sale Value calculation - Common for all Pages
    // Estimation
    RetailProvider.prototype.getTagData = function (postData) {
        return this.http
            .post(__WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/getTaggingBySearch', postData, this.commonService.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    RetailProvider.prototype.getref = function (postData) {
        return this.http
            .post(__WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/getRefBySearch', postData, this.commonService.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    RetailProvider.prototype.getorderData = function (postData) {
        return this.http
            .post(__WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/getorderBySearch', postData, this.commonService.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    RetailProvider.prototype.getNonTagItems = function (postData) {
        return this.http
            .post(__WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/getNonTagItems', postData, this.commonService.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    RetailProvider.prototype.getHomeStock = function (postData) {
        return this.http
            .post(__WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/getHomeStock', postData, this.commonService.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    RetailProvider.prototype.getAllTaxGroupItems = function () {
        return this.http
            .get(__WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/getAllTaxGroupItems', this.commonService.getHeader())
            .map(function (response) {
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    RetailProvider.prototype.getAllPurities = function (id_product) {
        return this.http
            .get(__WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/getAllPurities?id_product=' + id_product, this.commonService.getHeader())
            .map(function (response) {
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    RetailProvider.prototype.getOldMetalType = function () {
        return this.http
            .get(__WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/getOldMetalType', this.commonService.getHeader())
            .map(function (response) {
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    RetailProvider.prototype.getAllStoneMaters = function (type) {
        return this.http
            .get(__WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/getStones?type=' + type, this.commonService.getHeader())
            .map(function (response) {
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    RetailProvider.prototype.getAllStoneTypes = function (type) {
        return this.http
            .get(__WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/getStoneTypes?type=' + type, this.commonService.getHeader())
            .map(function (response) {
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    RetailProvider.prototype.createEstimation = function (postData) {
        return this.http
            .post(__WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/createEstimation', postData, this.commonService.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    RetailProvider.prototype.getEstiPrintURL = function (postData) {
        return this.http
            .post(__WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/getEstiPrintData', postData, this.commonService.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    RetailProvider.prototype.getEstiDetails = function (postData) {
        return this.http
            .post(__WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/getEstimationDetails', postData, this.commonService.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    // ./Estimation
    // Catalog
    RetailProvider.prototype.getCategories = function (postData) {
        return this.http
            .post(__WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/getCategories', postData, this.commonService.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    RetailProvider.prototype.getsupCategories = function (postData) {
        return this.http
            .post(__WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/getCategories', postData, this.commonService.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    RetailProvider.prototype.getCollections = function (postData) {
        return this.http
            .post(__WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/getCollections', postData, this.commonService.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    RetailProvider.prototype.getProducts = function (postData) {
        return this.http
            .post(__WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/getProducts', postData, this.commonService.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    RetailProvider.prototype.getsupProducts = function (postData) {
        return this.http
            .post(__WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/getProducts', postData, this.commonService.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    RetailProvider.prototype.getProductTreeList = function (postData) {
        return this.http
            .post(__WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/getProductTreeList', postData, this.commonService.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    RetailProvider.prototype.getDesigns = function (postData) {
        return this.http
            .post(__WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/getDesigns', postData, this.commonService.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    RetailProvider.prototype.getDesignById = function (postData) {
        return this.http
            .post(__WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/getSubDesignById', postData, this.commonService.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    RetailProvider.prototype.getECatalog = function (postData) {
        return this.http
            .post(__WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/getECatalog', postData, this.commonService.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    RetailProvider.prototype.getEcatalogFilters = function () {
        return this.http
            .get(__WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/getEcatalogFilters', this.commonService.getHeader())
            .map(function (response) {
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    RetailProvider.prototype.uploadImg = function (postData) {
        return this.http
            .post(__WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/uploadImg', postData, this.commonService.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    // ./Catalog
    // Wishlist and Cart
    RetailProvider.prototype.addToWishlist = function (postData) {
        return this.http
            .post(__WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/createWishlist', postData, this.commonService.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    RetailProvider.prototype.getItemslist = function (postData) {
        return this.http
            .post(__WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/getItemslist', postData, this.commonService.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    RetailProvider.prototype.removeItem = function (postData) {
        return this.http
            .post(__WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/removeItem', postData, this.commonService.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    RetailProvider.prototype.updateItem = function (postData) {
        return this.http
            .post(__WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/updateItem', postData, this.commonService.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    RetailProvider.prototype.addToCart = function (postData) {
        return this.http
            .post(__WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/addToCart', postData, this.commonService.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    RetailProvider.prototype.chooserate = function () {
        return this.http
            .get(__WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/previousRates', this.commonService.getHeader())
            .map(function (response) {
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    // ./Cart
    // Order  
    RetailProvider.prototype.createOrder = function (postData) {
        return this.http
            .post(__WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/createOrder', postData, this.commonService.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    RetailProvider.prototype.deletetagimage = function (postData) {
        return this.http
            .post(__WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/deletetagimage', postData, this.commonService.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    RetailProvider.prototype.addToenquiry = function (postData) {
        return this.http
            .post(__WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/enquiry', postData, this.commonService.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    RetailProvider.prototype.getdetails = function (postData) {
        return this.http
            .post(__WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/getCustomerDet', postData, this.commonService.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    // naveen
    RetailProvider.prototype.getProductsizes = function (id_product) {
        return this.http
            .get(__WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/getProductSize?id_product=' + id_product, this.commonService.getHeader())
            .map(function (response) {
            // some response manipulation
            var result = response.json();
            return result;
        })
            .toPromise();
    };
    RetailProvider = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */]])
    ], RetailProvider);
    return RetailProvider;
}());

//# sourceMappingURL=retail.js.map

/***/ }),

/***/ 70:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ProdetailPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ionic_native_toast__ = __webpack_require__(62);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_retail__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__ionic_native_file_transfer__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__ionic_native_file__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__ionic_native_camera__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__angular_http__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__pages_cart_cart__ = __webpack_require__(27);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__pages_login_login__ = __webpack_require__(63);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__angular_platform_browser__ = __webpack_require__(30);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__img_editor_editor__ = __webpack_require__(71);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_ngx_image_compress__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__ionic_native_file_path__ = __webpack_require__(24);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__ionic_native_file_chooser__ = __webpack_require__(50);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__ionic_native_media_capture__ = __webpack_require__(93);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__modal_customer_customer__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__addstone2_addstone2__ = __webpack_require__(191);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__charges_charges__ = __webpack_require__(94);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__ionic_native_file_opener__ = __webpack_require__(51);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__estimation_estimation__ = __webpack_require__(72);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__modal_employee_employee__ = __webpack_require__(49);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
























/**
 * Generated class for the ProductDetailPage page.
 *
 * See http://ionicframework.com/docs/components/#navigation for more info
 * on Ionic pages and navigation.
 */
var ProdetailPage = /** @class */ (function () {
    function ProdetailPage(fileOpener, modal, retail, mediaCapture, fileChooser, filePath, imageCompress, cd, sanitizer, commonservice, navCtrl, platform, navParams, loadingCtrl, toastCtrl, event, toast, actionSheetCtrl, camera, transfer, file, http, alertCtrl) {
        var _this = this;
        this.fileOpener = fileOpener;
        this.modal = modal;
        this.retail = retail;
        this.mediaCapture = mediaCapture;
        this.fileChooser = fileChooser;
        this.filePath = filePath;
        this.imageCompress = imageCompress;
        this.cd = cd;
        this.sanitizer = sanitizer;
        this.commonservice = commonservice;
        this.navCtrl = navCtrl;
        this.platform = platform;
        this.navParams = navParams;
        this.loadingCtrl = loadingCtrl;
        this.toastCtrl = toastCtrl;
        this.event = event;
        this.toast = toast;
        this.actionSheetCtrl = actionSheetCtrl;
        this.camera = camera;
        this.transfer = transfer;
        this.file = file;
        this.http = http;
        this.alertCtrl = alertCtrl;
        this.fileTransfer = this.transfer.create();
        this._username = 'lmxretail';
        this._password = 'lmx@2017';
        this.checkStatus = false;
        /* public photos : any;
        public base64Image : string; */
        this.targetPaths = [];
        this.vidtargetPaths = [];
        this.filenames = [];
        this.vidfilenames = [];
        this.charges = [];
        this.purityname = "";
        this.namey = 'D0wqd2IyB1w';
        this.type = 1;
        this.lastImage = null;
        this.productdet = this.navParams.get('proid');
        this.productdetarr = this.navParams.get('single');
        this.video = '';
        this.slidess = this.navParams.get('single');
        this.productid = 0;
        this.inf = false;
        this.gif = false;
        this.temp = [{ 'name': 'Chennai' }, { 'name': 'Coimbatore' }, { 'name': 'Madurai' }, { 'name': 'Salem' }];
        // footerScrollConfig: ScrollHideConfig= { cssProperty: 'margin-bottom', maxValue: undefined };
        this.base = "data:image/png;base64,";
        this.showdiamond = [];
        this.showstone = [];
        this.productItems1 = [];
        this.stoneMasData = [];
        this.stone_details = [];
        this.calc = 350;
        this.top = 0;
        this.MAX_FILE_SIZE = 60000000;
        this.ALLOWED_MIME_TYPE = "video/mp4";
        this.ids = '';
        this.idw = '';
        this.show = false;
        this.progress = 0;
        this.esti = { "choose": '', "cus_id": "", "customer": "", "id_branch": "", "id_employee": "", "emp_name": "", "is_tag": false, "is_non_tag": false, "is_home_bill": false, "is_old_metal": false, "tag": [], "non_tag": [], "home_bill": [], "old_metal": [], "chit_details": [{ 'slip_no': '', 'slip_amt': '' }] };
        this.tot_purch_wgt = 0;
        this.tot_purch_rate = 0;
        this.tot_sale_wgt = 0;
        this.tot_sale_rate = 0;
        this.tot_charge = 0;
        this.total_esti_value = 0;
        this.advance = 0;
        this.tot_gift_rate = 0;
        this.dates = [];
        this.tot_incen = 0;
        this.slideimg = this.productdet['TagImage'];
        this.empData = JSON.parse(localStorage.getItem('empDetail'));
        this.employees = [];
        this.othermetals = [];
        this.supplier = this.navParams.get('supplier');
        this.totalvalue = 0;
        this.totalgram = 0;
        this.totalct = 0;
        console.log(this.productdet, '000000000000');
        console.log(this.slidess, '000000000000');
        var currentDate = new Date();
        this.minDate = currentDate.toISOString();
        this.yearValues = this.generateFutureYears(currentDate.getFullYear(), 10);
        // this.selectedOption = 'option1'
        this.productdet['rate_type'] = 2;
        this.productdet['balance_type'] = 2;
        this.productdet['empname'] = '';
        this.commonservice.getBranchEmployees(this.empData['id_branch']).then(function (data) {
            _this.employees = data;
        });
        // this.productdet = navParams.get( 'proid' );
        // this.productdet['TagImage'] = navParams.get( 'proid' )['arr'][0]['TagImage'];
        var i = this.slidess.findIndex(function (data) { return data['TagNo'] == _this.productdet['TagNo']; });
        if (i >= 0) {
            this.slidess.splice(i, 1);
            this.slidess.unshift(this.productdet);
        }
        this.productdet['id_purity'] = this.productdet['purity_id'];
        console.log('1', this.productdet);
        console.log(this.slidess);
        // this.stone_details = this.productdet.hasOwnProperty('TagStoneDetails') ? this.productdet['TagStoneDetails'] : [];
        // if(this.productdet['colorcode'] == ''){
        //   this.productdet['colorcode'] = 'black';
        // }
        var empData = JSON.parse(localStorage.getItem('empDetail'));
        this.esti['id_log'] = empData['id_log'];
        this.esti['id_employee'] = empData['uid'];
        this.esti['emp_name'] = empData['username'];
        this.esti['id_branch'] = empData['id_branch'];
        this.retail.getAllStoneMaters({ "id_branch": empData['id_branch'] }).then(function (data) {
            _this.stoneMasData = data;
        });
        this.retail.getAllTaxGroupItems().then(function (data) {
            _this.taxGroupItems = data;
            _this.event.publish('taxGroup:loaded', true);
            _this.commonservice.getCurrencyAndSettings({ "id_metalrates": _this.esti['choose'], "id_branch": _this.esti['id_branch'] }).then(function (data) {
                _this.metalRate = data.metal_rates;
                _this.calculate('');
            });
        });
        console.log(this.productdet.hasOwnProperty('weight'));
        // this.show = true;
        this.showstone = this.productdet['TagStoneDetails'].length > 0 ? this.productdet['TagStoneDetails'].filter(function (data) { return data['Nature'] != 'DIAMOND'; }) : [];
        this.stone_details = this.productdet.hasOwnProperty('TagStoneDetails') ? this.productdet['TagStoneDetails'] : [];
        this.othermetals = this.productdet['other_metal_details'].length > 0 ? this.productdet['other_metal_details'] : [];
        console.log(this.othermetals);
        // this.productdet['purities'] = [];
        // this.productdet['weights'] = [];
        // this.productdet['sizes'] = [];
        // this.productdet['weight'] = '';
        // this.productdet['pcs'] = '';
        // this.productdet['due_date'] = '';
        // this.productdet['id_weight'] = '';
        // this.productdet['id_purity'] = '';
        // this.productdet['id_size'] = '';
        // this.productdet['sample_details'] = '';
        this.showdiamond = this.productdet['TagStoneDetails'].length > 0 ? this.productdet['TagStoneDetails'].filter(function (data) { return data['Nature'] == 'DIAMOND'; }) : [];
        this._header = new __WEBPACK_IMPORTED_MODULE_8__angular_http__["a" /* Headers */]();
        this._header.append('Authorization', 'Basic ' + btoa(this._username + ':' + this._password));
        this.productItems1 = JSON.parse(localStorage.getItem('wish')) != null ? JSON.parse(localStorage.getItem('wish')).filter(function (data) { return data['TagNo'] == _this.productdet['TagNo']; }) : [];
        setTimeout(function () {
            _this.content.resize();
            console.log('271892718927');
        }, 300);
        //  if(this.customData['stones']){
        //   this.item['stones'].forEach((value, key) => {
        //     let stone = this.customData['stones'].filter( i => i.stone_id === value.stone_id );
        //     if(stone.length > 0){
        //       this.item['stones'][key]['selected'] = true;
        //     }
        //     console.log(key);
        //     console.log(this.item['stones']);
        //   });
        // }
        this.commonservice.getdivision().then(function (data) {
            _this.productdet['allcharges'] = data['charges'];
            // loader.dismiss();
        });
        for (var index = 0; index < this.showstone.length; index++) {
            console.log(this.showstone[index].stone_price);
            this.totalvalue += parseFloat(this.showstone[index].stone_price);
            if (this.showstone[index]['uom_id'] == 1) {
                this.totalgram += parseFloat(this.showstone[index]['stone_wt']);
            }
            else if (this.showstone[index]['uom_id'] == 6) {
                this.totalct += parseFloat(this.showstone[index]['stone_wt']);
            }
            console.log(this.totalvalue);
            console.log(this.totalgram);
            console.log(this.totalct);
        }
    }
    ProdetailPage_1 = ProdetailPage;
    ProdetailPage.prototype.generateFutureYears = function (startYear, numYears) {
        var futureYears = [];
        for (var i = 0; i < numYears; i++) {
            futureYears.push(startYear + i);
        }
        return futureYears;
    };
    ProdetailPage.prototype.ionViewDidLoad = function () {
    };
    ProdetailPage.prototype.photoURL = function (data) {
        // this.video.safeurl = this.sanitizer.bypassSecurityTrustResourceUrl('https://www.youtube.com/embed/'+data) ;
        //    this.video  =  this.sanitizer.bypassSecurityTrustResourceUrl(this.video) ;
        // return this.sanitizer.bypassSecurityTrustResourceUrl(this.video) ;
        ;
    };
    ProdetailPage.prototype.slide = function () {
        console.log(this.slides.getActiveIndex());
        this.productdet = this.slidess.length - 1 < this.slides.getActiveIndex() ? this.slidess[this.slides.getActiveIndex() - 1] : this.slidess[this.slides.getActiveIndex()];
        console.log(this.productdet);
        this.slideimg = this.productdet['TagImage'];
        this.productdet['net_wt'] = this.productdet['NetWt'];
        this.productdet['gross_wt'] = this.productdet['GrossWt'];
        this.productdet['metal_type'] = this.productdet['rate_field'];
        this.productdet['market_metal_type'] = this.productdet['market_rate_field'];
        this.productdet['tax_group_id'] = this.productdet['tgrp_id'];
        // if(this.productdet['colorcode'] == ''){
        //   this.productdet['colorcode'] = 'black';
        // }
        this.calculate('');
        this.cd.detectChanges();
    };
    ProdetailPage.prototype.back = function () {
        if (this.slides.getActiveIndex() != 0) {
            this.slides.slidePrev();
        }
    };
    ProdetailPage.prototype.next = function () {
        this.slides.slideNext();
    };
    // ionViewDidLoad() {
    // }
    ProdetailPage.prototype.presentToast = function (text) {
        var toast = this.toastCtrl.create({
            message: text,
            duration: 3000,
            position: 'middle'
        });
        toast.present();
    };
    ProdetailPage.prototype.changeImage = function (image, type, video) {
        if (type == 2) {
            this.type = type;
            console.log('test');
            this.content.scrollToTop();
            console.log(this.type);
        }
        else {
            this.productdet.prodefaultimg = image;
            this.type = type;
            console.log(this.type);
        }
    };
    ProdetailPage.prototype.addtocart = function (product) {
        var _this = this;
        var loginstatus = JSON.parse(localStorage.getItem('check'));
        if (loginstatus == false || loginstatus == null) {
            // let toast = this.toastCtrl.create( {
            //     message: 'Please Login / Register Your Account to Checkout Your Item',
            //     duration: 4000,
            //     position: 'middle'
            // } );
            // toast.present();
            var alert_1 = this.alertCtrl.create({
                title: 'Dhamu Chettiar Nagai Maligai',
                message: 'Please Login / Register Your Account to View Item',
                enableBackdropDismiss: false,
                buttons: [
                    {
                        text: 'SignIn',
                        role: 'cancel',
                        handler: function () {
                            _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_10__pages_login_login__["a" /* LoginPage */]);
                        }
                    },
                ]
            });
            alert_1.present();
        }
        if (loginstatus == true) {
            var loader = this.loadingCtrl.create({});
            loader.present();
            if ((product.is_chain && parseFloat(product.reqweight) < parseFloat(product.order_minweight)) || product.id_purity == undefined) {
                console.log(product);
                if (product.is_chain && parseFloat(product.reqweight) < parseFloat(product.order_minweight)) {
                    if (this.platform.is('cordova')) {
                        this.toast.show('Minimum order weight is ' + product.order_minweight + ' g', 'short', 'center').subscribe(function (toast) {
                            console.log(toast);
                        });
                    }
                    else {
                        var toast = this.toastCtrl.create({
                            message: 'Minimum order weight is ' + product.order_minweight + ' g',
                            duration: 5000,
                            position: 'middle'
                        });
                        toast.present();
                    }
                }
                else if (product.id_purity == undefined) {
                    if (this.platform.is('cordova')) {
                        this.toast.show('Select purity', 'short', 'center').subscribe(function (toast) {
                            console.log(toast);
                        });
                    }
                    else {
                        var toast = this.toastCtrl.create({
                            message: 'Select purity',
                            duration: 4000,
                            position: 'middle'
                        });
                        toast.present();
                    }
                }
                /* else if ( product.sizeorlen == undefined ) {
                    if ( this.platform.is( 'cordova' ) ) {
                        this.toast.show( 'Enter size or length', 'short', 'center' ).subscribe(
                            toast => {
                                console.log( toast );
                            }
                        );
                    } else {
                        let toast = this.toastCtrl.create( {
                            message: 'Enter size or length',
                            duration: 5000,
                            position: 'middle'
                        } );
                        toast.present();
                    }
                } */
                loader.dismiss();
            }
            else {
                if (localStorage.getItem('appcartitems') != null) {
                    var curr_cartproducts = JSON.parse(localStorage.getItem('appcartitems'));
                    var deliveryorders_1 = [];
                    var prodavail_1 = true;
                    curr_cartproducts.forEach(function (orders) {
                        if (orders.id_product == product.id_product && orders.id_purity == product.id_purity && product.sizeorlen == orders.sizeorlen && product.reqweight == orders.reqweight) {
                            orders.qty = parseInt(orders.qty) + parseInt(product.qty);
                            prodavail_1 = false;
                        }
                        deliveryorders_1.push(orders);
                    });
                    if (prodavail_1) {
                        deliveryorders_1.push(product);
                    }
                    localStorage.setItem('appcartitems', JSON.stringify(deliveryorders_1));
                }
                else {
                    var deliveryorders = [];
                    deliveryorders.push(product);
                    localStorage.setItem('appcartitems', JSON.stringify(deliveryorders));
                }
                loader.dismiss();
                if (this.platform.is('cordova')) {
                    this.toast.show('Item added to cart', 'short', 'center').subscribe(function (toast) {
                        console.log(toast);
                    });
                }
                else {
                    var toast = this.toastCtrl.create({
                        message: 'Item added to cart',
                        duration: 3000,
                        position: 'middle'
                    });
                    toast.present();
                }
                this.event.publish('cart:changed', (JSON.parse(localStorage.getItem('appcartitems')).length));
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_9__pages_cart_cart__["a" /* CartPage */], { value: '' });
                //this.navCtrl.pop();
            }
        }
    };
    ProdetailPage.prototype.grid = function () {
        console.log("grid");
        this.checkStatus = true;
    };
    ProdetailPage.prototype.listgrid = function () {
        console.log("listgrid");
        this.checkStatus = false;
    };
    ProdetailPage.prototype.openProductdetails = function (id_design) {
        this.navCtrl.push(ProdetailPage_1, { proid: id_design });
    };
    ProdetailPage.prototype.ionViewWillLeave = function () {
        this.event.publish('entered', false);
    };
    ProdetailPage.prototype.ionViewWillEnter = function () {
        var _this = this;
        this.event.publish('entered', true);
        this.event.publish('pageno', 20);
        if (localStorage.getItem('dip') != '') {
            var path = JSON.parse(localStorage.getItem('dip'));
            var name = JSON.parse(localStorage.getItem('din'));
            console.log("dip : " + path + " -- " + "din : " + name);
        }
        if (path != null && path != undefined && path != '' && this.navParams.get('state') == true) {
            this.targetPaths.push(path);
            console.log(this.targetPaths);
            this.filenames.push(name);
            console.log(this.filenames);
            this.productdet['targetPaths'] = this.targetPaths;
            this.productdet['sample_images'] = this.filenames;
        }
        this.event.subscribe('img', function (userEventData) {
            // this.productdet['sample_images'] = userEventData;
        });
        this.event.subscribe('tar', function (userEventData) {
            console.log(userEventData);
            _this.targetPaths.pop();
            _this.targetPaths.push(userEventData);
            console.log(_this.targetPaths);
        });
        this.event.subscribe('file', function (userEventData) {
            console.log(userEventData);
            _this.filenames.pop();
            _this.filenames.push(userEventData);
            console.log(_this.filenames);
            _this.productdet['sample_images'] = _this.filenames;
        });
        this.event.subscribe('err', function (userEventData) {
            _this.targetPaths.splice(userEventData, 1);
        });
        this.event.subscribe('errr', function (userEventData) {
            _this.filenames.splice(userEventData, 1);
        });
        console.log(this.productdet);
        console.log(this.targetPaths);
    };
    ProdetailPage.prototype.fixprice = function (data) {
        var temp1 = parseFloat(data).toFixed(3);
        // let temp:any = parseFloat(temp1);
        return temp1;
        // return temp.toLocaleString(undefined, {minimumFractionDigits: 3,
        //   maximumFractionDigits: 3});
        // return parseFloat(data).toLocaleString(undefined, {minimumFractionDigits: 2,
        //   maximumFractionDigits: 2});
        // return parseFloat(data).toFixed(2);
    };
    ProdetailPage.prototype.price = function (data) {
        var temp1 = parseFloat(data).toFixed();
        return temp1;
    };
    ProdetailPage.prototype.setimg = function (img, ind) {
        this.slideimg = img;
        console.log(this.slideimg);
    };
    ProdetailPage.prototype.addw = function () {
        var _this = this;
        var productItems = JSON.parse(localStorage.getItem('wish')) != null ? JSON.parse(localStorage.getItem('wish')) : [];
        if (productItems.length > 0) {
            var productItems1 = productItems.filter(function (data) { return data['TagNo'] == _this.productdet['TagNo']; });
            if (productItems1.length == 0) {
                productItems.push(this.productdet);
                localStorage.setItem('wish', JSON.stringify(productItems));
                this.presentToast('Product Wishlisted Successfully');
                this.productItems1 = JSON.parse(localStorage.getItem('wish')) != null ? JSON.parse(localStorage.getItem('wish')).filter(function (data) { return data['TagNo'] == _this.productdet['TagNo']; }) : [];
            }
            else {
                var index = productItems.findIndex(function (data) { return data['TagNo'] == _this.productdet['TagNo']; });
                productItems.splice(index, 1);
                localStorage.setItem('wish', JSON.stringify(productItems));
                this.presentToast('Product Removed Successfully');
                this.productItems1 = JSON.parse(localStorage.getItem('wish')) != null ? JSON.parse(localStorage.getItem('wish')).filter(function (data) { return data['TagNo'] == _this.productdet['TagNo']; }) : [];
            }
        }
        else {
            localStorage.setItem('wish', JSON.stringify([this.productdet]));
            this.presentToast('Product Wishlisted Successfully');
            this.productItems1 = JSON.parse(localStorage.getItem('wish')) != null ? JSON.parse(localStorage.getItem('wish')).filter(function (data) { return data['TagNo'] == _this.productdet['TagNo']; }) : [];
        }
    };
    ProdetailPage.prototype.scrolling = function (event) {
        if (event.scrollTop == 0) {
            this.calc = 350;
        }
        else {
            this.calc = 350 - event.scrollTop;
            this.content.resize();
            this.cd.detectChanges();
        }
        // your content here for scrolling
    };
    ProdetailPage.prototype.proceedToWishlist = function () {
        console.log(this.productdet);
        console.log(this.productdet.weight <= this.productdet['from_weight']);
        if (this.productdet['id_purity'] == '' || this.productdet['weight'] == '' || this.productdet['pcs'] == '' || this.productdet['due_date'] == '' || this.productdet['empname'] == '') {
            console.log(this.productdet);
            if (this.productdet['id_purity'] == '') {
                this.commonservice.presentToast('Please Select Purity *', 1000);
            }
            else if (this.productdet['weight'] == '') {
                this.commonservice.presentToast('Please Enter Weight *', 1000);
            }
            else if (this.productdet['pcs'] == '') {
                this.commonservice.presentToast('Please Enter Pieces *', 1000);
            }
            else if (this.productdet['due_date'] == '') {
                this.commonservice.presentToast('Please Enter No of Days *', 1000);
            }
            else if (this.productdet['empname'] == '') {
                this.commonservice.presentToast('Please Enter Employee *', 1000);
            }
        }
        else {
            if (this.productdet['from_weight'] > 0 && this.productdet['to_weight'] > 0) {
                if (parseFloat(this.productdet.weight) >= parseFloat(this.productdet['from_weight']) && parseFloat(this.productdet.weight) <= parseFloat(this.productdet['to_weight'])) {
                    var empData = JSON.parse(localStorage.getItem('empDetail'));
                    console.log(empData);
                    var wishlistData = {
                        'id_customer': '',
                        'id_branch': empData['id_branch'],
                        // 'id_employee'     : empData['id_employee'],
                        'id_employee': this.productdet['id_employee'],
                        'item_type': 3,
                        'is_customized': 1,
                        'id_product': this.productdet['product_id'],
                        'design_no': this.productdet['design_id'],
                        'id_sub_design': this.productdet['id_sub_design'],
                        'id_mc_type': this.productdet['mc_type'],
                        'mc': this.productdet['mc_value'],
                        'stn_amt': 0,
                        'due_date': this.productdet['due_date'],
                        'length': this.productdet['len'],
                        'width': this.productdet['width'],
                        'dia': this.productdet['dia'],
                        'weight': this.productdet['weight'],
                        'id_size': this.productdet['id_size'],
                        'id_weight': this.productdet['id_weight'],
                        'pcs': this.productdet['pcs'],
                        'id_purity': this.productdet['id_purity'],
                        'hook_type': this.productdet['hook_type'],
                        'sample_details': this.productdet['sample_details'],
                        'image': this.productdet['TagImage'],
                        'targetPaths': this.productdet['targetPaths'],
                        'sample_images': this.productdet['sample_images'],
                        'sample_videos': this.vidfilenames,
                        'stones': this.productdet['TagStoneDetails'],
                        'stone_price': this.productdet['stone_price'],
                        'stone_wt': this.productdet['stone_wt'],
                        'stone_details': this.productdet['stone_details'],
                        'status': 1,
                        'id_wishlist': this.productdet['id_wishlist'],
                        'sub_design_name': this.productdet['sub_design_name'],
                        'design_name': this.productdet['design_name'],
                        'product_name': this.productdet['product_name'],
                        'id_category': this.productdet['id_category'],
                        "tag_id": this.productdet['id_tag_detail'],
                        "tag_code": this.productdet['TagNo'],
                        'MetalCode': this.productdet['MetalCode'],
                        'calculation_based_on': this.productdet['calculation_based_on'],
                        'sales_value': this.productdet['sales_value'],
                        'tgrp_id': this.productdet['tgrp_id'],
                        'less_wt': this.productdet['less_wt'],
                        'net_wt': this.productdet['net_wt'],
                        'charge_value': this.productdet['charge_value'],
                        'id_charge': this.productdet['id_charge'],
                        'charges': this.productdet['charges'],
                        'wast_percent': this.productdet['retail_max_wastage_percent'],
                        'rate_type': this.productdet['rate_type'],
                        'balance_type': this.productdet['balance_type'],
                        'other_metal_details': this.productdet['other_metal_details'],
                        'total_tax_rate': this.productdet['tax_price'],
                        'order_rate': this.productdet['rate_per'],
                        'taxable': this.productdet['taxable']
                    };
                    if (localStorage.getItem('carts') == null) {
                        localStorage.setItem('carts', JSON.stringify({ "id_branch": empData['id_branch'], "id_employee": empData['id_employee'], "id_customer": '', "status": 1, "items": [wishlistData] }));
                    }
                    else {
                        var local = JSON.parse(localStorage.getItem('carts'))['items'];
                        console.log(local);
                        local.push(wishlistData);
                        console.log(local);
                        localStorage.setItem('carts', JSON.stringify({ "id_branch": empData['id_branch'], "id_employee": empData['id_employee'], "id_customer": '', "status": 1, "items": local }));
                    }
                    // this.loader.dismiss();
                    this.commonservice.presentToast("Product added to cart successfully", '');
                    this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_9__pages_cart_cart__["a" /* CartPage */]);
                }
                else {
                    this.commonservice.presentToast('Please Enter Valid Weight *', 1000);
                }
            }
            else {
                var empData = JSON.parse(localStorage.getItem('empDetail'));
                console.log(empData);
                var wishlistData = {
                    'id_customer': '',
                    'id_branch': empData['id_branch'],
                    // 'id_employee'     : empData['id_employee'],
                    'id_employee': this.productdet['id_employee'],
                    'item_type': 3,
                    'is_customized': 1,
                    'id_product': this.productdet['product_id'],
                    'design_no': this.productdet['design_id'],
                    'id_sub_design': this.productdet['id_sub_design'],
                    'id_mc_type': this.productdet['mc_type'],
                    'mc': this.productdet['mc_value'],
                    'stn_amt': 0,
                    'due_date': this.productdet['due_date'],
                    'length': this.productdet['len'],
                    'width': this.productdet['width'],
                    'dia': this.productdet['dia'],
                    'weight': this.productdet['weight'],
                    'id_size': this.productdet['id_size'],
                    'id_weight': this.productdet['id_weight'],
                    'pcs': this.productdet['pcs'],
                    'id_purity': this.productdet['id_purity'],
                    'hook_type': this.productdet['hook_type'],
                    'sample_details': this.productdet['sample_details'],
                    'image': this.productdet['TagImage'],
                    'targetPaths': this.productdet['targetPaths'],
                    'sample_images': this.productdet['sample_images'],
                    'sample_videos': this.vidfilenames,
                    'stones': this.productdet['TagStoneDetails'],
                    'stone_price': this.productdet['stone_price'],
                    'stone_wt': this.productdet['stone_wt'],
                    'stone_details': this.productdet['stone_details'],
                    'status': 1,
                    'id_wishlist': this.productdet['id_wishlist'],
                    'sub_design_name': this.productdet['sub_design_name'],
                    'design_name': this.productdet['design_name'],
                    'product_name': this.productdet['product_name'],
                    'id_category': this.productdet['id_category'],
                    "tag_id": this.productdet['id_tag_detail'],
                    "tag_code": this.productdet['TagNo'],
                    'MetalCode': this.productdet['MetalCode'],
                    'calculation_based_on': this.productdet['calculation_based_on'],
                    'sales_value': this.productdet['sales_value'],
                    'tgrp_id': this.productdet['tgrp_id'],
                    'less_wt': this.productdet['less_wt'],
                    'net_wt': this.productdet['net_wt'],
                    'charge_value': this.productdet['charge_value'],
                    'id_charge': this.productdet['id_charge'],
                    'charges': this.productdet['charges'],
                    'wast_percent': this.productdet['retail_max_wastage_percent'],
                    'rate_type': this.productdet['rate_type'],
                    'balance_type': this.productdet['balance_type'],
                    'other_metal_details': this.productdet['other_metal_details'],
                    'total_tax_rate': this.productdet['tax_price'],
                    'order_rate': this.productdet['rate_per'],
                    'taxable': this.productdet['taxable']
                };
                if (localStorage.getItem('carts') == null) {
                    localStorage.setItem('carts', JSON.stringify({ "id_branch": empData['id_branch'], "id_employee": empData['id_employee'], "id_customer": '', "status": 1, "items": [wishlistData] }));
                }
                else {
                    var local = JSON.parse(localStorage.getItem('carts'))['items'];
                    console.log(local);
                    local.push(wishlistData);
                    console.log(local);
                    localStorage.setItem('carts', JSON.stringify({ "id_branch": empData['id_branch'], "id_employee": empData['id_employee'], "id_customer": '', "status": 1, "items": local }));
                }
                // this.loader.dismiss();
                this.commonservice.presentToast("Product added to cart successfully", '');
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_9__pages_cart_cart__["a" /* CartPage */]);
            }
        }
    };
    ProdetailPage.prototype.presentActionSheet = function () {
        var _this = this;
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Select Image Source',
            buttons: [
                {
                    text: 'Load from Gallery',
                    handler: function () {
                        _this.takePicture(_this.camera.PictureSourceType.PHOTOLIBRARY);
                    }
                },
                {
                    text: 'Take Picture',
                    handler: function () {
                        _this.takePicture(_this.camera.PictureSourceType.CAMERA);
                    }
                },
                {
                    text: 'Cancel',
                    role: 'cancel'
                }
            ]
        });
        actionSheet.present();
    };
    ProdetailPage.prototype.presentActionSheetvideo = function () {
        var _this = this;
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Select Video Source',
            buttons: [
                {
                    text: 'Load from Gallery',
                    handler: function () {
                        _this.recordVideo(_this.camera.PictureSourceType.PHOTOLIBRARY);
                    }
                },
                {
                    text: 'Take Video',
                    handler: function () {
                        _this.rec();
                    }
                },
                {
                    text: 'Cancel',
                    role: 'cancel'
                }
            ]
        });
        actionSheet.present();
    };
    ProdetailPage.prototype.takePicture = function (sourceType) {
        var _this = this;
        console.log(sourceType);
        // this.navCtrl.push(EditorPage,{images:'assets/img/earings.jpg'});
        // Create options for the   Dialog
        var options = {
            quality: 100,
            sourceType: sourceType,
            saveToPhotoAlbum: false,
            correctOrientation: true,
        };
        console.log(options);
        // Get the data of an image
        this.camera.getPicture(options).then(function (imagePath) {
            console.log("getPicture");
            _this.loader = _this.loadingCtrl.create({
                content: "Fetching...",
                spinner: 'bubbles',
            });
            _this.loader.present();
            console.log("imagePath : " + imagePath);
            if (_this.platform.is('android') && sourceType === _this.camera.PictureSourceType.PHOTOLIBRARY) {
                _this.filePath.resolveNativePath(imagePath)
                    .then(function (filePath) {
                    console.log('ttttttttttt', _this.filePath);
                    var correctPath = filePath.substr(0, filePath.lastIndexOf('/') + 1);
                    var currentName = imagePath.substring(imagePath.lastIndexOf('/') + 1, imagePath.lastIndexOf('?'));
                    _this.copyFileToLocalDir(correctPath, currentName, _this.createFileName());
                    // this.uploadImage();
                });
            }
            else {
                var currentName = imagePath.substr(imagePath.lastIndexOf('/') + 1);
                var correctPath = imagePath.substr(0, imagePath.lastIndexOf('/') + 1);
                _this.copyFileToLocalDir(correctPath, currentName, _this.createFileName());
                // this.uploadImage();
            }
        }, function (err) {
            console.log(err);
            _this.commonservice.presentToast('Error while selecting image.', '');
        });
    };
    // Create a new name for the image
    ProdetailPage.prototype.createFileName = function () {
        var d = new Date(), n = d.getTime(), newFileName = n + ".jpg";
        return newFileName;
    };
    // Copy the image to a local folder
    ProdetailPage.prototype.copyFileToLocalDir = function (namePath, currentName, newFileName) {
        var _this = this;
        console.log("#### copyFileToLocalDir ####");
        console.log("namePath/correctPath : " + namePath);
        console.log("currentName : " + currentName);
        console.log("createdFileName : " + newFileName);
        console.log("Directory : " + cordova.file.dataDirectory);
        this.file.copyFile(namePath, currentName, cordova.file.dataDirectory, newFileName).then(function (success) {
            // console.log("#### copyFile -- Success ####");
            // console.log(success);
            //   this.lastImage = newFileName;
            //   var targetPath = this.pathForImage( newFileName );
            //   this.targetPaths.push( targetPath );
            //   this.filenames.push( this.lastImage );
            //   this.loader.dismiss();
            //   console.log(targetPath);
            //   console.log(this.filenames);
            //   this.navCtrl.push(EditorPage,{"images":targetPath,"design_no":this.design_no})
            var orientation = -1;
            _this.imageCompress.compressFile(_this.pathForImage(newFileName), orientation, 100, 100).then(function (result) { return __awaiter(_this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    this.writeFile(result, this.createFileName());
                    return [2 /*return*/];
                });
            }); }, function (err) {
                console.log(err);
            });
        }, function (error) {
            _this.commonservice.presentToast('Error while storing file.', '');
        });
    };
    // Always get the accurate path to your apps folder
    ProdetailPage.prototype.pathForImage = function (img) {
        if (img === null) {
            return '';
        }
        else {
            return cordova.file.dataDirectory + img;
        }
    };
    //here is the method is used to write a file in storage
    ProdetailPage.prototype.writeFile = function (base64Data, fileName) {
        var _this = this;
        var contentType = this.getContentType(base64Data);
        var DataBlob = this.base64toBlob(base64Data, contentType);
        // here iam mentioned this line this.file.externalRootDirectory is a native pre-defined file path storage. You can change a file path whatever pre-defined method.
        var filePath = cordova.file.dataDirectory;
        this.file.writeFile(filePath, fileName, DataBlob, contentType).then(function (success) {
            console.log(success['nativeURL']);
            var currentName = success['nativeURL'].substr(success['nativeURL'].lastIndexOf('/') + 1);
            var correctPath = success['nativeURL'].substr(0, success['nativeURL'].lastIndexOf('/') + 1);
            console.log("File Writed Successfully", success);
            console.log(currentName);
            console.log(correctPath);
            console.log("#### copyFile -- Success ####");
            console.log(success);
            _this.lastImage = currentName;
            var targetPath = _this.pathForImage(currentName);
            _this.targetPaths.push(targetPath);
            _this.filenames.push(_this.lastImage);
            _this.loader.dismiss();
            console.log(targetPath);
            console.log(_this.filenames);
            _this.loader.dismiss();
            _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_12__img_editor_editor__["a" /* EditorPage */], { "images": targetPath, 'productdet': _this.productdet });
        }).catch(function (err) {
            console.log("Error Occured While Writing File", err);
        });
    };
    //here is the method is used to get content type of an bas64 data
    ProdetailPage.prototype.getContentType = function (base64Data) {
        var block = base64Data.split(";");
        var contentType = block[0].split(":")[1];
        return contentType;
    };
    //here is the method is used to convert base64 data to blob data
    ProdetailPage.prototype.base64toBlob = function (b64Data, contentType) {
        contentType = contentType || '';
        var sliceSize = 512;
        var byteCharacters = atob(b64Data.replace(/^data:image\/(png|jpeg|jpg);base64,/, ''));
        var byteArrays = [];
        for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {
            var slice = byteCharacters.slice(offset, offset + sliceSize);
            var byteNumbers = new Array(slice.length);
            for (var i = 0; i < slice.length; i++) {
                byteNumbers[i] = slice.charCodeAt(i);
            }
            var byteArray = new Uint8Array(byteNumbers);
            byteArrays.push(byteArray);
        }
        var blob = new Blob(byteArrays, {
            type: contentType
        });
        return blob;
    };
    ProdetailPage.prototype.rec = function () {
        var _this = this;
        var options = {
            limit: 1,
            duration: 20,
        };
        this.loader = this.loadingCtrl.create({
            content: "Fetching...",
            spinner: 'bubbles',
        });
        this.loader.present();
        this.mediaCapture.captureVideo(options)
            .then(function (videoUrl) { return __awaiter(_this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                if (videoUrl) {
                    console.log(videoUrl);
                    setTimeout(function () { return __awaiter(_this, void 0, void 0, function () {
                        return __generator(this, function (_a) {
                            console.log('outttt');
                            this.loader.dismiss();
                            this.recordVideo(this.camera.PictureSourceType.PHOTOLIBRARY);
                            return [2 /*return*/];
                        });
                    }); }, 2000);
                }
                return [2 /*return*/];
            });
        }); }, function (err) {
            _this.loader.dismiss();
            console.log(err);
        });
    };
    ProdetailPage.prototype.recordVideo = function (source) {
        var _this = this;
        var options = {
            mediaType: this.camera.MediaType.VIDEO,
            sourceType: source
        };
        this.camera.getPicture(options)
            .then(function (videoUrl) { return __awaiter(_this, void 0, void 0, function () {
            var _this = this;
            var filename, dirpath, dirUrl, retrievedFile, err_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!videoUrl) return [3 /*break*/, 6];
                        this.loader = this.loadingCtrl.create({
                            content: "Fetching...",
                            spinner: 'bubbles',
                        });
                        this.loader.present();
                        filename = videoUrl.substr(videoUrl.lastIndexOf('/') + 1);
                        dirpath = videoUrl.substr(0, videoUrl.lastIndexOf('/') + 1);
                        dirpath = dirpath.includes("file://") ? dirpath : "file://" + dirpath;
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 4, , 5]);
                        return [4 /*yield*/, this.file.resolveDirectoryUrl(dirpath)];
                    case 2:
                        dirUrl = _a.sent();
                        return [4 /*yield*/, this.file.getFile(dirUrl, filename, {})];
                    case 3:
                        retrievedFile = _a.sent();
                        return [3 /*break*/, 5];
                    case 4:
                        err_1 = _a.sent();
                        console.log(err_1);
                        this.loader.dismiss();
                        return [2 /*return*/, this.presentAlert("Error", "Something went wrong.")];
                    case 5:
                        retrievedFile.file(function (data) {
                            _this.loader.dismiss();
                            if (data.size > _this.MAX_FILE_SIZE)
                                return _this.presentAlert("Error", "You cannot upload more than 60mb.");
                            if (data.type !== _this.ALLOWED_MIME_TYPE)
                                return _this.presentAlert("Error", "Upload mp4 file type only.");
                            _this.selectedVideo = retrievedFile.nativeURL;
                            console.log(_this.selectedVideo);
                            _this.selectedVideo = decodeURIComponent(_this.selectedVideo);
                            console.log(_this.selectedVideo);
                            var currentName = _this.selectedVideo.substr(_this.selectedVideo.lastIndexOf('/') + 1);
                            var correctPath = _this.selectedVideo.substr(0, _this.selectedVideo.lastIndexOf('/') + 1);
                            var type = _this.selectedVideo.substr(_this.selectedVideo.lastIndexOf('.') + 1);
                            _this.copyvideoToLocalDir(correctPath, currentName, _this.createvideoName(), data, data.size, type);
                        });
                        _a.label = 6;
                    case 6: return [2 /*return*/];
                }
            });
        }); }, function (err) {
            console.log(err);
        });
    };
    // selectVideo(){
    //   // choose your file from the device
    // this.fileChooser.open().then(uri => {
    //     this.loader = this.loadingCtrl.create( {
    //         content: "Fetching...",
    //         spinner: 'bubbles',
    //     } );
    //     this.loader.present();
    // console.log(111111111111)
    // console.log(uri)
    //   this.filePath.resolveNativePath(uri)
    //   .then(async(file) => {
    //     console.log(666666666666)
    //     console.log(file)
    //     var currentName = file.substr( file.lastIndexOf( '/' ) + 1 );
    //     var correctPath:any = file.substr( 0, file.lastIndexOf( '/' ) + 1 );
    //     let type =file.substr(file.lastIndexOf( '.' ) + 1);
    //     var filename = file.substr(file.lastIndexOf('/') + 1);
    //     var dirpath = file.substr(0, file.lastIndexOf('/') + 1);
    //     console.log(7777777777)
    //     console.log(dirpath)
    //     dirpath = dirpath.includes("file://") ? dirpath : "file://" + dirpath;
    //     try {
    //       var dirUrl = await this.file.resolveDirectoryUrl(dirpath);
    //       var retrievedFile = await this.file.getFile(dirUrl, filename, {});
    //     } catch(err) {
    //       console.log(888888888888)
    //       console.log(err)
    //       this.loader.dismiss();
    //       return this.presentAlert("Error","Please Choose File from File Explorer.");
    //     }
    //     retrievedFile.file( data => {
    //       console.log(999999999999)
    //       this.loader.dismiss();
    //       console.log(data)
    //       console.log(retrievedFile.nativeURL)
    //       if (data.size > this.MAX_FILE_SIZE) {
    //         this.loader.dismiss();
    //       }
    //       if (data.size > this.MAX_FILE_SIZE)  return this.presentAlert("Error", `You cannot upload more than 5mb.`);
    //       // this.selectedVideo = retrievedFile.nativeURL;
    //       if((type == 'mp4')){
    //         console.log(file)
    //         this.copyvideoToLocalDir( correctPath, currentName, this.createvideoName(),data,data.size,type );
    //       }
    //       else{
    //         this.loader.dismiss();
    //         let toast = this.toastCtrl.create( {
    //           message: 'Wrong File format',
    //           duration: 2000,
    //           position: "bottom"
    //       } );
    //       toast.present( toast );
    //       }
    //     });
    // })
    // .catch(err=>{
    //   this.loader.dismiss();
    //   let toast = this.toastCtrl.create( {
    //     message: 'Please Choose File from File Explorer',
    //     duration: 2000,
    //     position: "bottom"
    // } );
    // toast.present( toast );
    // console.log('000000000000')
    // console.log(err)
    // });
    // })
    // .catch(err=>{
    //   this.loader.dismiss();
    //   console.log(10101010110)
    //   console.log(err)
    // });
    // }
    ProdetailPage.prototype.pathForvideo = function (img) {
        if (img === null) {
            return '';
        }
        else {
            return cordova.file.dataDirectory + img;
        }
    };
    // Create a new name for the image
    ProdetailPage.prototype.createvideoName = function () {
        var d = new Date(), n = d.getTime(), newFileName = n + ".mp4";
        return newFileName;
    };
    // Copy the image to a local folder
    ProdetailPage.prototype.copyvideoToLocalDir = function (namePath, currentName, newFileName, data, size, type) {
        var _this = this;
        this.file.copyFile(namePath, currentName, cordova.file.dataDirectory, newFileName).then(function (success) {
            console.log(_this.pathForvideo(newFileName));
            _this.vidtargetPaths.push(_this.pathForvideo(newFileName));
            _this.vidfilenames.push(newFileName);
            _this.productdet['sample_videos'] = _this.vidfilenames;
            _this.uploadvideo(_this.pathForvideo(newFileName), newFileName);
        }, function (error) {
            var toast = _this.toastCtrl.create({
                message: 'Rename file and try again',
                duration: 3000,
                position: 'bottom'
            });
            toast.present();
            _this.loader.dismiss();
            console.log('Error while storing file.');
            console.log(error);
        });
    };
    ProdetailPage.prototype.formatBytes = function (bytes, decimals) {
        if (decimals === void 0) { decimals = 2; }
        if (bytes === 0)
            return '0 Bytes';
        var k = 1024;
        var dm = decimals < 0 ? 0 : decimals;
        var sizes = ['Bytes', 'KB', 'MB'];
        var i = Math.floor(Math.log(bytes) / Math.log(k));
        return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];
    };
    ProdetailPage.prototype.presentAlert = function (title, message) {
        var alert = this.alertCtrl.create({
            title: title,
            subTitle: message,
            buttons: ['Dismiss']
        });
        alert.present();
    };
    ProdetailPage.prototype.checkstock = function (id) {
        var _this = this;
        var empData = JSON.parse(localStorage.getItem('empDetail'));
        this.ids = id;
        this.commonservice.checkstock({ 'id_branch': empData['id_branch'], 'id_weight': this.idw, 'id_size': id, 'id_category': this.productdet['product_id'], 'id_product': this.productdet['product_id'], "design_no": this.productdet['design_id'], 'id_sub_design': this.productdet['id_sub_design'], "tag_id": this.productdet['id_tag_detail'], "tag_code": this.productdet['TagNo'] }).then(function (result) {
            _this.productdet['is_stock_avail'] = result['avail_pcs'];
            _this.productdet['Status'] = result['avail_pcs'] > 0 ? 'OPEN' : 'CLOSE';
        });
    };
    ProdetailPage.prototype.checkwgstock = function (id) {
        var _this = this;
        var empData = JSON.parse(localStorage.getItem('empDetail'));
        this.idw = id;
        var ind = this.productdet.weights.findIndex(function (data) { return data['id_weight'] == id; });
        console.log(ind);
        this.productdet['to_weight'] = this.productdet.weights[ind]['to_weight'];
        this.productdet['from_weight'] = this.productdet.weights[ind]['from_weight'];
        this.commonservice.checkwgstock({ 'id_branch': empData['id_branch'], 'id_size': this.ids, 'id_weight': id, 'id_category': this.productdet['product_id'], 'id_product': this.productdet['product_id'], "design_no": this.productdet['design_id'], 'id_sub_design': this.productdet['id_sub_design'], "tag_id": this.productdet['id_tag_detail'], "tag_code": this.productdet['TagNo'] }).then(function (result) {
            _this.productdet['is_stock_avail'] = result['avail_pcs'];
            _this.productdet['Status'] = result['avail_pcs'] > 0 ? 'OPEN' : 'CLOSE';
        });
    };
    ProdetailPage.prototype.setPurity = function (data, name, whole) {
        this.productdet['id_purity'] = data;
        this.productdet['metal_type'] = whole.rate_field;
        this.productdet['market_metal_type'] = whole.market_rate_field;
        this.calculate('');
    };
    // Sample image
    ProdetailPage.prototype.deletevideo = function (index) {
        var _this = this;
        var confirm = this.alertCtrl.create({
            title: 'Do you want to delete the video?',
            message: '',
            buttons: [
                {
                    text: 'No',
                    handler: function () {
                        console.log('Disagree clicked');
                    }
                }, {
                    text: 'Yes',
                    handler: function () {
                        console.log('Agree clicked');
                        _this.vidtargetPaths.splice(index, 1);
                        _this.vidfilenames.splice(index, 1);
                    }
                }
            ]
        });
        confirm.present();
    };
    // Sample image
    ProdetailPage.prototype.deletePhoto = function (index) {
        var _this = this;
        var confirm = this.alertCtrl.create({
            title: 'Do you want to delete the image?',
            message: '',
            buttons: [
                {
                    text: 'No',
                    handler: function () {
                        console.log('Disagree clicked');
                    }
                }, {
                    text: 'Yes',
                    handler: function () {
                        console.log('Agree clicked');
                        _this.targetPaths.splice(index, 1);
                        _this.filenames.splice(index, 1);
                        _this.productdet['targetPaths'] = _this.targetPaths;
                        _this.productdet['sample_images'] = _this.filenames;
                        // this.lastImage == '';
                    }
                }
            ]
        });
        confirm.present();
    };
    ProdetailPage.prototype.addWishlist = function (item) {
        this.retail.addToWishlist(function (data) {
        });
    };
    ProdetailPage.prototype.uploadvideo = function (path, name) {
        var _this = this;
        // let loader = this.load.create( {
        //   content: "Uploading..."
        // } );
        // loader.present();
        this.show = true;
        // Destination URL
        var url = __WEBPACK_IMPORTED_MODULE_3__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/uploadvideo';
        var d = new Date(), n = d.getTime();
        // File for Upload
        var empData = JSON.parse(localStorage.getItem('empDetail'));
        // File name only
        var filename = name;
        var options = {
            fileKey: "name",
            fileName: name,
            chunkedMode: false,
            mimeType: "multipart/form-data",
            params: {
                fileName: name,
                id_sub_design: this.productdet['id_sub_design'],
                branch_id: empData['id_branch'],
                created_by: empData['uid'],
            }
        };
        console.log(path);
        console.log(name);
        console.log(encodeURI(url));
        console.log(options);
        console.log(url);
        // Use the FileTransfer to upload the image
        this.fileTransfer.upload(path, encodeURI(url), options).then(function (data) {
            console.log(data);
            var result = JSON.parse(data.response);
            console.log(result);
            console.log(result['imageid']);
            var toastMsg = _this.toastCtrl.create({
                message: "Video succesfully uploaded.",
                duration: _this.commonservice.toastTimeout,
                position: 'center'
            });
            toastMsg.present();
            _this.show = false;
        }, function (err) {
            // loader.dismissAll()
            console.log(err);
            var toastMsg = _this.toastCtrl.create({
                message: "Error while uploading Video.",
                duration: _this.commonservice.toastTimeout,
                position: 'center'
            });
            toastMsg.present();
            _this.show = false;
        });
        this.fileTransfer.onProgress(function (data) {
            console.log(data);
            _this.progress = Math.round((data.loaded / data.total) * 100);
            _this.refresh();
            console.log(_this.progress);
        });
        // },err=>{
        //   console.log(err);
        // });
    };
    ProdetailPage.prototype.refresh = function () {
        console.log('refresheed');
        this.cd.detectChanges();
    };
    ProdetailPage.prototype.addWishlistw = function (item) {
        var _this = this;
        var empData = JSON.parse(localStorage.getItem('empDetail'));
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_17__modal_customer_customer__["a" /* CusSearchPage */], { 'show': 'true' });
        modal.present();
        modal.onDidDismiss(function (mData) {
            console.log(mData);
            if (mData != null) {
                // this.idcus = mData['id_customer'];
                var loader_1 = _this.loadingCtrl.create({
                    content: 'Please Wait',
                    spinner: 'bubbles',
                });
                loader_1.present();
                _this.retail.addToWishlist({
                    "customer_name": mData['firstname'],
                    "mobile": mData['mobile'],
                    "customer_id": mData['id_customer'],
                    "tag_id": item['id_tag_detail'],
                    "tag_code": item['TagNo'],
                    "branch_id": empData['id_branch'],
                    "employee_id": empData['uid'],
                    "id_sub_design": item['id_sub_design'],
                    "product_id": item['product_id'],
                    "design_id": item['design_id'],
                }).then(function (data) {
                    var toastMsg = _this.toastCtrl.create({
                        message: data.msg,
                        duration: _this.commonservice.toastTimeout,
                        position: 'middle'
                    });
                    toastMsg.present();
                    loader_1.dismiss();
                }, function (err) {
                    var toastMsg = _this.toastCtrl.create({
                        message: "try again",
                        duration: _this.commonservice.toastTimeout,
                        position: 'middle'
                    });
                    toastMsg.present();
                    loader_1.dismiss();
                });
            }
            else {
            }
        });
    };
    ProdetailPage.prototype.stoneChaned = function (value, idx) {
        console.log(value + ' ' + idx);
        console.log(this.productdet['stones']);
    };
    // Stone Details
    ProdetailPage.prototype.addStone = function () {
        var _this = this;
        var gross = 0;
        gross = this.productdet['weight'];
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_18__addstone2_addstone2__["a" /* Addstone2Page */], { "stoneMasData": this.stoneMasData, "action": "add", "stone_details": this.stone_details, "ptype": 'home_bill', 'gross': gross });
        modal.present();
        modal.onDidDismiss(function (data) {
            if (data != null) {
                _this.stone_details = data;
                var stData = _this.calcStoneDetail();
                _this.productdet['stone_wt'] = stData['stone_wt'];
                _this.productdet['stone_price'] = stData['stone_price'];
                _this.productdet['stone_details'] = _this.stone_details;
                if (_this.stone_details.length != 0) {
                    _this.productdet['less_wt'] = _this.retail.setAsNumber(stData['stone_wt']);
                    _this.productdet['net_wt'] = _this.productdet['weight'] - _this.productdet['less_wt'];
                    _this.productdet['net_wt'] = _this.retail.setAsNumber(_this.productdet['net_wt']).toFixed(3);
                    _this.productdet['actual_net_wt'] = _this.productdet['net_wt'];
                    _this.calculate('');
                }
            }
        });
    };
    ProdetailPage.prototype.calcStoneDetail = function () {
        // if(this.item_type == 'tag'){
        var _this = this;
        // let data = {"wt" : 0, "amount" : 0};
        // this.stone_details.forEach( (i,index) => {
        //   if(this.stone_details[index]['lwt']){
        //     this.stone_details[index]['is_apply_in_lwt'] = 1;
        //   data['wt']   = data['wt'] + (i['uom_id'] == '2' ? Number(i['wt']) / 5 : Number(i['wt']));
        //   }else{
        //     this.stone_details[index]['is_apply_in_lwt'] = 0;
        //   }
        //   data['amount'] = data['amount'] + Number(i['amount']);
        // })
        // return data;
        //   }
        //   else{
        var data = { "stone_wt": 0, "stone_price": 0 };
        this.stone_details.forEach(function (i, index) {
            if (_this.stone_details[index]['lwt']) {
                _this.stone_details[index]['is_apply_in_lwt'] = 1;
                console.log(i['uom_id'] == 'Carat', Number(i['stone_wt']) / 5);
                data['stone_wt'] = data['stone_wt'] + (i['uom_id'] == '6' ? Number(i['stone_wt']) / 5 : Number(i['stone_wt']));
                console.log(data['stone_wt']);
            }
            else {
                _this.stone_details[index]['is_apply_in_lwt'] = 0;
            }
            data['stone_price'] = data['stone_price'] + Number(i['stone_price']);
        });
        return data;
    };
    ProdetailPage.prototype.createEsti = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_21__estimation_estimation__["a" /* EstiPage */], { "page_type": 'create', 'ecat': this.productdet.TagNo, 'bcode': this.productdet.BranchCode });
    };
    ProdetailPage.prototype.createEsti2 = function () {
        var _this = this;
        if (this.esti['cus_id'] == '' || this.esti['id_employee'] == '' || this.esti['id_branch'] == '') {
            var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_17__modal_customer_customer__["a" /* CusSearchPage */], { 'show': 'true' });
            modal.present();
            modal.onDidDismiss(function (mData) {
                console.log(mData);
                if (mData != null) {
                    _this.esti['cus_id'] = mData['id_customer'];
                    _this.esti['customer'] = mData['label'];
                    _this.esti['is_tag'] = true;
                    _this.esti['tag'].push(_this.productdet);
                    _this.calcEstiSummary();
                    _this.createEstisubmit();
                }
                else {
                }
            });
        }
        else {
            this.createEstisubmit();
        }
    };
    ProdetailPage.prototype.createEstisubmit = function () {
        var _this = this;
        this.esti['is_tag'] = ((this.esti['tag']).length > 0 ? true : false);
        this.esti['is_non_tag'] = ((this.esti['non_tag']).length > 0 ? true : false);
        this.esti['is_home_bill'] = ((this.esti['home_bill']).length > 0 ? true : false);
        this.esti['is_old_metal'] = ((this.esti['old_metal']).length > 0 ? true : false);
        console.log(this.esti);
        // Validate Postdata
        if (this.esti['cus_id'] == '' || this.esti['id_employee'] == '' || this.esti['id_branch'] == '') {
            var toastMsg = this.toastCtrl.create({
                message: "Please fill required fields",
                duration: this.commonservice.toastTimeout,
                position: 'middle'
            });
            toastMsg.present();
        }
        else if (this.esti['is_tag'] || this.esti['is_non_tag'] || this.esti['is_home_bill'] || this.esti['is_old_metal']) {
            if (this.esti['tag'] || this.esti['non_tag'] || this.esti['home_bill'] || this.esti['old_metal']) {
                var loader_2 = this.loadingCtrl.create({
                    content: 'Please Wait',
                    spinner: 'bubbles',
                });
                loader_2.present();
                this.esti['type'] = 1;
                this.esti['total_cost'] = this.total_esti_value;
                this.retail.createEstimation(this.esti).then(function (data) {
                    if (data.status) {
                        _this.tot_sale_wgt = 0;
                        _this.tot_sale_rate = 0;
                        _this.tot_purch_wgt = 0;
                        _this.tot_purch_rate = 0;
                        _this.total_esti_value = 0;
                        _this.tot_charge = 0;
                        _this.esti = { 'choose': '', "cus_id": _this.esti['cus_id'], "customer": _this.esti['customer'], "id_branch": _this.esti['id_branch'], "id_employee": _this.esti['id_employee'], "emp_name": _this.esti['emp_name'], "is_tag": false, "is_non_tag": false, "is_home_bill": false, "is_old_metal": false, "tag": [], "non_tag": [], "home_bill": [], "old_metal": [], "chit_details": [{ 'slip_no': '', 'slip_amt': '' }] };
                        if (data.printURL != '') {
                            console.log(data.printURL);
                            _this.downloadfile(data.printURL, data.esti_name);
                        }
                    }
                    loader_2.dismiss();
                    var toastMsg = _this.toastCtrl.create({
                        message: data.msg,
                        duration: _this.commonservice.toastTimeout,
                        position: 'middle'
                    });
                    toastMsg.present();
                    // this.navCtrl.setRoot(HomePage);
                });
            }
            else {
                var toastMsg = this.toastCtrl.create({
                    message: "Minimum 1 estimation item is required",
                    duration: this.commonservice.toastTimeout,
                    position: 'middle'
                });
                toastMsg.present();
            }
        }
        else {
            var toastMsg = this.toastCtrl.create({
                message: "Invalid Estimation",
                duration: this.commonservice.toastTimeout,
                position: 'middle'
            });
            toastMsg.present();
        }
    };
    ProdetailPage.prototype.calcEstiSummary = function () {
        var _this = this;
        console.log(this.esti);
        this.tot_sale_wgt = 0;
        this.tot_sale_rate = 0;
        this.tot_purch_wgt = 0;
        this.tot_purch_rate = 0;
        this.tot_charge = 0;
        this.tot_incen = 0;
        this.esti['tag'].forEach(function (tag) {
            _this.tot_sale_wgt = Number(_this.tot_sale_wgt) + Number(tag.net_wt);
            _this.tot_charge = Number(_this.tot_charge) + Number(tag.charge_value);
            _this.tot_sale_rate = Number(_this.tot_sale_rate) + Number(tag.sales_value);
        });
        this.esti['tag'].forEach(function (tag) {
            _this.tot_incen = Number(_this.tot_incen) + Number(tag.incentive);
        });
        this.tot_gift_rate = 0;
        this.esti['chit_details'].forEach(function (gift) {
            _this.tot_gift_rate = Number(_this.tot_gift_rate) + Number(gift.slip_amt);
        });
        this.total_esti_value = Number(this.tot_sale_rate) - Number(this.tot_purch_rate) - Number(this.advance) - Number(this.tot_gift_rate);
    };
    ProdetailPage.prototype.downloadfile = function (url, name) {
        var _this = this;
        console.log(url);
        var date = new Date();
        date.setDate(date.getDate());
        console.log(date.toISOString().split('T')[0]);
        this.platform.ready().then(function () {
            console.log("Platform ready");
            if (_this.platform.is('android')) {
                console.log("Platform Android");
                _this.file.checkDir(_this.file.externalDataDirectory, _this.commonservice.cmpShortName).then(function (data) {
                    console.log("Check directory IDO");
                    _this.file.checkDir(_this.file.externalDataDirectory + '' + _this.commonservice.cmpShortName + '/', date.toISOString().split('T')[0]).then(function (_) {
                        console.log("Check directory IDO " + date.toISOString().split('T')[0]);
                        _this.viewFile(url, name);
                    }).catch(function (er) {
                        _this.file.createDir(_this.file.externalDataDirectory + '' + _this.commonservice.cmpShortName + '/', date.toISOString().split('T')[0], false).then(function (_) {
                            console.log("Create directory IDO " + date.toISOString().split('T')[0]);
                            _this.viewFile(url, name);
                        }).catch(function (err) {
                            console.log(err);
                            console.log('Couldn\'t create directory');
                        });
                    });
                }).catch(function (err) {
                    _this.file.createDir(_this.file.externalDataDirectory, _this.commonservice.cmpShortName, false).then(function (_) {
                        console.log('Create directory IDO');
                        _this.file.createDir(_this.file.externalDataDirectory + '' + _this.commonservice.cmpShortName + '/', date.toISOString().split('T')[0], false).then(function (_) {
                            console.log('Create directory IDO / ' + date.toISOString().split('T')[0]);
                            _this.viewFile(url, name);
                        }).catch(function (err1) {
                            console.log(err1);
                            console.log('Couldn\'t create directory');
                        });
                    }).catch(function (err2) {
                        console.log(err2);
                        console.log('Couldn\'t create directory');
                    });
                });
            }
        });
    };
    ProdetailPage.prototype.viewFile = function (url, name) {
        var _this = this;
        var date = new Date();
        date.setDate(date.getDate());
        console.log(date);
        console.log(date.toISOString().split('T')[0]);
        this.platform.ready().then(function () {
            console.log('platform ready viewFile');
            _this.file.resolveDirectoryUrl(_this.file.externalDataDirectory + '' + _this.commonservice.cmpShortName + '/' + date.toISOString().split('T')[0]).then(function (resolvedDirectory) {
                console.log(resolvedDirectory);
                console.log("resolved  directory: " + resolvedDirectory.nativeURL);
                _this.file.checkFile(resolvedDirectory.nativeURL, name).then(function (data) {
                    console.log(data);
                    console.log(resolvedDirectory.nativeURL + name);
                    _this.fileOpener.open(resolvedDirectory.nativeURL + name, 'application/pdf')
                        .then(function () { return console.log('File is opened'); })
                        .catch(function (e) { return console.log('Error opening file', e); });
                    // this.printEsti(resolvedDirectory.nativeURL+name,name);
                }, function (err) {
                    console.log(err);
                    var loader = _this.loadingCtrl.create({
                        content: 'Please Wait',
                        spinner: 'bubbles',
                    });
                    loader.present();
                    var targetPath = _this.file.externalDataDirectory + '' + _this.commonservice.cmpShortName + '/' + date.toISOString().split('T')[0] + '/' + name;
                    _this.fileTransfer.download(url, targetPath, true).then(function (entry) {
                        console.log('download complete: ' + entry.toURL());
                        loader.dismiss();
                        _this.fileOpener.open(entry.toURL(), 'application/pdf')
                            .then(function () { return console.log('File is opened'); })
                            .catch(function (e) { return console.log('Error opening file', e); });
                        // this.printEsti(entry.toURL(),name);
                    }, function (error) {
                        loader.dismiss();
                        console.log(error);
                    });
                });
            }, function (err) {
                console.log(err);
            });
        });
    };
    // }
    ProdetailPage.prototype.checkcode = function () {
        var _this = this;
        var temp = this.productdet['allcharges'].filter(function (data) { return data['id_charge'] == _this.productdet['id_charge']; });
        this.productdet['chargecode'] = temp[0]['code_charge'];
        this.productdet['charge_value'] = temp[0]['value_charge'];
        this.productdet['id_charge'] = temp[0]['id_charge'];
        this.productdet['charges'] = temp;
    };
    // Stone Details
    ProdetailPage.prototype.addcharge = function () {
        var _this = this;
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_19__charges_charges__["a" /* ChargesPage */], { "stoneMasData": this.stoneMasData, "action": "add", "stone_details": this.charges, "ptype": 'pro', 'gross': '' });
        modal.present();
        modal.onDidDismiss(function (data) {
            if (data != null) {
                _this.charges = data;
                _this.productdet['charges'] = _this.charges;
                if (_this.charges.length != 0) {
                    _this.productdet['charge_value'] = 0;
                    _this.charges.forEach(function (tag) {
                        _this.productdet['charge_value'] = Number(_this.productdet['charge_value']) + Number(tag.charge_value);
                    });
                    _this.calculate('');
                }
            }
        });
    };
    //   calculate(changedInput){
    //     console.log(this.stone_details)
    //     // if(this.stone_details.length == 0){
    // /* 
    //       this.productdet['net_wt']    = this.productdet['weight'] - this.productdet['less_wt'];
    //       console.log(this.productdet['net_wt']); */
    //     // }
    //     this.productdet['gross_wt'] = this.productdet['weight'] 
    //     if(changedInput == 'wastage_wt'){
    //       let wast_percent= parseFloat((((this.retail.setAsNumber(this.productdet['wast_wgt']))*100)/this.retail.setAsNumber(this.productdet['net_wt'])).toFixed(3));
    //       this.productdet['retail_max_wastage_percent']  = wast_percent;
    //     }
    //     let detail = {itemData : this.productdet, metalRate : this.metalRate, tax_details : this.taxGroupItems, item_type : 'tag'};
    //     console.log('*******',this.retail.calculateSaleValue(detail))
    //     let data = this.retail.calculateSaleValue(detail);
    //     this.productdet['taxable'] = data['taxable'];
    //     this.productdet['sales_value'] = data['sales_value'];
    //     this.productdet['rate_per'] = data['rate_per'];
    //   }
    ProdetailPage.prototype.calculate = function (changedInput) {
        console.log(this.stone_details);
        // if(this.stone_details.length == 0){
        // console.log(this.productdet['less_wt'],'oooooooooooo');
        this.productdet['gross_wt'] = this.productdet['weight'];
        // this.productdet['net_wt']    = this.productdet['weight'] - this.productdet['less_wt'];
        // console.log(this.productdet['net_wt']);
        // this.productdet['less_wt'] = this.productdet['weight']
        //}
        if (changedInput == 'wastage_wt') {
            var wast_percent = parseFloat((((this.retail.setAsNumber(this.productdet['wast_wgt'])) * 100) / this.retail.setAsNumber(this.productdet['net_wt'])).toFixed(3));
            this.productdet['retail_max_wastage_percent'] = wast_percent;
        }
        var detail = { itemData: this.productdet, metalRate: this.metalRate, tax_details: this.taxGroupItems, item_type: 'tag' };
        console.log(detail, '99999999');
        console.log('*******', this.retail.calculateSaleValue(detail));
        var data = this.retail.calculateSaleValue(detail);
        this.productdet['taxable'] = data['taxable'];
        this.productdet['sales_value'] = data['sales_value'];
    };
    ProdetailPage.prototype.calculatecus = function () {
        this.productdet['metalratec'] = 'true';
        console.log(this.stone_details);
        if (this.stone_details.length == 0) {
            this.productdet['net_wt'] = this.productdet['weight'] - this.productdet['less_wt'];
            console.log(this.productdet['net_wt']);
        }
        var detail = { itemData: this.productdet, metalRate: this.metalRate, tax_details: this.taxGroupItems, item_type: 'tag' };
        console.log('*******', this.retail.calculateSaleValue(detail));
        var data = this.retail.calculateSaleValue(detail);
        this.productdet['taxable'] = data['taxable'];
        this.productdet['sales_value'] = data['sales_value'];
        this.productdet['rate_per'] = data['rate_per'];
    };
    // naveen
    ProdetailPage.prototype.openEmpModal = function () {
        var _this = this;
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_22__modal_employee_employee__["a" /* EmpSearchPage */], { "empData": this.employees });
        modal.present();
        modal.onDidDismiss(function (data) {
            if (data != null) {
                _this.productdet['empname'] = data.emp_name;
                _this.productdet['id_employee'] = data.id_employee;
            }
        });
    };
    ProdetailPage.prototype.radio_option = function (data) {
        console.log(data, 'options');
    };
    ProdetailPage.prototype.open = function (data) {
        console.log(data);
        this.fileOpener.open(data, 'image/jpg')
            .then(function () { return console.log('File is opened'); })
            .catch(function (e) { return console.log('Error opening file', e); });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_8" /* ViewChild */])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* Content */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* Content */])
    ], ProdetailPage.prototype, "content", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_8" /* ViewChild */])('slides'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["y" /* Slides */])
    ], ProdetailPage.prototype, "slides", void 0);
    ProdetailPage = ProdetailPage_1 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-prodetail',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\prodetail\prodetail.html"*/'<!-- <iframe src="https://www.youtube.com/embed/tgbNymZ7vqY">\n</iframe> -->\n<ion-header style="background: #000"> <ion-navbar>\n  <button ion-button menuToggle>\n    <ion-icon name="menu"></ion-icon>\n  </button>\n  <ion-title>Product Details\n    <!-- <span *ngIf="item.is_stock_avail==1 " class="instock">Instock</span>\n    <span *ngIf="item.is_stock_avail==0 "  class="outofstock">Out of stock</span> -->\n    <!-- <div [ngStyle]="{\'width.px\': 30,\'height.px\': 30,\'border-radius.px\':50,\'background\':productdet.colorcode,\'position\':\'absolute\',\'right.px\':55,\'top.px\':-6}"></div>-->\n <div [ngStyle]="{\'width.px\': 30,\'height.px\': 30,\'color\':productdet.colorcode,\'position\':\'absolute\',\'right.px\':55,\'top.px\':-6}">\n				<ion-icon *ngIf="productdet.colorcode != \'\' "  style="font-size:1.6em !important" name="bookmark"></ion-icon>\n			  </div>\n    <ion-icon [ngClass] = "productItems1.length > 0 ? \'co\' : \'noco\' " style="margin-top:-3px !important;font-size:1.4em !important;float: right;" name="heart-outline" (click)="addWishlistw(productdet)"></ion-icon>\n\n  </ion-title> </ion-navbar>\n  <ion-row>\n\n    <ion-col align="center" style="    background: white !important;">\n      <div>\n        <span *ngIf="productdet.Status == \'OPEN\'"  style="float:right;"><ion-badge color="secondary">Stock Available {{productdet.BranchName}}</ion-badge></span>\n        <span *ngIf="productdet.Status != \'OPEN\'"  style="float:right;"><ion-badge color="danger">Out of Stock</ion-badge></span>\n\n      </div>\n      <!-- <div style="margin-top: 22px;">\n\n      <img *ngIf="productdet.TagImage != null" class="proimage" [ngStyle]="{height: calc+\'px\',\'min-height.px\' : 100}" src=\'{{productdet.TagImage}}\'\n    imageViewer=\'{{productdet.TagImage}}\' onerror="this.src=\'assets/no-img.png\'" />\n    <img *ngIf="productdet.TagImage == null" class="proimage" [ngStyle]="{height: calc+\'px\',\'min-height.px\' : 100}" src=\'assets/no-img.png\'\n    imageViewer=\'assets/no-img.png\' onerror="this.src=\'assets/no-img.png\'" />\n    </div> -->\n    <ion-slides style="margin-top: 22px;" (ionSlideWillChange)="slide()"  *ngIf="slidess && slidess.length" #slides [ngClass]="animateClass"   zoom =\'true\' speed=\'500\' initialSlide=\'0\'>\n      <ion-slide (click)="openurl(slide)" *ngFor="let slide of slidess;let in = index">\n        <img *ngIf="slideimg != null" [src]="slideimg" class="slide-image" imageViewer=\'{{slideimg}}\' [ngStyle]="{height: calc+\'px\',\'min-height.px\' : 100}" onerror="this.src=\'assets/no-img.png\'"/>\n        <img *ngIf="slideimg == null" src=\'assets/no-img.png\'  class="slide-image" imageViewer=\'assets/no-img.png\' [ngStyle]="{height: calc+\'px\',\'min-height.px\' : 100}" onerror="this.src=\'assets/no-img.png\'"/>\n\n      </ion-slide>\n    </ion-slides>\n    <!-- </iframe> -->\n    </ion-col>\n  </ion-row>\n</ion-header>\n  <ion-content (ionScroll)="scrolling($event)">\n    <div style="margin-bottom: 200px !important;">\n\n    <!-- <div style="margin: 5px;height: 17px">\n      <span  style="float:right;"><ion-badge color="secondary">Stock Available {{productdet.BranchName}}</ion-badge></span>\n      </div>\n\n  <ion-row>\n    <ion-col align="center">\n      <img *ngIf="productdet.TagImage != null" class="proimage" src=\'{{productdet.TagImage}}\'\n    imageViewer=\'{{productdet.TagImage}}\' onerror="this.src=\'assets/no-img.png\'" />\n    <img *ngIf="productdet.TagImage == null" class="proimage" src=\'assets/no-img.png\'\n    imageViewer=\'assets/no-img.png\' onerror="this.src=\'assets/no-img.png\'" />\n    </ion-col>\n  </ion-row> -->\n\n  <hr>\n  <ion-scroll scrollX="true" style="height:70px" > <ion-row nowrap>\n  <ion-col *ngFor="let img of productdet[\'img_details\'];let in = index" col-2 style="padding: 5px;" align="center">\n     <ion-card (click)="setimg(img[\'image_name\'],in)" style="margin: 0px 0px 0px 0px;box-shadow: none;">\n  <img style="margin: auto;object-fit: cover !important;" src=\'{{img.image_name}}\' onerror="this.src=\'assets/no-img.png\'" width="60px" height="60px" imageCache/>\n\n  </ion-card>\n\n  </ion-col> </ion-row> </ion-scroll>\n  <hr>\n\n    <hr>\n  <div>\n\n    <span>\n      <h5>&nbsp;{{productdet.sub_design_name}}</h5>\n    </span>\n  </div>\n  <div>\n\n    <span>\n      <h5>&nbsp; {{price(productdet.Rate)}}</h5>\n    </span>\n  </div>\n  <hr>\n\n<div [ngClass]="showdiamond.length == 0 && showstone.length == 0  ? \'bot\':\'\' ">\n  <h6 style="text-align: center;\n  margin-bottom: 20px;">Metal Information</h6>\n  <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n  <ion-col col-6 no-padding>\n    <button ion-button clear small>Metal </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{productdet.MetalName}}\n  </ion-col>\n  </ion-row>\n  <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n  <ion-col col-6 no-padding>\n    <button ion-button clear small>Product Name </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{productdet.ProductName}}\n  </ion-col>\n  </ion-row>\n  <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n  <ion-col col-6 no-padding>\n    <button ion-button clear small>Sub Product Name </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{productdet.sub_design_name}}\n  </ion-col>\n</ion-row>\n<ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Tag No </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{productdet.TagNo}}\n  </ion-col>\n  </ion-row>\n  <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Pcs  </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{productdet.Pieces}}\n  </ion-col>\n  </ion-row>\n  <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Gross Wt (Gms) </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{fixprice(productdet[\'GrossWt\'])}} g\n  </ion-col>\n  </ion-row>\n  <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Net Wt (Gms)  </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{fixprice(productdet[\'NetWt\'])}} g\n\n  </ion-col>\n  </ion-row>\n  <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Purity  </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{productdet.Purity}}\n  </ion-col>\n  </ion-row>\n\n\n\n  <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n    <ion-col no-padding col-6>\n      <button ion-button clear small>Metal Rate</button>\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-5>\n       {{productdet[\'rate_per\']}}\n    </ion-col>\n    </ion-row>\n    <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n      <ion-col no-padding col-6>\n        <button ion-button clear small>Wastage %</button>\n      </ion-col>\n      <ion-col no-padding style="margin:auto" col-1>\n          :\n      </ion-col>\n      <ion-col no-padding style="margin:auto" col-5>\n        {{productdet[\'retail_max_wastage_percent\']}} %\n      </ion-col>\n      </ion-row>\n\n      <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n        <ion-col no-padding col-6>\n          <button ion-button clear small>Wastage Wgt</button>\n        </ion-col>\n        <ion-col no-padding style="margin:auto" col-1>\n            :\n        </ion-col>\n        <ion-col no-padding style="margin:auto" col-5>\n          {{productdet[\'wast_wgt\']}} g\n        </ion-col>\n        </ion-row>\n\n        <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n          <ion-col no-padding col-6>\n            <button ion-button clear small>Total Stone Amount</button>\n          </ion-col>\n          <ion-col no-padding style="margin:auto" col-1>\n              :\n          </ion-col>\n          <ion-col no-padding style="margin:auto" col-5>\n             {{productdet[\'stone_price\']}} \n          </ion-col>\n          </ion-row>\n      <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n        <ion-col no-padding col-6>\n          <button ion-button clear small>GST </button>\n        </ion-col>\n        <ion-col no-padding style="margin:auto" col-1>\n            :\n        </ion-col>\n        <ion-col no-padding style="margin:auto" col-5>\n           {{productdet.tax_price}}\n        </ion-col>\n        </ion-row>\n        <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n          <ion-col no-padding col-6>\n            <button ion-button clear small>Total MC value</button>\n          </ion-col>\n          <ion-col no-padding style="margin:auto" col-1>\n              :\n          </ion-col>\n          <ion-col no-padding style="margin:auto" col-5>\n             {{productdet[\'mc_value\']}}\n          </ion-col>\n          </ion-row>\n          <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n          <ion-col no-padding col-6>\n            <button ion-button clear small>Counter</button>\n          </ion-col>\n          <ion-col no-padding style="margin:auto" col-1>\n              :\n          </ion-col>\n          <ion-col no-padding style="margin:auto" col-5>\n            {{productdet.section_name}}\n          </ion-col>\n          </ion-row>\n          <ion-row style="border: 1px solid #f2f1f1" no-padding>\n\n          <ion-col no-padding col-6>\n            <button ion-button clear small>HUID</button>\n          </ion-col>\n          <ion-col no-padding style="margin:auto" col-1>\n              :\n          </ion-col>\n          <ion-col no-padding style="margin:auto" col-5>\n            {{productdet.hu_id}}\n          </ion-col>\n          </ion-row>\n</div>\n\n\n<div [ngClass]="showdiamond.length == 0 ? \'bot\':\'\' " *ngIf="showstone.length > 0">\n  <h6 style="text-align: center;\n  margin-bottom: 20px;">Stone Information</h6>\n\n<ion-card style="width: 95% !important;">\n  <ion-row>\n  \n    <ion-col col-6>\n      <ion-row style="text-align: center;">\n        <ion-col class="tot-amt">\n        Tot.Stn.Amt \n        </ion-col>\n        </ion-row>\n        <ion-row style="text-align: center;">\n          <ion-col class="tot-amt">\n             {{totalvalue}}\n          </ion-col>\n        </ion-row>\n      \n    </ion-col>\n    <ion-col col-6 >\n      <ion-row>\n        <ion-col class="tot-amt">\n          C.Stn.Wgt : {{totalgram}} Gm\n        </ion-col>\n      </ion-row>\n      <ion-row>\n        <ion-col class="tot-amt">\n          Dia.Wgt : {{totalct}} Ct\n        </ion-col>\n      </ion-row>\n   \n    </ion-col>\n    <!-- <ion-col col-3 style="font-weight: bold;font-size: 15px !important;">\n    </ion-col> -->\n  </ion-row>\n</ion-card>\n\n   <ion-row *ngFor="let s of showstone" no-padding>\n\n    <ion-col no-padding col-6>\n      <button ion-button clear small>Type</button>\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-5>\n      {{s.stone_type}}\n    </ion-col>\n\n    <ion-col no-padding col-6>\n      <button ion-button clear small>Stone Name</button>\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-5>\n      {{s.stone_name}}\n    </ion-col>\n\n    <ion-col no-padding col-6>\n      <button ion-button clear small>Pcs  </button>\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-5>\n      {{s.stone_pcs}}\n    </ion-col>\n    <ion-col no-padding col-6>\n      <button ion-button clear small>Weight({{s.uom_short_code}}) </button>\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-5>\n      {{fixprice(s[\'stone_wt\'])}} {{s.uom_short_code}}\n\n    </ion-col>\n\n    <ion-col no-padding col-6>\n      <button ion-button clear small>Rate  </button>\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-5>\n       {{price(s.rate)}}\n    </ion-col>\n    </ion-row>\n</div>\n\n<!-- Other Metal Info -->\n\n<div [ngClass]="showdiamond.length == 0 ? \'bot\':\'\' " *ngIf="othermetals.length > 0">\n  <h6 style="text-align: center;\n  margin-bottom: 20px;">Other Metal Information</h6>\n   <ion-row *ngFor="let s of othermetals" no-padding>\n\n    <ion-col no-padding col-6>\n      <button ion-button clear small>Metal Name</button>\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-5>\n      {{s.metal_name}}\n    </ion-col>\n\n    <ion-col no-padding col-6>\n      <button ion-button clear small>Purity  </button>\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-5>\n      {{s.tag_other_itm_pur_name}}\n    </ion-col>\n    <ion-col no-padding col-6>\n      <button ion-button clear small>NWT ({{s.uom_short_code}}) </button>\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-5>\n      {{s.tag_other_itm_grs_weight}} {{s.uom_short_code}}\n\n    </ion-col>\n\n    <ion-col no-padding col-6>\n      <button ion-button clear small>VA (%) </button>\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-5>\n      {{s.tag_other_itm_wastage}} \n\n    </ion-col>\n\n    <ion-col no-padding col-6>\n      <button ion-button clear small>MC Value </button>\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-5>\n      {{s.tag_other_total_mc}} \n\n    </ion-col>\n\n    <ion-col no-padding col-6>\n      <button ion-button clear small>Amount </button>\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col no-padding style="margin:auto" col-5>\n       {{s.tag_other_itm_amount}} \n\n    </ion-col>\n</ion-row>\n\n</div>\n\n<div style="margin-bottom: 50px;" *ngIf="showdiamond.length > 0">\n  <h6  style="text-align: center;\n  margin-bottom: 20px;">Diamond Information</h6>\n  <ion-row *ngFor="let s of showdiamond;let i = index;"  style="margin-bottom: 15px;" no-padding>\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Type</button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{s.Nature}}\n  </ion-col>\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Stone Name</button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{s.StoneName}}\n  </ion-col>\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Pcs  </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{s.Pieces}}\n  </ion-col>\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Weight({{s.uom_short_code}}) </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n    {{fixprice(s[\'Weight\'])}} {{s.uom_short_code}}\n\n  </ion-col>\n\n  <ion-col no-padding col-6>\n    <button ion-button clear small>Rate  </button>\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-1>\n      :\n  </ion-col>\n  <ion-col no-padding style="margin:auto" col-5>\n     {{price(s.Rate)}}\n  </ion-col>\n\n\n    <!-- <h6  style="text-align: center;\n    margin-bottom: 20px;">Diamond Information</h6> -->\n    <ion-col  style="margin-top: 15px;" *ngIf="showdiamond.length - 1 == i" no-padding col-6>\n      <button ion-button clear small>Cut  </button>\n    </ion-col>\n    <ion-col  *ngIf="showdiamond.length - 1 == i" no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col  *ngIf="showdiamond.length - 1 == i" no-padding style="margin:auto" col-5>\n      {{productdet.Cut}}\n    </ion-col>\n    <ion-col  *ngIf="showdiamond.length - 1 == i" no-padding col-6>\n      <button ion-button clear small>Color </button>\n    </ion-col>\n    <ion-col  *ngIf="showdiamond.length - 1 == i" no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col  *ngIf="showdiamond.length - 1 == i" no-padding style="margin:auto" col-5>\n      {{productdet.Color}}\n    </ion-col>\n\n    <ion-col  *ngIf="showdiamond.length - 1 == i" no-padding col-6>\n      <button ion-button clear small>Shape  </button>\n    </ion-col>\n    <ion-col  *ngIf="showdiamond.length - 1 == i" no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col  *ngIf="showdiamond.length - 1 == i" no-padding style="margin:auto" col-5>\n      {{productdet.Shape}}\n    </ion-col>\n\n    <ion-col  *ngIf="showdiamond.length - 1 == i" no-padding col-6>\n      <button ion-button clear small>Clarity  </button>\n    </ion-col>\n    <ion-col  *ngIf="showdiamond.length - 1 == i" no-padding style="margin:auto" col-1>\n        :\n    </ion-col>\n    <ion-col  *ngIf="showdiamond.length - 1 == i" no-padding style="margin:auto" col-5>\n      {{productdet.Clarity}}\n    </ion-col>\n  </ion-row>\n</div>\n\n<ion-card *ngIf="productdet.hasOwnProperty(\'weight\')" no-margin >\n  <ion-card-header (click)="toggle(\'customize\')" no-padding>\n    <div class="theme-title-blk" no-margin>\n        Customize Product\n        <!-- <ion-icon *ngIf="!showCustomize" name="add-circle" float-right></ion-icon>\n        <ion-icon *ngIf="showCustomize" name="remove-circle" float-right></ion-icon>  -->\n    </div>\n  </ion-card-header>\n  <ion-card-content  no-padding>\n    <ion-row padding >\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col" >\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Employee <span class="required"> *</span></ion-label>\n          <ion-input type="text" [(ngModel)]="productdet[\'empname\']" (click)="openEmpModal()" placeholder="-- Choose Employee --"></ion-input>\n        </ion-item>\n         <!-- <span float-right [ngClass]="productdet.weight >= productdet[\'from_weight\'] && productdet.weight <= productdet[\'to_weight\'] ?  \'input-msg\' : \'input-error-msg\' "><span *ngIf="productdet.from_weight > 0">Min. {{productdet.from_weight}} g </span><span *ngIf="productdet.to_weight > 0">Max. {{productdet.to_weight}} g</span></span> -->\n      </ion-col>\n\n\n\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col"  >\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Balance Type</ion-label>\n          <ion-select [(ngModel)]="productdet[\'balance_type\']" (ionChange)="radio_option(productdet[\'balance_type\'])"  placeholder="-- Choose --">\n            <ion-option  [value]="2">Cash Balance</ion-option>\n            <ion-option  [value]="1">Metal Balance</ion-option>\n          </ion-select>\n        </ion-item>\n    </ion-col>\n\n    <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col"  >\n      <ion-item no-padding>\n        <ion-label color="label-color" stacked>Rate Type</ion-label>\n        <ion-select [(ngModel)]="productdet[\'rate_type\']" (ionChange)="radio_option(productdet[\'rate_type\'])"  placeholder="-- Choose --">\n          <ion-option  [value]="1">Order Rate(Fixed)</ion-option>\n          <ion-option  [value]="2">Delivery Rate(Un Fixed)</ion-option>\n        </ion-select>\n      </ion-item>\n  </ion-col>\n\n\n        <ion-col col-12 class="custom-2col" *ngIf="productdet.purities?.length > 0" >\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Purity  <span class="required"> *</span></ion-label>\n          </ion-item>\n          <ion-scroll style=" white-space: nowrap !important;" class="purity-scroll-blk" scrollX="true">\n            <ion-chip #chip1 *ngFor="let pur of productdet.purities" color="light" [ngClass]="productdet[\'id_purity\'] == pur[\'id_purity\'] ? \'selected\' : \'unselected\'" (click)="setPurity(pur.id_purity,pur.purity,pur)" style="margin-left: 5%;">\n              <ion-label>{{pur.purity}}</ion-label><ion-icon name="checkmark-circle" style="background-color:transparent!important;" *ngIf="productdet[\'id_purity\'] == pur[\'id_purity\']"></ion-icon>\n            </ion-chip>\n          </ion-scroll>\n        </ion-col>\n\n\n		<ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col" *ngIf="productdet.weights?.length > 0" >\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Weight</ion-label>\n            <ion-select [(ngModel)]="productdet.id_weight" (ngModelChange)=checkwgstock(productdet.id_weight)  placeholder="-- Choose --">\n              <ion-option *ngFor="let s of productdet.weights" [value]="s.id_weight">{{s[\'weight_description\']}}</ion-option>\n            </ion-select>\n          </ion-item>\n      </ion-col>\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col" >\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Weight <span class="required"> *</span></ion-label>\n            <ion-input type="number" placeholder="Enter weight in grams" [(ngModel)]="productdet.weight" (ngModelChange)="calculate()"> </ion-input>\n          </ion-item>\n           <span float-right [ngClass]="productdet.weight >= productdet[\'from_weight\'] && productdet.weight <= productdet[\'to_weight\'] ?  \'input-msg\' : \'input-error-msg\' "><span *ngIf="productdet.from_weight > 0">Min. {{productdet.from_weight}} g </span><span *ngIf="productdet.to_weight > 0">Max. {{productdet.to_weight}} g</span></span>\n        </ion-col>\n\n\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col">\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Pieces *</ion-label>\n            <ion-input type="number" placeholder="Pieces" [(ngModel)]="productdet.pcs" > </ion-input>\n            <span float-right ></span>\n          </ion-item>\n        </ion-col>\n\n<!--         <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col">\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Size *</ion-label>\n            <ion-input type="number" placeholder="Size" [(ngModel)]="productdet.size" > </ion-input>\n            <span float-right ></span>\n          </ion-item>\n        </ion-col> -->\n\n\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col" *ngIf="productdet.sizes?.length > 0" >\n            <ion-item no-padding>\n              <ion-label color="label-color" stacked>Size</ion-label>\n              <ion-select [(ngModel)]="productdet.id_size" (ngModelChange)=checkstock(productdet.id_size) placeholder="-- Choose --">\n                <ion-option *ngFor="let s of productdet.sizes" [value]="s.id_size">{{s.value}} {{s.name}}</ion-option>\n              </ion-select>\n            </ion-item>\n        </ion-col>\n\n\n        <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col" >\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>MC Type</ion-label>\n            <ion-select interface="popover" [(ngModel)]="productdet[\'mc_type\']" (ngModelChange)="calculate()" placeholder="MC Type">\n              <ion-option [value]="1">Piece</ion-option>\n              <ion-option [value]="2">Gram</ion-option>\n            </ion-select>\n          </ion-item>\n      </ion-col>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>MC Value</ion-label>\n          <ion-input type="number" placeholder="MC Value" [(ngModel)]="productdet[\'mc_value\']" (ngModelChange)="calculate()"> </ion-input>\n          <span float-right ></span>\n        </ion-item>\n      </ion-col>\n	   <ion-col  col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Wastage %</ion-label>\n          <ion-input type="number" placeholder="Wastage" [(ngModel)]="productdet[\'retail_max_wastage_percent\']" (ngModelChange)="calculate()"> </ion-input>\n          <span float-right ></span>\n        </ion-item>\n      </ion-col>\n      <ion-col  col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Wastage Wgt(g)</ion-label>\n          <ion-input type="number" placeholder="Wastage" [(ngModel)]="productdet[\'wast_wgt\']" (ngModelChange)="calculate(\'wastage_wt\')"> </ion-input>\n          <span float-right ></span>\n        </ion-item>\n      </ion-col>\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col" >\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Less Weight <span class="required"> *</span></ion-label>\n          <ion-input type="number" placeholder="Less weight in grams" [(ngModel)]="productdet.less_wt" readonly> </ion-input>\n        </ion-item>\n         <!-- <span float-right [ngClass]="productdet.weight >= productdet[\'from_weight\'] && productdet.weight <= productdet[\'to_weight\'] ?  \'input-msg\' : \'input-error-msg\' "><span *ngIf="productdet.from_weight > 0">Min. {{productdet.from_weight}} g </span><span *ngIf="productdet.to_weight > 0">Max. {{productdet.to_weight}} g</span></span> -->\n      </ion-col>\n\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col" >\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Net Weight <span class="required"> *</span></ion-label>\n          <ion-input type="number" placeholder="Net weight in grams" [(ngModel)]="productdet.net_wt" readonly> </ion-input>\n        </ion-item>\n         <!-- <span float-right [ngClass]="productdet.weight >= productdet[\'from_weight\'] && productdet.weight <= productdet[\'to_weight\'] ?  \'input-msg\' : \'input-error-msg\' "><span *ngIf="productdet.from_weight > 0">Min. {{productdet.from_weight}} g </span><span *ngIf="productdet.to_weight > 0">Max. {{productdet.to_weight}} g</span></span> -->\n      </ion-col>\n\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Rate()</ion-label>\n          <ion-input type="number" [(ngModel)]="productdet[\'rate_per\']" (ngModelChange)="calculatecus()"></ion-input>\n        </ion-item>\n     </ion-col>\n\n      <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Taxable Amount()</ion-label>\n          <ion-input type="number" [(ngModel)]="productdet[\'taxable\']" readonly></ion-input>\n        </ion-item>\n     </ion-col>\n     <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n      <ion-item no-padding>\n        <ion-label color="label-color" stacked>GST()</ion-label>\n        <ion-input type="number" [(ngModel)]="productdet[\'tax_price\']" readonly></ion-input>\n      </ion-item>\n   </ion-col>\n     <ion-col col-12 col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Amount()</ion-label>\n          <ion-input type="number" [(ngModel)]="productdet[\'sales_value\']" readonly></ion-input>\n        </ion-item>\n      </ion-col>\n	   <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col">\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Due Date *</ion-label>\n            <!-- <ion-input type="number" readonly="true" class="ion_datetime" placeholder="Select Date" displayFormat="DD-MM-YYYY" [(ngModel)]="productdet.due_date" (focusin)="show()"> </ion-input> -->\n            <!-- <ion-input type="number"  placeholder="No of Days"  [(ngModel)]="productdet.due_date"> </ion-input> -->\n            <ion-datetime placeholder="Select Date" displayFormat="DD/MM/YYYY" min="{{minDate}}"   [yearValues]="yearValues" [(ngModel)]="productdet.due_date" ></ion-datetime>\n            <!-- <ion-datetime placeholder="Select Date" displayFormat="MM/DD/YYYY" [(ngModel)]="productdet.due_date"></ion-datetime> -->\n\n            <span float-right ></span>\n          </ion-item>\n        </ion-col>\n\n\n	  <!--  <ion-col  col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6  class="custom-2col">\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Other Charges</ion-label>\n          <ion-select  [(ngModel)]="productdet[\'id_charge\']" (ngModelChange)="checkcode()"  placeholder="Charges" >\n              <ion-option *ngFor="let b of productdet[\'allcharges\']" [value]="b[\'id_charge\']">{{b[\'code_charge\']}}</ion-option>\n          </ion-select>\n      </ion-item>\n      </ion-col> -->\n        <!-- <ion-col col-12 class="custom-2col" *ngIf="productdet.stones?.length > 0">\n          <ion-item no-padding>\n              <ion-label color="label-color" stacked>Stones</ion-label>\n            </ion-item>\n\n          <ion-list text-center>\n            <ion-row  style="background: #b1abab;color: white;">\n              <ion-col col-4>Stone</ion-col>\n              <ion-col col-4>Pcs</ion-col>\n              <ion-col col-4>Weight</ion-col>\n            </ion-row>\n            <div *ngFor="let st of productdet.stones; let i=index" class="text-small">\n              <ion-row>\n                <ion-col col-1>\n                  <ion-checkbox  [(ngModel)]="st.selected" (ionChange)=stoneChaned(st.stone_id,i)></ion-checkbox>\n                </ion-col>\n                <ion-col col-4 class="text-small">\n                  {{st.stone_name}}\n                </ion-col>\n                <ion-col col-3>\n                  <ion-item>\n                    <ion-input type="number" [value] = "st.stone_pcs" [disabled]="!st.selected"></ion-input>\n                  </ion-item>\n                </ion-col>\n                <ion-col col-4>\n                  <ion-item>\n                    <ion-input type="number" [value] = "st.stone_wt" [disabled]="!st.selected"></ion-input>\n                  </ion-item>\n                </ion-col>\n              </ion-row>\n            </div>\n          </ion-list>\n        </ion-col>  -->\n\n        <ion-col col-12 class="custom-2col">\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Description</ion-label>\n            <ion-textarea [(ngModel)]="productdet.sample_details" placeholder="Enter your description" rows="3"></ion-textarea>\n          </ion-item>\n        </ion-col>\n\n<ion-col col-12 style="margin-top: 10px;margin-bottom: 10px;">\n          <div class="row">\n\n          <div  class="col" style="margin: auto" col-4 no-padding>\n            <h5>Other Charges</h5>\n          </div>\n          <div class="col" style="margin: auto" no-padding>\n            <div float-right>\n              <button *ngIf="charges.length == 0" ion-button icon-start outline small color="dark" (click)="addcharge()">\n                <ion-icon name="ios-add"></ion-icon>\n                Add\n              </button>\n              <button *ngIf="charges.length != 0" ion-button icon-start outline small color="dark" (click)="addcharge()">\n                <ion-icon name="edit"></ion-icon>\n                Update\n              </button>\n          </div>\n          </div>\n        </div>\n       </ion-col>\n\n        <ion-col col-12 style="margin-top: 10px;margin-bottom: 10px;">\n          <div class="row">\n\n          <div  class="col" style="margin: auto" col-4 no-padding>\n            <h5>Stone Detail</h5>\n          </div>\n          <div class="col" style="margin: auto" no-padding>\n            <div float-right>\n              <button *ngIf="stone_details.length == 0" ion-button icon-start outline small color="dark" (click)="addStone()">\n                <ion-icon name="ios-add"></ion-icon>\n                Add\n              </button>\n              <button *ngIf="stone_details.length != 0" ion-button icon-start outline small color="dark" (click)="addStone()">\n                <ion-icon name="edit"></ion-icon>\n                Update\n              </button>\n          </div>\n          </div>\n        </div>\n       </ion-col>\n        <ion-col col-12 class="custom-2col">\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Upload Sample</ion-label>\n            <button *ngIf="targetPath?.length <= 10" ion-button outline small color="dark" type="button" item-right icon-left (click)="presentActionSheet()">\n                <ion-icon name="camera"></ion-icon>\n                Choose Image\n            </button>\n          </ion-item>\n          <ion-grid>\n            <ion-row *ngIf="targetPaths.length > 0">\n              <ion-col col-6 *ngFor="let targetPath of targetPaths; let id = index">\n                <ion-card class="block">\n                  <ion-icon name="trash" class="deleteIcon" (click)="deletePhoto(id)"></ion-icon> <img (click)="open(targetPath)" [src]="targetPath" *ngIf="targetPath" />\n                </ion-card>\n              </ion-col>\n            </ion-row>\n          </ion-grid>\n        </ion-col>\n\n        <ion-col col-12 class="custom-2col">\n          <ion-item no-padding>\n            <ion-label color="label-color" stacked>Upload Sample</ion-label>\n            <button *ngIf="targetPath?.length <= 10" ion-button outline small color="dark" type="button" item-right icon-left (click)="presentActionSheetvideo()">\n                <ion-icon name="videocam"></ion-icon>\n                Choose Video\n            </button>\n          </ion-item>\n          <ion-grid>\n            <ion-row *ngIf="vidtargetPaths.length > 0">\n              <ion-col col-6 *ngFor="let targetPath of vidtargetPaths; let id = index">\n                <ion-card class="block" style="text-align: center">\n                  <ion-icon name="trash" class="deleteIcon" (click)="deletevideo(id)"></ion-icon>\n                  <video height="140" controls>\n                    <source [src]=\'targetPath\' type="video/mp4">\n                  </video>\n                </ion-card>\n              </ion-col>\n            </ion-row>\n          </ion-grid>\n        </ion-col>\n\n\n    </ion-row>\n  </ion-card-content>\n</ion-card>\n\n</div>\n\n  </ion-content>\n\n  <ion-footer style="bottom: 83px !important;">\n    <div *ngIf="show == true"  style="text-align: center;    margin-top: 5px;">\n      Upload Progress :\n    </div>\n    <div *ngIf="show == true" class="progress-outer">\n      <div class="progress-inner" [style.width]="progress + \'%\'">\n          {{progress}}%\n      </div>\n    </div>\n    <ion-row>\n      <ion-col col-6>\n        <button [disabled]="productdet.Status != \'OPEN\'" style="border-radius: 5px;" ion-button  icon-start full class="theme-btn" (click)="createEsti()">Create Estimation</button>\n      </ion-col>\n      <ion-col col-6>\n        <button style="border-radius: 5px;" ion-button  icon-start full class="theme-btn" (click)="proceedToWishlist()">Add to Cart</button>\n      </ion-col>\n    </ion-row>\n  </ion-footer>\n\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\prodetail\prodetail.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_4__providers_retail__["a" /* RetailProvider */]],
            animations: [
                Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_24" /* trigger */])('flyInTopSlow', [
                    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_21" /* state */])("0", Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_22" /* style */])({
                        transform: 'translate3d(0,0,0)'
                    })),
                    Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_23" /* transition */])('* => 0', [
                        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_13" /* animate */])('500ms ease-in', Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_18" /* keyframes */])([
                            Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_22" /* style */])({ transform: 'translate3d(0,-500px,0)', offset: 0 }),
                            Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_22" /* style */])({ transform: 'translate3d(0,0,0)', offset: 1 })
                        ]))
                    ])
                ])
            ]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_20__ionic_native_file_opener__["a" /* FileOpener */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */], __WEBPACK_IMPORTED_MODULE_4__providers_retail__["a" /* RetailProvider */], __WEBPACK_IMPORTED_MODULE_16__ionic_native_media_capture__["a" /* MediaCapture */], __WEBPACK_IMPORTED_MODULE_15__ionic_native_file_chooser__["a" /* FileChooser */], __WEBPACK_IMPORTED_MODULE_14__ionic_native_file_path__["a" /* FilePath */], __WEBPACK_IMPORTED_MODULE_13_ngx_image_compress__["a" /* NgxImageCompressService */], __WEBPACK_IMPORTED_MODULE_0__angular_core__["j" /* ChangeDetectorRef */], __WEBPACK_IMPORTED_MODULE_11__angular_platform_browser__["c" /* DomSanitizer */], __WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["x" /* Platform */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_2__ionic_native_toast__["a" /* Toast */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["a" /* ActionSheetController */], __WEBPACK_IMPORTED_MODULE_7__ionic_native_camera__["a" /* Camera */], __WEBPACK_IMPORTED_MODULE_5__ionic_native_file_transfer__["a" /* FileTransfer */], __WEBPACK_IMPORTED_MODULE_6__ionic_native_file__["a" /* File */], __WEBPACK_IMPORTED_MODULE_8__angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["b" /* AlertController */]])
    ], ProdetailPage);
    return ProdetailPage;
    var ProdetailPage_1;
}());

//# sourceMappingURL=prodetail.js.map

/***/ }),

/***/ 71:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EditorPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_retail__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ionic_native_toast__ = __webpack_require__(62);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__ionic_native_file_transfer__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__ionic_native_file__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__ionic_native_transfer__ = __webpack_require__(58);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__ionic_native_camera__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__angular_http__ = __webpack_require__(44);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__ionic_native_file_path__ = __webpack_require__(24);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__ionic_native_android_permissions__ = __webpack_require__(120);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__ionic_native_crop__ = __webpack_require__(406);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__ionic_native_image_picker__ = __webpack_require__(65);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__prodetail_prodetail__ = __webpack_require__(70);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











//import { CartPage } from '../../pages/cart/cart';


// import interact from 'interactjs'
//import { ImageResizer, ImageResizerOptions } from '@ionic-native/image-resizer';
//import { getBase64Strings } from 'exif-rotate-js/lib';
//import { Caman } from '../../assets/edit.js';


/**
 * Generated class for the DesignDetailPage page.
 *
 * See http://ionicframework.com/docs/components/#navigation for more info
 * on Ionic pages and navigation.
 */
var EditorPage = /** @class */ (function () {
    function EditorPage(cd, keyboard, key, viewCtrl, renderer, crop, androidPermissions, imagePicker, common, retail, navCtrl, platform, navParams, loadingCtrl, toastCtrl, event, toast, actionSheetCtrl, camera, transfer, ftransfer, file, http, filePath, alertCtrl) {
        var _this = this;
        this.cd = cd;
        this.keyboard = keyboard;
        this.key = key;
        this.viewCtrl = viewCtrl;
        this.renderer = renderer;
        this.crop = crop;
        this.androidPermissions = androidPermissions;
        this.imagePicker = imagePicker;
        this.common = common;
        this.retail = retail;
        this.navCtrl = navCtrl;
        this.platform = platform;
        this.navParams = navParams;
        this.loadingCtrl = loadingCtrl;
        this.toastCtrl = toastCtrl;
        this.event = event;
        this.toast = toast;
        this.actionSheetCtrl = actionSheetCtrl;
        this.camera = camera;
        this.transfer = transfer;
        this.ftransfer = ftransfer;
        this.file = file;
        this.http = http;
        this.filePath = filePath;
        this.alertCtrl = alertCtrl;
        this.tt = '';
        this.currentColour = '#1abc9c';
        this.brushSize = 5;
        this.targetPaths = [];
        this.filenames = [];
        this.deletephotos = [];
        this.sample_images = [];
        this.lastImage = null;
        this.isShown = false;
        this.count = 1;
        this.date = new Date().toISOString();
        this.draw = false;
        this.receive = '';
        this.text = [];
        this.temp = 10;
        this.write = false;
        this.un = [];
        this.und = [];
        this.fshow = false;
        this.cshow = false;
        this.ushow = false;
        this.bshow = false;
        this.rshow = false;
        this.angleInDegrees = 0;
        this.scrol = false;
        this.ffile = '';
        this.temp1 = 30;
        this.d = false;
        this.finalimg = this.navParams.get('images');
        this.finaldata = this.navParams.get('productdet');
        this.progress = 0;
        this.show = false;
        this.d = this.navParams.get('direct');
        console.log(this.d);
        this.deletephotos = [];
        localStorage.setItem('dp', null);
        this.availableColours = [
            // '#1abc9c',
            // '#3498db',
            // '#9b59b6',
            // '#e67e22',
            '#e74c3c'
        ];
        platform.ready().then(function () {
            platform.registerBackButtonAction(function () {
                _this.navCtrl.setRoot(__WEBPACK_IMPORTED_MODULE_14__prodetail_prodetail__["a" /* ProdetailPage */], { 'proid': _this.finaldata });
            });
        });
        window.addEventListener('keyboardWillHide', function (data) {
            _this.fshow = false;
            console.log(data);
            console.log(_this.tt);
        });
    }
    EditorPage.prototype.clean = function () {
        this.temp1 = 30;
        this.text = [];
        var self = this;
        var canvas = document.getElementById("canvas");
        var ctx = canvas.getContext('2d');
        var img = new Image();
        canvas.width = window.innerWidth;
        img.onload = function () {
            var ct = document.getElementById('measure');
            ct.appendChild(img);
            var wrh = img.width / img.height;
            var newWidth = canvas.width;
            var newHeight = newWidth / wrh;
            if (newHeight > canvas.height) {
                newHeight = canvas.height;
                newWidth = newHeight * wrh;
            }
            ct.removeChild(img);
            canvas.height = newHeight;
            console.log(canvas.width);
            if (self.navParams.get('direct') == true) {
                canvas.height = canvas.width;
                canvas.width = canvas.width;
                ctx.drawImage(img, 0, 0, canvas.width, canvas.width);
            }
            else {
                ctx.drawImage(img, 0, 0, canvas.width, newHeight);
            }
        };
        img.src = this.finalimg;
    };
    EditorPage.prototype.rotate = function () {
        this.fshow = false;
        this.cshow = false;
        this.bshow = false;
        this.ushow = false;
        this.draw = false;
        this.write = false;
        if (this.rshow == false) {
            this.rshow = true;
        }
        var self = this;
        this.temp1 = 30;
        this.text = [];
        var canvas = document.getElementById("canvas");
        var ctx = canvas.getContext('2d');
        var img = new Image();
        img.src = this.finalimg;
        self.angleInDegrees += 90;
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.save(); //save canvas state
        ctx.translate(canvas.width / 2, canvas.height / 2);
        ctx.rotate(self.angleInDegrees * Math.PI / 180);
        ctx.translate(-canvas.width / 2, -canvas.height / 2);
        ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
        ctx.restore();
    };
    EditorPage.prototype.openk = function () {
        window.Keyboard.show();
    };
    EditorPage.prototype.undo = function () {
        this.fshow = false;
        this.cshow = false;
        this.bshow = false;
        this.rshow = false;
        this.draw = false;
        if (this.ushow == false) {
            this.ushow = true;
        }
        this.temp1 = 30;
        this.text = [];
        var self = this;
        var canvas = document.getElementById("canvas");
        var ctx = canvas.getContext('2d');
        var img = new Image();
        canvas.width = window.innerWidth;
        img.onload = function () {
            var ct = document.getElementById('measure');
            ct.appendChild(img);
            var wrh = img.width / img.height;
            var newWidth = canvas.width;
            var newHeight = newWidth / wrh;
            if (newHeight > canvas.height) {
                newHeight = canvas.height;
                newWidth = newHeight * wrh;
            }
            ct.removeChild(img);
            canvas.height = newHeight;
            if (self.navParams.get('direct') == true) {
                canvas.height = canvas.width;
                canvas.width = canvas.width;
                ctx.drawImage(img, 0, 0, canvas.width, canvas.width);
            }
            else {
                ctx.drawImage(img, 0, 0, canvas.width, newHeight);
            }
        };
        console.log(this.un);
        this.un.pop();
        if (this.un.length > 0) {
            img.src = this.un[this.un.length - 1];
            console.log(this.un);
        }
        else {
            console.log(this.finalimg);
            img.src = this.finalimg;
        }
    };
    EditorPage.prototype.ionViewWillLeave = function () {
        this.event.publish('lp', true);
    };
    EditorPage.prototype.ionViewWillEnter = function () {
        this.event.publish('lp', false);
        console.log('ionViewWillEnter ', this.finalimg);
        this.viewCtrl.showBackButton(false);
        var canvas = document.getElementById("canvas");
        var ctx = canvas.getContext('2d');
        var img = new Image();
        img.src = this.finalimg;
        canvas.width = window.innerWidth;
        var self = this;
        img.onload = function () {
            var ct = document.getElementById('measure');
            ct.appendChild(img);
            var wrh = img.width / img.height;
            var newWidth = canvas.width;
            var newHeight = newWidth / wrh;
            if (newHeight > canvas.height) {
                console.log(333333333333);
                newHeight = canvas.height;
                newWidth = newHeight * wrh;
            }
            ct.removeChild(img);
            console.log(canvas.height);
            console.log(newHeight);
            console.log(newWidth);
            canvas.height = newHeight;
            console.log(newHeight);
            console.log(canvas.width);
            if (self.navParams.get('direct') == true) {
                canvas.height = canvas.width;
                canvas.width = canvas.width;
                self.editt();
            }
            else {
                ctx.drawImage(img, 0, 0, canvas.width, newHeight);
            }
        };
        img.src = this.finalimg;
        this.receive = this.finalimg;
    };
    EditorPage.prototype.check = function (value) {
        console.log(1111);
        this.msg = value;
        this.tt = value;
        this.write = true;
    };
    EditorPage.prototype.find = function () {
        console.log(22222);
        this.ushow = false;
        this.cshow = false;
        this.bshow = false;
        this.rshow = false;
        this.msg = '';
        if (this.fshow == false) {
            this.fshow = true;
        }
        this.write = true;
        this.draw = false;
    };
    EditorPage.prototype.settext = function () {
        var canvas = document.getElementById("canvas");
        var ctx = canvas.getContext('2d');
        ctx.save();
        var stringTitle = document.getElementById('title').value;
        this.text.push(stringTitle);
        console.log(this.text.length);
        if (this.text.length > 1) {
            console.log(true);
            this.temp1 = this.temp1 + 30;
        }
        ctx.font = '20px sans-serif';
        ctx.fillStyle = '#ff0000';
        var text_title = stringTitle;
        ctx.fillText(stringTitle, this.temp, this.temp1);
        this.key.close();
    };
    EditorPage.prototype.Gray = function () {
        this.draw = false;
        document.getElementById('title').value = '';
        var canvas = document.getElementById("canvas");
        var ctx = canvas.getContext('2d');
        var background = new Image();
        background.src = this.receive;
        console.log(canvas.width);
        canvas.height = 420;
        canvas.width = window.innerWidth;
        console.log(canvas.height);
        // Make sure the image is loaded first otherwise nothing will draw.
        background.onload = function () {
            console.log('ssss');
            ctx.filter = 'grayscale(100%)';
            ctx.drawImage(background, 0, 0, canvas.width, canvas.height);
        };
    };
    EditorPage.prototype.Contrast = function () {
        this.draw = false;
        document.getElementById('title').value = '';
        var canvas = document.getElementById("canvas");
        var ctx = canvas.getContext('2d');
        var background = new Image();
        background.src = this.receive;
        console.log(canvas.width);
        // canvas.width = 700;
        canvas.height = 420;
        canvas.width = window.innerWidth;
        // canvas.width = 500;
        console.log(canvas.height);
        // Make sure the image is loaded first otherwise nothing will draw.
        background.onload = function () {
            console.log('ssss');
            ctx.filter = 'contrast(200%)';
            ctx.drawImage(background, 0, 0, canvas.width, canvas.height);
        };
    };
    EditorPage.prototype.Blur = function () {
        this.draw = false;
        document.getElementById('title').value = '';
        var canvas = document.getElementById("canvas");
        var ctx = canvas.getContext('2d');
        var background = new Image();
        background.src = this.receive;
        console.log(canvas.width);
        // canvas.width = 700;
        canvas.height = 420;
        canvas.width = window.innerWidth;
        // canvas.width = 500;
        console.log(canvas.height);
        // Make sure the image is loaded first otherwise nothing will draw.
        background.onload = function () {
            console.log('ssss');
            ctx.filter = 'hue-rotate(90deg)';
            ctx.drawImage(background, 0, 0, canvas.width, canvas.height);
        };
    };
    EditorPage.prototype.Sepia = function () {
        this.draw = false;
        document.getElementById('title').value = '';
        var canvas = document.getElementById("canvas");
        var ctx = canvas.getContext('2d');
        var background = new Image();
        background.src = this.receive;
        console.log(canvas.width);
        // canvas.width = 700;
        canvas.height = 420;
        canvas.width = window.innerWidth;
        // canvas.width = 500;
        console.log(canvas.height);
        // Make sure the image is loaded first otherwise nothing will draw.
        background.onload = function () {
            console.log('ssss');
            ctx.filter = 'sepia(100%)';
            ctx.drawImage(background, 0, 0, canvas.width, canvas.height);
        };
    };
    EditorPage.prototype.Invert = function () {
        this.draw = false;
        document.getElementById('title').value = '';
        var canvas = document.getElementById("canvas");
        var ctx = canvas.getContext('2d');
        var background = new Image();
        background.src = this.receive;
        console.log(canvas.width);
        // canvas.width = 700;
        canvas.height = 420;
        canvas.width = window.innerWidth;
        // canvas.width = 500;
        console.log(canvas.height);
        // Make sure the image is loaded first otherwise nothing will draw.
        background.onload = function () {
            console.log('ssss');
            ctx.filter = 'invert(100%)';
            ctx.drawImage(background, 0, 0, canvas.width, canvas.height);
        };
    };
    EditorPage.prototype.Saturate = function () {
        this.draw = false;
        document.getElementById('title').value = '';
        var canvas = document.getElementById("canvas");
        var ctx = canvas.getContext('2d');
        var background = new Image();
        background.src = this.receive;
        console.log(canvas.width);
        // canvas.width = 700;
        canvas.height = 420;
        canvas.width = window.innerWidth;
        // canvas.width = 500;
        console.log(canvas.height);
        // Make sure the image is loaded first otherwise nothing will draw.
        background.onload = function () {
            console.log('ssss');
            ctx.filter = 'saturate(8)';
            ctx.drawImage(background, 0, 0, canvas.width, canvas.height);
        };
    };
    EditorPage.prototype.ngAfterViewInit = function () {
        this.canvasElement = this.canvas.nativeElement;
        this.renderer.setElementAttribute(this.canvasElement, 'width', this.platform.width() + '');
        this.renderer.setElementAttribute(this.canvasElement, 'height', this.platform.height() + '');
    };
    EditorPage.prototype.changeColour = function (colour) {
        this.fshow = false;
        this.cshow = false;
        this.ushow = false;
        this.rshow = false;
        if (this.bshow == false) {
            this.bshow = true;
        }
        this.draw = true;
        this.write = false;
        this.currentColour = colour;
    };
    EditorPage.prototype.edit = function () {
        var _this = this;
        this.fshow = false;
        this.ushow = false;
        this.bshow = false;
        this.rshow = false;
        if (this.cshow == false) {
            this.cshow = true;
        }
        var option = {
            quality: 100,
            autoCropArea: 1
            // targetHeight: 800,
            // targetWidth: 800,
        };
        this.crop.crop(this.finalimg, option)
            .then(function (newImage) {
            console.log('0000000000' + newImage);
            console.log('4444444');
            console.log(newImage);
            _this.receive = newImage;
            var canvas = document.getElementById("canvas");
            var ctx = canvas.getContext('2d');
            var background = new Image();
            background.src = _this.receive;
            _this.finalimg = _this.receive;
            console.log(_this.finalimg);
            // console.log(canvas.width)
            // canvas.width = 700;
            // canvas.height = 420;
            canvas.width = window.innerWidth;
            console.log(canvas.height);
            console.log(canvas.width);
            var self = _this;
            // Make sure the image is loaded first otherwise nothing will draw.
            background.onload = function () {
                console.log('ssss');
                if (self.navParams.get('direct') == true) {
                    canvas.height = canvas.width;
                    canvas.width = canvas.width;
                    ctx.drawImage(background, 0, 0, canvas.width, canvas.width);
                }
                else {
                    ctx.drawImage(background, 0, 0, canvas.width, canvas.height);
                }
            };
            console.log('new image path is: ' + newImage);
        }, function (error) { return console.error('Error cropping image', error); });
    };
    EditorPage.prototype.editt = function () {
        var _this = this;
        this.fshow = false;
        this.ushow = false;
        this.bshow = false;
        this.rshow = false;
        if (this.cshow == false) {
            this.cshow = true;
        }
        var option = {
            quality: 100,
            autoCropArea: 1
            // targetHeight: 800,
            // targetWidth: 800,
        };
        this.crop.crop(this.finalimg, option)
            .then(function (newImage) {
            console.log('0000000000' + newImage);
            //     this.filePath.resolveNativePath( newImage )
            //  .then( filePath => {
            console.log('4444444');
            console.log(newImage);
            _this.receive = newImage;
            var canvas = document.getElementById("canvas");
            var ctx = canvas.getContext('2d');
            var background = new Image();
            background.src = _this.receive;
            _this.finalimg = _this.receive;
            console.log(_this.finalimg);
            // console.log(canvas.width)
            // canvas.width = 700;
            // canvas.height = 420;
            canvas.width = window.innerWidth;
            console.log(canvas.height);
            console.log(canvas.width);
            var self = _this;
            // Make sure the image is loaded first otherwise nothing will draw.
            background.onload = function () {
                console.log('ssss');
                if (self.navParams.get('direct') == true) {
                    canvas.height = canvas.width;
                    canvas.width = canvas.width;
                    ctx.drawImage(background, 0, 0, canvas.width, canvas.width);
                }
                else {
                    ctx.drawImage(background, 0, 0, canvas.width, canvas.height);
                }
            };
            //  } );  
            console.log('new image path is: ' + newImage);
        }, function (error) {
            _this.navCtrl.setRoot(__WEBPACK_IMPORTED_MODULE_14__prodetail_prodetail__["a" /* ProdetailPage */], { 'proid': _this.finaldata });
            console.error('Error cropping image', error);
        });
    };
    EditorPage.prototype.save = function () {
        this.converted_image = this.canvasElement.toDataURL('image/png');
        this.writeFile(this.converted_image, this.createFileName());
    };
    //here is the method is used to write a file in storage  
    EditorPage.prototype.writeFile = function (base64Data, fileName) {
        var _this = this;
        var contentType = this.getContentType(base64Data);
        var DataBlob = this.base64toBlob(base64Data, contentType);
        // here iam mentioned this line this.file.externalRootDirectory is a native pre-defined file path storage. You can change a file path whatever pre-defined method.  
        var filePath = cordova.file.dataDirectory;
        this.file.writeFile(filePath, fileName, DataBlob, contentType).then(function (success) {
            console.log(success['nativeURL']);
            var currentName = success['nativeURL'].substr(success['nativeURL'].lastIndexOf('/') + 1);
            var correctPath = success['nativeURL'].substr(0, success['nativeURL'].lastIndexOf('/') + 1);
            console.log("File Writed Successfully", success);
            console.log(currentName);
            console.log(correctPath);
            _this.targetPaths.push(success['nativeURL']);
            _this.filenames.push(currentName);
            // this.copyFileToLocalDir( correctPath, currentName, this.createFileName() );
            _this.uploadImage(currentName);
        }).catch(function (err) {
            console.log("Error Occured While Writing File", err);
        });
    };
    //here is the method is used to get content type of an bas64 data  
    EditorPage.prototype.getContentType = function (base64Data) {
        var block = base64Data.split(";");
        var contentType = block[0].split(":")[1];
        return contentType;
    };
    //here is the method is used to convert base64 data to blob data  
    EditorPage.prototype.base64toBlob = function (b64Data, contentType) {
        contentType = contentType || '';
        var sliceSize = 512;
        var byteCharacters = atob(b64Data.replace(/^data:image\/(png|jpeg|jpg);base64,/, ''));
        var byteArrays = [];
        for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {
            var slice = byteCharacters.slice(offset, offset + sliceSize);
            var byteNumbers = new Array(slice.length);
            for (var i = 0; i < slice.length; i++) {
                byteNumbers[i] = slice.charCodeAt(i);
            }
            var byteArray = new Uint8Array(byteNumbers);
            byteArrays.push(byteArray);
        }
        var blob = new Blob(byteArrays, {
            type: contentType
        });
        return blob;
    };
    EditorPage.prototype.changeSize = function (size) {
        this.brushSize = size;
    };
    EditorPage.prototype.handleStart = function (ev) {
        console.log(ev);
        console.log(this.draw);
        console.log(this.write);
        console.log(document.getElementById('title').value);
        if (this.draw == false) {
            console.log('insideone');
            if (document.getElementById('title').value) {
                console.log('insidetwo');
                var canvasPosition = this.canvasElement.getBoundingClientRect();
                this.lastX = ev.touches[0].pageX - canvasPosition.x;
                this.lastY = ev.touches[0].pageY - canvasPosition.y;
                var canvas = document.getElementById("canvas");
                var ctx = canvas.getContext('2d');
                ctx.save();
                console.log(document.getElementById('title').value);
                var stringTitle = document.getElementById('title').value;
                this.text.push(stringTitle);
                console.log(canvas.width);
                var array = stringTitle.split(" ");
                console.log(array);
                // if(this.text.length > 1){
                //     console.log(true)
                //     this.temp1 = this.temp1 + 30;
                // }
                ctx.font = 'bold 20px sans-serif';
                ctx.fillStyle = '#ff0000';
                var text_title = stringTitle;
                for (var i = 0; i < array.length; i++) {
                    if (i == 0) {
                        console.log('insidethree');
                        ctx.fillText(array[i], this.lastX, this.lastY);
                        document.getElementById('title').value = '';
                        this.tt = '';
                        this.msg = '';
                    }
                    else {
                        console.log('insidefour');
                        this.lastY = this.lastY + 20;
                        ctx.fillText(array[i], this.lastX, this.lastY);
                        document.getElementById('title').value = '';
                        this.tt = '';
                        this.msg = '';
                    }
                }
                // array = '';
                // (<HTMLInputElement>document.getElementById('title')).value = '';
                this.write = false;
                // ctx.restore();
                this.key.close();
                this.un.push(this.canvasElement.toDataURL('image/png'));
            }
        }
        if (this.draw == true) {
            var canvasPosition = this.canvasElement.getBoundingClientRect();
            this.lastX = ev.touches[0].pageX - canvasPosition.x;
            this.lastY = ev.touches[0].pageY - canvasPosition.y;
        }
    };
    EditorPage.prototype.end = function (ev) {
        var test = document.getElementById('title').value;
        if (this.draw == true) {
            this.un.push(this.canvasElement.toDataURL('image/png'));
        }
        console.log(ev);
        console.log(this.un);
    };
    EditorPage.prototype.readc = function () {
        console.log(this.write);
        if (this.write == true) {
            return true;
        }
        else {
            return false;
        }
    };
    EditorPage.prototype.handleMove = function (ev) {
        console.log(ev);
        if (this.draw == true) {
            var canvasPosition = this.canvasElement.getBoundingClientRect();
            var canvas = document.getElementById("canvas");
            var ctx = canvas.getContext('2d');
            var currentX = ev.touches[0].pageX - canvasPosition.x;
            var currentY = ev.touches[0].pageY - canvasPosition.y;
            ctx.beginPath();
            ctx.lineJoin = "round";
            ctx.moveTo(this.lastX, this.lastY);
            ctx.lineTo(currentX, currentY);
            ctx.closePath();
            ctx.strokeStyle = this.currentColour;
            ctx.lineWidth = this.brushSize;
            ctx.stroke();
            this.lastX = currentX;
            this.lastY = currentY;
        }
    };
    EditorPage.prototype.clearCanvas = function () {
        this.draw = false;
        var ctx = this.canvasElement.getContext('2d');
        ctx.clearRect(0, 0, this.canvasElement.width, this.canvasElement.height);
        this.clean();
        document.getElementById('title').value = '';
    };
    EditorPage.prototype.load = function () {
        this.loader = this.loadingCtrl.create({
            content: "Uploading..."
        });
        this.loader.present();
    };
    EditorPage.prototype.ionViewDidLoad = function () {
    };
    EditorPage.prototype.deletePhoto = function (index) {
        var _this = this;
        var confirm = this.alertCtrl.create({
            title: 'Sure you want to delete this photo? There is no undo!',
            message: '',
            buttons: [
                {
                    text: 'No',
                    handler: function () {
                        console.log('Disagree clicked');
                    }
                }, {
                    text: 'Yes',
                    handler: function () {
                        console.log('Agree clicked');
                        _this.targetPaths.splice(index, 1);
                        _this.filenames.splice(index, 1);
                        _this.deletephotos.push(_this.filenames[index]);
                        _this.lastImage == '';
                    }
                }
            ]
        });
        confirm.present();
    };
    EditorPage.prototype.presentActionSheet = function () {
        var _this = this;
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Select Image Source',
            buttons: [
                {
                    text: 'Load from Gallery',
                    handler: function () {
                        _this.loadgallery();
                    }
                },
                {
                    text: 'Take Picture',
                    handler: function () {
                        _this.takePicture(_this.camera.PictureSourceType.CAMERA);
                    }
                },
                {
                    text: 'Cancel',
                    role: 'cancel'
                }
            ]
        });
        actionSheet.present();
    };
    EditorPage.prototype.loadgallery = function () {
        var _this = this;
        var options = {
            maximumImagesCount: 1,
            width: 500,
            height: 500,
            quality: 80,
        };
        this.imagePicker.getPictures(options).then(function (results) {
            console.log(results);
            for (var i = 0; i < results.length; i++) {
                var option = {
                    quality: 100,
                };
                _this.crop.crop(results[i], option)
                    .then(function (newImage) {
                    console.log('0000000000' + newImage);
                    _this.filePath.resolveNativePath(newImage)
                        .then(function (filePath) {
                        console.log('4444444');
                        console.log(filePath);
                        var correctPath = filePath.substr(0, filePath.lastIndexOf('/') + 1);
                        var currentName = filePath.substr(filePath.lastIndexOf('/') + 1);
                        _this.copyFileToLocalDirg(correctPath, currentName, _this.createFileName(), i);
                        //  if (this.count == 1) {
                        _this.load();
                        //     this.count ++;
                        // }
                    });
                    console.log('new image path is: ' + newImage);
                }, function (error) { return console.error('Error cropping image', error); });
            }
            ;
        });
    };
    EditorPage.prototype.takePicture = function (sourceType) {
        var _this = this;
        // Create options for the Camera Dialog
        var options = {
            quality: 50,
            sourceType: sourceType,
            saveToPhotoAlbum: false,
            correctOrientation: true,
            allowEdit: true
        };
        // Get the data of an image
        if (this.platform.is('android') && sourceType === this.camera.PictureSourceType.CAMERA) {
            this.camera.getPicture(options).then(function (imagePath) {
                console.log("#### getPicture ####");
                if (_this.platform.is('android') && sourceType === _this.camera.PictureSourceType.CAMERA) {
                    var currentName = imagePath.substr(imagePath.lastIndexOf('/') + 1);
                    var correctPath = imagePath.substr(0, imagePath.lastIndexOf('/') + 1);
                    _this.copyFileToLocalDir(correctPath, currentName, _this.createFileName());
                    // this.uploadImage();                    
                }
            }, function (err) {
                _this.presentToast('Error while selecting image.');
            });
        }
    };
    // Create a new name for the image
    EditorPage.prototype.createFileName = function () {
        var d = new Date(), n = d.getTime(), newFileName = n + ".jpg";
        return newFileName;
    };
    // Copy the image to a local folder
    EditorPage.prototype.copyFileToLocalDir = function (namePath, currentName, newFileName) {
        var _this = this;
        console.log("#### copyFileToLocalDir ####");
        console.log("namePath/correctPath : " + namePath);
        console.log("currentName : " + currentName);
        console.log("createdFileName : " + newFileName);
        this.file.copyFile(namePath, currentName, cordova.file.dataDirectory, newFileName).then(function (success) {
            _this.lastImage = newFileName;
            _this.targetPaths.push(_this.pathForImage(_this.lastImage));
            _this.filenames.push(_this.lastImage);
            console.log("targetPaths : ");
            console.log(_this.targetPaths);
            console.log("filenames : ");
            console.log(_this.filenames);
            _this.uploadImage('');
        }, function (error) {
            _this.presentToast('Error while storing file.');
        });
    };
    EditorPage.prototype.copyFileToLocalDirg = function (namePath, currentName, newFileName, i) {
        var _this = this;
        this.file.copyFile(namePath, currentName, cordova.file.dataDirectory, newFileName).then(function (success) {
            _this.lastImage = newFileName;
            _this.targetPaths.push(_this.pathForImage(_this.lastImage));
            _this.filenames.push(_this.lastImage);
            _this.uploadImageg(i);
        }, function (error) {
            _this.presentToast('Error while storing file.');
        });
    };
    EditorPage.prototype.presentToast = function (text) {
        var toast = this.toastCtrl.create({
            message: text,
            duration: 3000,
            position: 'middle'
        });
        toast.present();
    };
    // Always get the accurate path to your apps folder
    EditorPage.prototype.pathForImage = function (img) {
        if (img === null) {
            return '';
        }
        else {
            return cordova.file.dataDirectory + img;
        }
    };
    EditorPage.prototype.uploadImageg = function (i) {
        var _this = this;
        // Destination URL
        var url = __WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/uploadImg';
        // File for Upload
        var targetPath = this.pathForImage(this.lastImage);
        console.log(targetPath);
        // File name only
        var filename = this.lastImage;
        var options = {
            fileKey: "cusproduct",
            fileName: filename,
            chunkedMode: false,
            mimeType: "multipart/form-data",
            params: { 'fileName': filename },
            headers: { 'Authorization': 'Basic ' + btoa(this.common.getAuthUserName() + ':' + this.common.getAuthUserPwd()) }
        };
        var fileTransfer = this.transfer.create();
        // Use the FileTransfer to upload the image
        fileTransfer.upload(targetPath, url, options).then(function (data) {
            console.log(data);
            var result = JSON.parse(data.response);
            _this.sample_images = _this.filenames;
            var count = 1;
            if (count == 1) {
                _this.loader.dismissAll();
                count++;
                _this.presentToast('Images succesfully uploaded.');
            }
        }, function (err) {
            _this.loader.dismissAll();
            var indexp = _this.targetPaths.indexOf(_this.lastImage);
            var indexf = _this.targetPaths.indexOf(_this.lastImage);
            _this.targetPaths.splice(indexp, 1);
            _this.filenames.splice(indexf, 1);
            _this.presentToast('Error while uploading file.');
        });
    };
    EditorPage.prototype.uploadImage = function (name) {
        var _this = this;
        console.log("#### uploadImage ####");
        // Destination URL
        var url = __WEBPACK_IMPORTED_MODULE_2__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/uploadImg';
        this.show = true;
        // File for Upload
        var targetPath = this.targetPaths[0];
        // File name only
        // var filename = this.lastImage;
        var options = {
            fileKey: "file",
            fileName: name,
            chunkedMode: false,
            mimeType: "multipart/form-data",
            params: { 'fileName': name, 'type': 'wishlist_img' },
            headers: { 'Authorization': 'Basic ' + btoa(this.common.getAuthUserName() + ':' + this.common.getAuthUserPwd()) }
        };
        var fileTransfer = this.transfer.create();
        // let loader = this.loadingCtrl.create( {
        //     content: "Uploading..."
        // } );
        // loader.present();
        console.log(options);
        console.log(this.targetPaths);
        console.log(targetPath);
        console.log(encodeURI(url));
        fileTransfer.upload(targetPath, encodeURI(url), options).then(function (data) {
            console.log(data);
            // loader.dismissAll();
            _this.presentToast('Image succesfully uploaded.');
            _this.sample_images = _this.filenames;
            // loader.dismissAll();
            if (_this.navParams.get('direct') == true) {
                localStorage.setItem('dip', JSON.stringify(_this.targetPaths[0]));
                localStorage.setItem('din', JSON.stringify(_this.filenames[0]));
                _this.navCtrl.setRoot(__WEBPACK_IMPORTED_MODULE_14__prodetail_prodetail__["a" /* ProdetailPage */], { 'state': true, 'proid': _this.finaldata });
            }
            else {
                localStorage.setItem('dip', '');
                localStorage.setItem('din', '');
                _this.navCtrl.pop();
                _this.event.publish('img', _this.sample_images[0]);
                _this.event.publish('tar', _this.targetPaths[0]);
                _this.event.publish('file', _this.filenames[0]);
                console.log(_this.targetPaths);
                console.log(_this.filenames);
                _this.presentToast('Image succesfully uploaded.');
            }
        }, function (err) {
            console.log(err);
            // loader.dismissAll() 
            _this.presentToast('Error while uploading Image.');
            var indexp = _this.targetPaths.indexOf(_this.lastImage);
            var indexf = _this.targetPaths.indexOf(_this.lastImage);
            _this.targetPaths.splice(indexp, 1);
            _this.filenames.splice(indexf, 1);
            _this.navCtrl.pop();
            _this.event.publish('err', indexp);
            _this.event.publish('errr', indexf);
        });
        fileTransfer.onProgress(function (data) {
            console.log(data);
            _this.progress = Math.round((data.loaded / data.total) * 100);
            _this.refresh();
            console.log(_this.progress);
        });
        var temp = { 'name': name, 'image': this.converted_image, 'message': this.msg, 'type': 'wishlist_img' };
        console.log(temp);
        /*this.retail.uploadImg(temp).then(data =>{
            this.sample_images = this.filenames;
            loader.dismissAll();
            if(this.navParams.get('direct') == true){
                localStorage.setItem('dip',JSON.stringify(this.targetPaths[0]))
                localStorage.setItem('din',JSON.stringify(this.filenames[0]))
                this.navCtrl.setRoot(DesignDetailPage,{'state':true});
            }
            else{
                localStorage.setItem('dip','')
                localStorage.setItem('din','')
                this.navCtrl.pop();
                this.event.publish('img', this.sample_images[0]);
                this.event.publish('tar', this.targetPaths[0]);
                this.event.publish('file', this.filenames[0]);
                console.log(this.targetPaths)
                console.log(this.filenames)
                this.presentToast( 'Image succesfully uploaded.' );
            }
        },err=>{
            loader.dismissAll()
            const indexp:number = this.targetPaths.indexOf(this.lastImage);
            const indexf:number = this.targetPaths.indexOf(this.lastImage);
            this.targetPaths.splice( indexp, 1 );
            this.filenames.splice( indexf, 1 );
            this.navCtrl.pop();
            this.event.publish('err', indexp);
            this.event.publish('errr', indexf);
            this.presentToast( 'Error while uploading file.' );
        })*/
    };
    EditorPage.prototype.goback = function () {
        console.log('goback');
        this.navCtrl.setRoot(__WEBPACK_IMPORTED_MODULE_14__prodetail_prodetail__["a" /* ProdetailPage */], { 'proid': this.finaldata });
    };
    EditorPage.prototype.refresh = function () {
        console.log('refresheed');
        this.cd.detectChanges();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_8" /* ViewChild */])('myCanvas'),
        __metadata("design:type", Object)
    ], EditorPage.prototype, "canvas", void 0);
    EditorPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-editor',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\img-editor\editor.html"*/'<!--\n  Generated template for the EditorPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n-->\n<ion-header> \n  <ion-navbar>\n      <ion-toolbar id="top-toolbar">\n        \n        <ion-row>\n          \n          <ion-col  *ngIf="d == undefined"  col-4 (click)="goback()">\n            <ion-buttons  (click)="goback()" left>\n              <ion-icon  style="color: white !important;    margin-top: 5px;font-size: 1.8em !important" name="arrow-back"></ion-icon> \n            </ion-buttons>\n          </ion-col>\n        \n          <ion-col *ngIf="d == true"  col-2 (click)="goback()">\n            <ion-buttons  (click)="goback()" left>\n              <ion-icon  style="color: white !important;    margin-top: 5px;font-size: 1.8em !important" name="arrow-back"></ion-icon> \n            </ion-buttons>\n          </ion-col> \n            \n          <ion-col col-2>\n            <ion-buttons right>\n              <button [ngClass]="ushow == false ? \'one\':\'two\'"  ion-button icon-only  (click)="undo()">\n                <ion-icon style="color: white !important;"  name="ios-undo"></ion-icon>\n              </button>\n            </ion-buttons>      \n          </ion-col>\n        \n          <ion-col col-2>\n            <ion-buttons right>\n              <button [ngClass]="cshow == false ? \'one\':\'two\'" ion-button icon-only  (click)="edit()">\n                <ion-icon  style="color: white !important;" name="crop"></ion-icon>\n              </button>\n            </ion-buttons>\n          </ion-col>\n\n          <ion-col *ngIf="d == true" col-2>\n            <ion-buttons right>\n              <button [ngClass]="rshow == false ? \'one\':\'two\'"  ion-button icon-only  (click)="rotate()">\n                <ion-icon style="color: white !important;"  name="refresh"></ion-icon>\n              </button>\n            </ion-buttons>\n          </ion-col>\n\n          <ion-col col-2 *ngIf="fshow == false" >\n            <div right  style="height: 31px !important;margin-right: 42px;" (tap)="find()">\n              <!-- <input  (keyup) ="check($event.target.value)" style="    text-align: center;width:40px !important;background:#ffe135 !important;border:none !important;\n              width: -webkit-fill-available;border: 1px solid;margin-top:2px;height: 30px;position: absolute !important;color: #ffe135 !important;\n              margin-bottom: 6px;"  type="text" id="title"/> -->\n              <input  type="text" (keyup) ="check($event.target.value)" class="inputText" id="title" />\n              <span class="floating-label">T</span> \n              <!-- <ion-icon style="position: relative !important;font-size: 1.8em !important"  name="create"></ion-icon> -->\n            </div>\n          </ion-col>\n\n          <ion-col col-2 *ngIf="fshow == true" > \n            <div right  style="height: 31px !important;margin-right: 42px;" (tap)="find()">\n                <!-- <input  (keyup) ="check($event.target.value)" style="    text-align: center;width:40px !important;background:#ffe135 !important;border:none !important;\n                width: -webkit-fill-available;border: 1px solid;margin-top:2px;height: 30px;position: absolute !important;color: #ffe135 !important;\n                margin-bottom: 6px;"  type="text" id="title"/> -->\n                <input  type="text" (keyup) ="check($event.target.value)" class="inputTextt" id="title" />\n                <span class="floating-label">T</span>\n                <!-- <ion-icon style="position: relative !important;font-size: 1.8em !important"  name="create"></ion-icon> -->\n            </div>\n          </ion-col>\n\n          <ion-col col-2> \n            <ion-buttons right>\n              <button  [ngClass]="bshow == false ? \'one\':\'two\'" *ngFor="let colour of availableColours" icon-only ion-button (click)="changeColour(colour)">\n                <ion-icon  style="color: white !important;" name="brush"></ion-icon>\n              </button>\n            </ion-buttons>\n          </ion-col> \n\n        </ion-row>\n\n        </ion-toolbar>\n  </ion-navbar>\n  \n</ion-header>\n  \n<ion-content>\n    <!-- <canvas  id="canvas" #myCanvas (touchstart)="handleStart($event)" (touchmove)="handleMove($event)"> -->\n    <canvas  style="background:white !important" id="canvas"   #myCanvas (touchstart)="handleStart($event)" (touchmove)="handleMove($event)" (touchend)="end($event)" width="360" height="360"></canvas>\n    <!-- <canvas [ngClass]="scrol == false ? \'onee\': \'twoo\'"   id="canvas"   #myCanvas (touchstart)="handleStart($event)" (touchmove)="handleMove($event)" (touchend)="end($event)"></canvas> -->\n    <div id="measure"></div>\n    <!-- </canvas>	 -->\n    <ion-row >\n      <ion-col no-padding col-12 style="font-weight: bold;" (tap)="find()">\n        <!-- <input  (keyup) ="check($event.target.value)" style="    text-align: center;\n        width: -webkit-fill-available;border: 1px solid;margin-top:2px;height: 30px;\n        margin-bottom: 4px;"  type="text" id="title" placeholder="Search"/> -->\n      </ion-col> \n    </ion-row>        \n</ion-content>\n  \n<ion-footer text-center no-border transparent>\n  <ion-row no-padding> \n    <ion-col col-10>\n      <ion-item style="background-color: transparent !important;color:red !important">\n        <ion-input name="ProductName" [readonly]= \'readc()\' [(ngModel)]="msg" placeholder="Add a caption..."></ion-input> \n      </ion-item> \n    </ion-col> \n    <ion-col col-2> \n    <ion-fab bottom right #fab >\n      <button ion-fab  (click)="save()">\n        <ion-icon name="send"></ion-icon>\n      </button>\n    </ion-fab>\n    </ion-col>\n  </ion-row>\n  <div *ngIf="show == true"  style="text-align: center;    margin-top: 5px;">\n    Upload Progress : \n  </div>\n  <div *ngIf="show == true" class="progress-outer">\n    <div class="progress-inner" [style.width]="progress + \'%\'">\n        {{progress}}%\n    </div>\n  </div>\n</ion-footer>'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\img-editor\editor.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_3__providers_retail__["a" /* RetailProvider */]],
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["j" /* ChangeDetectorRef */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["p" /* Keyboard */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["p" /* Keyboard */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["B" /* ViewController */], __WEBPACK_IMPORTED_MODULE_0__angular_core__["V" /* Renderer */], __WEBPACK_IMPORTED_MODULE_12__ionic_native_crop__["a" /* Crop */], __WEBPACK_IMPORTED_MODULE_11__ionic_native_android_permissions__["a" /* AndroidPermissions */], __WEBPACK_IMPORTED_MODULE_13__ionic_native_image_picker__["a" /* ImagePicker */], __WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_3__providers_retail__["a" /* RetailProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["x" /* Platform */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_4__ionic_native_toast__["a" /* Toast */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["a" /* ActionSheetController */], __WEBPACK_IMPORTED_MODULE_8__ionic_native_camera__["a" /* Camera */], __WEBPACK_IMPORTED_MODULE_7__ionic_native_transfer__["a" /* Transfer */], __WEBPACK_IMPORTED_MODULE_5__ionic_native_file_transfer__["a" /* FileTransfer */], __WEBPACK_IMPORTED_MODULE_6__ionic_native_file__["a" /* File */], __WEBPACK_IMPORTED_MODULE_9__angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_10__ionic_native_file_path__["a" /* FilePath */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["b" /* AlertController */]])
    ], EditorPage);
    return EditorPage;
}());

//# sourceMappingURL=editor.js.map

/***/ }),

/***/ 72:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EstiPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ionic_native_printer__ = __webpack_require__(95);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_retail__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__modal_add_esti_item_add_esti_item__ = __webpack_require__(193);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__ionic_native_file_opener__ = __webpack_require__(51);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__ionic_native_file__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__ionic_native_file_transfer__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__ionic_native_file_chooser__ = __webpack_require__(50);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__ionic_native_file_path__ = __webpack_require__(24);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__home_home__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__ionic_native_barcode_scanner__ = __webpack_require__(64);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__modal_customer_customer__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__bluetooth_bluetooth__ = __webpack_require__(195);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__gift_gift__ = __webpack_require__(410);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__write_review_write_review__ = __webpack_require__(411);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__modal_employee_employee__ = __webpack_require__(49);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


// import { QRScanner, QRScannerStatus } from '@ionic-native/qr-scanner';


















/*
  Generated class for the Estimation page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
*/
var EstiPage = /** @class */ (function () {
    function EstiPage(actionSheetCtrl, cd, barcodeScanner, navParams, navCtrl, load, printer, nav, events, commonservice, retail, toast, event, modal, common, fileOpener, transfer, file, filePath, fileChooser, platform) {
        var _this = this;
        this.actionSheetCtrl = actionSheetCtrl;
        this.cd = cd;
        this.barcodeScanner = barcodeScanner;
        this.navParams = navParams;
        this.navCtrl = navCtrl;
        this.load = load;
        this.printer = printer;
        this.nav = nav;
        this.events = events;
        this.commonservice = commonservice;
        this.retail = retail;
        this.toast = toast;
        this.event = event;
        this.modal = modal;
        this.common = common;
        this.fileOpener = fileOpener;
        this.transfer = transfer;
        this.file = file;
        this.filePath = filePath;
        this.fileChooser = fileChooser;
        this.platform = platform;
        this.fileTransfer = this.transfer.create();
        this.empData = JSON.parse(localStorage.getItem('empDetail'));
        this.esti_type = 'tag';
        this.page_type = "create";
        this.employees = [];
        this.branches = [];
        this.askBranch = 0;
        this.selectedCusData = [];
        this.nonTagStock = [];
        this.settings = [];
        this.ret_settings = [];
        this.tagMsg = "";
        this.tagErrorMsg = "";
        this.scannerOn = false;
        this.ntMsg = "";
        this.ntErrorMsg = "";
        this.hbMsg = "";
        this.hbErrorMsg = "";
        this.purities = [];
        this.collections = [];
        this.omErrorMsg = "";
        this.ombMsg = "";
        this.oldMetalCat = [];
        this.stoneMasData = [];
        this.esti = { "choose": '', "cus_id": "", "customer": "", "id_branch": "", "id_employee": "", "emp_name": "", "is_tag": false, "is_non_tag": false, "is_home_bill": false, "is_old_metal": false, "tag": [], "non_tag": [], "home_bill": [], "old_metal": [], "chit_details": [{ 'slip_no': '', 'slip_amt': '' }] };
        this.tot_purch_wgt = 0;
        this.tot_purch_rate = 0;
        this.tot_sale_wgt = 0;
        this.tot_sale_rate = 0;
        this.tot_charge = 0;
        this.total_esti_value = 0;
        this.oldMetalTypes = [];
        this.estiDetail = {};
        this.dataCheckList = { "empData": false, "taxGroup": false, "branch": false, "settings": false };
        this.color = 'black';
        this.tagData = { 'taged': 1, 'fin_year': '', "order_id": "", "tag_code": "", "tag_code1": "", "tag_code2": "", "is_partial": 0, "stone_details": [] };
        this.show = true;
        this.list = [];
        this.togtype = '';
        this.checkold = false;
        this.fin = [];
        this.advance = 0;
        this.tot_gift_rate = 0;
        this.dates = [];
        this.tot_incen = 0;
        this.ferror = null;
        this.showr = false;
        this.es = this.navParams.get('estimation');
        this.stoneMasTypes = [];
        this.totalPieces = 0;
        this.totalGwt = 0;
        this.totalNwt = 0;
        this.totalTaxable = 0;
        this.totalGST = 0;
        this.invoiceValue = 0;
        this.netTotal = 0;
        this.totalStoneWt = 0;
        this.totalStoneAmount = 0;
        this.totalDiaWt = 0;
        this.totalDiaAmount = 0;
        this.nav = nav;
        console.log(this.es);
        this.page_type = this.navParams.get('page_type');
        this.loggedInBranch = this.empData['id_branch'];
        this.esti['id_log'] = this.empData['id_log'];
        this.esti['id_employee'] = this.empData['uid'];
        this.esti['emp_name'] = this.empData['username'];
        this.esti['id_branch'] = this.empData['id_branch'];
        if (this.es != undefined) {
            this.esti['cus_id'] = this.es['cus_id'];
            this.esti['customer'] = this.es['cus_name'];
            this.esti['firstname'] = this.es['customer_name'];
        }
        if (this.navParams.get('empname') != undefined && this.navParams.get('empname') != '') {
            this.esti['emp_name'] = this.navParams.get('empname');
            this.esti['id_employee'] = this.navParams.get('empid');
            this.empData['emp_name'] = this.navParams.get('empname');
            this.empData['id_employee'] = this.navParams.get('empid');
        }
        if (this.navParams.get('bname') != undefined && this.navParams.get('bid') != '') {
            this.esti['branch_name'] = this.navParams.get('bname');
            this.esti['id_branch'] = this.navParams.get('bid');
            this.empData['branch_name'] = this.navParams.get('bname');
            this.empData['id_branch'] = this.navParams.get('bid');
            this.loggedInBranch = this.navParams.get('bid');
        }
        /*this.retail.getHomeStock({"type":"all", "searchTxt":"", "searchField":"", "id_branch":this.esti['id_branch']}).then(data=>{
          this.homeBillStock = data;
        })*/
        this.commonservice.getlist({ 'id_branch': this.empData['id_branch'], 'id_emp': this.empData['uid'] }).then(function (res) {
            _this.list = res['estdetails'];
            _this.content.resize();
        }, function (err) {
        });
        /*     this.commonservice.getlist({'id_branch':this.empData['id_branch'],'uid':this.empData['uid']}).then(res => {
    
              this.list = res['estdetails'];
              this.slist = res['estdetails'];
    
              loader.dismiss();
            },err=>{
              loader.dismiss();
            }); */
        this.retail.getAllStoneMaters({ "id_branch": this.esti['id_branch'] }).then(function (data) {
            _this.stoneMasData = data;
        });
        this.retail.getAllStoneTypes({ "id_branch": this.esti['id_branch'] }).then(function (data) {
            _this.stoneMasTypes = data;
        });
        this.commonservice.fin().then(function (res) {
            _this.fin = res;
            _this.tagData['fin_year'] = _this.fin.filter(function (data) { return data['fin_status'] == 1; })[0]['fin_year_code'];
        });
        this.event.subscribe('gift', function (gift) {
            _this.esti['chit_details'] = gift['fields'];
            _this.esti['cus_id'] = gift['idcus'];
            console.log(gift);
            _this.calcEstiSummary();
        });
        if (this.es == undefined) {
            this.openEstiBasicDetailModal();
        }
    }
    EstiPage_1 = EstiPage;
    EstiPage.prototype.ionViewDidLoad = function () {
        // this.retail.chooserate().then(data=>{
        //   // this.dates = data;
        //   // console.log(data);
        // });
        var _this = this;
        if (this.navParams.get('empname') != undefined && this.navParams.get('empname') != '') {
            this.esti['emp_name'] = this.navParams.get('empname');
            this.esti['id_employee'] = this.navParams.get('empid');
            this.empData['emp_name'] = this.navParams.get('empname');
            this.empData['id_employee'] = this.navParams.get('empid');
        }
        if (this.navParams.get('bname') != undefined && this.navParams.get('bid') != '') {
            this.esti['branch_name'] = this.navParams.get('bname');
            this.esti['id_branch'] = this.navParams.get('bid');
            this.empData['branch_name'] = this.navParams.get('bname');
            this.empData['id_branch'] = this.navParams.get('bid');
            this.loggedInBranch = this.navParams.get('bid');
        }
        console.log(this.loggedInBranch);
        console.log('000000000000000');
        if (this.page_type == "create") {
            var loader_1 = this.load.create({
                content: 'Please Wait',
                spinner: 'bubbles',
            });
            loader_1.present();
            // let loader2 = this.load.create({
            //   content: 'Please Wait',
            //   spinner: 'bubbles',
            // });
            // loader2.present();
            // let loader3 = this.load.create({
            //   content: 'Please Wait',
            //   spinner: 'bubbles',
            // });
            // loader3.present();
            // let loader4 = this.load.create({
            //   content: 'Please Wait',
            //   spinner: 'bubbles',
            // });
            // loader4.present();
            if ((this.loggedInBranch == 0 || this.loggedInBranch == '' || this.loggedInBranch == null) && this.empData['branch_settings'] == 1) {
                this.askBranch = 1;
                this.common.getbranch().then(function (data) {
                    _this.branches = data;
                    _this.events.publish('branch:loaded', true);
                    _this.dataCheckList['branch'] = true;
                    _this.common.getBranchEmployees(_this.empData['id_branch']).then(function (data) {
                        _this.employees = data;
                        // this.openEstiBasicDetailModal();
                        _this.events.publish('empData:loaded', true);
                        _this.dataCheckList['empData'] = true;
                        _this.empSelected();
                        _this.retail.getAllTaxGroupItems().then(function (data) {
                            _this.taxGroupItems = data;
                            _this.events.publish('taxGroup:loaded', true);
                            _this.dataCheckList['taxGroup'] = true;
                            _this.common.getCurrencyAndSettings({ "id_metalrates": _this.esti['choose'], "id_branch": _this.esti['id_branch'] }).then(function (data) {
                                _this.metalRate = data.metal_rates;
                                _this.settings = data.settings;
                                _this.ret_settings = data.ret_settings;
                                _this.events.publish('settings:loaded', true);
                                _this.events.publish('ret_settings:loaded', true);
                                _this.dataCheckList['settings'] = true;
                                loader_1.dismiss();
                                if (_this.navParams.get('ecat') != undefined) {
                                    _this.tagData['tag_code'] = _this.navParams.get('ecat');
                                    _this.esti['id_branch'] = _this.navParams.get('bcode');
                                    _this.getTagByID(_this.tagData['tag_code']);
                                }
                                console.log(283289);
                                _this.navParams.get('tag').forEach(function (element) {
                                    console.log(283289);
                                    element['actual_gross_wt'] = element['gross_wt'];
                                    element['actual_less_wt'] = element['less_wt'];
                                    element['actual_net_wt'] = element['net_wt'];
                                    element['charge_value'] = element['charge_value'];
                                    element['charges'] = element['charges'];
                                    element['checkwas'] = element['retail_max_wastage_percent'];
                                    element['metal_type'] = element['rate_field'];
                                    element['market_metal_type'] = element['market_rate_field'];
                                    var detail = { itemData: element, metalRate: _this.metalRate, tax_details: _this.taxGroupItems, item_type: "tag" };
                                    var tagItem = _this.retail.calculateSaleValue(detail);
                                    var t = {};
                                    t['item_data'] = tagItem;
                                    _this.from('tag', t, 'add');
                                });
                                _this.navParams.get('non_tag').forEach(function (element) {
                                    // if(element['calculation_based_on'] == 3){
                                    //   element['sales_value'] = element['taxable'];
                                    // }
                                    element['metal_type'] = element['rate_field'];
                                    element['market_metal_type'] = element['market_rate_field'];
                                    var detail = { itemData: element, metalRate: _this.metalRate, tax_details: _this.taxGroupItems, item_type: "non_tag" };
                                    var tagItem = _this.retail.calculateSaleValue(detail);
                                    var t = {};
                                    t['item_data'] = tagItem;
                                    console.log(283289);
                                    _this.from('non_tag', t, 'add');
                                });
                                _this.navParams.get('home_bill').forEach(function (element) {
                                    // if(element['calculation_based_on'] == 3){
                                    //   element['sales_value'] = element['taxable'];
                                    // }
                                    element['metal_type'] = element['rate_field'];
                                    element['market_metal_type'] = element['market_rate_field'];
                                    var detail = { itemData: element, metalRate: _this.metalRate, tax_details: _this.taxGroupItems, item_type: "home_bill" };
                                    var tagItem = _this.retail.calculateSaleValue(detail);
                                    var t = {};
                                    t['item_data'] = tagItem;
                                    console.log(283289);
                                    _this.from('home_bill', t, 'add');
                                });
                                _this.navParams.get('old_metal').forEach(function (element) {
                                    // element['rate'] = Math.round(Math.ceil(this.metalRate['goldrate_22ct'])) ;
                                    element['rate'] = parseFloat(element.id_old_metal_type == '1' ? _this.metalRate['goldrate_22ct'] : _this.metalRate['silverrate_1gm']);
                                    element['category'] = element['metal'];
                                    var net_wt = parseFloat(((element['gross_wt']) - (element['dust_wt']) - (element['stone_wt']) - (element['wastage_wt'])).toFixed(3));
                                    element['other_stone_price'] = element.hasOwnProperty('other_stone_price') ? element['other_stone_price'] : 0;
                                    element['amount'] = Math.round((net_wt * element['rate']) + (element['other_stone_price']));
                                    element['purpose'] = element['id_purpose'] == 1 ? 'Cash' : 'Exchange';
                                    var t = {};
                                    t['item_data'] = element;
                                    console.log(283289);
                                    _this.from('old_metal', t, 'add');
                                });
                            });
                        });
                    });
                });
            }
            else {
                this.esti['id_branch'] = this.loggedInBranch;
                this.estiDetail['id_branch'] = this.loggedInBranch;
                this.events.publish('branch:loaded', true);
                this.dataCheckList['branch'] = true;
                this.common.getBranchEmployees(this.empData['id_branch']).then(function (data) {
                    _this.employees = data;
                    // this.openEstiBasicDetailModal();
                    _this.events.publish('empData:loaded', true);
                    _this.dataCheckList['empData'] = true;
                    _this.empSelected();
                    _this.retail.getAllTaxGroupItems().then(function (data) {
                        _this.taxGroupItems = data;
                        _this.events.publish('taxGroup:loaded', true);
                        _this.dataCheckList['taxGroup'] = true;
                        _this.common.getCurrencyAndSettings({ "id_metalrates": _this.esti['choose'], "id_branch": _this.esti['id_branch'] }).then(function (data) {
                            _this.metalRate = data.metal_rates;
                            _this.settings = data.settings;
                            _this.ret_settings = data.ret_settings;
                            _this.events.publish('settings:loaded', true);
                            _this.events.publish('ret_settings:loaded', true);
                            _this.dataCheckList['settings'] = true;
                            loader_1.dismiss();
                            if (_this.navParams.get('ecat') != undefined) {
                                _this.tagData['tag_code'] = _this.navParams.get('ecat');
                                _this.esti['id_branch'] = _this.navParams.get('bcode');
                                _this.getTagByID(_this.tagData['tag_code']);
                            }
                            console.log(283289);
                            _this.navParams.get('tag').forEach(function (element) {
                                console.log(283289);
                                element['actual_gross_wt'] = element['gross_wt'];
                                element['actual_less_wt'] = element['less_wt'];
                                element['actual_net_wt'] = element['net_wt'];
                                element['charge_value'] = element['charge_value'];
                                element['charges'] = element['charges'];
                                element['checkwas'] = element['retail_max_wastage_percent'];
                                element['metal_type'] = element['rate_field'];
                                element['market_metal_type'] = element['market_rate_field'];
                                var detail = { itemData: element, metalRate: _this.metalRate, tax_details: _this.taxGroupItems, item_type: "tag" };
                                var tagItem = _this.retail.calculateSaleValue(detail);
                                var t = {};
                                t['item_data'] = tagItem;
                                _this.from('tag', t, 'add');
                            });
                            _this.navParams.get('non_tag').forEach(function (element) {
                                // if(element['calculation_based_on'] == 3){
                                //   element['sales_value'] = element['taxable'];
                                // }
                                element['metal_type'] = element['rate_field'];
                                element['market_metal_type'] = element['market_rate_field'];
                                var detail = { itemData: element, metalRate: _this.metalRate, tax_details: _this.taxGroupItems, item_type: "non_tag" };
                                var tagItem = _this.retail.calculateSaleValue(detail);
                                var t = {};
                                t['item_data'] = tagItem;
                                console.log(283289);
                                _this.from('non_tag', t, 'add');
                            });
                            _this.navParams.get('home_bill').forEach(function (element) {
                                // if(element['calculation_based_on'] == 3){
                                //   element['sales_value'] = element['taxable'];
                                // }
                                element['metal_type'] = element['rate_field'];
                                element['market_metal_type'] = element['market_rate_field'];
                                var detail = { itemData: element, metalRate: _this.metalRate, tax_details: _this.taxGroupItems, item_type: "home_bill" };
                                var tagItem = _this.retail.calculateSaleValue(detail);
                                var t = {};
                                t['item_data'] = tagItem;
                                console.log(283289);
                                _this.from('home_bill', t, 'add');
                            });
                            _this.navParams.get('old_metal').forEach(function (element) {
                                var detail = { itemData: element, metalRate: _this.metalRate, tax_details: _this.taxGroupItems, item_type: "old_metal" };
                                element['rate'] = parseFloat(element.id_old_metal_type == '1' ? _this.metalRate['goldrate_22ct'] : _this.metalRate['silverrate_1gm']);
                                var net_wt = parseFloat(((element['gross_wt']) - (element['dust_wt']) - (element['stone_wt']) - (element['wastage_wt'])).toFixed(3));
                                element['other_stone_price'] = element.hasOwnProperty('other_stone_price') ? element['other_stone_price'] : 0;
                                element['amount'] = Math.round((net_wt * element['rate']) + (element['other_stone_price']));
                                element['category'] = element['metal'];
                                element['purpose'] = element['id_purpose'] == 1 ? 'Cash' : 'Exchange';
                                // let tagItem = this.retail.calculateSaleValue(detail);
                                var t = {};
                                t['item_data'] = element;
                                console.log(283289);
                                _this.from('old_metal', t, 'add');
                            });
                        });
                    });
                });
            }
        }
    };
    /* for footer as hide in default. it's assigned in app.components.ts */
    // ionViewWillLeave(){
    //   this.events.publish( 'entered', false );
    //   }
    EstiPage.prototype.ionViewWillEnter = function () {
        this.events.publish('entered', true);
        this.events.publish('pageno', 1);
    };
    EstiPage.prototype.estiTypeChanged = function (ev) {
        var _this = this;
        var type = ev._value;
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        if (type != 'summary') {
            if ((this.stoneMasData).length == 0) {
                this.retail.getAllStoneMaters({ "id_branch": this.esti['id_branch'] }).then(function (data) {
                    _this.stoneMasData = data;
                    loader.dismiss();
                });
            }
            if (type == 'non_tag') {
                this.retail.getNonTagItems({ "id_branch": this.esti['id_branch'] }).then(function (data) {
                    _this.nonTagStock = data;
                    loader.dismiss();
                    console.log(_this.nonTagStock, 'jjjjjjjjjjj');
                    if (_this.esti[_this.esti_type].length == 0) {
                        _this.openItemAddModal(_this.esti_type, '', 'add');
                    }
                });
            }
            else if (type == 'home_bill') {
                this.retail.getNonTagItems({ "id_branch": this.esti['id_branch'] }).then(function (data) {
                    _this.nonTagStock = data;
                    //  loader.dismiss();
                    console.log(_this.nonTagStock, 'jjjjjjjjjjj');
                    //   this.openItemAddModal(this.esti_type, '', 'add');
                    if ((_this.purities).length == 0) {
                        _this.retail.getAllPurities("").then(function (data) {
                            _this.purities = data;
                            if ((_this.collections).length == 0 && _this.ret_settings['collections_required'] == 1) {
                                _this.retail.getCollections({ "type": "active", "last_id": -1 }).then(function (data) {
                                    _this.collections = data;
                                    loader.dismiss();
                                    if (_this.esti[_this.esti_type].length == 0) {
                                        _this.openItemAddModal(_this.esti_type, '', 'add');
                                    }
                                });
                            }
                            else {
                                loader.dismiss();
                                if (_this.esti[_this.esti_type].length == 0) {
                                    _this.openItemAddModal(_this.esti_type, '', 'add');
                                }
                            }
                            // loader.dismiss();
                        });
                    }
                    else {
                        // loader.dismiss();
                        if ((_this.collections).length == 0 && _this.ret_settings['collections_required'] == 1) {
                            _this.retail.getCollections({ "type": "active", "last_id": -1 }).then(function (data) {
                                _this.collections = data;
                                loader.dismiss();
                                if (_this.esti[_this.esti_type].length == 0) {
                                    _this.openItemAddModal(_this.esti_type, '', 'add');
                                }
                            });
                        }
                        else {
                            loader.dismiss();
                            if (_this.esti[_this.esti_type].length == 0) {
                                _this.openItemAddModal(_this.esti_type, '', 'add');
                            }
                        }
                    }
                });
            }
            else if (type == 'old_metal') {
                this.retail.getOldMetalType().then(function (data) {
                    _this.oldMetalTypes = data;
                    loader.dismiss();
                    if (_this.esti[_this.esti_type].length == 0) {
                        _this.openItemAddModal(_this.esti_type, '', 'add');
                    }
                });
            }
            else {
                loader.dismiss();
            }
        }
        else {
            loader.dismiss();
        }
        this.calcEstiSummary();
    };
    EstiPage.prototype.empSelected = function () {
        var _this = this;
        this.oldMetalCat = [];
        var emp = { "allowed_old_met_pur": "" };
        this.employees.forEach(function (e) {
            if (_this.esti['id_employee'] == e.id_employee) {
                emp = e;
            }
        });
        if (emp.allowed_old_met_pur != '') {
            var categories = emp.allowed_old_met_pur;
            var catArr = categories.split(",");
            catArr.forEach(function (cat) {
                var categoryArr = cat.split("-");
                _this.oldMetalCat.push({ "id_category": categoryArr[0], "cat_name": categoryArr[1] });
            });
        }
    };
    EstiPage.prototype.openEstiBasicDetailModal = function () {
        var _this = this;
        console.log('paggee', this.page_type);
        console.log(this.navParams.get('tit'));
        var data = { "askBranch": this.askBranch, employees: this.employees, selectedCusData: this.selectedCusData, esti: this.esti, branches: this.branches };
        console.log(data);
        // let modal = this.modal.create(EstiBasicDetailPage, data,{enableBackdropDismiss: false})
        // modal.present();
        // modal.onDidDismiss(data => {
        //   if(data != null){
        //     this.selectedCusData = data.selectedCusData;
        //     this.esti['cus_id'] = data.cus_id;
        //     this.esti['customer'] = data.customer;
        //     this.empSelected();
        //   }
        // });
        if (this.navParams.get('tit') != 'Print Estimation') {
            var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_13__modal_customer_customer__["a" /* CusSearchPage */], { 'show': 'true', 'first': this.esti['firstname'] });
            modal.present();
            modal.onDidDismiss(function (mData) {
                console.log(mData);
                if (mData != null) {
                    _this.selectedCusData = mData;
                    _this.esti['cus_id'] = mData['id_customer'];
                    _this.esti['customer'] = mData['label'];
                    _this.esti['firstname'] = mData['firstname'];
                    _this.esti['esti_for'] = mData['cus_type'] == 2 ? 3 : mData['cus_type'];
                    _this.empSelected();
                }
                else {
                }
            });
        }
    };
    EstiPage.prototype.check = function () {
        if (this.show == false) {
            this.show = true;
        }
        else {
            this.show = false;
        }
    };
    EstiPage.prototype.openItemAddModal = function (type, item, action) {
        var _this = this;
        var idx = -1;
        var estiData = [];
        if (action == 'edit') {
            estiData = item;
            idx = this.esti[type].indexOf(item);
            console.log(idx);
            console.log(item);
            console.log(this.esti);
            console.log(this.esti[type][idx]);
        }
        console.log(this.stoneMasTypes, 'ppppppppppp');
        var data = { type: type, action: action, ret_settings: this.ret_settings, esti: estiData, id_branch: this.esti['id_branch'], metal_rates: this.metalRate, taxGroupItems: this.taxGroupItems, nonTagStock: this.nonTagStock, homeBillStock: this.homeBillStock, purities: this.purities, collections: this.collections, oldMetalCat: this.oldMetalCat, stoneMasData: this.stoneMasData, oldMetalTypes: this.oldMetalTypes, stoneMasTypes: this.stoneMasTypes };
        console.log(data);
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_5__modal_add_esti_item_add_esti_item__["a" /* AddEstiItemPage */], data, { enableBackdropDismiss: false });
        modal.present();
        modal.onDidDismiss(function (data) {
            if (data != null) {
                if (data.item_data != null) {
                    // ADD
                    if (action == 'add') {
                        var addItem_1 = true;
                        if (type == "tag") {
                            _this.esti[type].forEach(function (item) {
                                if (item.tag_id == data.item_data.tag_id) {
                                    addItem_1 = false;
                                    _this.tagMsg = "";
                                    _this.tagErrorMsg = "Tag Already exist..";
                                    var toastMsg = _this.toast.create({
                                        message: _this.tagErrorMsg,
                                        duration: _this.common.toastTimeout,
                                        position: 'middle'
                                    });
                                    toastMsg.present();
                                    setTimeout(function () {
                                        _this.tagErrorMsg = "";
                                    }, _this.common.msgTimeout);
                                }
                            });
                        }
                        if (addItem_1) {
                            _this.esti[type].push(data.item_data);
                        }
                    }
                    // UPDATE
                    if (action == 'edit' && idx >= 0) {
                        // console.log(idx)
                        // console.log(this.esti[type][idx]);
                        // console.log(data.item_data);
                        console.log(data.item_data, 'data');
                        // data.item_data['tot_mc'] =data.item_data['mc_type'] == 1? data.item_data['mc_value']:data.item_data['mc_value'] * data.item_data['gross_wt'];
                        _this.esti[type][idx] = data.item_data;
                        _this.calculateTotals();
                    }
                }
                _this.calcEstiSummary();
                if (data.submitType == 'SN') {
                    _this.openItemAddModal(type, '', 'add');
                }
            }
            else if (action == 'edit' && idx >= 0) {
                console.log(estiData);
                _this.esti[type][idx] = estiData;
            }
            var y = Object.assign({}, _this.esti[type]);
            console.log(y);
            console.log(_this.esti[type]);
            if (action != 'edit') {
                _this.esti[type].reverse();
                console.log(_this.esti[type]);
            }
        });
    };
    EstiPage.prototype.colorchange = function (index) {
        if (this.esti['tag'][index]['is_partial'] == '0') {
            this.esti['tag'][index]['is_partial'] = '1';
        }
        else {
            this.esti['tag'][index]['is_partial'] = '0';
            this.esti['tag'][index]['gross_wt'] = this.esti['tag'][index]['actual_gross_wt'];
            this.esti['tag'][index]['less_wt'] = this.esti['tag'][index]['actual_less_wt'];
            this.esti['tag'][index]['net_wt'] = this.esti['tag'][index]['actual_net_wt'];
            var detail = { itemData: this.esti['tag'][index], metalRate: this.metalRate, tax_details: this.taxGroupItems, item_type: 'tag' };
            this.esti['tag'][index] = this.retail.calculateSaleValue(detail);
            this.calcEstiSummary();
        }
    };
    EstiPage.prototype.colorchangehome = function (index) {
        if (this.esti['home_bill'][index]['is_partly_sold'] == '0') {
            this.esti['home_bill'][index]['is_partly_sold'] = '1';
        }
        else {
            this.esti['home_bill'][index]['is_partly_sold'] = '0';
            this.esti['home_bill'][index]['gross_wt'] = this.esti['home_bill'][index]['actual_gross_wt'];
            this.esti['home_bill'][index]['less_wt'] = this.esti['home_bill'][index]['actual_less_wt'];
            this.esti['home_bill'][index]['net_wt'] = this.esti['home_bill'][index]['actual_net_wt'];
            var detail = { itemData: this.esti['home_bill'][index], metalRate: this.metalRate, tax_details: this.taxGroupItems, item_type: 'home_bill' };
            this.esti['home_bill'][index] = this.retail.calculateSaleValue(detail);
            this.calcEstiSummary();
        }
    };
    EstiPage.prototype.calcSaleValue = function (index) {
        var _this = this;
        console.log(this.esti['tag'][index]);
        // console.log(this.esti['tag'][index]['gross_wt'],'gross');
        if (parseFloat(this.esti['tag'][index]['gross_wt']) > parseFloat(this.esti['tag'][index]['actual_gross_wt'])) {
            this.esti['tag'][index]['gross_wt'] = this.esti['tag'][index]['actual_gross_wt'];
            console.log(this.esti['tag'][index]['gross_wt'], 'gross');
        }
        if (parseFloat(this.esti['tag'][index]['gross_wt']) < parseFloat(this.esti['tag'][index]['actual_less_wt'])) {
            this.esti['tag'][index]['gross_wt'] = this.esti['tag'][index]['actual_less_wt'];
            console.log(this.esti['tag'][index]['gross_wt'], 'gross');
        }
        if (parseFloat(this.esti['tag'][index]['less_wt']) > parseFloat(this.esti['tag'][index]['actual_less_wt'])) {
            this.esti['tag'][index]['less_wt'] = this.esti['tag'][index]['actual_less_wt'];
        }
        // this.checking(index)
        // if(this.esti_type == 'tag'){
        if (parseFloat(this.esti['tag'][index]['gross_wt']) <= parseFloat(this.esti['tag'][index]['actual_gross_wt']) && parseFloat(this.esti['tag'][index]['net_wt']) <= parseFloat(this.esti['tag'][index]['actual_net_wt']) && parseFloat(this.esti['tag'][index]['less_wt']) >= parseFloat(this.esti['tag'][index]['actual_less_wt'])) {
            this.esti['tag'][index]['net_wt'] = this.esti['tag'][index]['gross_wt'] - this.esti['tag'][index]['less_wt'];
            var detail = { itemData: this.esti['tag'][index], metalRate: this.metalRate, tax_details: this.taxGroupItems, item_type: 'tag' };
            this.esti['tag'][index] = this.retail.calculateSaleValue(detail);
            this.calcEstiSummary();
        }
        else {
            this.tagErrorMsg = "Entered weight greater than tag weight";
            // this.esti['tag'][index]['gross_wt']  = this.esti['tag'][index]['actual_gross_wt'] ;
            // this.esti['tag'][index]['less_wt']   = this.esti['tag'][index]['actual_less_wt'];
            // this.esti['tag'][index]['net_wt']    = this.esti['tag'][index]['actual_net_wt'];
            // Alert Message Timeout
            setTimeout(function () {
                _this.tagErrorMsg = "";
            }, this.common.msgTimeout);
        }
        // }
        // else if(this.item_type == 'non_tag'){
        //   let stData = this.calcStoneDetail();
        //   this.ntData['stone_wt'] = stData['stone_wt'];
        //   this.ntData['stone_price'] = stData['stone_price'];
        //   if(parseFloat(this.ntData['gross_wt']) > parseFloat(this.selectedNTStock['gross_wt'])){
        //     this.ntData['gross_wt'] = this.selectedNTStock['gross_wt'];
        //   }
        //   if(parseFloat(this.ntData['less_wt']) > parseFloat(this.selectedNTStock['less_wt'])){
        //     this.ntData['less_wt'] = this.retail.setAsNumber(this.selectedNTStock['less_wt']);
        //   }
        //   if(parseFloat(this.ntData['piece']) > parseFloat(this.selectedNTStock['piece'])){
        //     this.ntData['piece'] = this.selectedNTStock['piece'];
        //   }
        //   this.ntData['net_wt']    = parseFloat(this.ntData['gross_wt']) - this.retail.setAsNumber(this.ntData['less_wt']);
        //   let detail = {itemData : this.ntData, metalRate : this.metalRate, tax_details : this.tax_details, item_type : this.item_type};
        //   this.ntData = this.retail.calculateSaleValue(detail);
        // }
        // else if(this.esti_type == 'home_bill'){
        //   let stData = this.calcStoneDetail();
        //   this.esti['home_bill'][index]['stone_wt'] = stData['stone_wt'];
        //   this.esti['home_bill'][index]['stone_price'] = stData['stone_price'];
        //   if(this.esti['home_bill'][index]['is_partly_sold'] == 1){
        //     if(parseFloat(this.esti['home_bill'][index]['gross_wt']) > parseFloat(this.esti['home_bill'][index]['stock_gross_wt'])){
        //       this.esti['home_bill'][index]['gross_wt'] = this.retail.setAsNumber(this.esti['home_bill'][index]['stock_gross_wt']);
        //     }
        //     if(parseFloat(this.esti['home_bill'][index]['less_wt']) > parseFloat(this.esti['home_bill'][index]['stock_less_wt'])){
        //       this.esti['home_bill'][index]['less_wt'] = this.retail.setAsNumber(this.esti['home_bill'][index]['stock_less_wt']);
        //     }
        //   }
        //   this.esti['home_bill'][index]['net_wt'] = parseFloat(this.esti['home_bill'][index]['gross_wt']) - this.retail.setAsNumber(this.esti['home_bill'][index]['less_wt']);
        //   let detail = {itemData : this.esti['home_bill'][index], metalRate : this.metalRate, tax_details : this.taxGroupItems, item_type : this.esti_type};
        //   this.esti['home_bill'][index] = this.retail.calculateSaleValue(detail);
        // }
    };
    EstiPage.prototype.calcSaleValuehome = function (index) {
        // let stData = this.calcStoneDetail();
        // this.esti['home_bill'][index]['stone_wt'] = stData['stone_wt'];
        // this.esti['home_bill'][index]['stone_price'] = stData['stone_price'];
        if (this.esti['home_bill'][index]['is_partly_sold'] == 1) {
            if (parseFloat(this.esti['home_bill'][index]['gross_wt']) > parseFloat(this.esti['home_bill'][index]['stock_gross_wt'])) {
                this.esti['home_bill'][index]['gross_wt'] = this.retail.setAsNumber(this.esti['home_bill'][index]['stock_gross_wt']);
            }
            if (parseFloat(this.esti['home_bill'][index]['less_wt']) > parseFloat(this.esti['home_bill'][index]['stock_less_wt'])) {
                this.esti['home_bill'][index]['less_wt'] = this.retail.setAsNumber(this.esti['home_bill'][index]['stock_less_wt']);
            }
        }
        this.esti['home_bill'][index]['net_wt'] = parseFloat(this.esti['home_bill'][index]['gross_wt']) - this.retail.setAsNumber(this.esti['home_bill'][index]['less_wt']);
        var detail = { itemData: this.esti['home_bill'][index], metalRate: this.metalRate, tax_details: this.taxGroupItems, item_type: this.esti_type };
        this.esti['home_bill'][index] = this.retail.calculateSaleValue(detail);
    };
    EstiPage.prototype.calcEstiSummary = function () {
        var _this = this;
        console.log(this.esti);
        this.tot_sale_wgt = 0;
        this.tot_sale_rate = 0;
        this.tot_purch_wgt = 0;
        this.tot_purch_rate = 0;
        this.tot_charge = 0;
        this.tot_incen = 0;
        this.esti['tag'].forEach(function (tag) {
            _this.tot_sale_wgt = Number(_this.tot_sale_wgt) + Number(tag.net_wt);
            _this.tot_charge = Number(_this.tot_charge) + Number(tag.charge_value);
            _this.tot_sale_rate = Number(_this.tot_sale_rate) + Number(tag.sales_value);
        });
        this.esti['tag'].forEach(function (tag) {
            _this.tot_incen = Number(_this.tot_incen) + Number(tag.incentive);
        });
        this.esti['non_tag'].forEach(function (non_tag) {
            _this.tot_sale_wgt = Number(_this.tot_sale_wgt) + Number(non_tag.net_wt);
            _this.tot_sale_rate = Number(_this.tot_sale_rate) + Number(non_tag.sales_value);
        });
        this.esti['home_bill'].forEach(function (home_bill) {
            _this.tot_sale_wgt = Number(_this.tot_sale_wgt) + Number(home_bill.net_wt);
            _this.tot_sale_rate = Number(_this.tot_sale_rate) + Number(home_bill.sales_value);
        });
        this.esti['old_metal'].forEach(function (old_metal) {
            _this.tot_purch_wgt = Number(_this.tot_purch_wgt) + Number(old_metal.net_wt);
            _this.tot_purch_rate = Number(_this.tot_purch_rate) + Number(old_metal.amount);
        });
        this.tot_gift_rate = 0;
        this.esti['chit_details'].forEach(function (gift) {
            _this.tot_gift_rate = Number(_this.tot_gift_rate) + Number(gift.slip_amt);
        });
        this.total_esti_value = Number(this.tot_sale_rate) - Number(this.tot_purch_rate) - Number(this.advance) - Number(this.tot_gift_rate);
    };
    /*openBarcodeScanner(){
      this.barcodeScanner.scan().then(barcodeData => {
        if(barcodeData){
          console.log(barcodeData);
          this.getTagByID(barcodeData);
        }
       }).catch(err => {
           console.log('Error', err);
       });
    }*/
    EstiPage.prototype.closeScanner = function () {
        this.scannerOn = false;
        // this.scanSub.unsubscribe();
        // this.qrScanner.hide().then();
        // this.qrScanner.destroy().then();
    };
    EstiPage.prototype.openQRScanner = function () {
        var _this = this;
        this.scannerOn = true;
        console.log("QR Scanner");
        this.barcodeScanner.scan().then(function (barcodeData) {
            _this.scannerOn = false;
            if (barcodeData['text'] != '') {
                var text1 = barcodeData['text'];
                var text2 = text1.replace(/ /g, "");
                console.log(text2);
                _this.getTagByID(text2);
            }
            // // Optionally request the permission early
            // this.qrScanner.prepare()
            // .then((status: QRScannerStatus) => {
            //   console.log("Then");
            //   if (status.authorized) {
            //     console.log("authorized");
            //     // start scanning
            //     this.scannerOn = true;
            //     this.qrScanner.show().then();
            //     this.scanSub = this.qrScanner.scan().subscribe((text: string) => {
            //       console.log('Scanned something', text);
            //       // Hide and unsubscribe from scanner
            //       this.qrScanner.hide().then();
            //       this.qrScanner.destroy().then();
            //       this.scanSub.unsubscribe();
            //       this.scannerOn = false;
            //       if(text != ''){
            //         this.getTagByID(text);
            //       }
            //     });
            //   }
            //   else if (status.denied) {
            //     console.log("camera permission was permanently denied");
            //     // camera permission was permanently denied
            //     // you must use QRScanner.openSettings() method to guide the user to the settings page
            //     // then they can grant the permission from there
            //     this.qrScanner.openSettings();
            //   }
            //   else {
            //     console.log("Camera Access permission denied. Kindly enable to Scan QR");
            //     // permission was denied, but not permanently. You can ask for permission again at a later time.
            //     alert('Camera Access permission denied. Kindly enable to Scan QR.');
            //   }
            // })
            // .catch((e: any) => console.log('Error is', e));
        }, function (err) {
            _this.scannerOn = false;
            console.log(err);
        });
    };
    EstiPage.prototype.getTagByID = function (tagData) {
        var _this = this;
        this.showr = false;
        if (tagData != '') {
            var istagId = (tagData.search("/") > 0 ? true : false);
            // var isTagCode = (tagData.search("-") > 0 ? true : false);
            var isTagCode = ((tagData.search("-") > 0 || tagData.search("-") < 0) ? true : false);
            if (istagId) {
                var tId = tagData.split("/");
                var searchTxt = (tId.length >= 2 ? tId[0] : "");
                var searchField = this.checkold == true ? "old_tag_id" : "tag_id";
            }
            else if (isTagCode) {
                var searchTxt = tagData;
                var searchField = this.checkold == true ? "old_tag_id" : "tag_code";
            }
            else if (this.checkold) {
                var searchTxt = tagData;
                var searchField = "old_tag_id";
            }
            // Search Tag
            var loader_2 = this.load.create({
                content: 'Please Wait',
                spinner: 'bubbles',
            });
            loader_2.present();
            var postData = { "searchTxt": searchTxt, "searchField": searchField, "id_branch": this.esti['id_branch'] };
            this.retail.getTagData(postData).then(function (data) {
                if (data.status) {
                    _this.tagMsg = data.msg;
                    _this.tagErrorMsg = "";
                    var toastMsg = _this.toast.create({
                        message: _this.tagMsg,
                        duration: _this.common.toastTimeout,
                        position: 'middle'
                    });
                    toastMsg.present();
                    setTimeout(function () {
                        _this.tagMsg = "";
                    }, _this.common.msgTimeout);
                    data.tagData['actual_gross_wt'] = data.tagData['gross_wt'];
                    data.tagData['actual_net_wt'] = data.tagData['net_wt'];
                    data.tagData['charge_value'] = data.tagData['charge_value'];
                    data.tagData['charges'] = data.tagData['charges'];
                    data.tagData['checkwas'] = data.tagData['retail_max_wastage_percent'];
                    data.tagData['searchTxt'] = searchTxt; // krish - 31.08.23
                    data.tagData['searchField'] = searchField; // krish - 31.08.23
                    data.tagData['metalratec'] = data.tagData['calculation_based_on'] == 4 ? 'true' : 'false';
                    // data.tagData['tot_mc'] =  data.tagData['mc_type'] == 1? data.tagData['mc_value'] : data.tagData['mc_value'] * data.tagData['gross_wt'];
                    // console.log( data.tagData['tot_mc'],'total mc value');
                    if (data.tagData['stone_details'] && data.tagData['stone_details'].length > 0) {
                        // reset before summing
                        data.tagData['less_wt'] = 0;
                        data.tagData['stone_price'] = 0;
                        data.tagData['stone_details'].forEach(function (element) {
                            var wt = parseFloat(element['wt']) || 0; // ensure number
                            if (element['is_apply_in_lwt'] == '1') {
                                if (element['uom_id'] == '6') {
                                    wt = wt / 5;
                                    // element['wt'] = wt.toString(); // keep as string if needed
                                }
                                data.tagData['less_wt'] = parseFloat((data.tagData['less_wt'] + wt).toFixed(3)); // proper numeric addition
                            }
                            _this.tag_stoneamount_calc(element);
                            var amt = parseFloat(element['amount']) || 0; // ensure number
                            data.tagData['stone_price'] = parseFloat((data.tagData['stone_price'] + amt).toFixed(3)); // proper numeric addition
                        });
                    }
                    // Other Metal Calculation  : 
                    data.tagData['other_metal_total_price'] = 0;
                    if (data.tagData['othermetal_details'] && data.tagData['othermetal_details'].length > 0) {
                        data.tagData['othermetal_details'].forEach(function (om) {
                            // Convert safely
                            var net_wt = parseFloat(om.tag_other_itm_grs_weight) || 0;
                            var wastage_perc = parseFloat(om.tag_other_itm_wastage) || 0;
                            var mc_type = parseInt(om.tag_other_itm_cal_type) || 0;
                            var making_charge = parseFloat(om.tag_other_itm_mc) || 0;
                            var rate_per_gram = parseFloat(om.tag_other_itm_rate) || 0;
                            // Calculate wastage weight
                            var wast_wt = (net_wt * wastage_perc) / 100;
                            // MC value  if per gram  multiply, if per piece  take directly
                            var mc_value = mc_type === 1 ? net_wt * making_charge :
                                mc_type === 2 ? making_charge : 0;
                            // Total
                            var total_amount = (rate_per_gram * (net_wt + wast_wt) + mc_value);
                            data.tagData['other_metal_total_price'] += total_amount;
                        });
                    }
                    console.log(data.tagData['less_wt'], 'less wt');
                    console.log(data.tagData['stone_price'], 'stone price');
                    data.tagData['actual_less_wt'] = data.tagData['less_wt'];
                    console.log(data.tagData);
                    var detail = { itemData: data.tagData, metalRate: _this.metalRate, tax_details: _this.taxGroupItems, item_type: "tag" };
                    var tagItem_1 = _this.retail.calculateSaleValue(detail);
                    var addItem_2 = true;
                    _this.esti['tag'].forEach(function (item) {
                        if (item.tag_id == tagItem_1.tag_id) {
                            _this.tagMsg = "";
                            addItem_2 = false;
                            _this.tagErrorMsg = "Tag Already exist..";
                            var toastMsg_1 = _this.toast.create({
                                message: _this.tagErrorMsg,
                                duration: _this.common.toastTimeout,
                                position: 'middle'
                            });
                            toastMsg_1.present();
                            setTimeout(function () {
                                _this.tagErrorMsg = "";
                            }, _this.common.msgTimeout);
                        }
                    });
                    if (addItem_2) {
                        _this.esti['is_tag'] = true;
                        _this.esti['tag'].push(tagItem_1);
                        //  Now recalc totals after adding item
                        _this.calculateTotals();
                    }
                    var y = Object.assign({}, _this.esti['tag']);
                    console.log('yyyyyyyyyyyy : ', y);
                    localStorage.removeItem('actualTag');
                    console.log('clear : ', JSON.parse(localStorage.getItem('actualTag')));
                    localStorage.setItem('actualTag', JSON.stringify(y));
                    console.log('clear 1 : ', JSON.parse(localStorage.getItem('actualTag')));
                    _this.esti['tag'].reverse();
                    console.log(_this.esti['tag']);
                    _this.tagData['tag_code'] = '';
                    _this.tagData['tag_code1'] = '';
                    _this.tagData['tag_code2'] = '';
                }
                else {
                    _this.tagMsg = "";
                    _this.tagErrorMsg = data.msg;
                    var toastMsg = _this.toast.create({
                        message: _this.tagErrorMsg,
                        duration: _this.common.toastTimeout,
                        position: 'middle'
                    });
                    toastMsg.present();
                    setTimeout(function () {
                        _this.tagErrorMsg = "";
                    }, _this.common.msgTimeout);
                }
                loader_2.dismiss();
            });
        }
    };
    EstiPage.prototype.calculateTotals = function () {
        var _this = this;
        //  Reset fields
        this.totalPieces = 0;
        this.totalGwt = 0;
        this.totalNwt = 0;
        this.totalTaxable = 0;
        this.totalGST = 0;
        this.totalStoneWt = 0;
        this.totalStoneAmount = 0;
        this.totalDiaWt = 0;
        this.totalDiaAmount = 0;
        //  Loop through each tag item
        this.esti['tag'].forEach(function (item) {
            _this.totalPieces += Number(item.piece) || 0;
            _this.totalGwt += Number(item.gross_wt) || 0;
            _this.totalNwt += Number(item.net_wt) || 0;
            _this.totalTaxable += Number(item.taxable) || 0;
            //  Add GST
            _this.totalGST += Number(item.tax_price) || 0;
            //  Stone Details
            if (item.stone_details && item.stone_details.length > 0) {
                item.stone_details.forEach(function (st) {
                    if (st.stone_type == 1) {
                        _this.totalDiaWt += Number(st.wt) || 0;
                        _this.totalDiaAmount += Number(st.amount) || 0;
                    }
                    else {
                        //  Stone Weight
                        _this.totalStoneWt += Number(st.wt) || 0;
                        //  Stone Amount
                        _this.totalStoneAmount += Number(st.amount) || 0;
                    }
                });
            }
        });
        //  Fix decimals
        this.totalGwt = Number(this.totalGwt.toFixed(3));
        this.totalNwt = Number(this.totalNwt.toFixed(3));
        this.totalTaxable = Number(this.totalTaxable.toFixed(2));
        this.totalGST = Number(this.totalGST.toFixed(2));
        this.totalStoneWt = Number(this.totalStoneWt.toFixed(3)); //  NEW rounding
        this.totalStoneAmount = Number(this.totalStoneAmount.toFixed(2));
        //  Invoice Value = taxable + gst
        this.invoiceValue = Number((this.totalTaxable + this.totalGST).toFixed(2));
        //  Net Total = round(invoice value)
        this.netTotal = Math.round(this.invoiceValue);
    };
    EstiPage.prototype.tag_stoneamount_calc = function (data) {
        if (data["stone_cal_type"] == "2") {
            data["amount"] = (data["pieces"] * data["rate_per_gram"]).toFixed(3);
        }
        else if (data["stone_cal_type"] == "1") {
            data["amount"] = (data["wt"] * data["rate_per_gram"]).toFixed(3);
        }
    };
    EstiPage.prototype.getorderByID = function (tagData) {
        var _this = this;
        this.esti['tag'] = [];
        // if(tagData != ''){
        //  var istagId = (tagData.search("/") > 0 ? true : false);
        //  var isTagCode = (tagData.search("-") > 0 ? true : false);
        //  if(istagId){
        //    var tId   = tagData.split("/");
        //    var searchTxt = (tId.length >= 2 ? tId[0] : "");
        //    var searchField  = this.checkold == true ? "old_tag_id" : "tag_id";
        //  }
        //  else if(isTagCode){
        //    var searchTxt = tagData;
        //    var searchField  = this.checkold == true ? "old_tag_id" : "tag_code";
        //  }
        // Search Tag
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        var postData = { 'ratetype': this.tagData['taged'], "fin_year": this.tagData['fin_year'], "searchTxt": tagData, "searchField": 'order_id', "id_branch": this.esti['id_branch'] };
        console.log(postData, 'post data');
        this.retail.getorderData(postData).then(function (data) {
            if (data.status) {
                _this.tagData['taged'] = data.rate_type;
                console.log(data['tagData']);
                data['tagData'].forEach(function (element, i) {
                    if (i == data['tagData'].length - 1) {
                        _this.tagMsg = data.msg;
                        _this.tagErrorMsg = "";
                        var toastMsg = _this.toast.create({
                            message: _this.tagMsg,
                            duration: _this.common.toastTimeout,
                            position: 'middle'
                        });
                        toastMsg.present();
                        setTimeout(function () {
                            _this.tagMsg = "";
                        }, _this.common.msgTimeout);
                    }
                    element['actual_gross_wt'] = element['gross_wt'];
                    element['actual_less_wt'] = element['less_wt'];
                    element['actual_net_wt'] = element['net_wt'];
                    element['charge_value'] = element['charge_value'];
                    element['charges'] = element['charges'];
                    element['checkwas'] = element['retail_max_wastage_percent'];
                    element['metalratec'] = _this.tagData['taged'] == 1 ? 'true' : 'false';
                    element['rate_per'] = element['order_rate'];
                    if (element['stone_details'] && element['stone_details'].length > 0) {
                        // reset before summing
                        element['less_wt'] = 0;
                        element['stone_price'] = 0;
                        element['stone_details'].forEach(function (data) {
                            var wt = parseFloat(data['wt']) || 0; // ensure number
                            if (data['is_apply_in_lwt'] == '1') {
                                if (data['uom_id'] == '6') {
                                    wt = wt / 5;
                                    // data['wt'] = wt.toString(); // keep as string if needed
                                }
                                element['less_wt'] = parseFloat((element['less_wt'] + wt).toFixed(3)); // proper numeric addition
                            }
                            _this.tag_stoneamount_calc(data);
                            var amt = parseFloat(data['amount']) || 0; // ensure number
                            element['stone_price'] = parseFloat((element['stone_price'] + amt).toFixed(3)); // proper numeric addition
                        });
                    }
                    console.log(element['less_wt'], 'less wt');
                    console.log(element['stone_price'], 'stone price');
                    _this.esti['cus_id'] = element['id_customer'];
                    _this.esti['customer'] = element['cus_label'];
                    _this.esti['firstname'] = element['firstname'];
                    var detail = { itemData: element, metalRate: _this.metalRate, tax_details: _this.taxGroupItems, item_type: "tag" };
                    var tagItem = _this.retail.calculateSaleValue(detail);
                    var addItem = true;
                    _this.esti['tag'].forEach(function (item) {
                        if (item.tag_id == tagItem.tag_id) {
                            _this.tagMsg = "";
                            addItem = false;
                            _this.tagErrorMsg = "Tag Already exist..";
                            var toastMsg = _this.toast.create({
                                message: _this.tagErrorMsg,
                                duration: _this.common.toastTimeout,
                                position: 'middle'
                            });
                            toastMsg.present();
                            setTimeout(function () {
                                _this.tagErrorMsg = "";
                            }, _this.common.msgTimeout);
                        }
                    });
                    if (addItem) {
                        _this.esti['is_tag'] = true;
                        _this.esti['tag'].push(tagItem);
                    }
                    var y = Object.assign({}, _this.esti['tag']);
                    console.log(y);
                    // this.esti['tag'].forEach(item => {
                    // item['tot_mc'] = item['mc_type'] == 1? item['mc_value']: item['mc_value'] * item['gross_wt'];
                    //   console.log(item['tot_mc'],'value');
                    // })
                    _this.esti['tag'].reverse();
                    console.log(_this.esti['tag']);
                });
                if (data.hasOwnProperty('advance_amount')) {
                    _this.advance = data['advance_amount'];
                }
                _this.showr = true;
            }
            else {
                _this.tagMsg = "";
                _this.tagErrorMsg = data.msg;
                var toastMsg = _this.toast.create({
                    message: _this.tagErrorMsg,
                    duration: _this.common.toastTimeout,
                    position: 'middle'
                });
                toastMsg.present();
                setTimeout(function () {
                    _this.tagErrorMsg = "";
                }, _this.common.msgTimeout);
            }
            loader.dismiss();
        });
        // }
    };
    EstiPage.prototype.deleteItem = function (item_type, idx) {
        var _this = this;
        console.log(this.esti[item_type]);
        console.log(idx);
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        if (item_type == 'tag') {
            this.esti[item_type].splice(idx, 1);
            this.calculateTotals();
            this.tagErrorMsg = "";
            this.tagMsg = "Tag removed from estimation..";
            var toastMsg = this.toast.create({
                message: this.tagMsg,
                duration: this.common.toastTimeout,
                position: 'middle'
            });
            toastMsg.present();
            setTimeout(function () {
                _this.tagMsg = "";
            }, this.common.msgTimeout);
        }
        if (item_type == 'non_tag') {
            this.esti[item_type].splice(idx, 1);
            this.ntErrorMsg = "";
            this.ntMsg = "Non-Tag item removed from estimation..";
            setTimeout(function () {
                _this.ntMsg = "";
            }, this.common.msgTimeout);
        }
        if (item_type == 'home_bill') {
            this.esti[item_type].splice(idx, 1);
            this.hbErrorMsg = "";
            this.hbMsg = "Home Bill item removed from estimation..";
            var toastMsg = this.toast.create({
                message: this.hbMsg,
                duration: this.common.toastTimeout,
                position: 'middle'
            });
            toastMsg.present();
            setTimeout(function () {
                _this.hbMsg = "";
            }, this.common.msgTimeout);
        }
        if (item_type == 'old_metal') {
            this.esti[item_type].splice(idx, 1);
            this.omErrorMsg = "";
            this.ombMsg = "Old Metal item removed from estimation..";
            var toastMsg = this.toast.create({
                message: this.ombMsg,
                duration: this.common.toastTimeout,
                position: 'middle'
            });
            toastMsg.present();
            setTimeout(function () {
                _this.ombMsg = "";
            }, this.common.msgTimeout);
        }
        this.calcEstiSummary();
        loader.dismiss();
    };
    EstiPage.prototype.chooseemp = function (i) {
        var _this = this;
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_17__modal_employee_employee__["a" /* EmpSearchPage */], { "empData": this.employees });
        modal.present();
        modal.onDidDismiss(function (data) {
            if (data != null) {
                _this.esti[_this.esti_type][i]['emp_name'] = data.emp_name;
                _this.esti[_this.esti_type][i]['id_employee'] = data.id_employee;
                console.log(_this.esti[_this.esti_type][i]['id_employee']);
            }
        });
    };
    /*   createEsti() {
        if (this.esti['cus_id'] == '' || this.esti['id_employee'] == '' || this.esti['id_branch'] == '') {
    
          let modal = this.modal.create(CusSearchPage, { 'show': 'true', 'first': this.esti['firstname'] })
          modal.present();
          modal.onDidDismiss(mData => {
            console.log(mData)
            if (mData != null) {
    
              this.esti['cus_id'] = mData['id_customer'];
              this.esti['customer'] = mData['label'];
              this.esti['firstname'] = mData['firstname'];
    
              this.createEstisubmit();
    
            } else {
    
            }
          });
        }
        else {
          this.createEstisubmit();
    
        }
    
      } */
    EstiPage.prototype.createEsti = function () {
        var _this = this;
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_17__modal_employee_employee__["a" /* EmpSearchPage */], { "empData": this.employees });
        modal.present();
        modal.onDidDismiss(function (data) {
            if (data != null) {
                _this.esti['id_employee'] = data.id_employee;
                _this.esti['emp_name'] = data.emp_name;
                if (_this.esti['cus_id'] == '' || _this.esti['id_employee'] == '' || _this.esti['id_branch'] == '') {
                    var modal_1 = _this.modal.create(__WEBPACK_IMPORTED_MODULE_13__modal_customer_customer__["a" /* CusSearchPage */], { 'show': 'true', 'first': _this.esti['firstname'] });
                    modal_1.present();
                    modal_1.onDidDismiss(function (mData) {
                        console.log(mData);
                        if (mData != null) {
                            _this.esti['cus_id'] = mData['id_customer'];
                            _this.esti['customer'] = mData['label'];
                            _this.esti['firstname'] = mData['firstname'];
                            _this.esti['esti_for'] = mData['cus_type'] == 2 ? 3 : mData['cus_type'];
                            _this.createEstisubmit();
                        }
                        else {
                        }
                    });
                }
                else {
                    _this.createEstisubmit();
                }
            }
        });
    };
    // createEstiprint() {
    //   if (this.esti['cus_id'] == '' || this.esti['id_employee'] == '' || this.esti['id_branch'] == '') {
    //     let modal = this.modal.create(CusSearchPage, { 'show': 'true', 'first': this.esti['firstname'] })
    //     modal.present();
    //     modal.onDidDismiss(mData => {
    //       console.log(mData)
    //       if (mData != null) {
    //         this.esti['cus_id'] = mData['id_customer'];
    //         this.esti['customer'] = mData['label'];
    //         this.esti['firstname'] = mData['firstname'];
    //         this.createEstisubmitprint();
    //       } else {
    //       }
    //     });
    //   }
    //   else {
    //     this.createEstisubmitprint();
    //   }
    // }
    EstiPage.prototype.createEstiprint = function () {
        var _this = this;
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_17__modal_employee_employee__["a" /* EmpSearchPage */], { "empData": this.employees });
        modal.present();
        modal.onDidDismiss(function (data) {
            if (data != null) {
                _this.esti['id_employee'] = data.id_employee;
                _this.esti['emp_name'] = data.emp_name;
                if (_this.esti['cus_id'] == '' || _this.esti['id_employee'] == '' || _this.esti['id_branch'] == '') {
                    var modal_2 = _this.modal.create(__WEBPACK_IMPORTED_MODULE_13__modal_customer_customer__["a" /* CusSearchPage */], { 'show': 'true', 'first': _this.esti['firstname'] });
                    modal_2.present();
                    modal_2.onDidDismiss(function (mData) {
                        console.log(mData);
                        if (mData != null) {
                            _this.esti['cus_id'] = mData['id_customer'];
                            _this.esti['customer'] = mData['label'];
                            _this.esti['firstname'] = mData['firstname'];
                            _this.createEstisubmitprint();
                        }
                        else {
                        }
                    });
                }
                else {
                    _this.createEstisubmitprint();
                }
            }
        });
    };
    EstiPage.prototype.createEstisubmitprint = function () {
        var _this = this;
        this.esti['is_tag'] = ((this.esti['tag']).length > 0 ? true : false);
        this.esti['is_non_tag'] = ((this.esti['non_tag']).length > 0 ? true : false);
        this.esti['is_home_bill'] = ((this.esti['home_bill']).length > 0 ? true : false);
        this.esti['is_old_metal'] = ((this.esti['old_metal']).length > 0 ? true : false);
        console.log(this.esti);
        // Validate Postdata
        if (this.esti['cus_id'] == '' || this.esti['id_employee'] == '' || this.esti['id_branch'] == '') {
            var toastMsg = this.toast.create({
                message: "Please fill required fields",
                duration: this.common.toastTimeout,
                position: 'middle'
            });
            toastMsg.present();
        }
        else if (this.esti['is_tag'] || this.esti['is_non_tag'] || this.esti['is_home_bill'] || this.esti['is_old_metal']) {
            if (this.esti['tag'] || this.esti['non_tag'] || this.esti['home_bill'] || this.esti['old_metal']) {
                var loader_3 = this.load.create({
                    content: 'Please Wait',
                    spinner: 'bubbles',
                });
                loader_3.present();
                this.esti['type'] = 1;
                this.esti['total_cost'] = this.total_esti_value;
                this.retail.createEstimation(this.esti).then(function (data) {
                    if (data.status) {
                        data['cus_id'] = _this.esti['cus_id'];
                        data['id_employee'] = _this.esti['id_employee'];
                        data['id_branch'] = _this.esti['id_branch'];
                        var modal = _this.modal.create(__WEBPACK_IMPORTED_MODULE_16__write_review_write_review__["a" /* WriteReviewPage */], { 'data': data }, {
                            cssClass: "my-modal"
                        });
                        modal.present();
                        modal.onDidDismiss(function (mData) {
                            _this.tot_sale_wgt = 0;
                            _this.tot_sale_rate = 0;
                            _this.tot_purch_wgt = 0;
                            _this.tot_purch_rate = 0;
                            _this.total_esti_value = 0;
                            _this.tot_charge = 0;
                            _this.selectedCusData = [];
                            _this.esti = { 'choose': '', "cus_id": _this.esti['cus_id'], "customer": _this.esti['customer'], "id_branch": _this.esti['id_branch'], "id_employee": _this.esti['id_employee'], "emp_name": _this.esti['emp_name'], "is_tag": false, "is_non_tag": false, "is_home_bill": false, "is_old_metal": false, "tag": [], "non_tag": [], "home_bill": [], "old_metal": [], "chit_details": [{ 'slip_no': '', 'slip_amt': '' }] };
                            // if(data.printURL != ''){
                            //   console.log(data.printURL);
                            //   this.downloadfile(data.printURL,data.esti_name);
                            // }
                            _this.nav.setPages([{ page: __WEBPACK_IMPORTED_MODULE_11__home_home__["a" /* HomePage */] }, { page: __WEBPACK_IMPORTED_MODULE_14__bluetooth_bluetooth__["a" /* BluetoothPage */], params: { 'file': data } }]);
                        });
                    }
                    loader_3.dismiss();
                    var toastMsg = _this.toast.create({
                        message: data.msg,
                        duration: _this.common.toastTimeout,
                        position: 'middle'
                    });
                    toastMsg.present();
                    // this.navCtrl.setRoot(HomePage);
                });
            }
            else {
                var toastMsg = this.toast.create({
                    message: "Minimum 1 estimation item is required",
                    duration: this.common.toastTimeout,
                    position: 'middle'
                });
                toastMsg.present();
            }
        }
        else {
            var toastMsg = this.toast.create({
                message: "Invalid Estimation",
                duration: this.common.toastTimeout,
                position: 'middle'
            });
            toastMsg.present();
        }
    };
    EstiPage.prototype.createEstisubmit = function () {
        //     let temp =['home_bill','non_tag','old_metal','tag'];
        //     console.log(temp)
        //     console.log(this.esti)
        var _this = this;
        //     for (let i = 0; i < temp.length; i++) {
        //       for (let index = 0; index < this.esti[temp[i]].length; index++) {
        //         if(this.esti[temp[i]][index]['id_employee'] == '' ){
        //         this.ferror = false;
        //         break;
        //       }
        //       else{
        //         this.ferror = null;
        //       }
        //     }
        //     if( this.ferror == false){
        //       break;
        //     }
        //     };
        // console.log(this.ferror)
        //     if( this.ferror != false){
        /* krishna */
        this.esti['is_tag'] = ((this.esti['tag']).length > 0 ? true : false);
        this.esti['is_non_tag'] = ((this.esti['non_tag']).length > 0 ? true : false);
        this.esti['is_home_bill'] = ((this.esti['home_bill']).length > 0 ? true : false);
        this.esti['is_old_metal'] = ((this.esti['old_metal']).length > 0 ? true : false);
        this.esti['goldrate_22ct'] = this.metalRate['goldrate_22ct'];
        this.esti['silverrate_1gm'] = this.metalRate['silverrate_1gm'];
        console.log(this.esti);
        // Validate Postdata
        // || this.esti['id_employee'] == ''
        if (this.esti['cus_id'] == '' || this.esti['id_branch'] == '') {
            var toastMsg = this.toast.create({
                message: "Please fill required fields",
                duration: this.common.toastTimeout,
                position: 'middle'
            });
            toastMsg.present();
        }
        else if (this.esti['is_tag'] || this.esti['is_non_tag'] || this.esti['is_home_bill'] || this.esti['is_old_metal']) {
            if (this.esti['tag'] || this.esti['non_tag'] || this.esti['home_bill'] || this.esti['old_metal']) {
                var loader_4 = this.load.create({
                    content: 'Please Wait',
                    spinner: 'bubbles',
                });
                loader_4.present();
                this.esti['type'] = 1;
                this.esti['total_cost'] = this.total_esti_value;
                console.log(this.esti);
                this.retail.createEstimation(this.esti).then(function (data) {
                    //   {
                    //     cssClass: "my-modal"
                    // }
                    data['cus_id'] = _this.esti['cus_id'];
                    data['id_employee'] = _this.esti['id_employee'];
                    data['id_branch'] = _this.esti['id_branch'];
                    var modal = _this.modal.create(__WEBPACK_IMPORTED_MODULE_16__write_review_write_review__["a" /* WriteReviewPage */], { 'data': data }, {
                        cssClass: "my-modal"
                    });
                    modal.present();
                    modal.onDidDismiss(function (mData) {
                        if (data.status) {
                            _this.tot_sale_wgt = 0;
                            _this.tot_sale_rate = 0;
                            _this.tot_purch_wgt = 0;
                            _this.tot_purch_rate = 0;
                            _this.total_esti_value = 0;
                            _this.tot_charge = 0;
                            _this.selectedCusData = [];
                            _this.esti = { 'choose': '', "cus_id": _this.esti['cus_id'], "customer": _this.esti['customer'], "id_branch": _this.esti['id_branch'], "id_employee": _this.esti['id_employee'], "emp_name": _this.esti['emp_name'], "is_tag": false, "is_non_tag": false, "is_home_bill": false, "is_old_metal": false, "tag": [], "non_tag": [], "home_bill": [], "old_metal": [], "chit_details": [{ 'slip_no': '', 'slip_amt': '' }] };
                            if (data.printURL != '') {
                                console.log(data.printURL);
                                _this.downloadfile(data.printURL, data.esti_name);
                            }
                        }
                        loader_4.dismiss();
                        var toastMsg = _this.toast.create({
                            message: data.msg,
                            duration: _this.common.toastTimeout,
                            position: 'middle'
                        });
                        toastMsg.present();
                        _this.navCtrl.setRoot(__WEBPACK_IMPORTED_MODULE_11__home_home__["a" /* HomePage */]);
                    });
                });
            }
            else {
                var toastMsg = this.toast.create({
                    message: "Minimum 1 estimation item is required",
                    duration: this.common.toastTimeout,
                    position: 'middle'
                });
                toastMsg.present();
            }
        }
        else {
            var toastMsg = this.toast.create({
                message: "Invalid Estimation",
                duration: this.common.toastTimeout,
                position: 'middle'
            });
            toastMsg.present();
        }
        // }
        // else{
        //   let toastMsg = this.toast.create({
        //     message: "Please choose employee",
        //     duration: this.common.toastTimeout,
        //     position: 'middle'
        //   });
        //   toastMsg.present();
        // }
    };
    EstiPage.prototype.getEstiByEstiNo = function (no) {
        var _this = this;
        if (no != '') {
            this.estiDetail['esti_no'] = no;
        }
        if (this.estiDetail['esti_no'] != '') {
            var loader_5 = this.load.create({
                content: 'Please Wait',
                spinner: 'bubbles',
            });
            loader_5.present();
            this.estiDetail['id_branch'] = this.loggedInBranch;
            this.retail.getEstiPrintURL(this.estiDetail).then(function (data) {
                if (data.status) {
                    if (data.printURL != '') {
                        console.log(data.printURL);
                        _this.downloadfile(data.printURL, data.esti_name);
                    }
                }
                loader_5.dismiss();
                var toastMsg = _this.toast.create({
                    message: data.msg,
                    duration: _this.common.toastTimeout,
                    position: 'middle'
                });
                toastMsg.present();
            });
        }
        else {
            var toastMsg = this.toast.create({
                message: "Enter valid estimation number",
                duration: this.common.toastTimeout,
                position: 'middle'
            });
            toastMsg.present();
        }
    };
    EstiPage.prototype.downloadfile = function (url, name) {
        var _this = this;
        console.log(url);
        var date = new Date();
        date.setDate(date.getDate());
        console.log(date.toISOString().split('T')[0]);
        this.platform.ready().then(function () {
            console.log("Platform ready");
            if (_this.platform.is('android')) {
                console.log("Platform Android");
                _this.file.checkDir(_this.file.externalDataDirectory, _this.common.cmpShortName).then(function (data) {
                    console.log("Check directory IDO");
                    _this.file.checkDir(_this.file.externalDataDirectory + '' + _this.common.cmpShortName + '/', date.toISOString().split('T')[0]).then(function (_) {
                        console.log("Check directory IDO " + date.toISOString().split('T')[0]);
                        _this.viewFile(url, name);
                    }).catch(function (er) {
                        _this.file.createDir(_this.file.externalDataDirectory + '' + _this.common.cmpShortName + '/', date.toISOString().split('T')[0], false).then(function (_) {
                            console.log("Create directory IDO " + date.toISOString().split('T')[0]);
                            _this.viewFile(url, name);
                        }).catch(function (err) {
                            console.log(err);
                            console.log('Couldn\'t create directory');
                        });
                    });
                }).catch(function (err) {
                    _this.file.createDir(_this.file.externalDataDirectory, _this.common.cmpShortName, false).then(function (_) {
                        console.log('Create directory IDO');
                        _this.file.createDir(_this.file.externalDataDirectory + '' + _this.common.cmpShortName + '/', date.toISOString().split('T')[0], false).then(function (_) {
                            console.log('Create directory IDO / ' + date.toISOString().split('T')[0]);
                            _this.viewFile(url, name);
                        }).catch(function (err1) {
                            console.log(err1);
                            console.log('Couldn\'t create directory');
                        });
                    }).catch(function (err2) {
                        console.log(err2);
                        console.log('Couldn\'t create directory');
                    });
                });
            }
        });
    };
    EstiPage.prototype.viewFile = function (url, name) {
        var _this = this;
        var date = new Date();
        date.setDate(date.getDate());
        console.log(date);
        console.log(date.toISOString().split('T')[0]);
        this.platform.ready().then(function () {
            console.log('platform ready viewFile');
            _this.file.resolveDirectoryUrl(_this.file.externalDataDirectory + '' + _this.common.cmpShortName + '/' + date.toISOString().split('T')[0]).then(function (resolvedDirectory) {
                console.log(resolvedDirectory);
                console.log("resolved  directory: " + resolvedDirectory.nativeURL);
                _this.file.checkFile(resolvedDirectory.nativeURL, name).then(function (data) {
                    console.log(data);
                    console.log(resolvedDirectory.nativeURL + name);
                    _this.fileOpener.open(resolvedDirectory.nativeURL + name, 'application/pdf')
                        .then(function () { return console.log('File is opened'); })
                        .catch(function (e) { return console.log('Error opening file', e); });
                    // this.printEsti(resolvedDirectory.nativeURL+name,name);
                }, function (err) {
                    console.log(err);
                    var loader = _this.load.create({
                        content: 'Please Wait',
                        spinner: 'bubbles',
                    });
                    loader.present();
                    var targetPath = _this.file.externalDataDirectory + '' + _this.common.cmpShortName + '/' + date.toISOString().split('T')[0] + '/' + name;
                    _this.fileTransfer.download(url, targetPath, true).then(function (entry) {
                        console.log('download complete: ' + entry.toURL());
                        loader.dismiss();
                        _this.fileOpener.open(entry.toURL(), 'application/pdf')
                            .then(function () { return console.log('File is opened'); })
                            .catch(function (e) { return console.log('Error opening file', e); });
                        // this.printEsti(entry.toURL(),name);
                    }, function (error) {
                        loader.dismiss();
                        console.log(error);
                    });
                });
            }, function (err) {
                console.log(err);
            });
        });
    };
    EstiPage.prototype.printEsti = function (content, ename) {
        console.log(content);
        console.log(ename);
        this.printer.isAvailable().then(function (onSuccess) {
            console.log("isAvailable - Success");
        }, function (onError) {
            console.log(onError);
            console.log("isAvailable - Error");
        });
        var options = {
            name: ename,
            //printerId: 'printer007',
            //duplex: true,
            //landscape: true,
            grayscale: true
        };
        this.printer.print(content, options).then(function (onSuccess) {
            console.log("print - Success");
        }, function (onError) {
            console.log("print - Error");
        });
    };
    EstiPage.prototype.append = function (event) {
        // Uppercase the entered code
        this.tagData['tag_code'] = (this.tagData['tag_code'] || '').toUpperCase();
        // On Enter key, fetch tag details
        if (event.keyCode === 13) {
            this.getTagByID(this.tagData['tag_code']);
        }
    };
    EstiPage.prototype.goto = function () {
        this.navCtrl.setRoot(__WEBPACK_IMPORTED_MODULE_11__home_home__["a" /* HomePage */]);
    };
    EstiPage.prototype.tog = function (type) {
        if (type == 'tag') {
            if (this.togtype == '' || this.togtype == 'home_bill' || this.togtype == 'old_metal' || this.togtype == 'non_tag') {
                this.togtype = type;
                console.log(this.togtype);
            }
            else {
                this.togtype = '';
            }
        }
        else if (type == 'home_bill') {
            if (this.togtype == '' || this.togtype == 'tag' || this.togtype == 'old_metal' || this.togtype == 'non_tag') {
                this.togtype = type;
                console.log(this.togtype);
            }
            else {
                this.togtype = '';
            }
        }
        else if (type == 'old_metal') {
            if (this.togtype == '' || this.togtype == 'tag' || this.togtype == 'home_bill' || this.togtype == 'non_tag') {
                this.togtype = type;
                console.log(this.togtype);
            }
            else {
                this.togtype = '';
            }
        }
        else if (type == 'non_tag') {
            if (this.togtype == '' || this.togtype == 'tag' || this.togtype == 'home_bill' || this.togtype == 'old_metal') {
                this.togtype = type;
                console.log(this.togtype);
            }
            else {
                this.togtype = '';
            }
        }
    };
    EstiPage.prototype.print = function (data) {
        this.nav.push(__WEBPACK_IMPORTED_MODULE_14__bluetooth_bluetooth__["a" /* BluetoothPage */], { 'file': data });
    };
    EstiPage.prototype.opengift = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_15__gift_gift__["a" /* GiftPage */], { 'chit': this.esti['chit_details'], 'id_customer': this.esti['cus_id'], 'esti': this.esti, 'rate': this.metalRate['goldrate_22ct'], 'settings': this.ret_settings });
    };
    EstiPage.prototype.checking = function (index) {
        console.log(parseInt(this.esti['tag'][index]['less_wt']) > parseInt(this.esti['tag'][index]['net_wt']));
        if (parseInt(this.esti['tag'][index]['less_wt']) > parseInt(this.esti['tag'][index]['net_wt'])) {
            this.cd.detectChanges();
            this.esti['tag'][index]['less_wt'] = '';
            this.cd.detectChanges();
            this.content.resize();
            this.calcSaleValue(index);
        }
        else {
            this.calcSaleValue(index);
        }
    };
    EstiPage.prototype.currencysettings = function () {
        var _this = this;
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        this.common.getCurrencyAndSettings({ "id_metalrates": this.esti['choose'], "id_branch": this.esti['id_branch'] }).then(function (data) {
            _this.metalRate = data.metal_rates;
            _this.settings = data.settings;
            _this.ret_settings = data.ret_settings;
            _this.events.publish('settings:loaded', true);
            _this.events.publish('ret_settings:loaded', true);
            _this.dataCheckList['settings'] = true;
            loader.dismiss();
            if (_this.navParams.get('ecat') != undefined) {
                _this.tagData['tag_code'] = _this.navParams.get('ecat');
                _this.esti['id_branch'] = _this.navParams.get('bcode');
                _this.esti['tag'] = [];
                _this.getTagByID(_this.tagData['tag_code']);
            }
        });
    };
    EstiPage.prototype.showreward = function () {
        var _this = this;
        this.tot_incen = 0;
        this.esti['tag'].forEach(function (tag) {
            _this.tot_incen = Number(_this.tot_incen) + Number(tag.incentive);
        });
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Congratulations Your Total Incentive',
            buttons: [
                {
                    text: '' + this.tot_incen.toString(),
                    role: 'cancel',
                    handler: function () {
                        console.log('Cancel clicked');
                    }
                }
            ]
        });
        actionSheet.present();
    };
    EstiPage.prototype.texto = function (event) {
        if (event.keyCode == 13) {
            this.getorderByID(this.tagData['order_id']);
        }
        console.log(event);
    };
    EstiPage.prototype.texto1 = function (event) {
        if (event.keyCode == 13) {
            this.getEstiByEstiNo('');
        }
        console.log(event);
    };
    EstiPage.prototype.checkesti = function () {
    };
    EstiPage.prototype.from = function (type, item1, action) {
        var _this = this;
        this.esti['estimation'] = this.es;
        console.log(type);
        console.log(this.esti);
        console.log(item1);
        console.log(action);
        var idx = -1;
        var estiData = [];
        if (action == 'edit') {
            estiData = item1;
            idx = this.esti[type].indexOf(item1);
            console.log(idx);
            console.log(item1);
            console.log(this.esti);
            console.log(this.esti[type][idx]);
        }
        var data = { type: type, action: action, ret_settings: this.ret_settings, esti: estiData, id_branch: this.esti['id_branch'], metal_rates: this.metalRate, taxGroupItems: this.taxGroupItems, nonTagStock: this.nonTagStock, homeBillStock: this.homeBillStock, purities: this.purities, collections: this.collections, oldMetalCat: this.oldMetalCat, stoneMasData: this.stoneMasData, oldMetalTypes: this.oldMetalTypes };
        console.log(data);
        // let modal = this.modal.create(AddEstiItemPage,data,{enableBackdropDismiss: false})
        // modal.present();
        // modal.onDidDismiss(data => {
        if (item1 != null) {
            console.log(1);
            if (item1.item_data != null) {
                // ADD
                console.log(2);
                if (action == 'add') {
                    var addItem_3 = true;
                    console.log(3);
                    if (type == "tag") {
                        this.esti[type].forEach(function (item) {
                            if (item.tag_id == item1.item_data.tag_id) {
                                addItem_3 = false;
                                _this.tagMsg = "";
                                _this.tagErrorMsg = "Tag Already exist..";
                                var toastMsg = _this.toast.create({
                                    message: _this.tagErrorMsg,
                                    duration: _this.common.toastTimeout,
                                    position: 'middle'
                                });
                                toastMsg.present();
                                setTimeout(function () {
                                    _this.tagErrorMsg = "";
                                }, _this.common.msgTimeout);
                            }
                        });
                    }
                    if (addItem_3) {
                        this.esti[type].push(item1.item_data);
                    }
                }
                // UPDATE
                if (action == 'edit' && idx >= 0) {
                    // console.log(idx)
                    // console.log(this.esti[type][idx]);
                    // console.log(data.item_data);
                    this.esti[type][idx] = item1.item_data;
                }
            }
            this.calcEstiSummary();
            if (data.submitType == 'SN') {
                this.openItemAddModal(type, '', 'add');
            }
        }
        else if (action == 'edit' && idx >= 0) {
            console.log(estiData);
            this.esti[type][idx] = estiData;
        }
        var y = Object.assign({}, this.esti[type]);
        console.log(y);
        if (action != 'edit') {
            this.esti[type].reverse();
        }
        console.log(this.esti[type]);
        // });
    };
    EstiPage.prototype.edittag = function (data) {
        var _this = this;
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        console.log(data['estimation_id']);
        this.commonservice.getedit(data['estimation_id']).then(function (res) {
            var tag = res.hasOwnProperty('tag_details') ? res['tag_details'] : [];
            var non_tag = res.hasOwnProperty('non_tag_details') ? res['non_tag_details'] : [];
            var home_bill = res.hasOwnProperty('est_home_bill') ? res['est_home_bill'] : [];
            var old_metal = res.hasOwnProperty('old_metal') ? res['old_metal'] : [];
            console.log(tag);
            loader.dismiss();
            // this.navCtrl.push(EstiPage,{'tag':temp});
            _this.nav.push(EstiPage_1, { 'estimation': res['estimation'], 'old_metal': old_metal, 'home_bill': home_bill, 'non_tag': non_tag, 'tag': tag, "page_type": 'create', 'empname': _this.empData['username'], 'empid': _this.empData['uid'], 'bname': '', 'bid': _this.empData['id_branch'] });
        }, function (err) {
            loader.dismiss();
        });
    };
    EstiPage.prototype.validateKey = function (event) {
        var charCode = event.charCode;
        if (charCode != 0 && (charCode < 49 || charCode > 57)) {
            event.preventDefault(); // block 0-characters and non-numbers
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_8" /* ViewChild */])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* Content */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* Content */])
    ], EstiPage.prototype, "content", void 0);
    EstiPage = EstiPage_1 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-estimation',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\estimation\estimation.html"*/'<ion-header>\n  <ion-navbar>\n\n    <button ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <!-- Metal Rate Grid -->\n    <ion-grid class="rate-header">\n      <ion-row class="label-row">\n        <ion-col>Gold 22KT/G</ion-col>\n        <ion-col>Gold 18KT/G</ion-col>\n        <ion-col>Silver/G</ion-col>\n        <ion-col>Platinum/G</ion-col>\n      </ion-row>\n\n      <ion-row class="value-row" *ngIf="metalRate">\n        <ion-col>{{ metalRate.goldrate_22ct | indianCurrency:2 }}</ion-col>\n        <ion-col>{{ metalRate.goldrate_18ct | indianCurrency:2 }}</ion-col>\n        <ion-col>{{ metalRate.silverrate_1gm | indianCurrency:2 }}</ion-col>\n        <ion-col>{{ metalRate.platinum_1g | indianCurrency:2 }}</ion-col>\n      </ion-row>\n    </ion-grid>\n\n  </ion-navbar>\n\n  <!-- Segment BELOW navbar (best UI & responsive) -->\n  <ion-segment class="esti-segment" *ngIf="page_type == \'create\'" [(ngModel)]="esti_type" mode="ios" scrollable (ionChange)="estiTypeChanged($event)">\n    <ion-segment-button value="tag"> Tag </ion-segment-button>\n    <ion-segment-button value="non_tag"> Non-Tag </ion-segment-button>\n    <ion-segment-button value="home_bill"> Home Bill</ion-segment-button>\n    <ion-segment-button value="old_metal" [disabled]="oldMetalCat?.length == 0"> Old Metal </ion-segment-button>\n    <ion-segment-button value="summary">Summary</ion-segment-button>\n  </ion-segment>\n\n</ion-header>\n\n<!-- Estimation Create Block  -->\n  <ion-content  *ngIf="page_type == \'create\'">\n\n    <ion-grid style="padding: 6px !important;margin-bottom: 100px;">\n\n      <span *ngIf="esti_type == \'summary\'">\n        <h5 style="text-align: center;" margin>Summary</h5>\n        <div *ngIf="esti[\'customer\'] != \'\'" style="text-align: center;font-weight: bold;">\n          Customer : {{esti[\'customer\']}}<br>\n         </div>\n        <ion-row text-center>\n          <ion-col text-wrap col-sm-6 col-md-6 col-lg-6 col-xl-6>\n              <h5>{{tot_sale_wgt | number:\'1.3-3\' }} g</h5>\n              Sale weight\n              <br/>\n              <h5><span [innerHTML]="settings.curr_symb_html"></span> {{tot_sale_rate | number:\'1.2-2\' }}</h5>\n              Sale Amount\n          </ion-col>\n          <ion-col text-wrap col-sm-6 col-md-6 col-lg-6 col-xl-6>\n              <h5>{{tot_purch_wgt | number:\'1.3-3\' }} g</h5>\n              Purchase Weight<br/>\n              <h5><span [innerHTML]="settings.curr_symb_html"></span> {{tot_purch_rate | number:\'1.2-2\' }}</h5>\n              Purchase Amount\n          </ion-col>\n        </ion-row>\n        <h5 *ngIf="advance != 0" text-center>Advance Amount : <span [innerHTML]="settings.curr_symb_html"></span> {{advance | number:\'1.2-2\' }}</h5>\n        <h5 text-center>Estimation Amount : <span [innerHTML]="settings.curr_symb_html"></span> {{total_esti_value | number:\'1.2-2\' }}</h5>\n      </span>\n\n      <div [ngSwitch]="esti_type">\n        <div class="tag-card" *ngIf="esti_type == \'tag\' && show == true">\n<ion-row class="tag-single-row">\n\n  <!-- Toggle -->\n  <ion-col col-2 class="center-col">\n    <ion-toggle [(ngModel)]="checkold"></ion-toggle>\n  </ion-col>\n\n  <!-- Single Tag Input -->\n  <ion-col col-8>\n    <ion-item class="tag-box no-border soft-bg compact-item">\n      <ion-input type="text" placeholder="{{ checkold ? \'Old Tag Code\' : \'New Tag Code\' }}" [(ngModel)]="tagData[\'tag_code\']" (keyup)="append($event)">\n      </ion-input>\n    </ion-item>\n  </ion-col>\n\n  <!-- Search -->\n  <ion-col col-2 class="search-col">\n    <button ion-button icon-only small class="search-btn"\n            (click)="getTagByID(tagData[\'tag_code\'])">\n      <ion-icon name="search"></ion-icon>\n    </button>\n  </ion-col>\n\n</ion-row>\n\n      </div>\n\n\n<ion-list *ngIf="esti_type == \'tag\' && show == true && showr == true && esti[\'tag\']?.length > 0" style="display: flex !important;margin: 0px 6px 6px !important;"  [(ngModel)]="tagData[\'taged\']"  radio-group>\n      <div style="display: flex;margin-left: 10px;">\n    <ion-radio style="margin: auto;" value="1" [disabled]="true"></ion-radio>\n    <ion-label style="color: black !important;">Order Rate.</ion-label>\n   \n  </div>\n  <div style="display: flex;">\n    <ion-radio style="margin: auto;" value="2" [disabled]="true"></ion-radio>\n    <ion-label style="color: black !important;">Current Rate.</ion-label>\n  </div>\n</ion-list>\n\n\n<!--           <ion-list *ngIf="(esti_type == \'summary\' && togtype == \'tag\')|| esti_type == \'tag\'">\n            <ion-item-sliding margin-top #tags *ngFor="let t of esti[\'tag\'];let i = index;" id=\'\'>\n              <ion-item no-padding style="border-bottom:2px solid #eee !important;">\n                <div style="text-align: end;font-weight: bold;">\n                  {{t[\'emp_name\']}}\n                </div>\n                <ion-avatar item-start>\n                    <img src="{{t.image}}" imageViewer="{{t.image}}" onerror="this.onerror=null;this.src=\'assets/no-img.png\';">\n                </ion-avatar>\n                <ion-row>\n                  <ion-col style="margin:auto" no-padding text-wrap col-6 class="theme-color-secondary">\n                    <p style="margin-left: 5px;" *ngIf="checkold != true" >{{t.tag_code}} </p>\n                    <p style="margin-left: 5px;" *ngIf="checkold == true" >{{t.old_tag_id}} </p>\n                    <div [ngStyle]="{\'width.px\': 20,\'height.px\': 20,\'border-radius.px\':50,\'background\':t.colorcode,\'position\':\'absolute\',\'left.px\':92,\'top.px\':-2}"></div>\n\n                  </ion-col>\n                  <ion-col no-padding text-wrap col-6 align="right">\n                    <button ion-button small style="font-size: xx-small;background-color:#1A2A53 !important;"  (click)="chooseemp(i)"><ion-icon  name="person-add"></ion-icon></button>\n\n                    <button ion-button small style="font-size: xx-small;" [ngClass]="t[\'is_partial\'] == \'0\' ? \'one\':\'two\'"  (click)="colorchange(i)"><ion-icon  name="checkmark-circle"></ion-icon></button>\n                    <button ion-button small style="font-size: xx-small;"  (click)="openItemAddModal(\'tag\',t,\'edit\')"><ion-icon name="create"></ion-icon></button>\n\n                    <button ion-button small style="font-size: xx-small;" color="danger" (click)="deleteItem(\'tag\',i)"><ion-icon name="trash"></ion-icon></button>\n                  </ion-col>\n                </ion-row>\n                <ion-row>\n                  <ion-col no-padding text-wrap col-12 col-md-12 class="custom-2col theme-color-secondary" *ngIf="ret_settings[\'subproduct_required\'] == 1" style="font-size: 11px !important;padding-left: 5px !important;">\n                    <span *ngIf="t.collection_name != null">{{t.collection_name}} <b> | </b> </span>\n                    {{t.parent_prods_name}}\n                  </ion-col>\n                  <ion-col no-padding text-wrap col-12 col-md-12 class="custom-2col theme-color-secondary" *ngIf="ret_settings[\'subproduct_required\'] == 0" style="padding-left: 5px !important;">\n                    {{t.product_name}} | {{t.design_name}}\n                  </ion-col>\n                </ion-row>\n              </ion-item>\n\n<ion-item no-padding>\n  <ion-row>\n    \n    <ion-col col-6 class="left-table">\n      <ion-row>\n\n                <ion-col col-5 class="label">Product</ion-col>\n        <ion-col col-7 class="value">{{t.product_name}}</ion-col>\n        <ion-col col-5 class="label">Dsgn/Model</ion-col>\n        <ion-col col-7 class="value">{{t.design_name}}</ion-col>\n            <ion-col col-6 class="label">Pcs</ion-col>\n    <ion-col col-6 class="value">\n      <span *ngIf="t[\'is_partial\'] == \'0\'">{{ t.piece }}</span>\n      <input *ngIf="t[\'is_partial\'] == \'1\'" class="value-input" type="number" min="1" pattern="[1-9][0-9]*" inputmode="numeric" (keypress)="validateKey($event)" [(ngModel)]="t.piece" />\n    </ion-col>\n\n  \n    <ion-col col-6 class="label">Gr. Wt (g)</ion-col>\n\n    <ion-col col-6 class="value">\n      <span *ngIf="t[\'is_partial\'] == \'0\'"> {{t.gross_wt}}  </span>\n        <input class="value-input" *ngIf="t[\'is_partial\'] == \'1\'" type="number" [(ngModel)]="t[\'gross_wt\']" (ngModelChange)="calcSaleValue(i)"/>\n    </ion-col>\n\n    \n    <ion-col col-6 class="label">St. Wt (g)</ion-col>\n    <ion-col col-6 class="value">\n      <span *ngIf="t[\'is_partial\'] == \'0\'"> {{t.less_wt}}  </span>\n      <input class="value-input" type="number" *ngIf="t[\'is_partial\'] == \'1\'" [(ngModel)]="t.less_wt" (ngModelChange)="checking(i)" readonly />\n    </ion-col>\n\n\n    \n    <ion-col  col-6 class="label">Nt. Wt (g)</ion-col>\n    <ion-col  col-6 class="value">\n      <span *ngIf="t[\'is_partial\'] == \'0\'"> {{t.net_wt}}  </span>\n      <input class="value-input" type="number" *ngIf="t[\'is_partial\'] == \'1\'" [(ngModel)]="t.net_wt" (ngModelChange)="calcSaleValue(i)" readonly />\n    </ion-col>\n\n         <ion-col col-6 class="label">Rate</ion-col>\n        <ion-col col-6 class="value">{{t.rate_per | number:\'1.2-2\'}}</ion-col>\n                <ion-col col-6 class="label">VA</ion-col>\n        <ion-col col-6 class="value">{{t.retail_max_wastage_percent}}%</ion-col>\n\n        <ion-col col-6 class="label">Purity</ion-col>\n        <ion-col col-6 class="value">{{t.purname}}</ion-col>\n\n        <ion-col col-6 class="label">Section</ion-col>\n        <ion-col col-6 class="value">{{t.section_name}}</ion-col>\n\n      </ion-row>\n    </ion-col>\n\n   \n    <ion-col col-6 class="right-table">\n      <ion-row>\n        <ion-col col-6 class="label">Metal Value</ion-col>\n        <ion-col col-6 class="value">{{t.net_wt * t.rate_per | number:\'1.2-2\'}}</ion-col>\n\n        <ion-col col-6 class="label">MC Value </ion-col>\n        <ion-col col-6 class="value">{{t.mc_value | number:\'1.2-2\'}} <span *ngIf="t.mc_type == 1">/P</span> <span *ngIf="t.mc_type == 2">/G</span></ion-col>\n\n        <ion-col col-6 class="label">Tot. MC</ion-col>\n        <ion-col col-6 class="value">{{t.making_charge | number:\'1.2-2\'}}</ion-col>\n\n        <ion-col col-6 class="label">St. Chg</ion-col>\n        <ion-col col-6 class="value">{{t.stone_price | number:\'1.2-2\'}}</ion-col>\n\n        <ion-col col-6 class="label">Txble Amt</ion-col>\n        <ion-col col-6 class="value">{{t.taxable | number:\'1.2-2\'}}</ion-col>\n\n        <ion-col col-6 class="label">GST</ion-col>\n        <ion-col col-6 class="value">{{t.tax_price | number:\'1.2-2\'}}</ion-col>\n\n        <ion-col col-6 class="label">Total Amt</ion-col>\n        <ion-col col-6 class="value">{{ t.sales_value | currency:\'INR\':true:\'1.2-2\' }}</ion-col>\n\n      </ion-row>\n    </ion-col>\n\n  </ion-row>\n</ion-item>\n\n            </ion-item-sliding>\n          </ion-list> -->\n       \n<span *ngIf="esti_type == \'tag\' && esti[\'tag\']?.length > 0 " margin-top>\n  <ion-row class="bill-header">\n    <ion-col size="3" class="left">Desc</ion-col>\n    <ion-col size="1" class="center" style="text-align: center !important;">Pcs</ion-col>\n    <ion-col size="2" class="center">Gwt</ion-col>\n    <ion-col size="2" class="center">Nwt</ion-col>\n    <ion-col size="2" class="right">Rate</ion-col>\n    <ion-col size="1" class="right">VA/MC</ion-col>\n    <ion-col size="3" class="right" style="text-align: center !important;">Amount</ion-col>\n  </ion-row>\n\n  <ng-container *ngFor="let t of esti[\'tag\']; let i = index">\n\n    <ion-row class="item-name-row">\n      <ion-col size="8" class="prod-name">{{ t.product_name }}</ion-col>\n\n      <ion-col size="4" class="right btn-set" style="text-align: end !important;">\n        <button ion-button small (click)="chooseemp(i)" class="btn-icon navy">\n          <ion-icon name="person-add"></ion-icon>\n        </button>\n        <button [disabled]="t[\'calculation_based_on\'] == \'3\' || t[\'calculation_based_on\'] == \'4\'" ion-button small color="primary" class="btn-icon" \n                (click)="openItemAddModal(\'tag\', t, \'edit\')">\n          <ion-icon name="create"></ion-icon>\n        </button>\n        <button ion-button small color="danger" class="btn-icon"\n                (click)="deleteItem(\'tag\', i)">\n          <ion-icon name="trash"></ion-icon>\n        </button>\n      </ion-col>\n    </ion-row>\n\n    <ion-row class="item-row">\n      <ion-col size="3" class="left"></ion-col>\n      <ion-col size="1" class="center" style="text-align: center !important;">{{ t.piece }}</ion-col>\n      <ion-col size="2" class="center">{{ t.gross_wt }}</ion-col>\n      <ion-col size="2" class="center" style="text-align: center !important;">{{ t.net_wt }}</ion-col>\n      <ion-col size="2" class="right"  style="text-align: center !important;">{{ t.rate_per }}</ion-col>\n      <!-- <ion-col size="1" class="right">{{ t.retail_max_wastage_percent > 0 ? t.retail_max_wastage_percent : t.mc_value }}</ion-col> -->\n       <ion-col size="1" class="right">\n\n  <ng-container *ngIf="t.retail_max_wastage_percent > 0; else showMC" style="text-align: center !important;">\n    {{ t.retail_max_wastage_percent | number:\'1.2-2\' }}\n  </ng-container>\n\n  <ng-template #showMC style="text-align: center !important;">\n    {{ t.mc_value | indianCurrency:2  }}\n  </ng-template>\n\n</ion-col>\n\n      <ion-col size="3" class="right amount" style="text-align: end !important;overflow: clip !important;">{{ (t.taxable - t.stone_price - t.other_metal_total_price) | indianCurrency:2 }}</ion-col>\n    </ion-row>\n\n    <ion-row *ngFor="let s of t.stone_details" class="stone-row">\n      <ion-col size="3" class="left stone-name">{{ s.stone_name }}</ion-col>\n      <ion-col size="1" class="center" style="text-align: center !important;">{{ s.pieces }}</ion-col>\n      <ion-col size="2"></ion-col>\n      <ion-col size="2" class="center">{{ s.wt }}</ion-col>\n      <ion-col size="2" class="right">{{ s.rate_per_gram }}</ion-col>\n      <ion-col size="1"></ion-col>\n      <ion-col size="3" class="right stone-amt" style="text-align: end !important;overflow: clip !important;">{{s.amount | indianCurrency:2}}</ion-col>\n    </ion-row>\n\n    \n    <ion-row *ngFor="let other of t.othermetal_details" class="stone-row">\n      <ion-col size="3" class="left stone-name">{{ other.metal_name }}</ion-col>\n      <ion-col size="1" class="center" style="text-align: center !important;">{{ other.tag_other_itm_pcs }}</ion-col>\n      <ion-col size="2"></ion-col>\n      <ion-col size="2" class="center">{{ other.tag_other_itm_grs_weight }}</ion-col>\n      <ion-col size="2" class="right">{{ other.tag_other_itm_rate }}</ion-col>\n      <ion-col size="1"> \n         <ng-container *ngIf="other.tag_other_itm_wastage > 0; else showMC" style="text-align: center !important;">\n    {{ other.tag_other_itm_wastage | number:\'1.2-2\' }}\n  </ng-container>\n\n  <ng-template #showMC style="text-align: center !important;">\n    {{ other.tag_other_itm_mc | indianCurrency:2  }}\n  </ng-template>\n  </ion-col>\n        \n  <!--       {{ other.tag_other_itm_wastage }}</ion-col> -->\n      <ion-col size="3" class="right stone-amt" style="text-align: end !important;overflow: clip !important;">{{other.tag_other_itm_amount | indianCurrency:2}}</ion-col>\n    </ion-row>\n\n    <div class="divider"></div>\n\n  </ng-container>\n\n  <ion-row class="total-row">\n    <ion-col size="3" style="font-weight: bold !important;">Total</ion-col>\n    <ion-col size="1" class="center" style="text-align: center !important;">{{ totalPieces }}</ion-col>\n    <ion-col size="2" class="center" style="text-align: center  !important;">{{ totalGwt | number:\'1.3-3\' }}</ion-col>\n    <ion-col size="2" class="center"  style="text-align: center  !important;">{{ totalNwt | number:\'1.3-3\'}}</ion-col>\n    <ion-col size="2"></ion-col>\n    <ion-col size="1"></ion-col>\n    <ion-col size="3" class="right total-blue"  style="text-align: end  !important;">{{ totalTaxable | indianCurrency:2 }}</ion-col>\n  </ion-row>\n\n  <ion-row class="summary-row">\n    <ion-col col-8 class="right" style="text-align: end;">Taxable Value</ion-col>\n    <ion-col col-4 class="right" style="text-align: end;">{{ totalTaxable | indianCurrency:2 }}</ion-col>\n  </ion-row>\n\n  <ion-row class="summary-row">\n    <ion-col col-8 style="text-align: end;">GST</ion-col>\n    <ion-col col-4 class="right" style="text-align: end;">{{ totalGST | indianCurrency:2 }}</ion-col>\n  </ion-row>\n\n  <ion-row class="summary-row">\n    <ion-col col-8 style="text-align: end;">Invoice Value</ion-col>\n    <ion-col col-4 class="right" style="text-align: end;">{{ invoiceValue | indianCurrency:2 }}</ion-col>\n  </ion-row>\n\n  <ion-row class="summary-row net">\n    <ion-col col-8 style="text-align: end;">Net Total</ion-col>\n    <ion-col col-4 class="right" style="text-align: end;">{{ netTotal | indianCurrency:2 }}</ion-col>\n  </ion-row>\n   <div class="divider"></div>\n\n     <ion-row class="summary-row net">\n    <ion-col style="text-align: left;font-weight: bold !important;">Other Informations</ion-col>\n  </ion-row>\n <!--   <div class="divider"></div> -->\n    <ion-row class="summary-row net">\n    <ion-col col-7 >Total Stone Weight / Value</ion-col>\n    <ion-col col-5 class="right" style="text-align: end;">{{ totalStoneWt | number:\'1.3-3\' }} / {{ totalStoneAmount | indianCurrency:2 }}</ion-col>\n  </ion-row>\n\n      <ion-row class="summary-row net" style="border: none !important;">\n    <ion-col col-7 >Total Diamond Carat / Value</ion-col>\n    <ion-col col-5 class="right" style="text-align: end;">{{ totalDiaWt | number:\'1.3-3\' }} / {{ totalDiaAmount | indianCurrency:2 }}</ion-col>\n  </ion-row>\n\n        <ion-row class="summary-row net" style="border: none !important;">\n    <ion-col col-7>Total Sales Amount </ion-col>\n    <ion-col col-5 class="right" style="text-align: end;">{{ totalTaxable | indianCurrency:2 }} </ion-col>\n  </ion-row>\n      <ion-row class="summary-row net" style="border: none !important;">\n    <ion-col col-7>Total Sales Incl. GST </ion-col>\n    <ion-col col-5 class="right" style="text-align: end;">{{ netTotal | indianCurrency:2 }} </ion-col>\n  </ion-row>\n          <ion-row class="summary-row net" style="border: none !important;">\n    <ion-col col-7>Total Sales Gwt / Nwt </ion-col>\n    <ion-col col-5 class="right" style="text-align: end;">{{ totalGwt | number:\'1.3-3\' }} / {{totalNwt | number:\'1.2-3\'}}</ion-col>\n  </ion-row>\n\n\n</span>\n\n\n        <!-- Row 4 : Non Tag-->\n        <span *ngIf="esti_type == \'summary\' || esti_type == \'non_tag\'" margin-top> <!-- <span *ngIf="esti[\'is_non_tag\']" margin-top> -->\n          <ion-row *ngIf="esti_type == \'summary\' && esti[\'non_tag\']?.length > 0">\n            <ion-col no-padding text-wrap col-12 >\n              <div (click)="tog(\'non_tag\')" class="theme-title-blk"> <ion-icon name="ribbon"></ion-icon> Non-Tag Items <ion-badge color="light" float-right>{{esti[\'non_tag\']?.length}}</ion-badge></div>\n            </ion-col>\n            <ion-col text-wrap *ngIf="esti_type == \'non_tag\'">\n              <!-- <span float-left class="esti-notes">\n                Add Non-Tag Items\n              </span> -->\n              <!-- <span float-right>\n                  <button ion-button icon-start outline small color="secondary" (click)="openItemAddModal(\'non_tag\',\'\',\'add\')">\n                    <ion-icon name="ios-add"></ion-icon> ADD\n                  </button>\n              </span> -->\n            </ion-col>\n          </ion-row>\n          <ion-card class="errorMsg" padding *ngIf="ntErrorMsg">\n            {{ntErrorMsg}}\n          </ion-card>\n          <ion-card class="msg" padding *ngIf="ntMsg">\n            {{ntMsg}}\n          </ion-card>\n          <ion-list *ngIf="(esti_type == \'summary\' && togtype == \'non_tag\')|| esti_type == \'non_tag\'">\n\n          <!-- <ion-list *ngIf="esti[\'non_tag\'].length > 0"> -->\n            <ion-item-sliding margin-top #tags *ngFor="let nt of esti[\'non_tag\'];let i = index;">\n              <ion-item class="no-padding">\n                <div style="text-align: end;font-weight: bold;">\n                  {{nt[\'emp_name\']}}\n                </div>\n                <div style="text-align: end;">\n                  <button ion-button small style="font-size: xx-small;background-color:#1A2A53 !important;"  (click)="chooseemp(i)"><ion-icon  name="person-add"></ion-icon></button>\n\n                  <button ion-button small style="font-size: xx-small;"  (click)="openItemAddModal(\'non_tag\',nt,\'edit\')"><ion-icon name="create"></ion-icon></button>\n\n                  <button ion-button color="danger" (click)="deleteItem(\'non_tag\',i)"><ion-icon name="trash"></ion-icon></button>\n\n                </div>\n                <ion-row>\n                  <ion-col text-wrap col-12 col-md-12 class="custom-2col theme-color-secondary" *ngIf="ret_settings[\'subproduct_required\'] == 1" style="font-size: 11px !important;">\n                    <span *ngIf="nt.collection_name != null">{{nt.collection_name}} <b> | </b> </span>\n                    {{nt.product_name}} <b> | </b>\n                    {{nt.design_name}}\n                  </ion-col>\n                  <ion-col text-wrap col-6 col-md-2 class="custom-2col theme-color-secondary" *ngIf="ret_settings[\'subproduct_required\'] == 0">\n                    <span class="text-small">{{nt.product_name}}</span>\n                  </ion-col>\n                  <ion-col text-wrap col-6 col-md-2 class="custom-2col theme-color-secondary" *ngIf="ret_settings[\'subproduct_required\'] == 0">\n                    <span class="text-small">{{nt.design_name}}</span>\n                  </ion-col>\n                  <ion-col style="margin: auto;" text-wrap col-3 col-md-2 class="custom-2col">\n                    <p class="text-small">Metal Rate </p>\n                  </ion-col>\n                  <ion-col style="margin: auto;" text-wrap col-3 col-md-2 class="custom-2col">\n                    <span [innerHTML]="settings.curr_symb_html"></span> {{nt.rate_per | number:\'1.2-2\' }}\n                  </ion-col>\n                  <ion-col text-wrap col-6 col-md-4 class="custom-2col">\n\n                    <!-- <div style="text-align: end;">\n                      <button ion-button small style="font-size: xx-small;"  (click)="openItemAddModal(\'non_tag\',nt,\'edit\')"><ion-icon name="create"></ion-icon></button>\n\n                      <button small style="font-size: xx-small;" ion-button color="danger" (click)="deleteItem(\'non_tag\',i)"><ion-icon name="trash"></ion-icon></button>\n\n                    </div> -->\n                    </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    <p class="text-small">Purity </p>\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    {{nt.purname}}\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    <p class="text-small">Pcs </p>\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    {{nt.piece}}\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    <p class="text-small">Size </p>\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    {{nt.size}}\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    <p class="text-small">Gross wgt </p>\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    {{nt.gross_wt}} g\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    <p class="text-small">Less Weight </p>\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    {{nt.less_wt}} g\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    <p class="text-small">Net Weight </p>\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    {{nt.net_wt}} g\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    <p class="text-small">Wast ({{nt.retail_max_wastage_percent}} %)  </p>\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    {{nt.wast_wgt}} g\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    <p class="text-small">Total MC </p>\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    <span [innerHTML]="settings.curr_symb_html"></span> {{nt.making_charge | number:\'1.2-2\' }}\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    <p class="text-small">Taxable Amount </p>\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    <span [innerHTML]="settings.curr_symb_html"></span> {{nt.taxable | number:\'1.2-2\' }}\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    <p class="text-small">GST </p>\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    <span [innerHTML]="settings.curr_symb_html"></span> {{nt.tax_price | number:\'1.2-2\' }}\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    <p class="text-small">Amount </p>\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    <span [innerHTML]="settings.curr_symb_html"></span> <b>{{nt.sales_value | number:\'1.2-2\' }}</b>\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    <p class="text-small">section</p>\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    <b>{{nt.section_name}}</b>\n                  </ion-col>\n\n\n                </ion-row>\n              </ion-item>\n              <ion-item-options side="right">\n                <button ion-button *ngIf="esti_type != \'summary\'" color="primary" (click)="openItemAddModal(\'non_tag\',nt,\'edit\')"><ion-icon name="create"></ion-icon></button>\n                <button ion-button color="danger" (click)="deleteItem(\'non_tag\',i)"><ion-icon name="trash"></ion-icon></button>\n              </ion-item-options>\n            </ion-item-sliding>\n          </ion-list>\n        </span>\n        <!-- ./Row 4 Non-Tag -->\n\n        <!-- Row 5 : Home Bill -->\n        <span *ngIf="esti_type == \'summary\' || esti_type == \'home_bill\'" margin-top> \n          <ion-row *ngIf="esti_type == \'summary\' && esti[\'home_bill\']?.length > 0">\n            <ion-col no-padding text-wrap col-12 >\n              <div (click)="tog(\'home_bill\')" class="theme-title-blk"> <ion-icon name="home"></ion-icon> Home Bill Items <ion-badge color="light" float-right>{{esti[\'home_bill\']?.length}}</ion-badge></div>\n            </ion-col>\n            <ion-col text-wrap *ngIf="esti_type == \'home_bill\'">\n            </ion-col>\n          </ion-row>\n\n          <ion-list *ngIf="(esti_type == \'summary\' && togtype == \'home_bill\')|| esti_type == \'home_bill\'">\n            <ion-item-sliding margin-top #tags *ngFor="let hb of esti[\'home_bill\'];let i = index;">\n              <ion-item class="no-padding">\n                <div style="text-align: end;font-weight: bold;">\n                  {{hb[\'emp_name\']}}\n                </div>\n                <ion-row>\n                  <ion-col text-wrap col-3  class="custom-2col">\n                    {{hb.tag_code}}\n                  </ion-col>\n                  <ion-col text-wrap col-12  class="custom-2col theme-color-secondary" *ngIf="ret_settings[\'subproduct_required\'] == 1" style="font-size: 11px !important;">\n                    <span *ngIf="hb.collection_name != null">{{hb.collection_name}} <b> | </b> </span>\n                    {{hb.product_name}} <b> | </b>\n                    {{hb.design_name}}\n                  </ion-col>\n                  <ion-col text-wrap col-4  class="custom-2col theme-color-secondary" *ngIf="ret_settings[\'subproduct_required\'] == 0">\n                    {{hb.product_name}}\n                  </ion-col>\n                  <ion-col text-wrap col-4  class="custom-2col theme-color-secondary" *ngIf="ret_settings[\'subproduct_required\'] == 0">\n                    {{hb.design_name}}\n                  </ion-col>\n                  </ion-row>\n                  <ion-row>\n\n                    <ion-col style="margin: auto;" text-wrap col-3  class="custom-2col">\n                      <p class="text-small">Metal Rate </p>\n                    </ion-col>\n                    <ion-col style="margin: auto;" text-wrap col-3  class="custom-2col">\n                      <span [innerHTML]="settings.curr_symb_html"></span> {{hb.rate_per | number:\'1.2-2\' }}\n                    </ion-col>\n\n                    <ion-col text-wrap col-6  class="custom-2col">\n\n                      <div style="text-align: end;">\n                        <button ion-button small style="font-size: xx-small;background-color:#1A2A53 !important;"  (click)="chooseemp(i)"><ion-icon  name="person-add"></ion-icon></button>\n\n                        <button ion-button small style="font-size: xx-small;"  (click)="openItemAddModal(\'home_bill\',hb,\'edit\')"><ion-icon name="create"></ion-icon></button>\n\n                        <button ion-button small style="font-size: xx-small;" color="danger" (click)="deleteItem(\'home_bill\',i)"><ion-icon name="trash"></ion-icon></button>\n\n                      </div>\n                      </ion-col>\n\n                  <ion-col text-wrap col-3 class="custom-2col">\n                    <p class="text-small">Purity </p>\n                  </ion-col>\n                  <ion-col text-wrap col-3 class="custom-2col">\n                    {{hb.purname}}\n                  </ion-col>\n                  <ion-col text-wrap col-3 class="custom-2col">\n                    <p class="text-small">Pcs </p>\n                  </ion-col>\n                  <ion-col text-wrap col-3 class="custom-2col">\n                    {{hb.piece}}\n                  </ion-col>\n                  </ion-row>\n                  <ion-row>\n\n                  <ion-col text-wrap col-3 class="custom-2col">\n                    <p class="text-small">Size </p>\n                  </ion-col>\n                  <ion-col text-wrap col-3 class="custom-2col">\n                    {{hb.size}}\n                  </ion-col>\n                  <ion-col text-wrap col-3 class="custom-2col">\n                    <p class="text-small">Gross wgt </p>\n                  </ion-col>\n                  <ion-col text-wrap col-3 class="custom-2col">\n                    {{hb.gross_wt}} g\n                  </ion-col>\n                  </ion-row>\n                  <ion-row>\n\n                  <ion-col text-wrap col-3 class="custom-2col">\n                    <p class="text-small">Less Weight </p>\n                  </ion-col>\n                  <ion-col text-wrap col-3 class="custom-2col">\n                    {{hb.less_wt}} g\n                  </ion-col>\n                  <ion-col text-wrap col-3 class="custom-2col">\n                    <p class="text-small">Net Weight </p>\n                  </ion-col>\n                  <ion-col text-wrap col-3 class="custom-2col">\n                    {{hb.net_wt}} g\n                  </ion-col>\n                  </ion-row>\n                  <ion-row>\n\n                  <ion-col text-wrap col-3 class="custom-2col">\n                    <p class="text-small">Wast ({{hb.retail_max_wastage_percehb}} %)  </p>\n                  </ion-col>\n                  <ion-col text-wrap col-3 class="custom-2col">\n                    {{hb.wast_wgt}} g\n                  </ion-col>\n                  <ion-col text-wrap col-3 class="custom-2col">\n                    <p class="text-small">Total MC </p>\n                  </ion-col>\n                  <ion-col text-wrap col-3 class="custom-2col">\n                    <span [innerHTML]="settings.curr_symb_html"></span> {{hb.making_charge | number:\'1.2-2\' }}\n                  </ion-col>\n                  </ion-row>\n                  <ion-row>\n\n                  <ion-col text-wrap col-3 class="custom-2col">\n                    <p class="text-small">Taxable Amount </p>\n                  </ion-col>\n                  <ion-col text-wrap col-3 class="custom-2col">\n                    <span [innerHTML]="settings.curr_symb_html"></span> {{hb.taxable | number:\'1.2-2\' }}\n                  </ion-col>\n                  <ion-col text-wrap col-3 class="custom-2col">\n                    <p class="text-small">GST </p>\n                  </ion-col>\n                  <ion-col text-wrap col-3 class="custom-2col">\n                    <span [innerHTML]="settings.curr_symb_html"></span> {{hb.tax_price | number:\'1.2-2\' }}\n                  </ion-col>\n                  </ion-row>\n                  <ion-row>\n\n                  <ion-col text-wrap col-3 class="custom-2col">\n                    <p class="text-small">Amount </p>\n                  </ion-col>\n                  <ion-col text-wrap col-3 class="custom-2col">\n                    <span [innerHTML]="settings.curr_symb_html"></span> <b>{{hb.sales_value | number:\'1.2-2\' }}</b>\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                    <p class="text-small">section</p>\n                  </ion-col>\n                  <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                   <b *ngIf="hb.section">{{hb.section.section_name}}</b>\n                  </ion-col>\n\n                  </ion-row>\n              </ion-item>\n              <ion-item-options side="right">\n                <button ion-button *ngIf="esti_type != \'summary\'" color="primary" (click)="openItemAddModal(\'home_bill\',hb,\'edit\')"><ion-icon name="create"></ion-icon></button>\n                <button ion-button color="danger" (click)="deleteItem(\'home_bill\',i)"><ion-icon name="trash"></ion-icon></button>\n              </ion-item-options>\n            </ion-item-sliding>\n          </ion-list>\n        </span>\n        <!-- ./Row 5 Home Bill -->\n\n        <!-- Row 6 : Old Gold -->\n        <span *ngIf="esti_type == \'summary\' || esti_type == \'old_metal\'" margin-top> <!-- <span *ngIf="esti[\'is_old_metal\']" margin-top> -->\n          <ion-row  *ngIf="esti_type == \'summary\' && esti[\'old_metal\']?.length > 0">\n            <ion-col no-padding text-wrap col-12 >\n              <div (click)="tog(\'old_metal\')" class="theme-title-blk"> <img class="summary-img-icon" src=\'assets/icon/old_metal_white.svg\' /> Old Metal Items <ion-badge color="light" float-right>{{esti[\'old_metal\']?.length}}</ion-badge></div>\n            </ion-col>\n            <ion-col text-wrap *ngIf="esti_type == \'old_metal\'">\n              <!-- <span float-left class="esti-notes">\n                Add Old Metal Items\n              </span> -->\n              <!-- <span float-right>\n                  <button ion-button icon-start outline small color="secondary" (click)="openItemAddModal(\'old_metal\',\'\',\'add\')">\n                    <ion-icon name="ios-add"></ion-icon> ADD\n                  </button>\n              </span> -->\n            </ion-col>\n          </ion-row>\n          <!-- <ion-card class="errorMsg" padding *ngIf="omErrorMsg">\n            {{omErrorMsg}}\n          </ion-card>\n          <ion-card class="msg" padding *ngIf="omMsg">\n            {{omMsg}}\n          </ion-card> -->\n          <ion-list  *ngIf="(esti_type == \'summary\' && togtype == \'old_metal\')|| esti_type == \'old_metal\'">\n            <ion-item-sliding margin-top #tags *ngFor="let om of esti[\'old_metal\'];let i = index;">\n              <ion-item class="no-padding">\n                <div style="text-align: end;font-weight: bold;">\n                  {{om[\'emp_name\']}}\n                </div>\n                  <ion-row>\n                      <ion-col text-wrap col-3 col-md-2 class="custom-2col" >\n                        <p class="text-small">Metal  </p>\n                      </ion-col>\n                      <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                        {{om.category}}\n                      </ion-col>\n                      <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                        <p class="text-small">Purpose  </p>\n                      </ion-col>\n                      <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                        {{om.purpose}}\n                      </ion-col>\n                      <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                        <p class="text-small">Gross wgt  </p>\n                      </ion-col>\n                      <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                        {{om.gross_wt}} g\n                      </ion-col>\n                      <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                        <p class="text-small">Dust wgt  </p>\n                      </ion-col>\n                      <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                        {{om.dust_wt}} g\n                      </ion-col>\n                      <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                        <p class="text-small">Stone wgt  </p>\n                      </ion-col>\n                      <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                        {{om.stone_wt}} g\n                      </ion-col>\n                      <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                        <p class="text-small">Wast ({{om.wastage}} %)   </p>\n                      </ion-col>\n                      <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                        {{om.wastage_wt}} g\n                      </ion-col>\n                      <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                        <p class="text-small">Net Weight  </p>\n                      </ion-col>\n                      <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                        {{om.net_wt}} g\n                      </ion-col>\n                      <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                        <p class="text-small">Rate  </p>\n                      </ion-col>\n                      <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                        <span [innerHTML]="settings.curr_symb_html"></span> {{om.rate}}\n                      </ion-col>\n                      <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                        <p class="text-small">Amount  </p>\n                      </ion-col>\n                      <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n                        <span [innerHTML]="settings.curr_symb_html"></span> <b>{{om.amount | number:\'1.2-2\' }} </b>\n                      </ion-col>\n                      <ion-col text-wrap col-6 col-md-4 class="custom-2col">\n\n                      <div style="text-align: end;">\n                        <button ion-button small style="font-size: xx-small;background-color:#1A2A53 !important;"  (click)="chooseemp(i)"><ion-icon  name="person-add"></ion-icon></button>\n\n                        <button ion-button small style="font-size: xx-small;"  (click)="openItemAddModal(\'old_metal\',om,\'edit\')"><ion-icon name="create"></ion-icon></button>\n\n                        <button ion-button small style="font-size: xx-small;" color="danger" (click)="deleteItem(\'old_metal\',i)"><ion-icon name="trash"></ion-icon></button>\n\n                      </div>\n                      </ion-col>\n                  </ion-row>\n              </ion-item>\n              <ion-item-options side="right">\n                <button ion-button *ngIf="esti_type != \'summary\'" color="primary" (click)="openItemAddModal(\'old_metal\',om,\'edit\')"><ion-icon name="create"></ion-icon></button>\n                <button ion-button color="danger" (click)="deleteItem(\'old_metal\',i)"><ion-icon name="trash"></ion-icon></button>\n              </ion-item-options>\n            </ion-item-sliding>\n          </ion-list>\n        </span>\n        <!-- ./Row 6 Old Gold -->\n        </div>\n\n    </ion-grid>\n    <br/>\n      <br/>\n      <br/>\n  </ion-content>\n  <ion-footer style="text-align: center;bottom: 80px !important;" *ngIf="page_type == \'create\'">\n    <ion-fab left bottom *ngIf="!scannerOn">\n      <button ion-fab mini color="primary" (click)="openEstiBasicDetailModal()"><ion-icon name="person"></ion-icon></button>\n    </ion-fab>\n    <ion-fab left bottom style="margin-left: 47px;" *ngIf="!scannerOn  && esti_type == \'summary\'">\n      <button ion-fab mini color="primary" (click)="opengift()"><ion-icon name="bookmark"></ion-icon></button>\n    </ion-fab>\n    <ion-fab left bottom style="margin-left: 47px;"  *ngIf="!scannerOn && esti_type != \'summary\' && esti_type != \'tag\' ">\n      <button ion-fab mini color="primary" (click)="openItemAddModal(esti_type,\'\',\'add\')"><ion-icon name="ios-add"></ion-icon></button>\n    </ion-fab>\n    <ion-fab left bottom style="margin-left: 47px;"  *ngIf="!scannerOn && esti_type != \'summary\' && esti_type == \'tag\' ">\n      <button ion-fab mini color="primary" (click)="check()"><ion-icon name="ios-add"></ion-icon></button>\n    </ion-fab>\n    <!-- <img class="ani" style=" " (click)="showreward()" *ngIf="!scannerOn && esti_type != \'summary\'" src="assets/giphy.gif"> -->\n\n<!--  vinsmera no neesed of scan button\n    \n<ion-fab center bottom style="left: 47% !important;" *ngIf="!scannerOn && esti_type != \'summary\'">\n\n      <button *ngIf="checkold != true && esti_type == \'tag\'" ion-fab mini color="primary" style="    width: 95px !important;\n      border-radius: 10px !important;\n      background:#1A2A53 !important;" (click)="openQRScanner(\'tag\')"><ion-icon name="ios-qr-scanner"></ion-icon>SCAN</button>\n        <button *ngIf="checkold == true && esti_type == \'tag\'" ion-fab mini color="primary" style="    width: 105px !important;\n        border-radius: 10px !important;\n        background:#1A2A53 !important;" (click)="openQRScanner(\'tag\')"><ion-icon name="ios-qr-scanner"></ion-icon>OLD SCAN</button>\n  </ion-fab> -->\n\n    <button style="width: 45% !important;" ion-button *ngIf="!scannerOn && esti_type == \'summary\'" icon-start  class="theme-btn" (click)="createEstiprint()">Print</button>\n\n    <button style="width: 45% !important;" ion-button *ngIf="!scannerOn && esti_type == \'summary\'" icon-start  class="theme-btn" (click)="createEsti()">Save</button>\n    <!-- <button *ngIf="scannerOn" ion-button icon-start full class="warning" (click)="closeScanner()">Close Scanner</button>   -->\n  </ion-footer>\n<!-- ./Estimation Create Block  -->\n\n\n<!-- Estimation Print  Block-->\n  <ion-content *ngIf="page_type == \'print\'">\n    <div style="margin-bottom: 100px;">\n\n    <!-- <ion-row>\n      <ion-col>\n        <div class="esti-notes" text-center margin>Enter Estimation No. to re-print estimation</div>\n      </ion-col>\n    </ion-row> -->\n    <div class="row">\n      <div class="col" col-3>\n\n      </div>\n      <div class="col" col-9>\n        <ion-item no-padding>\n          <ion-label color="label-color" stacked>Estimation No<span class="required"> *</span></ion-label>\n          <ion-input type="text" [(ngModel)]="estiDetail[\'esti_no\']" (keyup)="texto1($event)"></ion-input>\n          <button ion-button outline small color="dark" type="button" item-right (click)="getEstiByEstiNo(\'\')"> Search </button>\n      </ion-item>\n      </div>\n    </div>\n\n\n\n    <ion-row>\n      <ion-col no-padding text-wrap col-12>\n        <div class="theme-title-blk"> <ion-icon name="pricetags"></ion-icon> Estimation List  <ion-badge color="light" float-right></ion-badge></div>\n      </ion-col>\n      </ion-row>\n    <ion-row style="    margin-top: 10px;\n    border: 1px solid lightgrey;" *ngFor="let l of list">\n\n      <ion-col>\n        <div class="row">\n        <div class="col" style="    padding: 5px;font-weight: bold;">{{l[\'firstname\']}}\n          <!-- <ion-icon (click)="edit(l[\'cus_id\'])" name="ios-create" style="float: right;"></ion-icon> -->\n        </div>\n        <div  class="col" style="    padding: 5px;">  {{l[\'total_cost\']}}\n          <!-- <ion-icon style="float: right;" (click)="print(l)" name="print"></ion-icon> -->\n\n        </div>\n        <!-- <div style="    padding: 5px;font-weight: bold;">{{l[\'totwt\']}} Grms\n        </div> -->\n      </div>\n      <div class="row">\n        <div  class="col" style="    padding: 5px;">{{l[\'mobile\']}}</div>\n\n      <div class="col"  style="    padding: 5px;">{{l[\'totwt\']}} grms\n      </div>\n    </div>\n        <!-- <div style="    padding: 5px;">\n          <ion-badge style="background: linear-gradient(to right,#1A2A53 0%,#1A2A53 75%,#1A2A53 100%);" *ngIf="l[\'has_converted_order\'] == 0">Open</ion-badge>\n          <ion-badge  style="background: green;" *ngIf="l[\'has_converted_order\'] == 1">Billed</ion-badge>\n\n        </div> -->\n\n      </ion-col>\n      <!-- <ion-col (click)="getEstiByEstiNo(l[\'esti_no\'])" col-3 style="background-color:#1A2A53 !important;text-align: center;">\n        <div style="color: white;font-weight: bold;margin-top:25px">Esti.No</div>\n      <div style="color: white;">{{l[\'esti_no\']}}</div>\n      </ion-col> -->\n\n      <!-- <ion-col  col-4 style="background-color:#1A2A53 !important;text-align: center;">\n        <div class="row">\n          <div class="col" style="border: 1px solid white;    margin-top: 10px;" col-8 (click)="getEstiByEstiNo(l[\'esti_no\'])">\n            <ion-icon style="" (click)="print(l)" name="eye"></ion-icon>\n\n            <div style="color: white;font-weight: bold;">Esti.No</div>\n            <div style="color: white;">{{l[\'esti_no\']}}</div>\n            </div>\n            <div class="col" col-4 style="margin: auto;">\n              <ion-icon style="float: right;font-size: 1.5em !important;margin-top: 15px;" (click)="print(l)" name="print"></ion-icon>\n\n            </div>\n\n        </div>\n\n      </ion-col> -->\n\n      <ion-col  col-4 style="background-color:#1A2A53 !important;text-align: center;">\n        <div class="row">\n          <div class="col" style="border: 1px solid white;        margin-top: 5px;\n          margin-bottom: 5px;" col-8 (click)="getEstiByEstiNo(l[\'esti_no\'])">\n\n            <!-- <div style="color: white;font-weight: bold;">Esti.No</div> -->\n            <div class="row">\n            <div class="col" col-7 *ngIf="l[\'has_converted_order\'] == 0" style="color: white;font-size: 16px !important;    white-space: nowrap;\n            text-overflow: ellipsis;\n            overflow: hidden;">{{l[\'esti_no\']}}</div>\n            <div class="col" col-7 *ngIf="l[\'has_converted_order\'] == 1" style="color: green;font-size: 16px !important;    white-space: nowrap;\n            text-overflow: ellipsis;\n            overflow: hidden;">{{l[\'esti_no\']}}</div>\n\n            <div class="col" col-5>\n              <ion-icon style="margin: auto;color: white;"  name="eye"></ion-icon>\n\n            </div>\n          </div>\n            </div>\n            <!-- <div class="col" col-4 style="margin: auto;">\n              <ion-icon style=""  name="eye"></ion-icon>\n\n            </div> -->\n            <div class="col" col-4 >\n              <ion-icon style="float: right;font-size: 1.5em !important;margin-top: 10px;color: white;" (click)="print(l)" name="print"></ion-icon>\n              <ion-icon *ngIf="l[\'is_billed\'] == 0" style="float: right;font-size: 1.5em !important;margin-top: 15px;color: white;" (click)="edittag(l)" name="create"></ion-icon>\n\n            </div>\n\n        </div>\n\n      </ion-col>\n    </ion-row>\n    </div>\n  </ion-content>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\estimation\estimation.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_4__providers_retail__["a" /* RetailProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["a" /* ActionSheetController */], __WEBPACK_IMPORTED_MODULE_0__angular_core__["j" /* ChangeDetectorRef */], __WEBPACK_IMPORTED_MODULE_12__ionic_native_barcode_scanner__["a" /* BarcodeScanner */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_2__ionic_native_printer__["a" /* Printer */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_4__providers_retail__["a" /* RetailProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */], __WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_6__ionic_native_file_opener__["a" /* FileOpener */], __WEBPACK_IMPORTED_MODULE_8__ionic_native_file_transfer__["a" /* FileTransfer */], __WEBPACK_IMPORTED_MODULE_7__ionic_native_file__["a" /* File */], __WEBPACK_IMPORTED_MODULE_10__ionic_native_file_path__["a" /* FilePath */], __WEBPACK_IMPORTED_MODULE_9__ionic_native_file_chooser__["a" /* FileChooser */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["x" /* Platform */]])
    ], EstiPage);
    return EstiPage;
    var EstiPage_1;
}());

//# sourceMappingURL=estimation.js.map

/***/ }),

/***/ 73:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FolderpressPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



/**
 * Generated class for the FolderpressPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
// @IonicPage()
var FolderpressPage = /** @class */ (function () {
    function FolderpressPage(modal, keyboard, event, navCtrl, renderer, viewCtrl, navParams) {
        this.modal = modal;
        this.keyboard = keyboard;
        this.event = event;
        this.navCtrl = navCtrl;
        this.renderer = renderer;
        this.viewCtrl = viewCtrl;
        this.navParams = navParams;
        this.renderer.setElementClass(viewCtrl.pageRef().nativeElement, 'folderpress', true);
    }
    FolderpressPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad FolderpressPage');
    };
    FolderpressPage.prototype.close = function (data) {
        this.viewCtrl.dismiss(data);
    };
    FolderpressPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-folderpress',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\folderpress\folderpress.html"*/'<!--\n  Generated template for the FolderpressPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n-->\n<ion-header>\n  <ion-navbar>\n    <ion-title style="text-align: center;"><img style="height: 15px;    margin-right: 2px;" src="assets/up-down.png">Sort</ion-title>\n  </ion-navbar>\n</ion-header>\n\n<ion-content no-padding>\n  <ion-row  (click)=\'close("8")\'>\n  \n    <ion-col col-12>\n      NEWEST DESC\n    </ion-col>\n  </ion-row>\n  <ion-row (click)=\'close("9")\'>\n  \n    <ion-col col-12>\n      NEWEST ASC\n    </ion-col>\n  </ion-row>\n  <ion-row  (click)=\'close("3")\'>\n  \n    <ion-col col-12>\n      PRODUCT NAME DESC\n\n    </ion-col>\n  </ion-row>\n  <ion-row (click)=\'close("2")\'>\n  \n    <ion-col col-12>\n      PRODUCT NAME ASC\n\n    </ion-col>\n  </ion-row>\n  <ion-row (click)=\'close("4")\'>\n  \n    <ion-col col-12>\n      PRODUCT COST DESC\n    </ion-col>\n  </ion-row>\n  <ion-row (click)=\'close("5")\'>\n  \n    <ion-col col-12>\n      PRODUCT COST ASC\n    </ion-col>\n  </ion-row>\n  <ion-row  (click)=\'close("6")\'>\n    <ion-col col-12>\n      GROSS WT DESC\n    </ion-col>\n  </ion-row>\n  <ion-row  (click)=\'close("7")\'>\n    \n    <ion-col col-12>\n      GROSS WT ASC\n    </ion-col>\n  </ion-row>\n</ion-content>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\folderpress\folderpress.html"*/,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["p" /* Keyboard */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_0__angular_core__["V" /* Renderer */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["B" /* ViewController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */]])
    ], FolderpressPage);
    return FolderpressPage;
}());

//# sourceMappingURL=folderpress.js.map

/***/ }),

/***/ 774:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return test; });
var test = "Hello";


/***/ }),

/***/ 775:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SupcatPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_retail__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__avrsearch_avrsearch__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__supprod_supprod__ = __webpack_require__(776);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var SupcatPage = /** @class */ (function () {
    // {'metal':'gold','image':'','name':'gold'}
    function SupcatPage(events, navCtrl, navParams, load, retailService) {
        var _this = this;
        this.events = events;
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.load = load;
        this.retailService = retailService;
        this.categories = [];
        this.last_id = 0;
        this.empData = JSON.parse(localStorage.getItem('empDetail'));
        this.pagename = this.navParams.get('pagename');
        console.log(this.empData);
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        var postData = {
            'id_employee': this.empData['uid'] != null ? this.empData['uid'] : null,
            'type': 'active',
            'last_id': this.last_id,
            'status': this.pagename
        };
        this.retailService.getsupCategories(postData).then(function (data) {
            _this.categories = data;
            console.log(_this.categories);
            loader.dismiss();
        }, function (err) {
            loader.dismiss();
        });
    }
    SupcatPage.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        console.log(this.categories);
        this.last_id = this.categories[this.categories.length - 1]['id_ret_category'];
        console.log(this.last_id);
        var postData = {
            'id_employee': this.empData['uid'] != null ? this.empData['uid'] : null,
            'type': 'active',
            'last_id': this.last_id,
            'status': this.pagename
        };
        this.retailService.getsupCategories(postData).then(function (data) {
            console.log(data);
            for (var index = 0; index < data.length; index++) {
                _this.categories.push(data[index]);
            }
            infiniteScroll.complete();
        });
    };
    SupcatPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad CategoryPage');
    };
    SupcatPage.prototype.openProduct = function (id_ret_category) {
        console.log(id_ret_category);
        console.log(this.categories);
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__supprod_supprod__["a" /* SupprodPage */], { 'id_category': id_ret_category, 'data': this.categories, 'pagename': this.pagename });
    };
    SupcatPage.prototype.open = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_3__avrsearch_avrsearch__["a" /* AvrsearchPage */], { 'supplier': true });
    };
    SupcatPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    SupcatPage.prototype.ionViewWillEnter = function () {
        this.events.publish('entered', true);
        this.events.publish('pageno', 2);
    };
    SupcatPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-supcat',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\supcat\supcat.html"*/'<ion-header>\n  <ion-navbar>\n      <button ion-button menuToggle><ion-icon name="menu"></ion-icon></button>\n      <ion-title>Supplier Categories\n          <ion-icon  name="md-funnel" (click)="open()" style="color:black !important;float: right;" ></ion-icon>\n\n      </ion-title> \n  </ion-navbar> \n</ion-header> \n\n\n<ion-content> \n  <ion-grid no-padding>\n      <ion-row *ngIf="categories.length > 0" text-center>\n          <ion-col text-wrap col-6 col-sm-6 col-md-4 col-lg-4 col-xl-4  *ngFor="let item of categories; let i=index" class="custom-2col" [ngClass]="animateClass" (click)="openProduct(item.id_ret_category)">\n              <ion-card style="border: 1px solid#000000;\n              border-style: dotted;\n              border-bottom: none;">\n                  <div style="float: right;width: 64%;" text-center no-margin>\n                      <h5 class="text-small theme-color" style="color: white !important;    text-transform: capitalize;background: black !important;\n                      border-top-left-radius: 15px;\n                      border-bottom-right-radius: 15px;    padding-left: 10px;\n  padding-right: 10px;\n  padding-top: 2px;\n  padding-bottom: 2px;    overflow: scroll;\n  white-space: nowrap;">{{item.metal}}</h5>\n                  </div>\n                  <div>\n                      <img class="full-image" src=\'{{item.image}}\' onerror="this.onerror=null;this.src=\'assets/no-img.png\';" imageCache/>\n\n                  </div>\n                  <ion-item style="background:#000000 !important;\n                  border-top-left-radius: 15px;\n                  border-top-right-radius: 15px;    margin-top: 2px !important;" text-center no-margin>\n                      <h5 class="text-small theme-color" style="color: white !important;    text-transform: uppercase;    overflow: scroll;\n                      white-space: nowrap;">{{item.name}}</h5>\n                  </ion-item>\n              </ion-card> \n          </ion-col>\n      </ion-row> \n  </ion-grid> \n  <ion-row *ngIf="categories.length == 0 " style="text-align: center;">\n      <ion-col>\n          <h4>No Products Found</h4>\n      </ion-col>\n  </ion-row>\n\n  <ion-infinite-scroll (ionInfinite)="doInfinite($event)">\n      <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="Loading more data..."></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n\n</ion-content>'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\supcat\supcat.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_retail__["a" /* RetailProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_2__providers_retail__["a" /* RetailProvider */]])
    ], SupcatPage);
    return SupcatPage;
}());

//# sourceMappingURL=supcat.js.map

/***/ }),

/***/ 776:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SupprodPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_retail__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__avrsearch_avrsearch__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__subdesign_subdesign__ = __webpack_require__(91);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





// @IonicPage()
var SupprodPage = /** @class */ (function () {
    function SupprodPage(events, navCtrl, load, navParams, retailService) {
        var _this = this;
        this.events = events;
        this.navCtrl = navCtrl;
        this.load = load;
        this.navParams = navParams;
        this.retailService = retailService;
        this.empData = JSON.parse(localStorage.getItem('empDetail'));
        this.categoryitems = this.navParams.get('data');
        this.id_ret_category = this.navParams.get('id_category');
        this.products = [];
        this.last_id = 0;
        this.pagename = this.navParams.get('pagename');
        console.log(this.categoryitems);
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        var postData = {
            'id_employee': this.empData['uid'] != null ? this.empData['uid'] : null,
            'type': 'active',
            'id_category': this.id_ret_category,
            'last_id': this.last_id,
            'status': this.pagename
        };
        this.retailService.getsupProducts(postData).then(function (data) {
            _this.products = data;
            console.log(_this.products);
            loader.dismiss();
        });
    }
    SupprodPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad ProductsPage');
    };
    SupprodPage.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        console.log(this.products);
        this.last_id = this.products[this.products.length - 1]['pro_id'];
        console.log(this.last_id);
        var postData = {
            'id_employee': this.empData['uid'] != null ? this.empData['uid'] : null,
            'type': 'active',
            'id_category': this.id_ret_category,
            'last_id': this.last_id,
            'status': this.pagename
        };
        this.retailService.getsupProducts(postData).then(function (data) {
            console.log(data);
            for (var index = 0; index < data.length; index++) {
                _this.products.push(data[index]);
            }
            infiniteScroll.complete();
        });
    };
    SupprodPage.prototype.openDesign = function (pro_id) {
        console.log(pro_id);
        console.log(this.products);
        // this.navCtrl.push(DesignsPage,{'id_product':pro_id,      'id_category': this.id_ret_category,
        // 'data':this.products,'pagename':this.pagename});
        var temp = { "Category": [
                {
                    "category_code": this.id_ret_category,
                }
            ],
            "Product": [
                {
                    "productcode": pro_id,
                    "category_code": this.id_ret_category,
                    'id_product': pro_id
                }
            ],
        };
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__subdesign_subdesign__["a" /* SubdesignPage */], { 'filter': temp });
    };
    SupprodPage.prototype.ionViewWillEnter = function () {
        var user = true;
        //  this.events.publish('user:created', user);
        this.events.publish('entered', true);
        this.events.publish('pageno', 1);
    };
    SupprodPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    SupprodPage.prototype.open = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_3__avrsearch_avrsearch__["a" /* AvrsearchPage */], { 'supplier': true });
    };
    SupprodPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-supprod',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\supprod\supprod.html"*/'<!--\n  Generated template for the ProductsPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n-->\n<ion-header>\n  <ion-navbar>\n      <button ion-button menuToggle><ion-icon name="menu"></ion-icon></button>\n      <ion-title>Supplier Products\n          <ion-icon  name="md-funnel" (click)="open()" style="color:black !important;float: right;" ></ion-icon>\n\n      </ion-title> \n  </ion-navbar> \n</ion-header> \n\n<ion-content>\n  <ion-grid no-padding>\n      <ion-row *ngIf="products.length > 0" text-center>\n          <ion-col text-wrap col-6 col-sm-6 col-md-4 col-lg-4 col-xl-4  *ngFor="let item of products; let i=index" class="custom-2col" [ngClass]="animateClass" (click)="openDesign(item.pro_id)">\n              <ion-card style="border: 1px solid#000000;\n              border-style: dotted;\n              border-bottom: none;">\n                  <div style="float: right;width: 64%;" text-center no-margin>\n                      <h5 class="text-small theme-color" style="color: white !important;    text-transform: capitalize;background: black !important;\n                      border-top-left-radius: 15px;\n                      border-bottom-right-radius: 15px;    padding-left: 10px;\n  padding-right: 10px;\n  padding-top: 2px;\n  padding-bottom: 2px;    overflow: scroll;\n  white-space: nowrap;">{{item.category}}</h5>\n                  </div>\n                  <div>\n\n                  <img class="full-image" src=\'{{item.image}}\' onerror="this.onerror=null;this.src=\'assets/no-img.png\';" imageCache/>\n                 </div>\n                 <ion-item style="background:#000000 !important;\n                  border-top-left-radius: 15px;\n                  border-top-right-radius: 15px;    margin-top: 2px !important;" text-center no-margin>\n                      <h5 class="text-small theme-color" style="color: white !important;    text-transform: uppercase;    overflow: scroll;\n                      white-space: nowrap;">{{item.product_name}}</h5>\n                  </ion-item>\n              </ion-card> \n          </ion-col>\n      </ion-row> \n  </ion-grid>  \n\n  <ion-row *ngIf="products.length == 0 " style="text-align: center;">\n      <ion-col>\n          <h4>{{errormsg}}</h4>\n      </ion-col>\n  </ion-row>\n\n  <ion-infinite-scroll (ionInfinite)="doInfinite($event)">\n      <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="Loading more data..."></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n\n</ion-content>'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\supprod\supprod.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_retail__["a" /* RetailProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */], __WEBPACK_IMPORTED_MODULE_2__providers_retail__["a" /* RetailProvider */]])
    ], SupprodPage);
    return SupprodPage;
}());

//# sourceMappingURL=supprod.js.map

/***/ }),

/***/ 777:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TruncatePipe; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

/**
 * Generated class for the TruncatePipe pipe.
 *
 * See https://angular.io/api/core/Pipe for more info on Angular Pipes.
 */
var TruncatePipe = /** @class */ (function () {
    function TruncatePipe() {
    }
    TruncatePipe.prototype.transform = function (value, args) {
        // let limit = args.length > 0 ? parseInt(args[0], 10) : 10;
        // let trail = args.length > 1 ? args[1] : '...';
        var limit = args ? parseInt(args, 10) : 10;
        var trail = '...';
        console.log('pipe');
        console.log(value.length > limit ? value.substring(0, limit) + trail : value);
        return value.length > limit ? value.substring(0, limit) + trail : value;
    };
    TruncatePipe = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["S" /* Pipe */])({
            name: 'limitTo',
        })
    ], TruncatePipe);
    return TruncatePipe;
}());

//# sourceMappingURL=truncate.js.map

/***/ }),

/***/ 778:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FilterPipe; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var FilterPipe = /** @class */ (function () {
    function FilterPipe() {
    }
    /*  transform(filter_options: any[], filterargs: Object): any {
         if (!filter_options || !filterargs) {
             return filter_options;
         }
         // filter items array, items which match and return true will be kept, false will be filtered out
         return filter_options.filter(item => item.id_filter == 1);
         //return filter_options;
     } */
    FilterPipe.prototype.transform = function (filter_options, filterargs) {
        return filter_options.filter(function (item) {
            for (var field in filterargs) {
                if (item[field] !== filterargs[field]) {
                    return false;
                }
            }
            return true;
        });
    };
    FilterPipe = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["S" /* Pipe */])({
            name: 'myfilter',
            pure: false
        })
    ], FilterPipe);
    return FilterPipe;
}());

//# sourceMappingURL=filter-pipe.pipe.js.map

/***/ }),

/***/ 779:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TreeView; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var TreeView = /** @class */ (function () {
    function TreeView(events) {
        this.events = events;
        this.hasCheckbox = true;
        this.selected = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["v" /* EventEmitter */]();
    }
    TreeView.prototype.toggleChildren = function (node) {
        node.visible = !node.visible;
        node.icon = (node.visible == true ? "arrow-dropdown-circle" : "arrow-dropright-circle");
    };
    TreeView.prototype.prodSelected = function (prodData) {
        this.events.publish('treeProd:selected', prodData);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["D" /* Input */])(),
        __metadata("design:type", Array)
    ], TreeView.prototype, "TreeData", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["D" /* Input */])(),
        __metadata("design:type", Boolean)
    ], TreeView.prototype, "hasCheckbox", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["O" /* Output */])(),
        __metadata("design:type", Object)
    ], TreeView.prototype, "selected", void 0);
    TreeView = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'tree-view',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\components\tree-view\tree-view.html"*/'<div *ngFor="let item of TreeData" style="padding-left:20px">         \n    <ion-grid no-padding>\n        <ion-row>\n            <ion-col col-1 class="right" style="margin:auto;text-align:center">\n            <div>\n               <ion-icon style="font-size:large" item-start *ngIf="item.children?.length" (click)="toggleChildren(item)" color="theme-color" [name]="item.icon" tappable></ion-icon>       \n            </div>\n            </ion-col> \n            <ion-col class="left">\n                <ion-item style="padding:0" no-lines>\n                    <ion-label style="font-size: 13px;font-weight: 500"> {{item.label}}</ion-label>\n                    <ion-checkbox item-start *ngIf="item.children?.length == 0" style="margin-right: 15px" [(ngModel)]="item.checked" color="theme-color" (click)="prodSelected(item)"></ion-checkbox>\n                    <ion-checkbox item-start *ngIf="item.children?.length > 0" style="margin-right: 15px" [(ngModel)]="item.checked" color="theme-color" disabled="true"></ion-checkbox>\n                </ion-item>\n            </ion-col>\n        </ion-row>\n    </ion-grid>\n    <tree-view [TreeData]="item.children" *ngIf="item.visible" [hasCheckbox]="hasCheckbox"></tree-view>\n    \n</div>\n	'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\components\tree-view\tree-view.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */]])
    ], TreeView);
    return TreeView;
}());

//# sourceMappingURL=tree-view.js.map

/***/ }),

/***/ 780:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ItemsListComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_retail__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__pages_design_detail_design_detail__ = __webpack_require__(202);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__pages_cart_cart__ = __webpack_require__(27);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__pages_modal_customer_customer__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__pages_cart_list_view_cart_list_view__ = __webpack_require__(429);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var ItemsListComponent = /** @class */ (function () {
    function ItemsListComponent(cd, events, load, navCtrl, common, retail, modal) {
        var _this = this;
        this.cd = cd;
        this.events = events;
        this.load = load;
        this.navCtrl = navCtrl;
        this.common = common;
        this.retail = retail;
        this.modal = modal;
        this.no_more_data = false;
        this.qty = 1;
        this.items = [];
        this.total_weight = 0.00;
        this.itemsList = [];
        this.last_id = 0;
        this.selectedItems = [];
        this.currAndSett = JSON.parse(localStorage.getItem('currencyAndSettings'));
        this.cusData = JSON.parse(localStorage.getItem('currentCustomer'));
        this.empData = JSON.parse(localStorage.getItem('empDetail'));
        events.subscribe('AddToCart:completed', function (status) {
            if (status) {
                // Remove from list 
                _this.selectedItems.forEach(function (value, index) {
                    var item = _this.itemsList[index];
                    _this.itemsList.splice(index, 1);
                    _this.total_weight = _this.total_weight - parseFloat(item.weight);
                });
                _this.selectedItems = [];
                if (_this.itemsList.length == 0) {
                    _this.is_empty = (_this.itemsList.length > 0 ? 0 : 1);
                }
                if (_this.page == "Wishlist") {
                    _this.events.publish('wishListItems:selected', _this.selectedItems);
                }
                else if (_this.page == "Cart") {
                    _this.events.publish('cartItems:selected', _this.selectedItems);
                }
                _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__pages_cart_cart__["a" /* CartPage */]);
            }
        });
        events.subscribe('Order:created', function (status) {
            if (status) {
                console.log(_this.selectedItems);
                console.log(_this.itemsList);
                _this.total_weight = 0;
                // Remove from list 
                _this.selectedItems.forEach(function (value, index) {
                    var indx = _this.itemsList.indexOf(value);
                    console.log(indx);
                    if (indx >= 0) {
                        _this.itemsList.splice(indx, 1);
                        console.log(_this.itemsList);
                    }
                });
                _this.itemsList.forEach(function (data, index) {
                    _this.total_weight = _this.total_weight + parseFloat(data['weight']);
                });
                var local = JSON.parse(localStorage.getItem('carts'));
                console.log(local);
                localStorage.setItem('carts', JSON.stringify({ "id_branch": local['id_branch'], "id_employee": local['id_employee'], "id_customer": '', "status": 1, "items": _this.itemsList }));
                _this.selectedItems = [];
                if (_this.itemsList.length == 0) {
                    _this.is_empty = (_this.itemsList.length > 0 ? 0 : 1);
                }
                if (_this.page == "Wishlist") {
                    _this.events.publish('wishListItems:selected', _this.selectedItems);
                }
                else if (_this.page == "Cart") {
                    _this.events.publish('cartItems:selected', _this.selectedItems);
                }
            }
        });
        if (this.cusData == null) {
            this.cusData = { "label": "" };
        }
    }
    ItemsListComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        // console.log(this.cusData);
        // if(this.cusData != null){
        //     this.getItemslist(1,''); 
        // }else{
        //     this.openCusModal();
        // }      
        console.log(localStorage.getItem('carts'));
        this.itemsList = localStorage.getItem('carts') != null ? JSON.parse(localStorage.getItem('carts'))['items'] : [];
        console.log(localStorage.getItem('carts'));
        this.total_weight = 0;
        this.itemsList.forEach(function (i) {
            _this.total_weight = _this.total_weight + parseFloat(i['weight']);
        });
        this.is_empty = (this.itemsList.length > 0 ? 0 : 1);
        console.log(this.itemsList);
    };
    ItemsListComponent.prototype.itemSelected = function (ev, item, idx) {
        console.log(this.selectedItems);
        console.log(this.page);
        console.log(idx);
        console.log(item);
        console.log(ev);
        console.log(ev == true);
        if (ev == true) {
            this.selectedItems.push(item);
            console.log(this.selectedItems);
            if (this.page == "Wishlist") {
                this.events.publish('wishListItems:selected', this.selectedItems);
            }
            else if (this.page == "Cart") {
                this.events.publish('cartItems:selected', this.selectedItems);
            }
        }
        else {
            var index = this.selectedItems.indexOf(item);
            console.log(index);
            if (index >= 0) {
                this.selectedItems.splice(index, 1);
                console.log(this.selectedItems);
                if (this.page == "Wishlist") {
                    this.events.publish('wishListItems:selected', this.selectedItems);
                }
                else if (this.page == "Cart") {
                    this.events.publish('cartItems:selected', this.selectedItems);
                }
            }
        }
        // if(ev == true){
        //     if(this.page == "Wishlist"){
        //         this.selectedItems[idx] = item['id_wishlist'];
        //     }
        //     else if(this.page == "Cart"){
        //         this.selectedItems[idx] = item;
        //     }
        // }else{
        //     this.selectedItems.splice(idx, 1);
        // }   
    };
    ItemsListComponent.prototype.openCusModal = function () {
        var _this = this;
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_6__pages_modal_customer_customer__["a" /* CusSearchPage */]);
        modal.present();
        modal.onDidDismiss(function (mData) {
            if (mData != null) {
                localStorage.setItem('currentCustomer', JSON.stringify(mData));
                _this.cusData = mData;
            }
        });
    };
    ItemsListComponent.prototype.getItemslist = function (type, infiniteScroll) {
        var _this = this;
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        if (type == 1) {
            loader.present();
            this.last_id = 0;
        }
        var status = (this.page == "Wishlist" ? 1 : (this.page == 'Cart' ? 2 : 0));
        var postData = { "id_branch": this.empData['id_branch'], "id_employee": this.empData['id_employee'], "id_customer": this.cusData['id_customer'], "status": status, "last_id": this.last_id };
        this.retail.getItemslist(postData).then(function (result) {
            if (result.status) {
                if (type == 1) {
                    if (_this.reActiveInfinite) {
                        _this.no_more_data = false;
                        _this.reActiveInfinite.enable(true);
                    }
                    _this.itemsList = result.data;
                    _this.total_weight = 0;
                    _this.itemsList.forEach(function (i) {
                        _this.total_weight = _this.total_weight + parseFloat(i['weight']);
                    });
                }
                else {
                    var data = result.data;
                    for (var index = 0; index < data.length; index++) {
                        _this.itemsList.push(data[index]);
                        _this.total_weight = _this.total_weight + parseFloat(data[index]['weight']);
                    }
                    if (data.length > 0) {
                        _this.no_more_data = false;
                        infiniteScroll.complete();
                    }
                    else {
                        infiniteScroll.complete();
                        _this.no_more_data = true;
                        infiniteScroll.enable(false);
                    }
                }
            }
            _this.is_empty = (_this.itemsList.length > 0 ? 0 : 1);
            loader.dismiss();
        }, function (error) {
            loader.dismiss();
        });
    };
    ItemsListComponent.prototype.doInfinite = function (infiniteScroll) {
        this.last_id = this.itemsList[this.itemsList.length - 1]['id_wishlist'];
        this.reActiveInfinite = infiniteScroll;
        this.getItemslist(2, infiniteScroll);
    };
    ItemsListComponent.prototype.editItem = function (item, idx) {
        // this.navCtrl.push(DesignDetailPage,{'design_no':item.design_no, 'item' : item});
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__pages_design_detail_design_detail__["a" /* DesignDetailPage */], { 'id_category': item['id_category'], 'id_product': item['id_product'], 'design_no': item['design_no'], 'id_sub_design': item['id_sub_design'], 'type': 'edit', 'item': item });
    };
    ItemsListComponent.prototype.deleteItem = function (id_wishlist, weight, idx) {
        this.itemSelected(false, this.itemsList[idx], idx);
        var local = JSON.parse(localStorage.getItem('carts'));
        this.total_weight = this.total_weight - parseFloat(weight);
        this.itemsList.splice(idx, 1);
        local['items'] = this.itemsList;
        localStorage.setItem('carts', JSON.stringify(local));
        this.is_empty = (this.itemsList.length > 0 ? 0 : 1);
        // let loader = this.load.create({
        //     content: 'Please Wait',
        //     spinner: 'bubbles',
        // });
        // loader.present();
        // this.retail.removeItem({"id_wishlist" : id_wishlist}).then(result => {
        //     this.common.presentToast( result.msg,'' );
        //     if(result.status){
        //         this.total_weight = this.total_weight - parseFloat(weight);
        //         this.itemsList.splice(idx, 1);
        //     } 
        //     loader.dismiss();
        // }, error => {
        //     loader.dismiss();
        // });
    };
    ItemsListComponent.prototype.openDesign = function (design_no) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__pages_design_detail_design_detail__["a" /* DesignDetailPage */], { 'design_no': design_no, 'type': 'edit' });
    };
    // add( product ) {
    //     this.total_weight = 0.00;
    //     this.items.forEach(( orders ) => { // foreach statement
    //         console.log(orders);
    //         if ( orders.id_product == product.id_product && orders.sizeorlen == product.sizeorlen ) {
    //             orders.qty = parseFloat(product.qty) + 1;
    //         }
    //         var wgt = Number(orders.reqweight);
    //         var qty =(orders.qty);
    //         this.total_weight +=qty*wgt;
    //         console.log(wgt+"--"+qty+"--"+this.total_weight);
    //     } );
    //     localStorage.setItem( 'appcartitems', JSON.stringify( this.items ) );
    // }
    // sub( product ) {
    //     this.total_weight = 0.00;
    //     this.items.forEach(( orders ) => { // foreach statement
    //         if ( orders.id_product == product.id_product && orders.sizeorlen == product.sizeorlen ) {
    //             if ( product.qty != 1 )
    //                 orders.qty = product.qty - 1;
    //         }
    //         var wgt =Number(orders.reqweight);
    //         var qty = orders.qty ;
    //         this.total_weight +=qty*wgt;
    //         console.log(wgt+"--"+qty+"--"+this.total_weight);
    //     } );
    //     localStorage.setItem( 'appcartitems', JSON.stringify( this.items ) );
    // }
    ItemsListComponent.prototype.holdCount = function (d, i) {
        var _this = this;
        console.log('press');
        this.timeoutHandler = setTimeout(function () {
            console.log("has been long pressed");
            _this.timeoutHandler = null;
            console.log(_this.selectedItems);
            console.log(_this.page);
            console.log(i);
            var index = _this.selectedItems.indexOf(d);
            console.log(index);
            if (index < 0) {
                _this.itemsList[i]['selected'] = true;
                _this.selectedItems.push(d);
                _this.cd.detectChanges();
                if (_this.page == "Wishlist") {
                    _this.events.publish('wishListItems:selected', _this.selectedItems);
                }
                else if (_this.page == "Cart") {
                    _this.events.publish('cartItems:selected', _this.selectedItems);
                }
            }
            else {
                _this.itemsList[i]['selected'] = false;
                _this.selectedItems.splice(index, 1);
                console.log(_this.selectedItems);
                _this.cd.detectChanges();
                if (_this.page == "Wishlist") {
                    _this.events.publish('wishListItems:selected', _this.selectedItems);
                }
                else if (_this.page == "Cart") {
                    _this.events.publish('cartItems:selected', _this.selectedItems);
                }
            }
        }, 1000);
    };
    ItemsListComponent.prototype.openModel = function (item, i) {
        console.log(item, i, 'ggggggggggg');
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__pages_cart_list_view_cart_list_view__["a" /* CartListViewPage */], { data: item });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["D" /* Input */])(),
        __metadata("design:type", Object)
    ], ItemsListComponent.prototype, "page", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_8" /* ViewChild */])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* Content */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* Content */])
    ], ItemsListComponent.prototype, "content", void 0);
    ItemsListComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'items-list',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\components\items-list\items-list.html"*/'<!-- 1. Customer Search Block -->\n<!-- <ion-row>\n	<ion-col>\n		<ion-item no-padding>\n			<ion-label color="label-color" stacked>Customer <span class="required"> *</span></ion-label>\n			<ion-input type="text" [(ngModel)]="cusData[\'label\']" (tap)="openCusModal()" readonly></ion-input>\n			<button ion-button outline small color="dark" type="button" item-right (click)="getItemslist(1,\'\')"> Get {{page}} </button> \n		</ion-item>\n	</ion-col>\n</ion-row> -->\n\n\n<!-- 2. No Data Block -->\n<div class="no-data-blk" text-center *ngIf="is_empty == 1" >\n	<p class="no-data-txt">{{page}} Is Empty</p>\n</div>\n	\n\n <!-- 3. List Block -->  \n<ion-list *ngIf="itemsList?.length > 0" class="list-blk">\n	<ion-card *ngFor=" let item of itemsList; let i=index " nowrap> \n		<ion-row style="background: #cccccc2e;">\n			<ion-col col-8>\n				<ion-checkbox [(ngModel)]="item.selected" (ngModelChange)="itemSelected($event,item,i)"></ion-checkbox>\n			</ion-col>\n			<ion-col col-2>\n				<!-- <button ion-button clear small float-right no-margin color="primary" (click)="editItem(item,i)" [disabled]="item.selected"><ion-icon name="create"></ion-icon></button> -->\n			</ion-col>\n			<ion-col col-2>\n				<button ion-button clear small float-right no-margin color="danger" (click)="deleteItem(item.id_wishlist,item.weight,i)" [disabled]="item.selected"><ion-icon name="trash"></ion-icon></button>\n			</ion-col>\n		</ion-row>\n		<ion-row no-padding>\n			<ion-col (press)="holdCount(item,i)"  no-padding>\n				<ion-item-sliding (click)="openModel(item,i)">\n				<ion-item no-padding>\n					<!-- <ion-thumbnail *ngIf="!item.hasOwnProperty(\'sample_images.length == 0\')" item-start><img style="object-fit: cover;" src="{{item.image}}" imageViewer="{{item.image}}" onerror="this.onerror=null;this.src=\'assets/no-img.png\';"/></ion-thumbnail> \n					<ion-thumbnail *ngIf="item.hasOwnProperty(\'sample_images.length != 0\')" item-start><img style="object-fit: cover;" src="{{BaseURL}}/assets/img/orders/{{item[\'sample_images\'][0]}}" imageViewer="{{BaseURL}}/assets/img/orders/{{item[\'sample_images\'][0]}}" onerror="this.onerror=null;this.src=\'assets/no-img.png\';"/></ion-thumbnail>  -->\n				<ion-thumbnail *ngIf="!item.sample_images || item.sample_images.length === 0" item-start>\n				<img\n					style="object-fit: cover;"\n					[src]="item.image"	\n					[imageViewer]="item.image"\n					onerror="this.onerror=null;this.src=\'assets/no-img.png\';" />\n				</ion-thumbnail>\n\n				<ion-thumbnail *ngIf="item.sample_images && item.sample_images.length > 0" item-start>\n				<img\n					style="object-fit: cover;"\n					[src]="item.sample_images[0]"\n					[imageViewer]="item.sample_images[0]"\n					onerror="this.onerror=null;this.src=\'assets/no-img.png\';" />\n				</ion-thumbnail>\n\n					<p style="font-weight: bold;"> {{item.sub_design_name}}</p>\n					<p no-margin class="text-xsmall">{{item.design_name}}</p>\n					<p no-margin class="text-xsmall">{{item.ProductName}}</p>\n					<p no-margin class="text-small" float-left>{{item.weight}} g</p>\n					<!-- <p no-margin class="text-small" float-right><span [innerHTML]="currAndSett.settings.curr_symb_html"></span> {{item.rate}}</p> -->\n				</ion-item>\n				<ion-item-options side="right">\n					<button ion-button color="danger" (click)="deleteItem(item.id_wishlist,item.weight,i)"><ion-icon name="trash"></ion-icon></button>\n				</ion-item-options>\n			</ion-item-sliding>\n			</ion-col>\n		</ion-row>\n	</ion-card>\n	<p style="text-align: right;margin-right: 10px;" class="theme-color-secondary">Total Weight : {{total_weight | number : \'1.0-3\'}} g </p>\n\n	<!-- <ion-item-sliding *ngFor=" let item of itemsList; let i=index ">\n		<ion-item-options side="left">\n			<button ion-button color="danger" (click)="deleteItem()"><ion-icon name="trash"></ion-icon></button>\n		</ion-item-options>\n		<ion-item no-lines no-padding nowrap>\n			<ion-thumbnail item-start><img src="{{item.image}}"></ion-thumbnail>\n			<span>\n				<p>{{item.design_name}}</p>\n				<p class="text-xsmall">{{item.product_name}}</p>\n				<p class="text-small" float-left>{{item.weight}} g</p>\n				<p class="text-small" float-right><span [innerHTML]="currAndSett.settings.curr_symb_html"></span> {{item.rate}}</p>\n			</span>  \n		</ion-item> \n		<ion-item-options side="right">\n			<button ion-button color="primary" (click)="viewItem(item,i)"><ion-icon name="eye"></ion-icon></button>\n			<button ion-button color="danger" (click)="deleteItem(item,i)"><ion-icon name="trash"></ion-icon></button>\n		</ion-item-options>\n	</ion-item-sliding> -->\n</ion-list>\n<!-- <ion-infinite-scroll (ionInfinite)="doInfinite($event)">\n	<ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="Loading more data..."></ion-infinite-scroll-content>\n</ion-infinite-scroll> -->\n<div *ngIf="no_more_data" align="center">\n	<ion-note floar-center>No more Items</ion-note>\n</div>\n\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\components\items-list\items-list.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_0__angular_core__["j" /* ChangeDetectorRef */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_3__providers_retail__["a" /* RetailProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */]])
    ], ItemsListComponent);
    return ItemsListComponent;
}());

//# sourceMappingURL=items-list.js.map

/***/ }),

/***/ 781:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EdittagPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ionic_native_printer__ = __webpack_require__(95);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_retail__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__modal_add_esti_item_add_esti_item__ = __webpack_require__(193);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__modal_esti_basic_detail_esti_basic_detail__ = __webpack_require__(428);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__ionic_native_file_opener__ = __webpack_require__(51);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__ionic_native_file__ = __webpack_require__(22);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__ionic_native_file_transfer__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__ionic_native_file_chooser__ = __webpack_require__(50);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__ionic_native_file_path__ = __webpack_require__(24);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__home_home__ = __webpack_require__(31);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_ionic_cordova_plugin_ratio_crop__ = __webpack_require__(69);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__ionic_native_camera__ = __webpack_require__(32);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__ionic_native_transfer__ = __webpack_require__(58);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__ionic_native_barcode_scanner__ = __webpack_require__(64);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17_ngx_image_compress__ = __webpack_require__(40);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__ionic_native_image_picker__ = __webpack_require__(65);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};


// import { QRScanner, QRScannerStatus } from '@ionic-native/qr-scanner';

















var EdittagPage = /** @class */ (function () {
    function EdittagPage(alertCtrl, imagePicker, cd, imageCompress, barcodeScanner, transfer1, crop, camera, actionSheetCtrl, navParams, navCtrl, load, printer, nav, events, commonservice, retail, toast, event, modal, common, fileOpener, transfer, file, filePath, fileChooser, platform) {
        this.alertCtrl = alertCtrl;
        this.imagePicker = imagePicker;
        this.cd = cd;
        this.imageCompress = imageCompress;
        this.barcodeScanner = barcodeScanner;
        this.transfer1 = transfer1;
        this.crop = crop;
        this.camera = camera;
        this.actionSheetCtrl = actionSheetCtrl;
        this.navParams = navParams;
        this.navCtrl = navCtrl;
        this.load = load;
        this.printer = printer;
        this.nav = nav;
        this.events = events;
        this.commonservice = commonservice;
        this.retail = retail;
        this.toast = toast;
        this.event = event;
        this.modal = modal;
        this.common = common;
        this.fileOpener = fileOpener;
        this.transfer = transfer;
        this.file = file;
        this.filePath = filePath;
        this.fileChooser = fileChooser;
        this.platform = platform;
        this.fileTransfer = this.transfer.create();
        this.empData = JSON.parse(localStorage.getItem('empDetail'));
        this.esti_type = 'tag';
        this.page_type = "create";
        this.branches = [];
        this.employees = [];
        this.askBranch = 0;
        this.selectedCusData = [];
        this.nonTagStock = [];
        this.settings = [];
        this.ret_settings = [];
        this.tagMsg = "";
        this.tagErrorMsg = "";
        this.scannerOn = false;
        this.ntMsg = "";
        this.ntErrorMsg = "";
        this.hbMsg = "";
        this.hbErrorMsg = "";
        this.purities = [];
        this.collections = [];
        this.omErrorMsg = "";
        this.ombMsg = "";
        this.oldMetalCat = [];
        this.stoneMasData = [];
        this.esti = { "cus_id": "", "customer": "", "id_branch": "", "id_employee": "", "emp_name": "", "is_tag": false, "is_non_tag": false, "is_home_bill": false, "is_old_metal": false, "tag": [], "non_tag": [], "home_bill": [], "old_metal": [] };
        this.tot_purch_wgt = 0;
        this.tot_purch_rate = 0;
        this.tot_sale_wgt = 0;
        this.tot_sale_rate = 0;
        this.total_esti_value = 0;
        this.oldMetalTypes = [];
        this.estiDetail = {};
        this.dataCheckList = { "empData": false, "taxGroup": false, "branch": false, "settings": false };
        this.tagData = { "tag_code": "", "is_partial": 0, "stone_details": [] };
        this.progress = 0;
        this.show = false;
        this.targetPaths = [];
        this.filenames = [];
        this.images = [];
        this.image = '';
        this.imagename = '';
        this.nav = nav;
        this.page_type = this.navParams.get('page_type');
        this.loggedInBranch = this.empData['id_branch'];
        this.esti['id_log'] = this.empData['id_log'];
        /*this.retail.getHomeStock({"type":"all", "searchTxt":"", "searchField":"", "id_branch":this.esti['id_branch']}).then(data=>{
          this.homeBillStock = data;
        })*/
    }
    EdittagPage.prototype.ionViewDidLoad = function () {
        var _this = this;
        // let loader = this.load.create({
        //   content: 'Please Wait',
        //   spinner: 'bubbles',
        // });
        // loader.present();
        // let loader2 = this.load.create({
        //   content: 'Please Wait',
        //   spinner: 'bubbles',
        // });
        // loader2.present();
        // let loader3 = this.load.create({
        //   content: 'Please Wait',
        //   spinner: 'bubbles',
        // });
        // loader3.present();
        var loader4 = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader4.present();
        this.retail.getAllTaxGroupItems().then(function (data) {
            _this.taxGroupItems = data;
            _this.events.publish('taxGroup:loaded', true);
            _this.dataCheckList['taxGroup'] = true;
            _this.common.getCurrencyAndSettings({ "id_branch": _this.esti['id_branch'] }).then(function (data) {
                _this.metalRate = data.metal_rates;
                _this.settings = data.settings;
                _this.ret_settings = data.ret_settings;
                _this.events.publish('settings:loaded', true);
                _this.events.publish('ret_settings:loaded', true);
                _this.dataCheckList['settings'] = true;
                loader4.dismiss();
            });
        });
        // if((this.loggedInBranch == 0 || this.loggedInBranch == '' || this.loggedInBranch == null) && this.empData['branch_settings'] == 1){
        //   this.askBranch = 1;
        //   this.common.getbranch().then(data=>{
        //     this.branches = data;
        //     this.events.publish('branch:loaded', true);
        //     this.dataCheckList['branch'] = true;
        //     loader.dismiss();
        //   })
        // }else{
        //   this.esti['id_branch'] = this.loggedInBranch;
        //   this.estiDetail['id_branch'] = this.loggedInBranch;
        //   this.events.publish('branch:loaded', true);
        //   this.dataCheckList['branch'] = true;
        //   loader.dismiss();
        // }
        // this.common.getBranchEmployees(this.empData['id_branch']).then(data=>{
        //   this.employees = data;
        //   this.openEstiBasicDetailModal();
        //   this.events.publish('empData:loaded', true);
        //   this.dataCheckList['empData'] = true;
        //   loader2.dismiss();
        // })
        // this.retail.getAllTaxGroupItems().then(data=>{
        //   this.taxGroupItems = data;
        //   this.events.publish('taxGroup:loaded', true);
        //   this.dataCheckList['taxGroup'] = true;
        //   loader3.dismiss();
        // })
        // this.common.getCurrencyAndSettings({"id_branch":this.esti['id_branch']}).then(data=>{
        //   this.metalRate = data.metal_rates;
        //   this.settings = data.settings;
        //   this.ret_settings = data.ret_settings;
        //   this.events.publish('settings:loaded', true);
        //   this.events.publish('ret_settings:loaded', true);
        //   this.dataCheckList['settings'] = true;
        //   loader4.dismiss();
        // })
    };
    /* for footer as hide in default. it's assigned in app.components.ts */
    EdittagPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    EdittagPage.prototype.ionViewWillEnter = function () {
        this.events.publish('entered', true);
        this.events.publish('pageno', 1);
    };
    EdittagPage.prototype.estiTypeChanged = function (ev) {
        var _this = this;
        var type = ev._value;
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        if (type != 'tag' && type != 'summary') {
            if ((this.stoneMasData).length == 0) {
                this.retail.getAllStoneMaters({ "id_branch": this.esti['id_branch'] }).then(function (data) {
                    _this.stoneMasData = data;
                    loader.dismiss();
                });
            }
            if (type == 'non_tag') {
                this.retail.getNonTagItems({ "id_branch": this.esti['id_branch'] }).then(function (data) {
                    _this.nonTagStock = data;
                    loader.dismiss();
                });
            }
            else if (type == 'home_bill') {
                if ((this.purities).length == 0) {
                    this.retail.getAllPurities("").then(function (data) {
                        _this.purities = data;
                        loader.dismiss();
                    });
                }
                else {
                    loader.dismiss();
                }
                if ((this.collections).length == 0 && this.ret_settings['collections_required'] == 1) {
                    this.retail.getCollections({ "type": "active", "last_id": -1 }).then(function (data) {
                        _this.collections = data;
                        loader.dismiss();
                    });
                }
                else {
                    loader.dismiss();
                }
            }
            else if (type == 'old_metal') {
                this.retail.getOldMetalType().then(function (data) {
                    _this.oldMetalTypes = data;
                    loader.dismiss();
                });
            }
            else {
                loader.dismiss();
            }
        }
        else {
            loader.dismiss();
        }
        this.calcEstiSummary();
    };
    EdittagPage.prototype.empSelected = function () {
        var _this = this;
        var emp = { "allowed_old_met_pur": "" };
        this.employees.forEach(function (e) {
            if (_this.esti['id_employee'] == e.id_employee) {
                emp = e;
            }
        });
        if (emp.allowed_old_met_pur != '') {
            var categories = emp.allowed_old_met_pur;
            var catArr = categories.split(",");
            catArr.forEach(function (cat) {
                var categoryArr = cat.split("-");
                _this.oldMetalCat.push({ "id_category": categoryArr[0], "cat_name": categoryArr[1] });
            });
        }
    };
    EdittagPage.prototype.openEstiBasicDetailModal = function () {
        var _this = this;
        var data = { "askBranch": this.askBranch, employees: this.employees, selectedCusData: this.selectedCusData, esti: this.esti, branches: this.branches };
        console.log(data);
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_6__modal_esti_basic_detail_esti_basic_detail__["a" /* EstiBasicDetailPage */], data, { enableBackdropDismiss: false });
        modal.present();
        modal.onDidDismiss(function (data) {
            if (data != null) {
                _this.selectedCusData = data.selectedCusData;
                _this.esti['cus_id'] = data.cus_id;
                _this.esti['customer'] = data.customer;
                _this.empSelected();
            }
        });
    };
    EdittagPage.prototype.openItemAddModal = function (type, item, action) {
        var _this = this;
        var idx = -1;
        var estiData = [];
        if (action == 'edit') {
            estiData = item;
            idx = this.esti[type].indexOf(item);
        }
        var data = { type: type, action: action, ret_settings: this.ret_settings, esti: estiData, id_branch: this.esti['id_branch'], metal_rates: this.metalRate, taxGroupItems: this.taxGroupItems, nonTagStock: this.nonTagStock, homeBillStock: this.homeBillStock, purities: this.purities, collections: this.collections, oldMetalCat: this.oldMetalCat, stoneMasData: this.stoneMasData, oldMetalTypes: this.oldMetalTypes };
        console.log(data);
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_5__modal_add_esti_item_add_esti_item__["a" /* AddEstiItemPage */], data, { enableBackdropDismiss: false });
        modal.present();
        modal.onDidDismiss(function (data) {
            if (data != null) {
                if (data.item_data != null) {
                    // ADD
                    if (action == 'add') {
                        var addItem_1 = true;
                        if (type == "tag") {
                            _this.esti[type].forEach(function (item) {
                                if (item.tag_id == data.item_data.tag_id) {
                                    addItem_1 = false;
                                    _this.tagMsg = "";
                                    _this.tagErrorMsg = "Tag Already exist..";
                                    setTimeout(function () {
                                        _this.tagErrorMsg = "";
                                    }, _this.common.msgTimeout);
                                }
                            });
                        }
                        if (addItem_1) {
                            _this.esti[type].push(data.item_data);
                        }
                    }
                    // UPDATE
                    if (action == 'edit' && idx >= 0) {
                        console.log(_this.esti[type][idx]);
                        _this.esti[type][idx] = data.item_data;
                        console.log(estiData);
                    }
                }
                _this.calcEstiSummary();
                if (data.submitType == 'SN') {
                    _this.openItemAddModal(type, '', 'add');
                }
            }
            else if (action == 'edit' && idx >= 0) {
                console.log(estiData);
                _this.esti[type][idx] = estiData;
            }
        });
    };
    EdittagPage.prototype.calcEstiSummary = function () {
        var _this = this;
        console.log(this.esti);
        this.tot_sale_wgt = 0;
        this.tot_sale_rate = 0;
        this.tot_purch_wgt = 0;
        this.tot_purch_rate = 0;
        this.esti['tag'].forEach(function (tag) {
            _this.tot_sale_wgt = Number(_this.tot_sale_wgt) + Number(tag.net_wt);
            _this.tot_sale_rate = Number(_this.tot_sale_rate) + Number(tag.sales_value);
        });
        this.esti['non_tag'].forEach(function (non_tag) {
            _this.tot_sale_wgt = Number(_this.tot_sale_wgt) + Number(non_tag.net_wt);
            _this.tot_sale_rate = Number(_this.tot_sale_rate) + Number(non_tag.sales_value);
        });
        this.esti['home_bill'].forEach(function (home_bill) {
            _this.tot_sale_wgt = Number(_this.tot_sale_wgt) + Number(home_bill.net_wt);
            _this.tot_sale_rate = Number(_this.tot_sale_rate) + Number(home_bill.sales_value);
        });
        this.esti['old_metal'].forEach(function (old_metal) {
            _this.tot_purch_wgt = Number(_this.tot_purch_wgt) + Number(old_metal.net_wt);
            _this.tot_purch_rate = Number(_this.tot_purch_rate) + Number(old_metal.amount);
        });
        this.total_esti_value = Number(this.tot_sale_rate) - Number(this.tot_purch_rate);
    };
    /*openBarcodeScanner(){
      this.barcodeScanner.scan().then(barcodeData => {
        if(barcodeData){
          console.log(barcodeData);
          this.getTagByID(barcodeData);
        }
       }).catch(err => {
           console.log('Error', err);
       });
    }*/
    EdittagPage.prototype.closeScanner = function () {
        this.scannerOn = false;
        // this.scanSub.unsubscribe();
        // this.qrScanner.hide().then();
        // this.qrScanner.destroy().then();
    };
    EdittagPage.prototype.openQRScanner = function () {
        var _this = this;
        this.scannerOn = true;
        console.log("QR Scanner");
        this.barcodeScanner.scan().then(function (barcodeData) {
            _this.scannerOn = false;
            if (barcodeData['text'] != '') {
                _this.getTagByID(barcodeData['text']);
            }
        }, function (err) {
            _this.scannerOn = false;
            console.log(err);
        });
        // console.log("QR Scanner");
        // // Optionally request the permission early
        // this.qrScanner.prepare()
        // .then((status: QRScannerStatus) => {
        //   console.log("Then");
        //   if (status.authorized) {
        //     console.log("authorized");
        //     // start scanning
        //     this.scannerOn = true;
        //     this.qrScanner.show().then();
        //     this.scanSub = this.qrScanner.scan().subscribe((text: string) => {
        //       console.log('Scanned something', text);
        //       // Hide and unsubscribe from scanner
        //       this.qrScanner.hide().then();
        //       this.qrScanner.destroy().then();
        //       this.scanSub.unsubscribe();
        //       this.scannerOn = false;
        //       if(text != ''){
        //         this.getTagByID(text);
        //       }
        //     });
        //   }
        //   else if (status.denied) {
        //     console.log("camera permission was permanently denied");
        //     // camera permission was permanently denied
        //     // you must use QRScanner.openSettings() method to guide the user to the settings page
        //     // then they can grant the permission from there
        //     this.qrScanner.openSettings();
        //   }
        //   else {
        //     console.log("Camera Access permission denied. Kindly enable to Scan QR");
        //     // permission was denied, but not permanently. You can ask for permission again at a later time.
        //     alert('Camera Access permission denied. Kindly enable to Scan QR.');
        //   }
        // })
        // .catch((e: any) => console.log('Error is', e));
    };
    // Tag Item
    EdittagPage.prototype.getTagData = function (tag_code) {
        var _this = this;
        // Search Tag
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        var postData = { "type": 'EstiTag', "searchTxt": tag_code, "searchField": "tag_code", "id_branch": this.loggedInBranch };
        this.retail.getTagData(postData).then(function (data) {
            if (data.status) {
                _this.tagMsg = data.msg;
                _this.tagErrorMsg = "";
                setTimeout(function () {
                    _this.tagMsg = "";
                }, _this.common.msgTimeout);
                data.tagData['actual_gross_wt'] = data.tagData['gross_wt'];
                data.tagData['actual_less_wt'] = data.tagData['less_wt'];
                data.tagData['actual_net_wt'] = data.tagData['net_wt'];
                var detail = { itemData: data.tagData, metalRate: _this.metalRate, tax_details: _this.taxGroupItems, item_type: "tag" };
                var tagItem_1 = _this.retail.calculateSaleValue(detail);
                var addItem_2 = true;
                _this.esti['tag'].forEach(function (item) {
                    if (item.tag_id == tagItem_1.tag_id) {
                        _this.tagMsg = "";
                        addItem_2 = false;
                        _this.tagErrorMsg = "Tag Already exist..";
                        setTimeout(function () {
                            _this.tagErrorMsg = "";
                        }, _this.common.msgTimeout);
                    }
                });
                if (addItem_2) {
                    _this.esti['is_tag'] = true;
                    _this.esti['tag'].push(tagItem_1);
                }
                // copy x
                var y = Object.assign({}, _this.esti['tag']);
                console.log(y);
                _this.esti['tag'].reverse();
                console.log(_this.esti['tag']);
            }
            else {
                _this.tagMsg = "";
                _this.tagErrorMsg = data.msg;
                setTimeout(function () {
                    _this.tagErrorMsg = "";
                }, _this.common.msgTimeout);
            }
            loader.dismiss();
        }, function (err) {
            loader.dismiss();
        });
    };
    EdittagPage.prototype.getTagByID = function (tagData) {
        var _this = this;
        if (tagData != '') {
            var istagId = (tagData.search("/") > 0 ? true : false);
            var isTagCode = (tagData.search("-") > 0 ? true : false);
            if (istagId) {
                var tId = tagData.split("/");
                var searchTxt = (tId.length >= 2 ? tId[0] : "");
                var searchField = "tag_id";
            }
            else if (isTagCode) {
                var searchTxt = tagData;
                var searchField = "tag_code";
            }
            // Search Tag
            var loader_1 = this.load.create({
                content: 'Please Wait',
                spinner: 'bubbles',
            });
            loader_1.present();
            var postData = { "searchTxt": searchTxt, "searchField": searchField, "id_branch": this.loggedInBranch };
            this.retail.getTagData(postData).then(function (data) {
                if (data.status) {
                    _this.tagMsg = data.msg;
                    _this.tagErrorMsg = "";
                    setTimeout(function () {
                        _this.tagMsg = "";
                    }, _this.common.msgTimeout);
                    data.tagData['actual_gross_wt'] = data.tagData['gross_wt'];
                    data.tagData['actual_less_wt'] = data.tagData['less_wt'];
                    data.tagData['actual_net_wt'] = data.tagData['net_wt'];
                    var detail = { itemData: data.tagData, metalRate: _this.metalRate, tax_details: _this.taxGroupItems, item_type: "tag" };
                    var tagItem_2 = _this.retail.calculateSaleValue(detail);
                    var addItem_3 = true;
                    _this.esti['tag'].forEach(function (item) {
                        if (item.tag_id == tagItem_2.tag_id) {
                            _this.tagMsg = "";
                            addItem_3 = false;
                            _this.tagErrorMsg = "Tag Already exist..";
                            setTimeout(function () {
                                _this.tagErrorMsg = "";
                            }, _this.common.msgTimeout);
                        }
                    });
                    if (addItem_3) {
                        _this.esti['is_tag'] = true;
                        _this.esti['tag'].push(tagItem_2);
                    }
                    var y = Object.assign({}, _this.esti['tag']);
                    console.log(y);
                    _this.esti['tag'].reverse();
                    console.log(_this.esti['tag']);
                }
                else {
                    _this.tagMsg = "";
                    _this.tagErrorMsg = data.msg;
                    setTimeout(function () {
                        _this.tagErrorMsg = "";
                    }, _this.common.msgTimeout);
                }
                loader_1.dismiss();
            }, function (err) {
                loader_1.dismiss();
            });
        }
    };
    EdittagPage.prototype.deleteItem = function (item_type, idx) {
        var _this = this;
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        if (item_type == 'tag') {
            this.esti[item_type].splice(idx, 1);
            this.tagErrorMsg = "";
            this.tagMsg = "Tag removed from estimation..";
            setTimeout(function () {
                _this.tagMsg = "";
            }, this.common.msgTimeout);
        }
        if (item_type == 'non_tag') {
            this.esti[item_type].splice(idx, 1);
            this.ntErrorMsg = "";
            this.ntMsg = "Non-Tag item removed from estimation..";
            setTimeout(function () {
                _this.ntMsg = "";
            }, this.common.msgTimeout);
        }
        if (item_type == 'home_bill') {
            this.esti[item_type].splice(idx, 1);
            this.hbErrorMsg = "";
            this.hbMsg = "Home Bill item removed from estimation..";
            setTimeout(function () {
                _this.hbMsg = "";
            }, this.common.msgTimeout);
        }
        if (item_type == 'old_metal') {
            this.esti[item_type].splice(idx, 1);
            this.omErrorMsg = "";
            this.ombMsg = "Old Metal item removed from estimation..";
            setTimeout(function () {
                _this.ombMsg = "";
            }, this.common.msgTimeout);
        }
        this.calcEstiSummary();
        loader.dismiss();
    };
    EdittagPage.prototype.createEsti = function () {
        var _this = this;
        this.esti['is_tag'] = ((this.esti['tag']).length > 0 ? true : false);
        this.esti['is_non_tag'] = ((this.esti['non_tag']).length > 0 ? true : false);
        this.esti['is_home_bill'] = ((this.esti['home_bill']).length > 0 ? true : false);
        this.esti['is_old_metal'] = ((this.esti['old_metal']).length > 0 ? true : false);
        console.log(this.esti);
        // Validate Postdata
        if (this.esti['cus_id'] == '' || this.esti['id_employee'] == '' || this.esti['id_branch'] == '') {
            var toastMsg = this.toast.create({
                message: "Please fill required fields",
                duration: this.common.toastTimeout,
                position: 'center'
            });
            toastMsg.present();
        }
        else if (this.esti['is_tag'] || this.esti['is_non_tag'] || this.esti['is_home_bill'] || this.esti['is_old_metal']) {
            if (this.esti['tag'] || this.esti['non_tag'] || this.esti['home_bill'] || this.esti['old_metal']) {
                var loader_2 = this.load.create({
                    content: 'Please Wait',
                    spinner: 'bubbles',
                });
                loader_2.present();
                this.esti['type'] = 1;
                this.esti['total_cost'] = this.total_esti_value;
                this.retail.createEstimation(this.esti).then(function (data) {
                    if (data.status) {
                        _this.tot_sale_wgt = 0;
                        _this.tot_sale_rate = 0;
                        _this.tot_purch_wgt = 0;
                        _this.tot_purch_rate = 0;
                        _this.total_esti_value = 0;
                        _this.selectedCusData = [];
                        _this.esti = { "cus_id": _this.esti['cus_id'], "customer": _this.esti['customer'], "id_branch": _this.esti['id_branch'], "id_employee": _this.esti['id_employee'], "emp_name": _this.esti['emp_name'], "is_tag": false, "is_non_tag": false, "is_home_bill": false, "is_old_metal": false, "tag": [], "non_tag": [], "home_bill": [], "old_metal": [] };
                        if (data.printURL != '') {
                            console.log(data.printURL);
                            _this.downloadfile(data.printURL, data.esti_name);
                        }
                    }
                    loader_2.dismiss();
                    var toastMsg = _this.toast.create({
                        message: data.msg,
                        duration: _this.common.toastTimeout,
                        position: 'center'
                    });
                    toastMsg.present();
                    _this.navCtrl.setRoot(__WEBPACK_IMPORTED_MODULE_12__home_home__["a" /* HomePage */]);
                });
            }
            else {
                var toastMsg = this.toast.create({
                    message: "Minimum 1 estimation item is required",
                    duration: this.common.toastTimeout,
                    position: 'center'
                });
                toastMsg.present();
            }
        }
        else {
            var toastMsg = this.toast.create({
                message: "Invalid Estimation",
                duration: this.common.toastTimeout,
                position: 'center'
            });
            toastMsg.present();
        }
    };
    EdittagPage.prototype.getEstiByEstiNo = function () {
        var _this = this;
        if (this.estiDetail['esti_no'] != '') {
            var loader_3 = this.load.create({
                content: 'Please Wait',
                spinner: 'bubbles',
            });
            loader_3.present();
            this.estiDetail['id_branch'] = this.loggedInBranch;
            this.retail.getEstiPrintURL(this.estiDetail).then(function (data) {
                if (data.status) {
                    if (data.printURL != '') {
                        console.log(data.printURL);
                        _this.downloadfile(data.printURL, data.esti_name);
                    }
                }
                loader_3.dismiss();
                var toastMsg = _this.toast.create({
                    message: data.msg,
                    duration: _this.common.toastTimeout,
                    position: 'center'
                });
                toastMsg.present();
            });
        }
        else {
            var toastMsg = this.toast.create({
                message: "Enter valid estimation number",
                duration: this.common.toastTimeout,
                position: 'center'
            });
            toastMsg.present();
        }
    };
    EdittagPage.prototype.downloadfile = function (url, name) {
        var _this = this;
        console.log(url);
        var date = new Date();
        date.setDate(date.getDate());
        console.log(date.toISOString().split('T')[0]);
        this.platform.ready().then(function () {
            console.log("Platform ready");
            if (_this.platform.is('android')) {
                console.log("Platform Android");
                _this.file.checkDir(_this.file.externalDataDirectory, _this.common.cmpShortName).then(function (data) {
                    console.log("Check directory IDO");
                    _this.file.checkDir(_this.file.externalDataDirectory + '' + _this.common.cmpShortName + '/', date.toISOString().split('T')[0]).then(function (_) {
                        console.log("Check directory IDO " + date.toISOString().split('T')[0]);
                        _this.viewFile(url, name);
                    }).catch(function (er) {
                        _this.file.createDir(_this.file.externalDataDirectory + '' + _this.common.cmpShortName + '/', date.toISOString().split('T')[0], false).then(function (_) {
                            console.log("Create directory IDO " + date.toISOString().split('T')[0]);
                            _this.viewFile(url, name);
                        }).catch(function (err) {
                            console.log(err);
                            console.log('Couldn\'t create directory');
                        });
                    });
                }).catch(function (err) {
                    _this.file.createDir(_this.file.externalDataDirectory, _this.common.cmpShortName, false).then(function (_) {
                        console.log('Create directory IDO');
                        _this.file.createDir(_this.file.externalDataDirectory + '' + _this.common.cmpShortName + '/', date.toISOString().split('T')[0], false).then(function (_) {
                            console.log('Create directory IDO / ' + date.toISOString().split('T')[0]);
                            _this.viewFile(url, name);
                        }).catch(function (err1) {
                            console.log(err1);
                            console.log('Couldn\'t create directory');
                        });
                    }).catch(function (err2) {
                        console.log(err2);
                        console.log('Couldn\'t create directory');
                    });
                });
            }
        });
    };
    EdittagPage.prototype.viewFile = function (url, name) {
        var _this = this;
        var date = new Date();
        date.setDate(date.getDate());
        console.log(date);
        console.log(date.toISOString().split('T')[0]);
        this.platform.ready().then(function () {
            console.log('platform ready viewFile');
            _this.file.resolveDirectoryUrl(_this.file.externalDataDirectory + '' + _this.common.cmpShortName + '/' + date.toISOString().split('T')[0]).then(function (resolvedDirectory) {
                console.log(resolvedDirectory);
                console.log("resolved  directory: " + resolvedDirectory.nativeURL);
                _this.file.checkFile(resolvedDirectory.nativeURL, name).then(function (data) {
                    console.log(data);
                    console.log(resolvedDirectory.nativeURL + name);
                    _this.fileOpener.open(resolvedDirectory.nativeURL + name, 'application/pdf')
                        .then(function () { return console.log('File is opened'); })
                        .catch(function (e) { return console.log('Error opening file', e); });
                }, function (err) {
                    console.log(err);
                    var loader = _this.load.create({
                        content: 'Please Wait',
                        spinner: 'bubbles',
                    });
                    loader.present();
                    var targetPath = _this.file.externalDataDirectory + '' + _this.common.cmpShortName + '/' + date.toISOString().split('T')[0] + '/' + name;
                    _this.fileTransfer.download(url, targetPath, true).then(function (entry) {
                        console.log('download complete: ' + entry.toURL());
                        loader.dismiss();
                        _this.fileOpener.open(entry.toURL(), 'application/pdf')
                            .then(function () { return console.log('File is opened'); })
                            .catch(function (e) { return console.log('Error opening file', e); });
                    }, function (error) {
                        loader.dismiss();
                        console.log(error);
                    });
                });
            }, function (err) {
                console.log(err);
            });
        });
    };
    EdittagPage.prototype.printEsti = function (content) {
        console.log(content);
        this.printer.isAvailable().then(function (onSuccess) {
            console.log("isAvailable - Success");
        }, function (onError) {
            console.log(onError);
            console.log("isAvailable - Error");
        });
        var options = {
            name: 'Estimation',
            //printerId: 'printer007',
            //duplex: true,
            //landscape: true,
            grayscale: true
        };
        this.printer.print(content, options).then(function (onSuccess) {
            console.log("print - Success");
        }, function (onError) {
            console.log("print - Error");
        });
    };
    EdittagPage.prototype.delete = function (index) {
        var _this = this;
        console.log(this.esti['tag']);
        if (this.esti['tag'][index]['id_tag_img'] != null && this.esti['tag'][index]['id_tag_img'] != '') {
            var loader_4 = this.load.create({
                content: 'Please Wait',
                spinner: 'bubbles',
            });
            loader_4.present();
            var postData = { "tagid": this.esti['tag'][index]['tag_id'], "imgid": this.esti['tag'][index]['id_tag_img'] };
            this.retail.deletetagimage(postData).then(function (data) {
                _this.esti['tag'][index]['image'] = '';
                _this.esti['tag'][index]['id_tag_img'] = null;
                loader_4.dismiss();
            }, function (err) {
                loader_4.dismiss();
            });
        }
        else {
            var toastMsg = this.toast.create({
                message: "Image not found.",
                duration: this.common.toastTimeout,
                position: 'center'
            });
            toastMsg.present();
        }
    };
    EdittagPage.prototype.presentActionSheet = function (index) {
        var _this = this;
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Select Image Source',
            buttons: [
                {
                    text: 'Load from Gallery',
                    handler: function () {
                        _this.takePicture(_this.camera.PictureSourceType.PHOTOLIBRARY, index);
                        //   let options = {
                        //     maximumImagesCount: 2,
                        //     quality: 100,
                        //    };
                        // this.imagePicker.getPictures(options).then(results => {
                        //   if(results.length > 0){
                        //     this.loading();
                        //   }
                        //         console.log('111111111111111');
                        //         for(var i=0; i < results.length;i++){
                        //           console.log(results[i])
                        //           var documentURL = decodeURIComponent(results[i]);
                        //           console.log(documentURL)
                        //           results[i] = documentURL;
                        //           console.log(results[i])
                        //                 var temp = results.length - 1 == i ? true : false;
                        //                  let correctPath = results[i].substr( 0, results[i].lastIndexOf( '/' ) + 1 );
                        //                  let currentName = results[i].substr( results[i].lastIndexOf( '/' ) + 1 );
                        //                  this.copyFileToLocalDir( correctPath, currentName, this.createFileName(),temp,'gal');
                        //         };
                        //        });
                    }
                },
                {
                    text: 'Take Picture',
                    handler: function () {
                        _this.takePicture(_this.camera.PictureSourceType.CAMERA, index);
                    }
                },
                {
                    text: 'Cancel',
                    role: 'cancel'
                }
            ]
        });
        actionSheet.present();
    };
    EdittagPage.prototype.takePicture = function (sourceType, index) {
        var _this = this;
        // Create options for the Camera Dialog
        var options = {
            quality: 100,
            sourceType: sourceType,
            saveToPhotoAlbum: false,
            correctOrientation: true,
        };
        var cropOptions = {
            quality: 100,
            widthRatio: -1,
            heightRatio: -1
        };
        this.loading();
        // Get the data of an image
        this.camera.getPicture(options).then(function (imagePath) {
            console.log(imagePath);
            if (_this.platform.is('android') && sourceType === _this.camera.PictureSourceType.PHOTOLIBRARY) {
                console.log(imagePath);
                _this.crop.ratioCrop(imagePath, cropOptions).then(function (out) {
                    _this.filePath.resolveNativePath(out)
                        .then(function (filePath) {
                        console.log(filePath);
                        console.log(333333333333333);
                        var correctPath = filePath.substr(0, filePath.lastIndexOf('/') + 1);
                        //  let currentName = imagePath.substring( imagePath.lastIndexOf( '/' ) + 1, imagePath.lastIndexOf( '?' ) );
                        var currentName = filePath.substring(filePath.lastIndexOf('/') + 1);
                        _this.dismissLoader();
                        _this.copyFileToLocalDir(correctPath, currentName, _this.createFileName(), index);
                        // this.uploadImage();
                    }, function (err) {
                        _this.dismissLoader();
                    });
                }, function (err) {
                    _this.dismissLoader();
                });
            }
            else {
                _this.crop.ratioCrop(imagePath, cropOptions).then(function (out) {
                    _this.filePath.resolveNativePath(out)
                        .then(function (filePath) {
                        console.log(filePath);
                        var currentName = filePath.substr(filePath.lastIndexOf('/') + 1);
                        var correctPath = filePath.substr(0, filePath.lastIndexOf('/') + 1);
                        _this.dismissLoader();
                        _this.copyFileToLocalDir(correctPath, currentName, _this.createFileName(), index);
                        // this.uploadImage();
                    }, function (err) {
                        _this.dismissLoader();
                    });
                }, function (err) {
                    _this.dismissLoader();
                });
            }
        }, function (err) {
            _this.dismissLoader();
            console.log(err);
            console.log('Error while selecting image.');
        });
    };
    EdittagPage.prototype.pathForImage = function (img) {
        if (img === null) {
            return '';
        }
        else {
            return cordova.file.dataDirectory + img;
        }
    };
    // Create a new name for the image
    EdittagPage.prototype.createFileName = function () {
        var d = new Date(), n = d.getTime(), newFileName = n + ".jpg";
        return newFileName;
    };
    // Copy the image to a local folder
    EdittagPage.prototype.copyFileToLocalDir = function (namePath, currentName, newFileName, index) {
        var _this = this;
        this.file.copyFile(namePath, currentName, cordova.file.dataDirectory, newFileName).then(function (success) {
            console.log(_this.pathForImage(newFileName));
            //  this.uploadImage(newFileName,index)
            var orientation = -1;
            _this.imageCompress.compressFile(_this.pathForImage(newFileName), orientation, 100, 100).then(function (result) { return __awaiter(_this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    this.writeFile(result, this.createFileName(), index);
                    return [2 /*return*/];
                });
            }); }, function (err) {
                console.log(err);
            });
        }, function (error) {
            console.log(error);
        });
    };
    EdittagPage.prototype.uploadImage = function (name, index) {
        var _this = this;
        this.show = true;
        // Destination URL
        var url = __WEBPACK_IMPORTED_MODULE_3__providers_common__["a" /* BaseAPIURL */] + 'admin_app_api/uploadTagimage';
        var d = new Date(), n = d.getTime();
        // File for Upload
        var targetPath = this.pathForImage(name) + '?nocache=' + n;
        // File name only
        var filename = name;
        var options = {
            fileKey: "name",
            fileName: filename,
            chunkedMode: false,
            mimeType: "image/jpeg",
            params: {
                fileName: filename,
                tagid: this.esti['tag'][index]['tag_id'],
                imgid: this.esti['tag'][index]['id_tag_img']
            }
        };
        var fileTransfer = this.transfer1.create();
        // let loader = this.load.create( {
        //   content: "Uploading..."
        // } );
        // loader.present();
        console.log(targetPath);
        console.log(encodeURI(url));
        console.log(options);
        console.log(url);
        // Use the FileTransfer to upload the image
        fileTransfer.upload(targetPath, encodeURI(url), options).then(function (data) {
            console.log(data);
            console.log(_this.pathForImage(name));
            var result = JSON.parse(data.response);
            console.log(result);
            console.log(result['imageid']);
            // loader.dismissAll();
            _this.esti['tag'][index]['image'] = _this.pathForImage(name);
            _this.esti['tag'][index]['id_tag_img'] = result['imageid'];
            var toastMsg = _this.toast.create({
                message: "Image succesfully uploaded.",
                duration: _this.common.toastTimeout,
                position: 'center'
            });
            toastMsg.present();
            _this.show = false;
        }, function (err) {
            // loader.dismissAll()
            console.log(err);
            var toastMsg = _this.toast.create({
                message: "Error while uploading Image.",
                duration: _this.common.toastTimeout,
                position: 'center'
            });
            toastMsg.present();
            _this.show = false;
        });
        fileTransfer.onProgress(function (data) {
            console.log(data);
            _this.progress = Math.round((data.loaded / data.total) * 100);
            _this.refresh();
            console.log(_this.progress);
        });
    };
    EdittagPage.prototype.loading = function () {
        this.loader = this.load.create({
            content: "Please Wait..."
        });
        this.loader.present();
    };
    EdittagPage.prototype.dismissLoader = function () {
        this.loader.dismiss();
    };
    EdittagPage.prototype.refresh = function () {
        console.log('refresheed');
        this.cd.detectChanges();
    };
    //here is the method is used to convert base64 data to blob data
    EdittagPage.prototype.base64toBlob = function (b64Data, contentType) {
        contentType = contentType || '';
        var sliceSize = 512;
        var byteCharacters = atob(b64Data.replace(/^data:image\/(png|jpeg|jpg);base64,/, ''));
        var byteArrays = [];
        for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {
            var slice = byteCharacters.slice(offset, offset + sliceSize);
            var byteNumbers = new Array(slice.length);
            for (var i = 0; i < slice.length; i++) {
                byteNumbers[i] = slice.charCodeAt(i);
            }
            var byteArray = new Uint8Array(byteNumbers);
            byteArrays.push(byteArray);
        }
        var blob = new Blob(byteArrays, {
            type: contentType
        });
        return blob;
    };
    //here is the method is used to write a file in storage
    EdittagPage.prototype.writeFile = function (base64Data, fileName, index) {
        var _this = this;
        var contentType = this.getContentType(base64Data);
        var DataBlob = this.base64toBlob(base64Data, contentType);
        // here iam mentioned this line this.file.externalRootDirectory is a native pre-defined file path storage. You can change a file path whatever pre-defined method.
        var filePath = cordova.file.dataDirectory;
        this.file.writeFile(filePath, fileName, DataBlob, contentType).then(function (success) {
            console.log(success['nativeURL']);
            var currentName = success['nativeURL'].substr(success['nativeURL'].lastIndexOf('/') + 1);
            var correctPath = success['nativeURL'].substr(0, success['nativeURL'].lastIndexOf('/') + 1);
            console.log("File Writed Successfully", success);
            console.log(currentName);
            console.log(correctPath);
            _this.targetPaths.push(success['nativeURL']);
            _this.filenames.push(currentName);
            // this.copyFileToLocalDir( correctPath, currentName, this.createFileName() );
            _this.uploadImage(currentName, index);
            _this.dismissLoader();
        }).catch(function (err) {
            console.log("Error Occured While Writing File", err);
        });
    };
    //here is the method is used to get content type of an bas64 data
    EdittagPage.prototype.getContentType = function (base64Data) {
        var block = base64Data.split(";");
        var contentType = block[0].split(":")[1];
        return contentType;
    };
    EdittagPage.prototype.deletePhoto = function (index, data) {
        var _this = this;
        var confirm = this.alertCtrl.create({
            title: "Sure you want to delete this image? There is no undo!",
            message: '',
            buttons: [
                {
                    text: 'No',
                    handler: function () {
                        console.log('Disagree clicked');
                    }
                }, {
                    text: 'Yes',
                    handler: function () {
                        console.log('Agree clicked');
                        if (_this.images[index].hasOwnProperty('id_design_img')) {
                            var loader_5 = _this.load.create({
                                content: 'Please Wait',
                                spinner: 'dots',
                            });
                            loader_5.present();
                            var temp = { 'empcode': _this.empData['uid'], 'id_sub_design': _this.whole['id_sub_design'], id_sub_design_mapping: _this.whole['id_sub_design_mapping'], 'id_design_img': _this.whole['img_details'][index]['id_design_img'] };
                            _this.common.deletegallery(temp).then(function (data) {
                                var toast = _this.toast.create({
                                    message: data['message'],
                                    duration: 3000,
                                    position: 'bottom'
                                });
                                loader_5.dismiss();
                                toast.present();
                                _this.images.splice(index, 1);
                                var check = _this.images.findIndex(function (data) { return data['is_default'] == 1; });
                                if (check < 0) {
                                    _this.imagename = '';
                                    _this.image = '';
                                }
                                else {
                                }
                            }, function (err) {
                                loader_5.dismiss();
                            });
                        }
                        else {
                            _this.images.splice(index, 1);
                            var check = _this.images.findIndex(function (data) { return data['is_default'] == 1; });
                            if (check < 0) {
                                _this.imagename = '';
                                _this.image = '';
                            }
                            else {
                            }
                        }
                    }
                }
            ]
        });
        confirm.present();
    };
    EdittagPage.prototype.checkdefault = function (index) {
        var _this = this;
        console.log(this.images[index]);
        if (this.images[index].hasOwnProperty('id_design_img')) {
            var loader_6 = this.load.create({
                content: 'Please Wait',
                spinner: 'dots',
            });
            loader_6.present();
            if (this.images[index]['is_default'] == 0) {
                this.images[index]['is_default'] = 1;
                this.image = this.images[index]['image_name'];
                this.images.forEach(function (element, i) {
                    if (index == i) {
                    }
                    else {
                        _this.images[i]['is_default'] = 0;
                    }
                });
            }
            else {
                this.images[index]['is_default'] = 0;
                this.image = '';
                this.imagename = '';
            }
            var temp = { 'empcode': this.empData['uid'], 'id_sub_design': this.whole['id_sub_design'], id_sub_design_mapping: this.whole['id_sub_design_mapping'], 'id_design_img': this.whole['img_details'][index]['id_design_img'], 'is_default': this.images[index]['is_default'] };
            this.common.updatedefault(temp).then(function (data) {
                var toast = _this.toast.create({
                    message: 'Default Image Updated Successfully',
                    duration: 3000,
                    position: 'bottom'
                });
                toast.present();
                loader_6.dismiss();
            });
        }
        else {
            if (this.images[index]['is_default'] == 0) {
                this.images[index]['is_default'] = 1;
                this.image = this.images[index]['image_name'];
                this.images.forEach(function (element, i) {
                    if (index == i) {
                    }
                    else {
                        _this.images[i]['is_default'] = 0;
                    }
                });
            }
            else {
                this.images[index]['is_default'] = 0;
                this.image = '';
                this.imagename = '';
            }
        }
    };
    EdittagPage.prototype.submit = function () {
        var check = this.images.findIndex(function (data) { return data['is_default'] == 1; });
        if (this.imagename != '' || check >= 0) {
            // this.uploadImage(this.imagename)
        }
        else {
            var toastMsg = this.toast.create({
                message: "Please Upload Default Image.",
                duration: this.common.toastTimeout,
                position: 'center'
            });
            toastMsg.present();
        }
    };
    EdittagPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-edittag',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\edittag\edittag.html"*/'<!--\n  Generated template for the EdittagPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n-->\n<ion-header>\n  <ion-navbar>\n    <button ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n    <ion-title style="text-align: center !important;\n    margin-right: 15% !important;"><img class="header-logo" src=\'assets/header.svg\'/></ion-title>\n  </ion-navbar>\n</ion-header>\n\n\n<ion-content>\n  <div style="margin-bottom: 100px;">\n\n  <ion-row>\n    <ion-col no-padding text-wrap col-12>\n      <div class="theme-title-blk"> <ion-icon name="pricetags"></ion-icon> Tags  <ion-badge color="light" float-right></ion-badge></div>\n    </ion-col>\n    </ion-row>\n  <ion-row>\n    <ion-col col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 class="custom-2col">   \n      <ion-item no-padding> \n        <ion-label color="label-color" stacked>Tag Code <span class="required">*</span></ion-label>\n        <ion-input type="text" [(ngModel)]="tag_code"></ion-input> \n        <button item-right ion-button margin-top color="light" (click)="getTagData(tag_code)"><ion-icon name="ios-search"></ion-icon></button>\n        <button item-right ion-button margin-top color="light" (click)="openQRScanner(\'tag\')"><ion-icon name="ios-qr-scanner"></ion-icon></button>\n\n        <!-- <button item-right ion-button icon-start outline small color="dark" (click)="openQRScanner(\'tag\')">\n          <ion-icon name="ios-qr-scanner"></ion-icon> \n        </button> -->\n      </ion-item>\n    </ion-col>\n    </ion-row>\n    <ion-card class="errorMsg" padding *ngIf="tagErrorMsg">\n      {{tagErrorMsg}}\n    </ion-card>\n    <ion-card class="msg" padding *ngIf="tagMsg">\n      {{tagMsg}}\n    </ion-card>\n \n    <ion-list style="border: 1px solid lightgray;\n    border-bottom: 1px solid gray;\n    margin: 10px;" *ngFor="let hb of  esti[\'tag\'];let i = index;">\n        <ion-item margin-top #tags  class="no-padding">\n          <ion-row> \n            <ion-col text-wrap col-7 col-md-3 class="custom-2col" >\n              <img style="height: 100px;width: auto;" src="{{hb.image}}" imageViewer="{{hb.image}}" onerror="this.src=\'assets/no-img.png\'" >\n            </ion-col>\n            <ion-col style="text-align: end;">\n              <button style="    width: 38px;" ion-button color="primary" (click)="presentActionSheet(i)"><ion-icon name="create"></ion-icon></button>\n              <button style="    width: 38px;" ion-button color="danger" (click)="delete(i)"><ion-icon name="trash"></ion-icon></button>\n            \n            </ion-col>\n            </ion-row>\n<!-- \n            <ion-grid>\n\n              <ion-col style="margin: auto;">\n                Add Images <span style="font-weight: bold;" *ngIf="images.length > 0">- ({{images.length}})</span> *\n              </ion-col>\n                  <ion-row>\n                <ion-col col-10 style="margin-top: 30px;">\n                                  \n                    <div style="margin-bottom:10px" class="row" *ngFor="let targetPath of images; let id = index" >\n                        <div class="col"  col-3 no-padding style="text-align: center;" >\n                          Default<br>\n                          <ion-icon (click)="checkdefault(id)" [ngClass]="targetPath[\'is_default\'] == 1 ? \'one\':\'two\'" style="padding: 0px !important;    font-size: 1.8em;" name="checkmark-circle"></ion-icon>\n                       </div>\n                        <div  class="col" col-7 no-padding style="text-align:center;"><img class="uploadimg1" src="{{targetPath[\'image_name\']}}" imageViewer="{{targetPath[\'image_name\']}}" onerror="this.src=\'assets/no-img.png\'"\n                      *ngIf="targetPath" /></div><div style="margin: auto;" class="col" col-2 no-padding  >\n                      <ion-icon (click)="deletePhoto(id)" style="padding: 0px !important;color: red;    font-size: 1.8em;" name="close-circle"></ion-icon></div>\n                    </div>\n          \n                </ion-col>\n                <ion-col style="margin: auto;" col-2 (click)="presentActionSheet(\'gallery\')">\n                  <div  class="col" style="text-align: end;margin: auto;">\n                    <span style="padding:5px;border: 1px solid lightgray;"><ion-icon name="add"></ion-icon></span>\n                \n                  </div>      </ion-col>\n              </ion-row>\n          </ion-grid> -->\n\n          <ion-row>\n            <ion-col text-wrap col-3 col-md-2 class="vip">\n              {{hb.tag_code}} \n            </ion-col>\n            <ion-col text-wrap col-12 col-md-12 class="vip" *ngIf="ret_settings[\'subproduct_required\'] == 1" style="font-size: 11px !important;">\n              <span *ngIf="hb.collection_name != null">{{hb.collection_name}} <b> | </b> </span>\n              {{hb.product_name}} <b> | </b> \n              {{hb.design_name}}\n            </ion-col>\n            <ion-col text-wrap col-4 col-md-2 class="vip" *ngIf="ret_settings[\'subproduct_required\'] == 0">\n              {{hb.product_name}}\n            </ion-col>\n            <ion-col text-wrap col-5 col-md-2 class="vip" *ngIf="ret_settings[\'subproduct_required\'] == 0">\n              {{hb.design_name}}\n            </ion-col>\n            </ion-row>\n              <ion-row>\n            <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n              <p class="text-small">Purity </p>\n            </ion-col>\n            <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n              {{hb.purname}} \n            </ion-col>\n            <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n              <p class="text-small">Pcs </p>\n            </ion-col>\n            <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n              {{hb.piece}} \n            </ion-col>\n            <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n              <p class="text-small">Size </p>\n            </ion-col>\n            <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n              {{hb.size}} \n            </ion-col>\n            <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n              <p class="text-small">Gross wgt </p>\n            </ion-col>\n            <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n              {{hb.gross_wt}} \n            </ion-col>\n            <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n              <p class="text-small">Less wgt </p>\n            </ion-col>\n            <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n              {{hb.less_wt}}\n            </ion-col>\n            <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n              <p class="text-small">Net Wgt </p>\n            </ion-col>\n            <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n              {{hb.net_wt}}\n            </ion-col>\n            <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n              <p class="text-small">Wast ({{hb.retail_max_wastage_percehb}} %)  </p>\n            </ion-col>\n            <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n              {{hb.wast_wgt}}\n            </ion-col>\n            <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n              <p class="text-small">MC </p>\n            </ion-col>\n            <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n              {{hb.making_charge | number:\'1.2-2\' }}\n            </ion-col>\n            <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n              <p class="text-small">Taxable </p>\n            </ion-col>\n            <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n              {{hb.taxable | number:\'1.2-2\' }}\n            </ion-col>\n            <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n              <p class="text-small">Tax </p>\n            </ion-col>\n            <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n              {{hb.tax_price | number:\'1.2-2\' }}\n            </ion-col>\n            <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n              <p class="text-small">Amount </p>\n            </ion-col>\n            <ion-col text-wrap col-3 col-md-2 class="custom-2col">\n              <b>{{hb.sales_value | number:\'1.2-2\' }}</b>\n            </ion-col>\n          </ion-row>\n\n          <!-- <p class="subtitles">Add Tag Photos</p>\n          <ion-row>\n            <ion-col col-9 style="margin: auto;">\n              <ion-row>\n             \n\n              </ion-row>\n            </ion-col>\n            <ion-col col-3 (click)="presentActionSheet()">\n              <button ion-button clear class="imageadd"><ion-icon name="add"></ion-icon></button>\n            </ion-col>\n          </ion-row> -->\n        </ion-item>\n      \n    </ion-list>\n    </div>\n</ion-content>\n<ion-footer style="bottom: 83px !important;">\n  <ion-fab center bottom style="left: 44% !important;" *ngIf="!scannerOn && show != true"> \n    <button ion-fab mini color="primary" style="    width: 95px !important;\n    border-radius: 10px !important;\n    background:#000000 !important;" (click)="openQRScanner(\'tag\')"><ion-icon name="ios-qr-scanner"></ion-icon>SCAN</button>\n  </ion-fab>\n  <!-- <button *ngIf="scannerOn" ion-button icon-start full class="warning" (click)="closeScanner()">Close Scanner</button>   -->\n</ion-footer>  \n<ion-footer style="bottom: 83px !important;">\n  <div *ngIf="show == true"  style="text-align: center;    margin-top: 5px;">\n    Upload Progress : \n  </div>\n  <div *ngIf="show == true" class="progress-outer">\n    <div class="progress-inner" [style.width]="progress + \'%\'">\n        {{progress}}%\n    </div>\n  </div>\n  </ion-footer>'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\edittag\edittag.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_4__providers_retail__["a" /* RetailProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["b" /* AlertController */], __WEBPACK_IMPORTED_MODULE_18__ionic_native_image_picker__["a" /* ImagePicker */], __WEBPACK_IMPORTED_MODULE_0__angular_core__["j" /* ChangeDetectorRef */], __WEBPACK_IMPORTED_MODULE_17_ngx_image_compress__["a" /* NgxImageCompressService */], __WEBPACK_IMPORTED_MODULE_16__ionic_native_barcode_scanner__["a" /* BarcodeScanner */], __WEBPACK_IMPORTED_MODULE_15__ionic_native_transfer__["a" /* Transfer */], __WEBPACK_IMPORTED_MODULE_13_ionic_cordova_plugin_ratio_crop__["a" /* RatioCrop */], __WEBPACK_IMPORTED_MODULE_14__ionic_native_camera__["a" /* Camera */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["a" /* ActionSheetController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_2__ionic_native_printer__["a" /* Printer */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_4__providers_retail__["a" /* RetailProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */], __WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_7__ionic_native_file_opener__["a" /* FileOpener */], __WEBPACK_IMPORTED_MODULE_9__ionic_native_file_transfer__["a" /* FileTransfer */], __WEBPACK_IMPORTED_MODULE_8__ionic_native_file__["a" /* File */], __WEBPACK_IMPORTED_MODULE_11__ionic_native_file_path__["a" /* FilePath */], __WEBPACK_IMPORTED_MODULE_10__ionic_native_file_chooser__["a" /* FileChooser */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["x" /* Platform */]])
    ], EdittagPage);
    return EdittagPage;
}());

//# sourceMappingURL=edittag.js.map

/***/ }),

/***/ 782:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CarouselComponent; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ionic_angular__ = __webpack_require__(2);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var CarouselComponent = /** @class */ (function () {
    function CarouselComponent(comman) {
        this.comman = comman;
        this.slidess = [];
        this.animateClass = { 'zoom-in': true };
        console.log('caro');
        /* take images from carousel provider*/
        /*        this.comman.getbanner().then(data=>{
       
                 console.log(data)
             this.slidess = data['offers_banners'];
             console.log(this.slidess);
             // return data;
       
           }) */
    }
    CarouselComponent.prototype.slide = function () {
        this.slides.startAutoplay();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_8" /* ViewChild */])('slides'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["y" /* Slides */])
    ], CarouselComponent.prototype, "slides", void 0);
    CarouselComponent = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'carousel',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\components\carousel\carousel.html"*/'<ion-slides (ionSlideWillChange)="slide()" *ngIf="slidess && slidess.length" #slides [ngClass]="animateClass" style="height: auto !important;" autoplay=\'4000\' zoom=\'true\' speed=\'500\' loop=\'true\' initialSlide=\'0\' pager=\'true\'>\n    <ion-slide *ngFor="let slide of slidess">\n        <img [src]="slide.offer_img_path" class="slide-image" />\n    </ion-slide>\n</ion-slides>\n\n<ion-slides *ngIf="slidess.length == 0" #slides [ngClass]="animateClass" style="height: auto !important;" autoplay=\'4000\' zoom=\'true\' speed=\'500\' loop=\'true\' initialSlide=\'0\' pager=\'true\'>\n    <ion-slide>\n        <img src="assets/default_banner.jpg" class="slide-image" />\n    </ion-slide>\n</ion-slides>'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\components\carousel\carousel.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_1__providers_common__["b" /* CommonProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__providers_common__["b" /* CommonProvider */]])
    ], CarouselComponent);
    return CarouselComponent;
}());

//# sourceMappingURL=carousel.js.map

/***/ }),

/***/ 783:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Mass2Page; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_common__ = __webpack_require__(5);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var Mass2Page = /** @class */ (function () {
    function Mass2Page(viewCtrl, toast, modal, keyboard, commonProvider, loadingCtrl, navCtrl) {
        this.viewCtrl = viewCtrl;
        this.toast = toast;
        this.modal = modal;
        this.keyboard = keyboard;
        this.commonProvider = commonProvider;
        this.loadingCtrl = loadingCtrl;
        this.navCtrl = navCtrl;
        this.searchData = [];
        this.input = '';
        this.temp = [];
        this.status = false;
        this.gif = false;
        this.full = false;
    }
    Mass2Page.prototype.goback = function () {
        this.navCtrl.pop();
    };
    Mass2Page.prototype.selected = function (data) {
        this.viewCtrl.dismiss(data);
    };
    Mass2Page.prototype.removeFocus = function () {
        this.keyboard.close();
    };
    ;
    Mass2Page.prototype.search = function () {
        var _this = this;
        if (this.input.length >= 4) {
            var loader_1 = this.loadingCtrl.create({
                content: "Please wait...",
                spinner: 'bubbles',
            });
            loader_1.present();
            this.gif = true;
            this.commonProvider.getsubdesignsold({ 'searchTxt': this.input }).then(function (data) {
                // this.searchData = data;
                _this.gif = false;
                _this.status = true;
                _this.temp = data;
                console.log(data);
                loader_1.dismiss();
            }, function (err) {
                console.log(err);
                _this.gif = false;
                // this.temp = err['products'];
                loader_1.dismiss();
            });
        }
        else {
            this.temp = [];
            this.status = false;
            this.gif = false;
        }
    };
    Mass2Page = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-mass2',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\mass2\mass2.html"*/'<!--\n  Generated template for the AutoPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n-->\n<ion-header>\n  <ion-navbar>\n\n    <ion-row style="margin-top:2px">\n \n     <ion-col >\n         \n       <ion-searchbar  no-padding [(ngModel)]="input"\n                            (ionBlur)="removeFocus()"\n       ></ion-searchbar>    </ion-col>\n       <ion-col col-1  (click)="search()">\n        <ion-icon style="font-size: 1.8em;\n        margin-top:8px;float: right;" name="search"></ion-icon>\n    </ion-col>\n     <ion-col col-1 (click)="goback()">\n         <ion-icon style="font-size: 1.8em;\n         margin-top:8px;float:right" name="close"></ion-icon>\n     </ion-col>\n     </ion-row>\n    </ion-navbar>\n    \n </ion-header>\n \n \n     <ion-content padding>\n      \n\n\n      <ion-list>\n        <ion-item *ngFor="let d of temp" (click)="selected(d)">\n          {{ d.label }}\n        </ion-item>\n      </ion-list>\n      \n\n\n       <div style="font-weight:bold;margin-left:20px;" *ngIf="temp.length == 0 && status == true">\n           No Result Found\n         </div>\n         <div style="font-weight:bolder;text-align: center;color: red;" *ngIf="input.length < 4">\n          * Minimum Four letters Required\n        </div>\n     </ion-content>\n     \n '/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\mass2\mass2.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["B" /* ViewController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["p" /* Keyboard */], __WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */]])
    ], Mass2Page);
    return Mass2Page;
}());

//# sourceMappingURL=mass2.js.map

/***/ }),

/***/ 786:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return InstockPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__avrsearch_avrsearch__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__folderpress_folderpress__ = __webpack_require__(73);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__auto_auto__ = __webpack_require__(45);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__avrproductdetails_avrproductdetails__ = __webpack_require__(431);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__wishlist_wishlist__ = __webpack_require__(34);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








// @IonicPage()
var InstockPage = /** @class */ (function () {
    function InstockPage(toast, events, modal, comman, navCtrl, load, navParams) {
        var _this = this;
        this.toast = toast;
        this.events = events;
        this.modal = modal;
        this.comman = comman;
        this.navCtrl = navCtrl;
        this.load = load;
        this.navParams = navParams;
        this.id_product = this.navParams.get('id_product');
        this.design = this.navParams.get('design_no');
        this.empData = JSON.parse(localStorage.getItem('empDetail'));
        this.designs = [];
        // designs: any[]=[];
        this.last_id = 0;
        this.page_no = 1;
        this.id_ret_category = this.navParams.get('id_category');
        this.pagename = this.navParams.get('pagename');
        this.from = this.navParams.get('filter');
        this.checkStatus = false;
        this.total_records = 0;
        this.where = '';
        this.totalcartitems = localStorage.getItem('carts') != null ? JSON.parse(localStorage.getItem('carts'))['items'] : [];
        this.wish = [];
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        this.where = this.navParams.get('collect');
        // if(this.from != undefined){
        var postData = {
            // 'id_employee': this.empData['uid'] != null ? this.empData['uid'] : null,
            'type': 'active',
            'id_product': this.id_product,
            'last_id': this.last_id,
            'design_no': this.design
        };
        // this.from["lastid"] = this.last_id;
        this.from["page_no"] = this.page_no;
        this.from["type"] = 'mt';
        this.comman.metal(this.from).then(function (data) {
            // this.designs = data;
            _this.designs = data['ReturnObject'] != null ? data['ReturnObject'] : [];
            console.log(_this.designs);
            _this.total_records = data['total_records'];
            loader.dismiss();
        }, function (err) {
            loader.dismiss();
        });
        // }
        // else{
        //   var postData = {
        //     'id_employee': this.empData['uid'] != null ? this.empData['uid'] : null,
        //     'type': 'active',
        //     'id_product': this.id_product,
        //     'last_id': this.last_id,
        //     'design_no':this.design
        //   }
        //   this.comman.getsubdesigns(postData).then(data => {
        //     this.designs = data;
        //     console.log(this.designs);
        //     loader.dismiss();
        //   })
        // }
    }
    InstockPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad DesignsPage');
    };
    InstockPage.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        console.log(this.designs);
        this.page_no = this.page_no + 1;
        // if(this.from != undefined){
        this.from["lastid"] = this.designs[this.designs.length - 1]['id_tag_detail'];
        this.from["page_no"] = this.page_no;
        console.log(this.last_id);
        var postData = {
            // 'id_employee': this.empData['uid'] != null ? this.empData['uid'] : null,
            'type': 'active',
            'id_product': this.id_product,
            'last_id': this.last_id,
            'design_no': this.design
        };
        this.from["type"] = 'mt';
        this.comman.metal(this.from).then(function (data) {
            var productItems = data['ReturnObject'] != null ? data['ReturnObject'] : [];
            for (var index = 0; index < productItems.length; index++) {
                _this.designs.push(productItems[index]);
            }
            infiniteScroll.complete();
        });
        // }else{
        //   this.last_id = this.designs[this.designs.length - 1]['id_sub_design'];
        // console.log(this.last_id);
        // var postData = {
        //   'id_employee': this.empData['uid'] != null ? this.empData['uid'] : null,
        //   'type': 'active',
        //   'id_product': this.id_product,
        //   'last_id': this.last_id,
        //   'design_no':this.design
        // }
        // this.comman.getsubdesigns(postData).then(data => {
        //   console.log(data)
        //   for (let index = 0; index < data.length; index++) {
        //     this.designs.push(data[index])
        //   }
        //   infiniteScroll.complete();
        // })
        // }
    };
    InstockPage.prototype.openDesign = function (product_id) {
        this.events.publish('inf', product_id);
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__avrproductdetails_avrproductdetails__["a" /* AvrproductdetailsPage */], { filter: { metalcode: product_id['MetalCode'] }, single: JSON.parse(localStorage.getItem('see')) });
        // }else{
        //   this.navCtrl.push(DesignDetailPage,{ 'id_category': this.id_ret_category,'id_product': this.id_product,'design_no':this.design,'id_sub_design':design_no.id_sub_design,'type':'edit'})
        // }
    };
    InstockPage.prototype.open = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_3__avrsearch_avrsearch__["a" /* AvrsearchPage */], { 'supplier': true });
    };
    InstockPage.prototype.grid = function () {
        console.log("grid");
        this.checkStatus = true;
    };
    InstockPage.prototype.listgrid = function () {
        console.log("listgrid");
        this.checkStatus = false;
    };
    InstockPage.prototype.price = function (data) {
        var temp1 = parseFloat(data).toFixed();
        return temp1;
    };
    //   sort(){
    //     console.log(this.designs)
    //     // else if(no == 4){
    //       this.designs = this.designs.sort(function(a, b){
    //         return parseInt(a.GrossWt) - parseInt(b.GrossWt)
    //     });
    //     console.log(this.designs)
    // }
    InstockPage.prototype.sort = function (now) {
        var _this = this;
        var profileModal = this.modal.create(__WEBPACK_IMPORTED_MODULE_4__folderpress_folderpress__["a" /* FolderpressPage */]);
        profileModal.present();
        profileModal.onDidDismiss(function (no) {
            console.log(no);
            if (no != null) {
                if (no == 2) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        var nameA = a['sub_design_name'].toLowerCase(), nameB = b['sub_design_name'].toLowerCase();
                        if (nameA < nameB)
                            return -1;
                        if (nameA > nameB)
                            return 1;
                        return 0; //default return value (no sorting)
                    });
                }
                else if (no == 3) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        var nameA = a['sub_design_name'].toLowerCase(), nameB = b['sub_design_name'].toLowerCase();
                        if (nameA > nameB)
                            return -1;
                        if (nameA < nameB)
                            return 1;
                        return 0; //default return value (no sorting)
                    });
                }
                else if (no == 4) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        if (a.Rate != null && b.Rate != null) {
                            return parseInt(a.Rate) - parseInt(b.Rate);
                        }
                        // if(a.Rate != null && b.Rate == null){
                        //   return parseInt(a.Rate) - parseInt(b.price)
                        //   }
                        //   if(a.Rate == null && b.Rate != null){
                        //     return parseInt(a.price) - parseInt(b.Rate)
                        //     }
                        //     if(a.Rate == null && b.Rate == null){
                        //       return parseInt(a.price) - parseInt(b.price)
                        //       }
                    });
                }
                else if (no == 5) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        if (b.Rate != null && a.Rate != null) {
                            return parseInt(b.Rate) - parseInt(a.Rate);
                        }
                        // if(b.Rate != null && a.Rate == null){
                        //   return parseInt(b.Rate) - parseInt(a.price)
                        //   }
                        //   if(b.Rate == null && a.Rate != null){
                        //     return parseInt(b.price) - parseInt(a.Rate)
                        //     }
                        //     if(b.Rate == null && a.Rate == null){
                        //       return parseInt(b.price) - parseInt(a.price)
                        //       }
                    });
                }
                else if (no == 6) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        return parseInt(a.weights['weight']) - parseInt(b.weights['weight']);
                    });
                }
                else if (no == 7) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        return parseInt(b.weights['weight']) - parseInt(a.weights['weight']);
                    });
                }
                else if (no == 8) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        return parseInt(a.timestamp) - parseInt(b.timestamp);
                    });
                }
                else if (no == 9) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        return parseInt(b.timestamp) - parseInt(a.timestamp);
                    });
                }
                console.log(no);
                console.log(_this.designs);
            }
        });
    };
    InstockPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    InstockPage.prototype.ionViewWillEnter = function () {
        var _this = this;
        this.events.publish('entered', true);
        this.events.publish('pageno', 5);
        this.comman.getwish().then(function (data) {
            console.log(data);
            _this.wish = data['supp_cat'];
        });
    };
    InstockPage.prototype.fixprice = function (data) {
        var temp1 = parseFloat(data).toFixed(3);
        // let temp:any = parseFloat(temp1);
        return temp1;
        // return temp.toLocaleString(undefined, {minimumFractionDigits: 3,
        //   maximumFractionDigits: 3});
        // return parseFloat(data).toLocaleString(undefined, {minimumFractionDigits: 2,
        //   maximumFractionDigits: 2});
        // return parseFloat(data).toFixed(2);
    };
    InstockPage.prototype.addWishlist = function (item, i) {
        var _this = this;
        var empData = JSON.parse(localStorage.getItem('sssuser'));
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        this.comman.addToWishlist({
            "customer_name": empData['customer']['firstname'],
            "mobile": empData['mobile'],
            "customer_id": empData['customer']['id_customer'],
            "id_sub_design": item['id_sub_design'],
            "product_id": item['product_id'],
            "design_id": item['design_id'],
            // "branch_id"       : empData['id_branch'],
            // "employee_id"     : empData['uid'],
            'id_supp_catalogue': item['id_supp_catalogue']
        }).then(function (data) {
            var toastMsg = _this.toast.create({
                message: data.msg,
                duration: 4000,
                position: 'middle'
            });
            toastMsg.present();
            if (_this.designs[i]['wishlist'] == 0) {
                _this.designs[i]['wishlist'] = 1;
            }
            else {
                _this.designs[i]['wishlist'] = 0;
            }
            loader.dismiss();
        }, function (err) {
            var toastMsg = _this.toast.create({
                message: "try again",
                duration: 4000,
                position: 'middle'
            });
            toastMsg.present();
            loader.dismiss();
        });
    };
    InstockPage.prototype.auto = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__auto_auto__["a" /* AutoPage */]);
    };
    InstockPage.prototype.wishlist = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__wishlist_wishlist__["a" /* WishlistPage */]);
    };
    InstockPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'instock',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\instock\instock.html"*/'<!--\n  Generated template for the DesignsPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n-->\n<!-- <ion-header>\n  <ion-navbar>\n      <button ion-button menuToggle><ion-icon name="menu"></ion-icon></button>\n      <ion-title>SubDesigns\n        <ion-icon  name="md-funnel" (click)="open()" style="color:black !important;float: right;" ></ion-icon>\n\n      </ion-title>\n  </ion-navbar>\n</ion-header>\n\n\n<ion-content padding-vertical>\n  <ion-grid no-padding>\n      <ion-row *ngIf="designs.length > 0" text-center>\n          <ion-col text-wrap col-6 col-sm-6 col-md-4 col-lg-4 col-xl-4  *ngFor="let item of designs; let i=index" class="custom-2col" [ngClass]="animateClass" (click)="openDesign(item)">\n              <ion-card>\n                  <img class="full-image" src=\'{{item.default_image}}\' onerror="this.onerror=null;this.src=\'assets/no-img.png\';" imageCache/>\n                  <ion-item text-center no-margin>\n                      <h5 class="text-small theme-color">{{item.label}}</h5>\n                  </ion-item>\n              </ion-card>\n          </ion-col>\n      </ion-row>\n  </ion-grid>\n\n  <ion-row *ngIf="designs.length == 0 " style="text-align: center;">\n      <ion-col>\n          <h4>{{errormsg}}</h4>\n      </ion-col>\n  </ion-row>\n\n   <ion-infinite-scroll (ionInfinite)="doInfinite($event)">\n      <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="Loading more data..."></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n\n</ion-content> -->\n\n<ion-header>\n  <ion-navbar>\n      <!-- <button ion-button menuToggle>\n          <ion-icon name="menu"></ion-icon>\n      </button> -->\n      <ion-title>\n        <!-- Collections -->\n        <span>Metal</span> <span *ngIf="total_records != \'\'">({{total_records}})</span>\n\n        <div  style="        width: 30px !important;float: right; " >\n          <ion-icon style="color:black;float: right;font-size:1.4em !important;" name="heart" (click)="wishlist()"></ion-icon>\n        <ion-badge *ngIf="wish != null && wish.length > 0" style="   background-color: red;\n          position: absolute;\n          top: -6px;\n          right: 5px;\n          border-radius: 100%;\n          font-size: 10px !important;\n      padding: 0px;\n      padding-top: 3px;\n      height: 16px;\n      width: 17px;"   color="danger">{{wish.length}}</ion-badge>\n\n      </div>\n         <ion-icon  name="md-funnel" (click)="open()" style="color:black !important;float: right;font-size:1.4em !important" ></ion-icon>\n         <ion-icon style="color:black !important;float: right;font-size:1.4em !important" name="search" (click)="auto()"></ion-icon>\n\n      </ion-title>\n  </ion-navbar>\n</ion-header>\n<ion-content>\n  <!-- <ion-row *ngIf="total_records != 0" style="background:#eee;">\n    <ion-col col-8 style="margin: auto;">\n      There are {{total_records}} products.\n    </ion-col>\n          <ion-col col-4 align="right">\n              <ion-icon   *ngIf="!checkStatus" (click)="grid()" name="grid" ></ion-icon>\n              <ion-icon  *ngIf="checkStatus"  (click)="listgrid()" name="list"></ion-icon>\n          </ion-col>\n      </ion-row> -->\n      <!-- <ion-row  style="">\n        <ion-col style="font-weight: bold;\n        font-size: medium !important;\n        margin: 10px;    text-transform: capitalize;color:#000000;text-align: center;">\n          {{designs[0][\'sub_design_name\']}} ({{total_records}})\n        </ion-col>\n\n          </ion-row> -->\n          <!-- <ion-row  style="border: 1px solid lightgray;padding: 7px !important;">\n\n            <ion-col (click)="sort()" col-4 >\n              <img style="height: 15px;" src="assets/up-down.png"><span style="color: black;    margin-left: 2px;">Sort</span>\n            </ion-col>\n          <ion-col style="text-align: center;" (click)="open()" col-4 >\n            <ion-icon     name="ios-funnel-outline" ></ion-icon><span style="color: black;">Filter</span>\n        </ion-col>\n                  <ion-col style="text-align: end;" col-4 *ngIf="!checkStatus" (click)="grid()">\n                      <ion-icon     name="grid" ></ion-icon><span *ngIf="!checkStatus"  style="color: black;">View Style</span>\n                  </ion-col>\n                  <ion-col style="text-align: end;" col-4 *ngIf="checkStatus" (click)="listgrid()">\n                    <ion-icon     name="list"></ion-icon><span *ngIf="checkStatus"  style="color: black;">View Style</span>\n                </ion-col>\n              </ion-row> -->\n      <ion-grid no-padding>\n\n  <ion-row [class.hide]="checkStatus">\n      <ion-col style="padding: 2px !important;" col-6 col-sm-6 col-md-4 col-lg-4 col-xl-4 [ngClass]="animateClass" *ngFor=" let item of designs; let i=index "  no-padding>\n           <ion-card style="border: 1px solid #e4e4e4;height: 183px;border-radius: 2px">\n             <!-- <div style="margin: 3px;"><span *ngIf="item.is_stock_avail==1 && item.stock_manage == 1" class="instock">Instock</span><span *ngIf="item.is_stock_avail==0 && item.stock_manage == 1"  class="outofstock">Out of stock</span></div> -->\n             <!-- <div style="margin: 3px;text-align: right;"><span class="instock">{{item.BranchName}}</span></div> -->\n             <!-- <ion-icon [ngClass] = "item.wishlist == 1 ? \'co\' : \'noco\' " (click)="addWishlist(item,i)" name="heart"></ion-icon>  -->\n\n             <img (click)="openDesign(item)" style="height: 150px;width: auto;margin: 0 auto;object-fit: cover !important;" *ngIf=\'item.TagImage != null\' src=\'{{item.TagImage}}\' onerror="this.src=\'assets/no-img.png\'" imageCache/>\n              <img (click)="openDesign(item)" style="height: 150px;margin: 0 auto;object-fit: cover !important;" *ngIf=\'item.TagImage == null\' src=\'assets/no-img.png\' imageCache/>\n              <!-- <div (click)="openDesign(item)" *ngIf="item.Status != \'OPEN\'" style="    position: absolute;\n  top: 55px;\n  transform: rotate(-32deg);                left: 0;\n              right: 0;\n              text-align: center;\n              background: white;\n              padding: 8px;">OUT OF STOCK</div> -->\n              <div (click)="openDesign(item)" class="row"  style="    text-align: center;\n              font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 14px;overflow: hidden;color: #bb9532;\n        justify-content: center;\n        align-items: center;text-transform: capitalize;">\n          <div  class="col" col-3 style="text-align: center;\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px !important;\n          overflow: hidden;\n          display: grid;\n          justify-content: left;\n          align-items: center;\n          color: black !important;\n          text-transform: capitalize;">\n                  Metal\n\n          </div>\n          <div class="col" col-1 style="text-align: center;\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px !important;\n          overflow: hidden;\n          display: grid !important;\n          justify-content: left;\n          align-items: center;\n          color: black !important;\n          text-transform: capitalize;">\n            :\n                  </div>\n          <div class="col" col-8 style="\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px !important;\n          overflow: scroll;\n           white-space: nowrap;\n                     display: grid;\n          justify-content: left;\n          align-items: center;\n          color: #962129 !important;\n          text-transform: capitalize;">\n                  <span>{{item.MetalName}}</span>\n\n                  </div>\n\n\n              </div>\n\n\n<!--\n               <div (click)="openDesign(item)" class="row"  style="    text-align: center;\n               font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 14px;overflow: hidden;color: #bb9532;\n         justify-content: center;\n         align-items: center;text-transform: capitalize;">\n           <div  class="col" col-3 style="text-align: center;\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px !important;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: black !important;\n           text-transform: capitalize;">\n                   Design\n\n           </div>\n           <div class="col" col-1 style="text-align: center;\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px !important;\n           overflow: hidden;\n           display: grid !important;\n           justify-content: left;\n           align-items: center;\n           color: black !important;\n           text-transform: capitalize;">\n             :\n                   </div>\n           <div class="col" col-8 style="\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px !important;\n           overflow: scroll;\n            white-space: nowrap;\n                      display: grid;\n           justify-content: left;\n           align-items: center;\n           color: #962129 !important;\n           text-transform: capitalize;">\n                   <span>{{item.sub_design_name}}</span>\n\n                   </div>\n\n\n               </div>\n               <div (click)="openDesign(item)" class="row"  style="    text-align: center;\n               font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 14px;overflow: hidden;color: #bb9532;\n         justify-content: center;\n         align-items: center;text-transform: capitalize;">\n           <div  class="col" col-3 style="text-align: center;\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px !important;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: black !important;\n           text-transform: capitalize;">\n                   WtRange\n\n           </div>\n                     <div  class="col" col-1 style="text-align: center;\n                     height: 25px;\n                     font-weight: 500;\n                     text-overflow: ellipsis;\n                     padding: 4px;\n                     padding-bottom: 0px !important;\n                     font-size: 10px !important;\n                     overflow: hidden;\n                     white-space: nowrap;\n   padding-top: 8px;                      justify-content: left;\n   display: grid;\n                     align-items: center;\n                     color: black !important;\n                     text-transform: capitalize;">\n                       :\n                             </div>\n           <div class="col" col-8 style="\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px !important;\n           overflow: scroll;\n           white-space: nowrap;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: #962129 !important;\n           text-transform: capitalize;">\n                   <span>    {{fixprice(item[\'weights\'][\'from_weight\'])}} g - {{fixprice(item[\'weights\'][\'to_weight\'])}} g\n                  </span>\n\n                   </div>\n\n\n               </div> -->\n\n\n\n\n              <!-- <div (click)="openDesign(item)" class="row"  style="    text-align: center;\n              font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 14px;overflow: hidden;color: #bb9532;\n        justify-content: center;\n        align-items: center;text-transform: capitalize;">\n          <div  class="col" col-4 style="text-align: center;\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: hidden;\n          display: grid;\n          justify-content: left;\n          align-items: center;\n          color: black !important;\n          text-transform: capitalize;">\n                  Id.\n\n          </div>\n          <div class="col" col-1 style="text-align: center;\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: hidden;\n          display: grid !important;\n          justify-content: left;\n          align-items: center;\n          color: black !important;\n          text-transform: capitalize;">\n            :\n                  </div>\n          <div class="col" col-7 style="\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: hidden;\n          display: grid;\n          justify-content: left;\n          align-items: center;\n          color: #962129 !important;\n          text-transform: capitalize;">\n                  <span>{{item.id_supp_catalogue}}</span>\n\n                  </div>\n\n\n              </div> -->\n\n<!--\n              <div (click)="openDesign(item)" class="row"  style="    text-align: center;\n              font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 10px;overflow: hidden;color: #bb9532;\n        justify-content: left;\n        align-items: center;text-transform: capitalize;">\n          <div class="col" col-4 style="text-align: center;\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: hidden;\n          display: grid;\n          justify-content: left;\n          align-items: center;\n          color: black !important;\n          text-transform: capitalize;">\n                  G.Wt.\n\n                  </div>\n                    <div class="col" col-1 style="text-align: center;\n                    height: 25px;\n                    font-weight: 500;\n                    text-overflow: ellipsis;\n                    padding: 4px;\n                    padding-bottom: 0px !important;\n                    font-size: 10px;\n                    overflow: hidden;\n                    display: grid;\n                    justify-content: left;\n                    align-items: center;\n                    color: black !important;\n                    text-transform: capitalize;">\n                      :\n                            </div>\n          <div class="col" col-7 style="\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: hidden;\n          display: grid;\n          justify-content: left;\n          align-items: center;\n          color: #962129 !important;\n          text-transform: capitalize;">\n                  {{item.GrossWt}} g\n\n                  </div>\n\n\n              </div> -->\n\n              <!-- <div (click)="openDesign(item)" class="row"  style="    text-align: center;\n              font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 10px;overflow: hidden;color: #bb9532;\n        justify-content: left;\n        align-items: center;text-transform: capitalize;">\n          <div class="col" col-4 style="text-align: center;\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: hidden;\n          display: grid;\n          justify-content: left;\n          align-items: center;\n          color: black !important;\n          text-transform: capitalize;">\n                  N.Wt.\n\n                  </div>\n                    <div class="col" col-1 style="text-align: center;\n                    height: 25px;\n                    font-weight: 500;\n                    text-overflow: ellipsis;\n                    padding: 4px;\n                    padding-bottom: 0px !important;\n                    font-size: 10px;\n                    overflow: hidden;\n                    display: grid;\n                    justify-content: left;\n                    align-items: center;\n                    color: black !important;\n                    text-transform: capitalize;">\n                      :\n                            </div>\n          <div class="col" col-7 style="\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: hidden;\n          display: grid;\n          justify-content: left;\n          align-items: center;\n          color: #962129 !important;\n          text-transform: capitalize;">\n                  {{item.net_wt}} g\n\n                  </div>\n\n\n              </div> -->\n\n              <!-- <div class="row"  style="    text-align: center;\n              font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 10px;overflow: hidden;color: #bb9532;\n        justify-content: left;\n        align-items: center;text-transform: capitalize;">\n           <div (click)="openDesign(item)" class="col" col-3 style="text-align: center;\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: hidden;\n          display: grid;\n          justify-content: left;\n          align-items: center;\n          color: black !important;\n          text-transform: capitalize;">\n                  Design\n\n                  </div>\n                    <div (click)="openDesign(item)" class="col" col-1 style="text-align: center;\n                    height: 25px;\n                    font-weight: 500;\n                    text-overflow: ellipsis;\n                    padding: 4px;\n                    padding-bottom: 0px !important;\n                    font-size: 10px;\n                    overflow: hidden;\n                    display: grid;\n                    justify-content: left;\n                    align-items: center;\n                    color: black !important;\n                    text-transform: capitalize;">\n                      :\n                            </div>\n          <div class="col" col-8 style="\n          height: 25px;\n          font-weight: 500;\n          text-overflow: ellipsis;\n          padding: 4px;\n          padding-bottom: 0px !important;\n          font-size: 10px;\n          overflow: scroll !important;\n          display: grid;\n          justify-content: left;\n          align-items: center;\n          color: #962129 !important;\n          text-transform: capitalize;\n          display: contents;">\n                 <span (click)="openDesign(item)" style="    margin-left: 4px;\n                 white-space: nowrap;\n                 padding-top: 5px;\n                 width: 34%;\n                 overflow: scroll !important;\n                text-align: left;"> {{item.sub_design_name}}</span>  -->\n                  <!-- <div style="margin-left:10px;"> -->\n                    <!-- <ion-icon style="    background:#000000;\n                  color: #ffc04b;\n                  border-radius: 5px;" (click)="proceedToWishlist(item)" name="ios-cart-outline"></ion-icon> -->\n                   <!-- <ion-icon [ngClass] = "item.wishlist == 1 ? \'co\' : \'noco\' " (click)="addWishlist(item)" name="heart"></ion-icon>\n                  </div> -->\n\n          <!-- </div>\n\n\n              </div> -->\n\n              <!-- <div class="row"  style="text-align: center;">\n                  <div class="col" col-12>\n                    <div style="\n                   text-align: center;color: #86354d !important;\n                    ">\n                      <span style="font-weight: bold;font-size: 20px;">{{price(item.Rate)}}</span>\n                    </div>\n\n                  </div>\n\n                </div> -->\n\n          </ion-card>\n\n      </ion-col>\n      <!-- <div class="itemempty"  *ngIf="designs?.length == 0">No item to display</div> -->\n  </ion-row>\n\n  </ion-grid>\n  <p  [class.hide]="!checkStatus" style="    margin-top: 0px;">\n    <ion-card *ngFor=" let item of designs; let i=index " style="border: 1px solid #e4e4e4;height: 130px;border-radius: 2px">\n\n      <ion-row >\n\n      <ion-col (click)="openDesign(item)" col-4>\n        <ion-icon [ngClass] = "item.wishlist == 1 ? \'co\' : \'noco\' " (click)="addWishlist(item,i)" name="heart"></ion-icon>\n\n        <img style="height: 120px;width: auto;margin: 0 auto;object-fit: cover !important;" *ngIf=\'item.TagImage != null\' src=\'{{item.TagImage}}\' onerror="this.src=\'assets/no-img.png\'" imageCache/>\n        <img style="height: 120px;margin: 0 auto;object-fit: cover !important;" *ngIf=\'item.TagImage == null\' src=\'assets/no-img.png\' imageCache/>\n        <!-- <div *ngIf="item.Status != \'OPEN\'" style="    position: absolute;\n  top: 50px;\n  transform: rotate(-32deg);                 left: 0;\n               right: 0;\n               text-align: center;\n               background: white;\n               padding: 8px;">OUT OF STOCK</div> -->\n      </ion-col>\n          <ion-col col-8  [ngClass]="animateClass"  >\n              <!-- <div style="margin: 3px;"><span *ngIf="item.is_stock_avail==1 && item.stock_manage == 1" class="instock">Instock</span><span *ngIf="item.is_stock_avail==0 && item.stock_manage == 1"  class="outofstock">Out of stock</span></div> -->\n              <!-- <div style="margin: 3px;text-align: right;"><span class="instock">{{item.BranchName}}</span></div> -->\n\n              <div (click)="openDesign(item)" class="row"  style="    text-align: center;\n               font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 14px;overflow: hidden;color: #bb9532;\n         justify-content: center;\n         align-items: center;text-transform: capitalize;margin-top: 10px;">\n           <div  class="col" col-3 style="text-align: center;\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px !important;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: black !important;\n           text-transform: capitalize;">\n                   metal\n\n           </div>\n                     <div  class="col" col-1 style="text-align: center;\n                     height: 25px;\n                     font-weight: 500;\n                     text-overflow: ellipsis;\n                     padding: 4px;\n                     padding-bottom: 0px !important;\n                     font-size: 10px !important;\n                     overflow: hidden;\n                     white-space: nowrap;\n   padding-top: 8px;                      justify-content: left;\n   display: grid;\n                     align-items: center;\n                     color: black !important;\n                     text-transform: capitalize;">\n                       :\n                             </div>\n           <div class="col" col-8 style="\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px !important;\n           overflow: scroll;\n           white-space: nowrap;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: #962129 !important;\n           text-transform: capitalize;">\n                   <span>{{item.MetalName}}</span>\n\n                   </div>\n\n\n               </div>\n\n               <!-- <div (click)="openDesign(item)" class="row"  style="    text-align: center;\n               font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 14px;overflow: hidden;color: #bb9532;\n         justify-content: center;\n         align-items: center;text-transform: capitalize;">\n           <div  class="col" col-3 style="text-align: center;\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px !important;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: black !important;\n           text-transform: capitalize;">\n                   Design\n\n           </div>\n                     <div  class="col" col-1 style="text-align: center;\n                     height: 25px;\n                     font-weight: 500;\n                     text-overflow: ellipsis;\n                     padding: 4px;\n                     padding-bottom: 0px !important;\n                     font-size: 10px !important;\n                     overflow: hidden;\n                     white-space: nowrap;\n   padding-top: 8px;                      justify-content: left;\n   display: grid;\n                     align-items: center;\n                     color: black !important;\n                     text-transform: capitalize;">\n                       :\n                             </div>\n           <div class="col" col-8 style="\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px !important;\n           overflow: scroll;\n           white-space: nowrap;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: #962129 !important;\n           text-transform: capitalize;">\n                   <span>{{item.sub_design_name}}</span>\n\n                   </div>\n\n\n               </div>\n\n               <div (click)="openDesign(item)" class="row"  style="    text-align: center;\n               font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 14px;overflow: hidden;color: #bb9532;\n         justify-content: center;\n         align-items: center;text-transform: capitalize;">\n           <div  class="col" col-3 style="text-align: center;\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px !important;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: black !important;\n           text-transform: capitalize;">\n                   WtRange\n\n           </div>\n                     <div  class="col" col-1 style="text-align: center;\n                     height: 25px;\n                     font-weight: 500;\n                     text-overflow: ellipsis;\n                     padding: 4px;\n                     padding-bottom: 0px !important;\n                     font-size: 10px !important;\n                     overflow: hidden;\n                     white-space: nowrap;\n   padding-top: 8px;                      justify-content: left;\n   display: grid;\n                     align-items: center;\n                     color: black !important;\n                     text-transform: capitalize;">\n                       :\n                             </div>\n           <div class="col" col-8 style="\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px !important;\n           overflow: scroll;\n           white-space: nowrap;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: #962129 !important;\n           text-transform: capitalize;">\n                   <span>    {{fixprice(item[\'weights\'][\'from_weight\'])}} g - {{fixprice(item[\'weights\'][\'to_weight\'])}} g\n                  </span>\n\n                   </div>\n\n\n               </div> -->\n\n               <!-- <div (click)="openDesign(item)" class="row"  style="    text-align: center;\n               font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 14px;overflow: hidden;color: #bb9532;\n         justify-content: center;\n         align-items: center;text-transform: capitalize;">\n           <div  class="col" col-3 style="text-align: center;\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: black !important;\n           text-transform: capitalize;">\n                   Id.\n\n           </div>\n                     <div  class="col" col-1 style="text-align: center;\n                     height: 25px;\n                     font-weight: 500;\n                     text-overflow: ellipsis;\n                     padding: 4px;\n                     padding-bottom: 0px !important;\n                     font-size: 10px;\n                     overflow: hidden;\n                     white-space: nowrap;\n   padding-top: 8px;                      justify-content: left;\n   display: grid;\n                     align-items: center;\n                     color: black !important;\n                     text-transform: capitalize;">\n                       :\n                             </div>\n           <div class="col" col-8 style="\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: #962129 !important;\n           text-transform: capitalize;">\n                   <span>{{item.id_supp_catalogue}}</span>\n\n                   </div>\n\n\n               </div> -->\n\n\n               <!-- <div (click)="openDesign(item)" class="row"  style="    text-align: center;\n               font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 10px;overflow: hidden;color: #bb9532;\n         justify-content: left;\n         align-items: center;text-transform: capitalize;">\n           <div class="col" col-3 style="text-align: center;\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: black !important;\n           text-transform: capitalize;">\n                   G.Wt.\n\n                   </div>\n                     <div class="col" col-1 style="text-align: center;\n                     height: 25px;\n                     font-weight: 500;\n                     text-overflow: ellipsis;\n                     padding: 4px;\n                     padding-bottom: 0px !important;\n                     font-size: 10px;\n                     overflow: hidden;\n                     display: grid;\n                     justify-content: left;\n                     align-items: center;\n                     color: black !important;\n                     text-transform: capitalize;">\n                       :\n                             </div>\n           <div class="col" col-8 style="\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: #962129 !important;\n           text-transform: capitalize;">\n                   {{item.GrossWt}} g\n\n                   </div>\n\n\n               </div>\n\n               <div (click)="openDesign(item)" class="row"  style="    text-align: center;\n               font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 10px;overflow: hidden;color: #bb9532;\n         justify-content: left;\n         align-items: center;text-transform: capitalize;">\n           <div class="col" col-3 style="text-align: center;\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: black !important;\n           text-transform: capitalize;">\n                   N.Wt.\n\n                   </div>\n                     <div class="col" col-1 style="text-align: center;\n                     height: 25px;\n                     font-weight: 500;\n                     text-overflow: ellipsis;\n                     padding: 4px;\n                     padding-bottom: 0px !important;\n                     font-size: 10px;\n                     overflow: hidden;\n                     display: grid;\n                     justify-content: left;\n                     align-items: center;\n                     color: black !important;\n                     text-transform: capitalize;">\n                       :\n                             </div>\n           <div class="col" col-8 style="\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: #962129 !important;\n           text-transform: capitalize;">\n                   {{item.net_wt}} g\n\n                   </div>\n\n\n               </div> -->\n\n               <!-- <div class="row"  style="    margin-top: 10px;text-align: center;\n               font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 10px;overflow: hidden;color: #bb9532;\n         justify-content: left;\n         align-items: center;text-transform: capitalize;margin-top: 10px;">\n           <div (click)="openDesign(item)" class="col" col-3 style="text-align: center;\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: black !important;\n           text-transform: capitalize;">\n                   Design\n\n                   </div>\n                      <div (click)="openDesign(item)" class="col" col-1 style="text-align: center;\n                     height: 25px;\n                     font-weight: 500;\n                     text-overflow: ellipsis;\n                     padding: 4px;\n                     padding-bottom: 0px !important;\n                     font-size: 10px;\n                     overflow: hidden;\n                     display: grid;\n                     justify-content: left;\n                     align-items: center;\n                     color: black !important;\n                     text-transform: capitalize;">\n                       :\n                             </div>\n           <div class="col" col-8 style="\n           height: 25px;\n           font-weight: 500;\n           text-overflow: ellipsis;\n           padding: 4px;\n           padding-bottom: 0px !important;\n           font-size: 10px;\n           overflow: hidden;\n           display: grid;\n           justify-content: left;\n           align-items: center;\n           color: #962129 !important;\n           text-transform: capitalize;\n           display: contents;">\n                  <span (click)="openDesign(item)" style="    margin-left: 4px;\n                  white-space: nowrap;\n                  padding-top: 5px;\n                  width: 42%;\n                  overflow: scroll;\n                 text-align: left;"> {{item.sub_design_name}}</span>  -->\n                   <!-- <div style="margin-left:10px;"> -->\n                     <!-- <ion-icon style="    background:#000000;\n                   color: #ffc04b;\n                   border-radius: 5px;" (click)="proceedToWishlist(item)" name="ios-cart-outline"></ion-icon>  -->\n                   <!-- <ion-icon [ngClass] = "item.wishlist == 1 ? \'co\' : \'noco\' " (click)="addWishlist(item)" name="heart"></ion-icon>\n                   </div> -->\n<!--\n           </div>\n\n\n               </div> -->\n\n               <!-- <div class="row"  style="text-align: center;">\n                   <div class="col" col-12>\n                     <div style="\n                    text-align: center;color: #86354d !important;\n                     ">\n                       <span style="font-weight: bold;font-size: 20px;">{{price(item.Rate)}}</span>\n                     </div>\n\n                   </div>\n\n                 </div> -->\n                </ion-col>\n\n              </ion-row>\n           </ion-card>\n\n\n          </p>\n\n\n         <ion-infinite-scroll   style="text-align: center;" (ionInfinite)="doInfinite($event)">\n              <ion-infinite-scroll-content ></ion-infinite-scroll-content>\n              <!-- <img *ngIf="gif" style=" max-width: 60px !important;" src="assets/loader.gif"> -->\n\n          </ion-infinite-scroll>\n\n          <!-- <ion-fab bottom right >\n            <button (click)="sort()" ion-fab>Sort</button>\n\n          </ion-fab> -->\n          <!-- <ion-fab bottom right >\n            <button ion-fab>Sort</button>\n            <ion-fab-list side="top">\n              <button ion-fab (click)="sort(2)">A to Z</button>\n              <button ion-fab (click)="sort(3)">Z to A</button>\n              <button ion-fab (click)="sort(4)">Cost low </button>\n              <button ion-fab (click)="sort(5)">Cost high </button>\n              <button ion-fab (click)="sort(6)">Wg low </button>\n              <button ion-fab (click)="sort(7)">Wg high </button>\n\n            </ion-fab-list>\n          </ion-fab> -->\n  </ion-content>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\instock\instock.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */], __WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */]])
    ], InstockPage);
    return InstockPage;
}());

//# sourceMappingURL=instock.js.map

/***/ }),

/***/ 787:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return StatusViewPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


/**
 * Generated class for the StatusViewPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
// @IonicPage()
var StatusViewPage = /** @class */ (function () {
    function StatusViewPage(navCtrl, navParams, viewCtrl, cd) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.viewCtrl = viewCtrl;
        this.cd = cd;
        this.slidess = [];
        this.toggle = true;
        this.calc = 350;
        this.receivedData = this.navParams.get('item');
        this.slidess.push(this.receivedData);
        this.balance = this.receivedData.advance_amount - this.receivedData.advance_adj_amount;
        console.log(this.balance);
        console.log(this.slidess, '000000000000');
        this.slideimg = this.receivedData['default_image'];
        console.log(this.slideimg);
        console.log(this.receivedData, 'kkkkkkkkkkk');
    }
    StatusViewPage.prototype.scrolling = function (event) {
        if (event.scrollTop == 0) {
            this.calc = 350;
        }
        else {
            this.calc = 350 - event.scrollTop;
            this.content.resize();
            this.cd.detectChanges();
        }
        // your content here for scrolling
    };
    StatusViewPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad StatusViewPage');
    };
    StatusViewPage.prototype.back = function () {
        this.viewCtrl.dismiss();
    };
    StatusViewPage.prototype.fixprice = function (data) {
        var temp1 = parseFloat(data).toFixed(3);
        return temp1;
    };
    StatusViewPage.prototype.price = function (data) {
        var temp1 = parseFloat(data).toFixed();
        return temp1;
    };
    StatusViewPage.prototype.tog = function (i) {
        var _this = this;
        console.log(i);
        this.receivedData['stonedetail'].forEach(function (value, key) {
            if (key == i && _this.receivedData['stonedetail'][key]['toggle'] == false) {
                _this.receivedData['stonedetail'][key]['toggle'] = true;
            }
            else {
                _this.receivedData['stonedetail'][key]['toggle'] = false;
            }
        });
        console.log(this.receivedData['stonedetail']);
    };
    StatusViewPage.prototype.diamond_tog = function (i) {
        var _this = this;
        console.log(i);
        this.receivedData['diadetail'].forEach(function (value, key) {
            if (key == i && _this.receivedData['diadetail'][key]['toggle'] == false) {
                _this.receivedData['diadetail'][key]['toggle'] = true;
            }
            else {
                _this.receivedData['diadetail'][key]['toggle'] = false;
            }
        });
        console.log(this.receivedData['diadetail']);
    };
    StatusViewPage.prototype.slide = function () {
        console.log(this.slides.getActiveIndex());
        this.receivedData = this.slidess.length - 1 < this.slides.getActiveIndex() ? this.slidess[this.slides.getActiveIndex() - 1] : this.slidess[this.slides.getActiveIndex()];
        console.log(this.receivedData);
        this.slideimg = this.receivedData['TagImage'];
        // this.productdet['net_wt'] = this.productdet['NetWt'];
        //     this.productdet['gross_wt'] = this.productdet['GrossWt'];
        // this.productdet['metal_type'] = this.productdet['rate_field'];
        // this.productdet['market_metal_type'] = this.productdet['market_rate_field'];
        // this.productdet['tax_group_id'] = this.productdet['tgrp_id'];
        // // if(this.productdet['colorcode'] == ''){
        // //   this.productdet['colorcode'] = 'black';
        // // }
        // this.calculate('');
        this.cd.detectChanges();
    };
    StatusViewPage.prototype.back1 = function () {
        if (this.slides.getActiveIndex() != 0) {
            this.slides.slidePrev();
        }
    };
    StatusViewPage.prototype.next = function () {
        this.slides.slideNext();
    };
    StatusViewPage.prototype.setimg = function (img, ind) {
        this.slideimg = img;
        console.log(this.slideimg);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_8" /* ViewChild */])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* Content */]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* Content */])
    ], StatusViewPage.prototype, "content", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["_8" /* ViewChild */])('slides'),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["y" /* Slides */])
    ], StatusViewPage.prototype, "slides", void 0);
    StatusViewPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-status-view',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\status-view\status-view.html"*/'<!--\n  Generated template for the StatusViewPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n-->\n<ion-header> <ion-navbar>\n  <ion-title>\n    <ion-icon (click)="back()" name="arrow-back" ></ion-icon>\n\n    Order Status\n\n\n  </ion-title> </ion-navbar>\n\n  <ion-row>\n\n    <ion-col align="center" style="background: white !important;">\n    <ion-slides style="margin-top: 22px;" (ionSlideWillChange)="slide()"  *ngIf="slidess && slidess.length" #slides [ngClass]="animateClass"   zoom =\'true\' speed=\'500\' initialSlide=\'0\'>\n      <ion-slide (click)="openurl(slide)" *ngFor="let slide of slidess;let in = index">\n        <img *ngIf="slideimg != null" [src]="slideimg" class="slide-image" imageViewer=\'{{slideimg}}\' [ngStyle]="{height: calc+\'px\',\'min-height.px\' : 100}" onerror="this.src=\'assets/no-img.png\'"/>\n        <img *ngIf="slideimg == null" src=\'assets/no-img.png\'  class="slide-image" imageViewer=\'assets/no-img.png\' [ngStyle]="{height: calc+\'px\',\'min-height.px\' : 100}" onerror="this.src=\'assets/no-img.png\'"/>\n      </ion-slide>\n    </ion-slides>\n    </ion-col>\n  </ion-row>\n\n</ion-header>\n\n<ion-content style="height: 90vh;" (ionScroll)="scrolling($event)"  padding>\n  <div>\n  <hr>\n  <ion-scroll scrollX="true" style="height:70px" > <ion-row nowrap style="padding: 0px !important;">\n  <ion-col *ngFor="let img of receivedData[\'image_details\'];let in = index" col-2 style="padding: 5px;" align="center" >\n     <ion-card (click)="setimg(img[\'image\'],in)" style="margin: 0px 0px 0px 0px;box-shadow: none;width: 100%;">\n  <img style="margin: auto;object-fit: cover !important;" src=\'{{img.image}}\' onerror="this.src=\'assets/no-img.png\'" width="60px" height="60px" imageCache/>\n\n  </ion-card>\n\n  </ion-col> </ion-row> </ion-scroll>\n  <hr>\n\n\n<!--   <ion-card > -->\n\n\n<!-- <ion-item> -->\n <!-- <ion-avatar item-left>\n<img *ngIf="receivedData[\'img_arr\'].length > 0" style="height: 50px;width: 50px;margin: 0 auto;object-fit: cover;"   src="{{receivedData[\'img_arr\'][0]}}" imageViewer="{{receivedData[\'img_arr\'][0]}}"  onerror="this.src=\'assets/no-img.png\'" imageCache/>\n <img *ngIf="receivedData[\'img_arr\'].length == 0" style="height: 50px;width: 50px;margin: 0 auto;object-fit: cover;"   src="assets/no-img.png" imageViewer="assets/no-img.png"  onerror="this.src=\'assets/no-img.png\'" imageCache/>\n\n </ion-avatar> -->\n <!-- <h3>\n   <p>\n     Tag Id :\n     <ion-badge style="background: linear-gradient(to right,#000000 0%,#000000 75%,#000000 100%);">{{receivedData.tag_id}}</ion-badge>\n   </p>\n   <p >Customer : {{receivedData.firstname}} <span (tap)="open(i)" style="float: right;color:\n  #000000">{{receivedData.tog}}>></span></p>\n     <p >Mobile : {{receivedData.mobile}}</p>\n\n </h3> -->\n\n <ion-card>\n  <ion-card-content>\n    <ion-row text-center>\n      <ion-col>\n        <h3 style="font-weight: bold;"> Customer Info</h3>\n      </ion-col>\n    </ion-row>\n    <ion-row  no-padding> <ion-col col-6 style="max-width:37% !important">\n      <h3 style="font-weight: bold;">Branch Name</h3>\n      </ion-col>\n      <ion-col col-1 style="max-width:3% !important;margin: auto;">\n        :\n        </ion-col>\n        <ion-col col-5 style="max-width:60% !important;margin: auto;">\n          <ion-badge style="background: linear-gradient(to right,#000000 0%,#000000 75%,#000000 100%);">{{receivedData.branch_name}}</ion-badge>\n          </ion-col>\n     </ion-row>\n    <ion-row>\n      <ion-col col-6 style="max-width:37% !important">\n      <h3 style="font-weight: bold;">Customer</h3>\n      </ion-col>\n      <ion-col col-1 style="max-width:3% !important;margin: auto;">\n        :\n        </ion-col>\n        <ion-col col-5 style="max-width:60% !important;margin: auto;">\n          {{receivedData.cus_name}}\n          </ion-col>\n     </ion-row>\n     <ion-row  no-padding> <ion-col col-6 style="max-width:37% !important">\n      <h3 style="font-weight: bold;">Mobile</h3>\n      </ion-col>\n      <ion-col col-1 style="max-width:3% !important;margin: auto;">\n        :\n        </ion-col>\n        <ion-col col-5 style="max-width:60% !important;margin: auto;">\n          {{receivedData.mobile}}\n          </ion-col>\n     </ion-row>\n\n<br>\n     <ion-row text-center>\n      <ion-col>\n        <h3 style="font-weight: bold;"> Order Information</h3>\n      </ion-col>\n    </ion-row>\n\n    <ion-row  no-padding> <ion-col col-6 style="max-width:37% !important">\n      <h3 style="font-weight: bold;">Order Type</h3>\n      </ion-col>\n      <ion-col col-1 style="max-width:3% !important;margin: auto;">\n        :\n        </ion-col>\n        <ion-col col-5 style="max-width:60% !important;margin: auto;">\n          {{receivedData.order_type}}\n          </ion-col>\n     </ion-row>\n\n     <ion-row  no-padding> <ion-col col-6 style="max-width:37% !important">\n      <h3 style="font-weight: bold;">Order Date</h3>\n      </ion-col>\n      <ion-col col-1 style="max-width:3% !important;margin: auto;">\n        :\n        </ion-col>\n        <ion-col col-5 style="max-width:60% !important;margin: auto;">\n          {{receivedData.order_date}}\n          </ion-col>\n     </ion-row>\n\n    <ion-row  no-padding> <ion-col col-6 style="max-width:37% !important">\n      <h3 style="font-weight: bold;">Order No</h3>\n      </ion-col>\n      <ion-col col-1 style="max-width:3% !important;margin: auto;">\n        :\n        </ion-col>\n        <ion-col col-5 style="max-width:60% !important;margin: auto;">\n          {{receivedData.order_no}}\n          </ion-col>\n     </ion-row>\n\n     <ion-row  no-padding> <ion-col col-6 style="max-width:37% !important">\n      <h3 style="font-weight: bold;">Customer Due Date</h3>\n      </ion-col>\n      <ion-col col-1 style="max-width:3% !important;margin: auto;">\n        :\n        </ion-col>\n        <ion-col col-5 style="max-width:60% !important;margin: auto;">\n          {{receivedData.cus_due_date}}\n          </ion-col>\n     </ion-row>\n\n     <ion-row  no-padding> <ion-col col-6 style="max-width:37% !important">\n      <h3 style="font-weight: bold;">Advance Amount</h3>\n      </ion-col>\n      <ion-col col-1 style="max-width:3% !important;margin: auto;">\n        :\n        </ion-col>\n        <ion-col col-5 style="max-width:60% !important;margin: auto;">\n          {{receivedData.advance_amount}}\n          </ion-col>\n     </ion-row>\n\n\n     <ion-row  no-padding> <ion-col col-6 style="max-width:37% !important">\n      <h3 style="font-weight: bold;">Adjusted Amount</h3>\n      </ion-col>\n      <ion-col col-1 style="max-width:3% !important;margin: auto;">\n        :\n        </ion-col>\n        <ion-col col-5 style="max-width:60% !important;margin: auto;">\n          {{receivedData.advance_adj_amount}}\n          </ion-col>\n     </ion-row>\n\n\n     <ion-row  no-padding> <ion-col col-6 style="max-width:37% !important">\n      <h3 style="font-weight: bold;">Balance Amount</h3>\n      </ion-col>\n      <ion-col col-1 style="max-width:3% !important;margin: auto;">\n        :\n        </ion-col>\n        <ion-col col-5 style="max-width:60% !important;margin: auto;">\n          {{balance}}\n          </ion-col>\n     </ion-row>\n\n     <ion-row  no-padding> <ion-col col-6 style="max-width:37% !important">\n      <h3 style="font-weight: bold;">Purchase No</h3>\n      </ion-col>\n      <ion-col col-1 style="max-width:3% !important;margin: auto;">\n        :\n        </ion-col>\n        <ion-col col-5 style="max-width:60% !important;margin: auto;">\n          {{receivedData.pur_no}}\n          </ion-col>\n     </ion-row>\n\n     <ion-row  no-padding> <ion-col col-6 style="max-width:37% !important">\n      <h3 style="font-weight: bold;">Purchase Status</h3>\n      </ion-col>\n      <ion-col col-1 style="max-width:3% !important;margin: auto;">\n        :\n        </ion-col>\n        <ion-col col-5 style="max-width:60% !important;margin: auto;">\n         {{receivedData.order_status}}\n          </ion-col>\n     </ion-row>\n\n     <ion-row  no-padding>\n      <ion-col col-6 style="max-width:37% !important">\n     <h3 style="font-weight: bold;">Karigar Due Date</h3>\n     </ion-col>\n     <ion-col col-1 style="max-width:3% !important;margin: auto;">\n       :\n       </ion-col>\n       <ion-col col-5 style="max-width:60% !important;margin: auto;">\n        {{receivedData.smith_due_date}}\n         </ion-col>\n    </ion-row>\n\n     <ion-row  no-padding> <ion-col col-6 style="max-width:37% !important">\n      <h3 style="font-weight: bold;">Tag No</h3>\n      </ion-col>\n      <ion-col col-1 style="max-width:3% !important;margin: auto;">\n        :\n        </ion-col>\n        <ion-col col-5 style="max-width:60% !important;margin: auto;">\n          {{receivedData.tag_code}}\n          </ion-col>\n     </ion-row>\n\n     <ion-row  no-padding> <ion-col col-6 style="max-width:37% !important">\n      <h3 style="font-weight: bold;">Bill No</h3>\n      </ion-col>\n      <ion-col col-1 style="max-width:3% !important;margin: auto;">\n        :\n        </ion-col>\n        <ion-col col-5 style="max-width:60% !important;margin: auto;">\n          {{receivedData.bill_no}}\n          </ion-col>\n     </ion-row>\n\n\n     <br>\n     <ion-row text-center>\n      <ion-col>\n        <h3 style="font-weight: bold;"> Product Information</h3>\n      </ion-col>\n    </ion-row>\n\n    <ion-row  no-padding> <ion-col col-6 style="max-width:37% !important">\n      <h3 style="font-weight: bold;">Status</h3>\n      </ion-col>\n      <ion-col col-1 style="max-width:3% !important;margin: auto;">\n        :\n        </ion-col>\n        <ion-col col-5 style="max-width:60% !important;margin: auto;">\n         {{receivedData.order_status}}\n          </ion-col>\n     </ion-row>\n\n    <ion-row  no-padding> <ion-col col-6 style="max-width:37% !important">\n      <h3 style="font-weight: bold;">Product</h3>\n      </ion-col>\n      <ion-col col-1 style="max-width:3% !important;margin: auto;">\n        :\n        </ion-col>\n        <ion-col col-5 style="max-width:60% !important;margin: auto;">\n          {{receivedData.product_name}}\n          </ion-col>\n     </ion-row>\n\n\n     <ion-row  no-padding> <ion-col col-6 style="max-width:37% !important">\n      <h3 style="font-weight: bold;">Design</h3>\n      </ion-col>\n      <ion-col col-1 style="max-width:3% !important;margin: auto;">\n        :\n        </ion-col>\n        <ion-col col-5 style="max-width:60% !important;margin: auto;">\n          {{receivedData.design_name}}\n          </ion-col>\n     </ion-row>\n\n\n     <ion-row  no-padding> <ion-col col-6 style="max-width:37% !important">\n      <h3 style="font-weight: bold;">Sub Design</h3>\n      </ion-col>\n      <ion-col col-1 style="max-width:3% !important;margin: auto;">\n        :\n        </ion-col>\n        <ion-col col-5 style="max-width:60% !important;margin: auto;">\n          {{receivedData.sub_design_name}}\n          </ion-col>\n     </ion-row>\n\n     <ion-row  no-padding> <ion-col col-6 style="max-width:37% !important">\n      <h3 style="font-weight: bold;">Pcs</h3>\n      </ion-col>\n      <ion-col col-1 style="max-width:3% !important;margin: auto;">\n        :\n        </ion-col>\n        <ion-col col-5 style="max-width:60% !important;margin: auto;">\n          {{receivedData.totalitems}}\n          </ion-col>\n     </ion-row>\n\n\n     <ion-row  no-padding> <ion-col col-6 style="max-width:37% !important">\n      <h3 style="font-weight: bold;">GWT</h3>\n      </ion-col>\n      <ion-col col-1 style="max-width:3% !important;margin: auto;">\n        :\n        </ion-col>\n        <ion-col col-5 style="max-width:60% !important;margin: auto;">\n        {{receivedData.weight}}\n          </ion-col>\n     </ion-row>\n\n\n     <ion-row  no-padding> <ion-col col-6 style="max-width:37% !important">\n      <h3 style="font-weight: bold;">LWT</h3>\n      </ion-col>\n      <ion-col col-1 style="max-width:3% !important;margin: auto;">\n        :\n        </ion-col>\n        <ion-col col-5 style="max-width:60% !important;margin: auto;">\n          {{receivedData.less_wt}}\n          </ion-col>\n     </ion-row>\n\n\n     <ion-row  no-padding> <ion-col col-6 style="max-width:37% !important">\n      <h3 style="font-weight: bold;">NWT</h3>\n      </ion-col>\n      <ion-col col-1 style="max-width:3% !important;margin: auto;">\n        :\n        </ion-col>\n        <ion-col col-5 style="max-width:60% !important;margin: auto;">\n          {{receivedData.net_wt}}\n          </ion-col>\n     </ion-row>\n\n\n     <ion-row  no-padding> <ion-col col-6 style="max-width:37% !important">\n      <h3 style="font-weight: bold;">Wastage</h3>\n      </ion-col>\n      <ion-col col-1 style="max-width:3% !important;margin: auto;">\n        :\n        </ion-col>\n        <ion-col col-5 style="max-width:60% !important;margin: auto;">\n          {{receivedData.wast_percent}}\n          </ion-col>\n     </ion-row>\n\n\n     <ion-row  no-padding> <ion-col col-6 style="max-width:37% !important">\n      <h3 style="font-weight: bold;">MC</h3>\n      </ion-col>\n      <ion-col col-1 style="max-width:3% !important;margin: auto;">\n        :\n        </ion-col>\n        <ion-col col-5 style="max-width:60% !important;margin: auto;">\n          {{receivedData.mc}}\n          </ion-col>\n     </ion-row>\n\n\n\n\n   <ion-row  no-padding> <ion-col col-6 style="max-width:37% !important">\n    <h3 style="font-weight: bold;">Karigar</h3>\n    </ion-col>\n    <ion-col col-1 style="max-width:3% !important;margin: auto;">\n      :\n      </ion-col>\n      <ion-col col-5 style="max-width:60% !important;margin: auto;">\n        {{receivedData.karigar_name}}\n        </ion-col>\n   </ion-row>\n\n\n\n\n   <ion-row  no-padding> <ion-col col-6 style="max-width:37% !important">\n    <h3 style="font-weight: bold;">Delivered Date</h3>\n    </ion-col>\n    <ion-col col-1 style="max-width:3% !important;margin: auto;">\n      :\n      </ion-col>\n      <ion-col col-5 style="max-width:60% !important;margin: auto;">\n        {{receivedData.delivered_date}}\n        </ion-col>\n   </ion-row>\n\n\n\n\n\n\n\n<!--    <ion-row  no-padding> <ion-col col-6 style="max-width:37% !important">\n     <h3 style="font-weight: bold;">Image</h3>\n     </ion-col>\n     <ion-col col-1 style="max-width:3% !important;margin: auto;">\n       :\n       </ion-col>\n       <ion-col *ngIf="receivedData.image_details.length == 0" col-5 style="max-width:60% !important;margin: auto;">\n         nill\n         </ion-col>\n       <ion-col *ngIf="receivedData.image_details.length != 0" col-5 style="max-width:60% !important;margin: auto;">\n         {{receivedData.image_details[0]}}\n         </ion-col>\n    </ion-row> -->\n\n    <ion-row  no-padding>\n      <ion-col col-6 style="max-width:37% !important">\n     <h3 style="font-weight: bold;">Remarks</h3>\n     </ion-col>\n     <ion-col col-1 style="max-width:3% !important;margin: auto;">\n       :\n       </ion-col>\n       <ion-col col-5 style="max-width:60% !important;margin: auto;">\n        {{receivedData.description}}\n         </ion-col>\n    </ion-row>\n\n<!--     <ion-row  no-padding>\n       <ion-col col-6 style="max-width:37% !important;margin: auto;">\n      <h3 style="font-weight: bold;">Remarks</h3>\n      </ion-col>\n      <ion-col col-1 style="max-width:3% !important;margin: auto;">\n        :\n        </ion-col>\n        <ion-col col-5 style="max-width:60% !important;margin-top: 17px;">\n          {{receivedData.description}}\n          </ion-col>\n     </ion-row> -->\n\n\n\n     <br>\n     <ion-row text-center *ngIf="receivedData[\'stonedetail\'].length > 0">\n      <ion-col>\n        <h3 style="font-weight: bold;"> Stone Information</h3>\n      </ion-col>\n    </ion-row>\n\n\n      <ion-card *ngFor="let s of receivedData[\'stonedetail\'];let i = index">\n       <ion-row>\n              <ion-col col-5>\n                      <ion-row>        Name : {{s.stone_name}}      </ion-row>\n                          </ion-col>\n                              <ion-col col-5 style="display: inherit;"><span style="font-size: 14px !important;"> Weight(Gms) : {{fixprice(s[\'wt\'])}} g</span></ion-col>\n                                  <ion-col col-2 style="margin: auto;text-align: end;">\n                                       <ion-icon (click)="tog(i)" *ngIf="!s.toggle" name="arrow-dropdown"></ion-icon>\n                                        <ion-icon (click)="tog(i)" *ngIf="s.toggle" name="arrow-dropup"></ion-icon>\n                                        </ion-col>\n      </ion-row>\n         <ion-card-content *ngIf="s[\'toggle\']">\n               <ion-row>\n                      <ion-col> Amount </ion-col>\n                             <ion-col style="font-weight: bold !important;">  {{price(s.amount)}} </ion-col>\n                                    <ion-col> Pcs </ion-col>\n                                    <ion-col style="font-weight: bold !important;"> {{s.pieces}} </ion-col>\n                </ion-row>\n                    <ion-row *ngIf="s.stone_type !=null && s.stone_type !=\'\'" >\n                            <ion-col col-3> Type </ion-col>\n                                 <ion-col col-3 style="font-weight: bold !important;">{{s.stone_type}} </ion-col>\n                    </ion-row>\n           </ion-card-content>\n             </ion-card>\n\n\n\n             <ion-row text-center *ngIf="receivedData[\'diadetail\'].length > 0">\n              <ion-col>\n                <h3 style="font-weight: bold;"> Diamond Information</h3>\n              </ion-col>\n            </ion-row>\n\n\n              <ion-card *ngFor="let s of receivedData[\'diadetail\'];let i = index">\n               <ion-row>\n                      <ion-col col-5>\n                              <ion-row>        Name : {{s.stone_name}}      </ion-row>\n                                  </ion-col>\n                                      <ion-col col-5 style="display: inherit;"><span style="font-size: 14px !important;"> Weight(Gms) : {{fixprice(s[\'wt\'])}} g</span></ion-col>\n                                          <ion-col col-2 style="margin: auto;text-align: end;">\n                                               <ion-icon (click)="diamond_tog(i)" *ngIf="!s.toggle" name="arrow-dropdown"></ion-icon>\n                                                <ion-icon (click)="diamond_tog(i)" *ngIf="s.toggle" name="arrow-dropup"></ion-icon>\n                                                </ion-col>\n              </ion-row>\n                 <ion-card-content *ngIf="s[\'toggle\']">\n                       <ion-row>\n                              <ion-col> Amount </ion-col>\n                                     <ion-col style="font-weight: bold !important;">  {{price(s.amount)}} </ion-col>\n                                            <ion-col> Pcs </ion-col>\n                                            <ion-col style="font-weight: bold !important;"> {{s.pieces}} </ion-col>\n                        </ion-row>\n                            <ion-row *ngIf="s.stone_type !=null && s.stone_type !=\'\'" >\n                                    <ion-col col-3> Type </ion-col>\n                                         <ion-col col-3 style="font-weight: bold !important;">{{s.stone_type}} </ion-col>\n                            </ion-row>\n                   </ion-card-content>\n                     </ion-card>\n\n  </ion-card-content>\n </ion-card>\n\n<!--  <ion-row  no-padding> <ion-col col-6 style="max-width:37% !important">\n   <h3 style="font-weight: bold;">Branch</h3>\n   </ion-col>\n   <ion-col col-1 style="max-width:3% !important;margin: auto;">\n     :\n     </ion-col>\n     <ion-col col-5 style="max-width:60% !important;margin: auto;overflow: scroll;">\n       <ion-badge style="background: linear-gradient(to right,#000000 0%,#000000 75%,#000000 100%);">{{receivedData.branch_name}}</ion-badge>\n     </ion-col>\n  </ion-row>\n  <br>\n\n\n\n\n   <ion-row  no-padding> <ion-col col-6 style="max-width:37% !important">\n    <h3 style="font-weight: bold;">Stone Value</h3>\n    </ion-col>\n    <ion-col col-1 style="max-width:3% !important;margin: auto;">\n      :\n      </ion-col>\n      <ion-col col-5 style="max-width:60% !important;margin: auto;">\n        {{receivedData.stn_amt}}\n        </ion-col>\n   </ion-row>\n  <br>\n\n\n\n\n -->\n<!-- </ion-item>\n</ion-card>\n -->\n </div>\n</ion-content>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\status-view\status-view.html"*/,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["B" /* ViewController */], __WEBPACK_IMPORTED_MODULE_0__angular_core__["j" /* ChangeDetectorRef */]])
    ], StatusViewPage);
    return StatusViewPage;
}());

//# sourceMappingURL=status-view.js.map

/***/ }),

/***/ 788:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return IndianCurrencyPipe; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var IndianCurrencyPipe = /** @class */ (function () {
    function IndianCurrencyPipe() {
    }
    IndianCurrencyPipe.prototype.transform = function (value, decimals) {
        if (decimals === void 0) { decimals = 2; }
        if (value == null || value === '')
            return '';
        var num = Number(value);
        if (isNaN(num))
            return '';
        return num.toLocaleString('en-IN', {
            minimumFractionDigits: decimals,
            maximumFractionDigits: decimals
        });
    };
    IndianCurrencyPipe = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["S" /* Pipe */])({
            name: 'indianCurrency'
        })
    ], IndianCurrencyPipe);
    return IndianCurrencyPipe;
}());

//# sourceMappingURL=indian-currency.js.map

/***/ }),

/***/ 91:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SubdesignPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_retail__ = __webpack_require__(7);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__avrsearch_avrsearch__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__prodetail_prodetail__ = __webpack_require__(70);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__folderpress_folderpress__ = __webpack_require__(73);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__cart_cart__ = __webpack_require__(27);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__modal_customer_customer__ = __webpack_require__(29);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__auto_auto__ = __webpack_require__(45);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__wishlist_wishlist__ = __webpack_require__(34);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__supprodetail_supprodetail__ = __webpack_require__(196);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












// @IonicPage()
var SubdesignPage = /** @class */ (function () {
    function SubdesignPage(toast, events, modal, comman, navCtrl, load, navParams, retailService) {
        var _this = this;
        this.toast = toast;
        this.events = events;
        this.modal = modal;
        this.comman = comman;
        this.navCtrl = navCtrl;
        this.load = load;
        this.navParams = navParams;
        this.retailService = retailService;
        this.id_product = this.navParams.get('id_product');
        this.design = this.navParams.get('design_no');
        this.empData = JSON.parse(localStorage.getItem('empDetail'));
        this.designs = [];
        // designs: any[]=[];
        this.last_id = 0;
        this.page_no = 1;
        this.id_ret_category = this.navParams.get('id_category');
        this.pagename = this.navParams.get('pagename');
        this.from = this.navParams.get('filter');
        this.checkStatus = false;
        this.total_records = 0;
        this.where = '';
        this.totalcartitems = localStorage.getItem('carts') != null ? JSON.parse(localStorage.getItem('carts'))['items'] : [];
        this.supplier = this.navParams.get('supplier');
        console.log(this.supplier);
        var loader = this.load.create({
            content: 'Please Wait',
            spinner: 'bubbles',
        });
        loader.present();
        this.where = this.navParams.get('collect');
        // if(this.from != undefined){
        var postData = {
            'id_employee': this.empData['uid'] != null ? this.empData['uid'] : null,
            'type': 'active',
            'id_product': this.id_product,
            'last_id': this.last_id,
            'design_no': this.design
        };
        // this.from["lastid"] = this.last_id;
        this.from["page_no"] = this.page_no;
        this.from["id_branch"] = this.empData['id_branch'];
        //  this.from["supplier"] = false;
        this.comman.filter(this.from).then(function (data) {
            // this.designs = data;
            _this.designs = data['ReturnObject'] != null ? data['ReturnObject'] : [];
            localStorage.setItem('see', JSON.stringify(_this.designs));
            console.log(_this.designs);
            _this.total_records = data['total_records'];
            loader.dismiss();
        }, function (err) {
            loader.dismiss();
        });
        // }
        // else{
        //   var postData = {
        //     'id_employee': this.empData['uid'] != null ? this.empData['uid'] : null,
        //     'type': 'active',
        //     'id_product': this.id_product,
        //     'last_id': this.last_id,
        //     'design_no':this.design
        //   }
        //   this.comman.getsubdesigns(postData).then(data => {
        //     this.designs = data;
        //     console.log(this.designs);
        //     loader.dismiss();
        //   })
        // }
    }
    SubdesignPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad DesignsPage');
    };
    SubdesignPage.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        console.log(this.designs);
        this.page_no = this.page_no + 1;
        // if(this.from != undefined){
        this.from["lastid"] = this.designs[this.designs.length - 1]['id_tag_detail'];
        this.from["page_no"] = this.page_no;
        console.log(this.last_id);
        var postData = {
            'id_employee': this.empData['uid'] != null ? this.empData['uid'] : null,
            'type': 'active',
            'id_product': this.id_product,
            'last_id': this.last_id,
            'design_no': this.design
        };
        //  this.from["supplier"] = false;
        this.comman.filter(this.from).then(function (data) {
            var productItems = data['ReturnObject'] != null ? data['ReturnObject'] : [];
            for (var index = 0; index < productItems.length; index++) {
                _this.designs.push(productItems[index]);
            }
            infiniteScroll.complete();
            localStorage.setItem('see', JSON.stringify(_this.designs));
        });
        // }else{
        //   this.last_id = this.designs[this.designs.length - 1]['id_sub_design'];
        // console.log(this.last_id);
        // var postData = {
        //   'id_employee': this.empData['uid'] != null ? this.empData['uid'] : null,
        //   'type': 'active',
        //   'id_product': this.id_product,
        //   'last_id': this.last_id,
        //   'design_no':this.design
        // }
        // this.comman.getsubdesigns(postData).then(data => {
        //   console.log(data)
        //   for (let index = 0; index < data.length; index++) {
        //     this.designs.push(data[index])
        //   }
        //   infiniteScroll.complete();
        // })
        // }
    };
    SubdesignPage.prototype.openDesign = function (data, i) {
        console.log(data);
        var product_id = JSON.parse(localStorage.getItem('see'))[i];
        product_id['net_wt'] = product_id['NetWt'];
        product_id['gross_wt'] = product_id['GrossWt'];
        product_id['metal_type'] = product_id['rate_field'];
        product_id['market_metal_type'] = product_id['market_rate_field'];
        product_id['tax_group_id'] = product_id['tgrp_id'];
        // if(this.from != undefined){
        // this.navCtrl.push( ProdetailPage, { proid: design_no } );
        if (product_id.hasOwnProperty('TagStone')) {
            product_id['TagStoneDetails'] = product_id['TagStone'];
        }
        // localStorage.setItem('see',JSON.stringify(this.designs))
        console.log(JSON.parse(localStorage.getItem('see')));
        // product_id['arr'] = JSON.parse(localStorage.getItem('see'));
        // this.comman.setdata(this.designs);
        // product_id['arr'] = this.designs;
        // product_id['arr'].unshift(product_id);
        // product_id['purities'] = [{'purity':'90.00','id_purity':1},{'purity':'80.00','id_purity':2}];
        // product_id['weights'] = [{'weight_description':'70g' ,'id_weight':1}];
        // product_id['sizes'] = [{'value':'70','name':'inch' ,'id_size':1}];
        // product_id['weight'] = '';
        // product_id['pcs'] = '';
        // product_id['due_date'] = '';
        // product_id['id_weight'] = '';
        // product_id['id_purity'] = '';
        // product_id['min_weight'] = '';
        // product_id['max_weight'] = '';
        // product_id['id_size'] = '';
        // product_id['sample_details'] = '';
        this.events.publish('inf', product_id);
        console.log('product_id : ', product_id);
        if (this.supplier == true) {
            this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__prodetail_prodetail__["a" /* ProdetailPage */], { proid: product_id, single: JSON.parse(localStorage.getItem('see')), supplier: this.supplier });
        }
        else {
            this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_11__supprodetail_supprodetail__["a" /* SupprodetailPage */], { proid: product_id, single: JSON.parse(localStorage.getItem('see')), supplier: this.supplier });
        }
        // }else{
        //   this.navCtrl.push(DesignDetailPage,{ 'id_category': this.id_ret_category,'id_product': this.id_product,'design_no':this.design,'id_sub_design':design_no.id_sub_design,'type':'edit'})
        // }
    };
    SubdesignPage.prototype.open = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__avrsearch_avrsearch__["a" /* AvrsearchPage */]);
    };
    SubdesignPage.prototype.grid = function () {
        console.log("grid");
        this.checkStatus = true;
    };
    SubdesignPage.prototype.listgrid = function () {
        console.log("listgrid");
        this.checkStatus = false;
    };
    SubdesignPage.prototype.price = function (data) {
        var temp1 = parseFloat(data).toFixed();
        return temp1;
    };
    //   sort(){
    //     console.log(this.designs)
    //     // else if(no == 4){
    //       this.designs = this.designs.sort(function(a, b){
    //         return parseInt(a.GrossWt) - parseInt(b.GrossWt)
    //     });
    //     console.log(this.designs)
    // }
    SubdesignPage.prototype.sort = function (now) {
        var _this = this;
        var profileModal = this.modal.create(__WEBPACK_IMPORTED_MODULE_6__folderpress_folderpress__["a" /* FolderpressPage */]);
        profileModal.present();
        profileModal.onDidDismiss(function (no) {
            console.log(no);
            if (no != null) {
                if (no == 2) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        var nameA = a['sub_design_name'].toLowerCase(), nameB = b['sub_design_name'].toLowerCase();
                        if (nameA < nameB)
                            return -1;
                        if (nameA > nameB)
                            return 1;
                        return 0; //default return value (no sorting)
                    });
                }
                else if (no == 3) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        var nameA = a['sub_design_name'].toLowerCase(), nameB = b['sub_design_name'].toLowerCase();
                        if (nameA > nameB)
                            return -1;
                        if (nameA < nameB)
                            return 1;
                        return 0; //default return value (no sorting)
                    });
                }
                else if (no == 4) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        if (a.Rate != null && b.Rate != null) {
                            return parseInt(a.Rate) - parseInt(b.Rate);
                        }
                        // if(a.Rate != null && b.Rate == null){
                        //   return parseInt(a.Rate) - parseInt(b.price)
                        //   }
                        //   if(a.Rate == null && b.Rate != null){
                        //     return parseInt(a.price) - parseInt(b.Rate)
                        //     }
                        //     if(a.Rate == null && b.Rate == null){
                        //       return parseInt(a.price) - parseInt(b.price)
                        //       }
                    });
                }
                else if (no == 5) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        if (b.Rate != null && a.Rate != null) {
                            return parseInt(b.Rate) - parseInt(a.Rate);
                        }
                        // if(b.Rate != null && a.Rate == null){
                        //   return parseInt(b.Rate) - parseInt(a.price)
                        //   }
                        //   if(b.Rate == null && a.Rate != null){
                        //     return parseInt(b.price) - parseInt(a.Rate)
                        //     }
                        //     if(b.Rate == null && a.Rate == null){
                        //       return parseInt(b.price) - parseInt(a.price)
                        //       }
                    });
                }
                else if (no == 6) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        return parseInt(a.GrossWt) - parseInt(b.GrossWt);
                    });
                }
                else if (no == 7) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        return parseInt(b.GrossWt) - parseInt(a.GrossWt);
                    });
                }
                else if (no == 8) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        return parseInt(a.timestamp) - parseInt(b.timestamp);
                    });
                }
                else if (no == 9) {
                    _this.designs = _this.designs.sort(function (a, b) {
                        return parseInt(b.timestamp) - parseInt(a.timestamp);
                    });
                }
                console.log(no);
                console.log(_this.designs);
            }
        });
    };
    SubdesignPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    SubdesignPage.prototype.ionViewWillEnter = function () {
        this.events.publish('entered', true);
        this.events.publish('pageno', 3);
    };
    SubdesignPage.prototype.proceedToWishlist = function (item) {
        console.log(item, 'uuuuuuuuuuuu');
        var empData = JSON.parse(localStorage.getItem('empDetail'));
        console.log(empData);
        var wishlistData = {
            'id_customer': '',
            'id_branch': empData['id_branch'],
            'id_employee': empData['id_employee'],
            'item_type': 3,
            'is_customized': 1,
            'id_product': item['pro_id'],
            'design_no': item['design_no'],
            'id_sub_design': item['id_sub_design'],
            'wast_percent': 1,
            'id_mc_type': item['mc_type'],
            'mc': item['mc_value'],
            'stn_amt': 0,
            'due_date': item['due_date'],
            'length': item['len'],
            'width': item['width'],
            'dia': item['dia'],
            'weight': item['GrossWt'],
            'id_size': item['id_size'],
            'id_weight': item['id_weight'],
            'pcs': item['pcs'],
            'id_purity': item['id_purity'],
            'hook_type': item['hook_type'],
            'sample_details': item['sample_details'],
            'image': item['TagImage'],
            'targetPaths': item['targetPaths'],
            'sample_images': item['sample_images'],
            'stones': item['TagStoneDetails'],
            'status': 1,
            'id_wishlist': item['id_wishlist'],
            'sub_design_name': item['sub_design_name'],
            'design_name': item['design_name'],
            'product_name': item['ProductName'],
            'id_category': item['id_category'],
            'metal_name': item['MetalName'],
            'sub_product': item['sub_design_name'],
            'tag_num': item['TagNo'],
            'net_wt': item['NetWt'],
            'gross_wt': item['GrossWt'],
            'Purity': item['Purity'],
            'rate': item['Rate'],
            'tax_group_id': item['tgrp_id'],
            'retail_max_wastage_percent': item['retail_max_wastage_percent'],
            'market_metal_type': item['market_rate_field'],
            // 'market_rate_field':item['market_rate_field'],
            'metal_type': item['rate_field'],
            'charge_value': item['charge_value'],
            'stone_price': item['stone_price']
        };
        if (localStorage.getItem('carts') == null) {
            localStorage.setItem('carts', JSON.stringify({ "id_branch": empData['id_branch'], "id_employee": empData['id_employee'], "id_customer": '', "status": 1, "items": [wishlistData] }));
        }
        else {
            var local = JSON.parse(localStorage.getItem('carts'))['items'];
            console.log(local);
            local.push(wishlistData);
            console.log(local);
            localStorage.setItem('carts', JSON.stringify({ "id_branch": empData['id_branch'], "id_employee": empData['id_employee'], "id_customer": '', "status": 1, "items": local }));
        }
        // this.loader.dismiss();
        this.comman.presentToast("Product added to cart successfully", '');
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__cart_cart__["a" /* CartPage */]);
    };
    SubdesignPage.prototype.addWishlist = function (item) {
        var _this = this;
        var empData = JSON.parse(localStorage.getItem('empDetail'));
        var modal = this.modal.create(__WEBPACK_IMPORTED_MODULE_8__modal_customer_customer__["a" /* CusSearchPage */], { 'show': 'true' });
        modal.present();
        modal.onDidDismiss(function (mData) {
            console.log(mData);
            if (mData != null) {
                // this.idcus = mData['id_customer'];
                var loader_1 = _this.load.create({
                    content: 'Please Wait',
                    spinner: 'bubbles',
                });
                loader_1.present();
                _this.retailService.addToWishlist({
                    "customer_name": mData['firstname'],
                    "mobile": mData['mobile'],
                    "customer_id": mData['id_customer'],
                    "tag_id": item['id_tag_detail'],
                    "tag_code": item['TagNo'],
                    "branch_id": empData['id_branch'],
                    "employee_id": empData['uid'],
                    "id_sub_design": item['id_sub_design'],
                    "product_id": item['product_id'],
                    "design_id": item['design_id'],
                }).then(function (data) {
                    var toastMsg = _this.toast.create({
                        message: data.msg,
                        duration: _this.comman.toastTimeout,
                        position: 'middle'
                    });
                    toastMsg.present();
                    loader_1.dismiss();
                }, function (err) {
                    var toastMsg = _this.toast.create({
                        message: "try again",
                        duration: _this.comman.toastTimeout,
                        position: 'middle'
                    });
                    toastMsg.present();
                    loader_1.dismiss();
                });
            }
            else {
            }
        });
    };
    SubdesignPage.prototype.cart = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__cart_cart__["a" /* CartPage */]);
    };
    SubdesignPage.prototype.openModal = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_9__auto_auto__["a" /* AutoPage */]);
    };
    SubdesignPage.prototype.wishlist = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_10__wishlist_wishlist__["a" /* WishlistPage */]);
    };
    SubdesignPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-subdesign',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\subdesign\subdesign.html"*/'<!--\n  Generated template for the DesignsPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n-->\n<!-- <ion-header>\n  <ion-navbar>\n      <button ion-button menuToggle><ion-icon name="menu"></ion-icon></button>\n      <ion-title>SubDesigns\n        <ion-icon  name="md-funnel" (click)="open()" style="color:black !important;float: right;" ></ion-icon>\n\n      </ion-title>\n  </ion-navbar>\n</ion-header>\n\n\n<ion-content padding-vertical>\n  <ion-grid no-padding>\n      <ion-row *ngIf="designs.length > 0" text-center>\n          <ion-col text-wrap col-6 col-sm-6 col-md-4 col-lg-4 col-xl-4  *ngFor="let item of designs; let i=index" class="custom-2col" [ngClass]="animateClass" (click)="openDesign(item,i)">\n              <ion-card>\n                  <img class="full-image" src=\'{{item.default_image}}\' onerror="this.onerror=null;this.src=\'assets/no-img.png\';" imageCache/>\n                  <ion-item text-center no-margin>\n                      <h5 class="text-small theme-color">{{item.label}}</h5>\n                  </ion-item>\n              </ion-card>\n          </ion-col>\n      </ion-row>\n  </ion-grid>\n\n  <ion-row *ngIf="designs.length == 0 " style="text-align: center;">\n      <ion-col>\n          <h4>{{errormsg}}</h4>\n      </ion-col>\n  </ion-row>\n\n   <ion-infinite-scroll (ionInfinite)="doInfinite($event)">\n      <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="Loading more data..."></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n\n</ion-content> -->\n\n<ion-header>\n    <ion-navbar>\n        <!-- <button ion-button menuToggle>\n            <ion-icon name="menu"></ion-icon>\n        </button> -->\n        <ion-title>\n          <!-- Collections -->\n          <span *ngIf="where == \'tt\'">Collections</span> <span *ngIf="designs.length > 0 && where != \'tt\'">{{designs[0][\'sub_design_name\']}}</span> <span *ngIf="total_records != \'\'"> ({{total_records}}) </span>\n          <div  id="notification-button" >\n            <ion-icon style="color:black;float: right;font-size:1.4em !important" name="cart" (click)="cart()"></ion-icon>\n          <ion-badge *ngIf="totalcartitems != null && totalcartitems.length > 0" style="font-size: 1rem !important;"  id="notifications-badge" color="danger">{{totalcartitems.length}}</ion-badge>\n\n    </div>\n           <ion-icon  name="md-funnel" (click)="open()" style="color:black !important;float: right;font-size:1.4em !important" ></ion-icon>\n          <ion-icon style="color:black;float: right;font-size:1.4em !important" name="search" (click)="openModal()"></ion-icon>\n          <ion-icon style="color:black !important;float: right;font-size:1.4em !important;" (click)="wishlist()" name="heart-outline"></ion-icon>\n\n        </ion-title>\n    </ion-navbar>\n  </ion-header>\n  <ion-content>\n    <!-- <ion-row *ngIf="total_records != 0" style="background:#eee;">\n      <ion-col col-8 style="margin: auto;">\n        There are {{total_records}} products.\n      </ion-col>\n            <ion-col col-4 align="right">\n                <ion-icon   *ngIf="!checkStatus" (click)="grid()" name="grid" ></ion-icon>\n                <ion-icon  *ngIf="checkStatus"  (click)="listgrid()" name="list"></ion-icon>\n            </ion-col>\n        </ion-row> -->\n        <!-- <ion-row  style="">\n          <ion-col style="font-weight: bold;\n          font-size: medium !important;\n          margin: 10px;    text-transform: capitalize;color:#000000;text-align: center;">\n            {{designs[0][\'sub_design_name\']}} ({{total_records}})\n          </ion-col>\n\n            </ion-row> -->\n            <ion-row  style="border: 1px solid lightgray;padding: 7px !important;">\n\n              <ion-col (click)="sort()" col-4 >\n                <!-- <ion-icon     name="arrow-round-up" ></ion-icon><ion-icon     name="arrow-round-down" ></ion-icon><span style="color:#000000;">Sort</span>  -->\n                <img style="height: 15px;" src="assets/up-down.png"><span style="color: black;    margin-left: 2px;">Sort</span>\n              </ion-col>\n            <ion-col style="text-align: center;" (click)="open()" col-4 >\n              <ion-icon     name="ios-funnel-outline" ></ion-icon><span style="color: black;">Filter</span>\n          </ion-col>\n                    <ion-col style="text-align: end;" col-4 *ngIf="!checkStatus" (click)="grid()">\n                        <ion-icon     name="grid" ></ion-icon><span *ngIf="!checkStatus"  style="color: black;">View Style</span>\n                        <!-- <ion-icon  *ngIf="checkStatus"  (click)="listgrid()" name="list"></ion-icon><span *ngIf="checkStatus"  style="color:#000000;">View Style</span> -->\n                    </ion-col>\n                    <ion-col style="text-align: end;" col-4 *ngIf="checkStatus" (click)="listgrid()">\n                      <!-- <ion-icon   *ngIf="!checkStatus" (click)="grid()" name="grid" ></ion-icon><span *ngIf="!checkStatus"  style="color:#000000;">View Style</span>  -->\n                      <ion-icon     name="list"></ion-icon><span *ngIf="checkStatus"  style="color: black;">View Style</span>\n                  </ion-col>\n                </ion-row>\n        <ion-grid no-padding>\n\n    <ion-row [class.hide]="checkStatus">\n        <ion-col style="padding: 2px !important;" col-6 col-sm-6 col-md-4 col-lg-4 col-xl-4 [ngClass]="animateClass" *ngFor=" let item of designs; let i=index "  no-padding>\n             <ion-card style="border: 1px solid #e4e4e4;height: 285px;border-radius: 2px">\n               <!-- <div style="margin: 3px;"><span *ngIf="item.is_stock_avail==1 && item.stock_manage == 1" class="instock">Instock</span><span *ngIf="item.is_stock_avail==0 && item.stock_manage == 1"  class="outofstock">Out of stock</span></div> -->\n               <!-- <div style="margin: 3px;text-align: right;"><span class="instock">{{item.BranchName}}</span></div> -->\n             <!-- <div [ngStyle]="{\'width.px\': 30,\'height.px\': 30,\'border-radius.px\':50,\'background\':item.colorcode,\'position\':\'absolute\',\'right\':6,\'top\':6,\'z-index\':1}">-->\n			                  <div [ngStyle]="{\'width.px\': 30,\'height.px\': 30,\'color\':item.colorcode,\'position\':\'absolute\',\'right\':6,\'top\':6,\'z-index\':1}">\n				<ion-icon *ngIf="item.colorcode != \'\' " style="font-size:2em !important;" name="bookmark"></ion-icon>\n			  </div>\n               <img (click)="openDesign(item,i)" style="height: 180px;width: auto;margin: 0 auto;object-fit: cover !important;" *ngIf=\'item.TagImage != null\' src=\'{{item.TagImage}}\' onerror="this.src=\'assets/no-img.png\'" imageCache/>\n                <img (click)="openDesign(item,i)" style="height: 180px;margin: 0 auto;object-fit: cover !important;" *ngIf=\'item.TagImage == null\' src=\'assets/no-img.png\' imageCache/>\n                <div (click)="openDesign(item,i)" *ngIf="item.Status != \'OPEN\'" style="    position: absolute;\n    top: 55px;\n    transform: rotate(-32deg);                left: 0;\n                right: 0;\n                text-align: center;\n                background: white;\n                padding: 8px;">OUT OF STOCK</div>\n                <div (click)="openDesign(item,i)" class="row"  style="    text-align: center;\n                font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 14px;overflow: hidden;color: #bb9532;\n          justify-content: center;\n          align-items: center;text-transform: capitalize;">\n            <div  class="col" col-4 style="text-align: center;\n            height: 25px;\n            font-weight: 500;\n            text-overflow: ellipsis;\n            padding: 4px;\n            padding-bottom: 0px !important;\n            font-size: 10px;\n            overflow: hidden;\n            display: grid;\n            justify-content: left;\n            align-items: center;\n            color: black !important;\n            text-transform: capitalize;">\n                    Tag No.\n\n            </div>\n            <div class="col" col-1 style="text-align: center;\n            height: 25px;\n            font-weight: 500;\n            text-overflow: ellipsis;\n            padding: 4px;\n            padding-bottom: 0px !important;\n            font-size: 10px;\n            overflow: hidden;\n            display: grid !important;\n            justify-content: left;\n            align-items: center;\n            color: black !important;\n            text-transform: capitalize;">\n              :\n                    </div>\n            <div class="col" col-7 style="\n            height: 25px;\n            font-weight: 500;\n            text-overflow: ellipsis;\n            padding: 4px;\n            padding-bottom: 0px !important;\n            font-size: 10px;\n            overflow: hidden;\n            display: grid;\n            justify-content: left;\n            align-items: center;\n            color: #747272 !important;\n            text-transform: capitalize;">\n                    <span>{{item.TagNo}}</span>\n\n                    </div>\n\n\n                </div>\n\n\n                <div (click)="openDesign(item,i)" class="row"  style="    text-align: center;\n                font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 10px;overflow: hidden;color: #bb9532;\n          justify-content: left;\n          align-items: center;text-transform: capitalize;">\n            <div class="col" col-4 style="text-align: center;\n            height: 25px;\n            font-weight: 500;\n            text-overflow: ellipsis;\n            padding: 4px;\n            padding-bottom: 0px !important;\n            font-size: 10px;\n            overflow: hidden;\n            display: grid;\n            justify-content: left;\n            align-items: center;\n            color: black !important;\n            text-transform: capitalize;">\n                    G.Wt.\n\n                    </div>\n                      <div class="col" col-1 style="text-align: center;\n                      height: 25px;\n                      font-weight: 500;\n                      text-overflow: ellipsis;\n                      padding: 4px;\n                      padding-bottom: 0px !important;\n                      font-size: 10px;\n                      overflow: hidden;\n                      display: grid;\n                      justify-content: left;\n                      align-items: center;\n                      color: black !important;\n                      text-transform: capitalize;">\n                        :\n                              </div>\n            <div class="col" col-7 style="\n            height: 25px;\n            font-weight: 500;\n            text-overflow: ellipsis;\n            padding: 4px;\n            padding-bottom: 0px !important;\n            font-size: 10px;\n            overflow: hidden;\n            display: grid;\n            justify-content: left;\n            align-items: center;\n            color: #747272 !important;\n            text-transform: capitalize;">\n                    {{item.GrossWt}} g\n\n                    </div>\n\n\n                </div>\n\n                <div (click)="openDesign(item,i)" class="row"  style="    text-align: center;\n                font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 10px;overflow: hidden;color: #bb9532;\n          justify-content: left;\n          align-items: center;text-transform: capitalize;">\n            <div class="col" col-4 style="text-align: center;\n            height: 25px;\n            font-weight: 500;\n            text-overflow: ellipsis;\n            padding: 4px;\n            padding-bottom: 0px !important;\n            font-size: 10px;\n            overflow: hidden;\n            display: grid;\n            justify-content: left;\n            align-items: center;\n            color: black !important;\n            text-transform: capitalize;">\n                    N.Wt.\n\n                    </div>\n                      <div class="col" col-1 style="text-align: center;\n                      height: 25px;\n                      font-weight: 500;\n                      text-overflow: ellipsis;\n                      padding: 4px;\n                      padding-bottom: 0px !important;\n                      font-size: 10px;\n                      overflow: hidden;\n                      display: grid;\n                      justify-content: left;\n                      align-items: center;\n                      color: black !important;\n                      text-transform: capitalize;">\n                        :\n                              </div>\n            <div class="col" col-7 style="\n            height: 25px;\n            font-weight: 500;\n            text-overflow: ellipsis;\n            padding: 4px;\n            padding-bottom: 0px !important;\n            font-size: 10px;\n            overflow: hidden;\n            display: grid;\n            justify-content: left;\n            align-items: center;\n            color: #747272 !important;\n            text-transform: capitalize;">\n                    {{item.net_wt}} g\n\n                    </div>\n\n\n                </div>\n\n                <div class="row"  style="    text-align: center;\n                font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 10px;overflow: hidden;color: #bb9532;\n          justify-content: left;\n          align-items: center;text-transform: capitalize;">\n            <div (click)="openDesign(item,i)" class="col" col-4 style="text-align: center;\n            height: 25px;\n            font-weight: 500;\n            text-overflow: ellipsis;\n            padding: 4px;\n            padding-bottom: 0px !important;\n            font-size: 10px;\n            overflow: hidden;\n            display: grid;\n            justify-content: left;\n            align-items: center;\n            color: black !important;\n            text-transform: capitalize;">\n                    Branch\n\n                    </div>\n                      <div (click)="openDesign(item,i)" class="col" col-1 style="text-align: center;\n                      height: 25px;\n                      font-weight: 500;\n                      text-overflow: ellipsis;\n                      padding: 4px;\n                      padding-bottom: 0px !important;\n                      font-size: 10px;\n                      overflow: hidden;\n                      display: grid;\n                      justify-content: left;\n                      align-items: center;\n                      color: black !important;\n                      text-transform: capitalize;">\n                        :\n                              </div>\n            <div class="col" col-7 style="\n            height: 25px;\n            font-weight: 500;\n            text-overflow: ellipsis;\n            padding: 4px;\n            padding-bottom: 0px !important;\n            font-size: 10px;\n            overflow: hidden;\n            display: grid;\n            justify-content: left;\n            align-items: center;\n            color: #747272 !important;\n            text-transform: capitalize;\n            display: contents;">\n                   <span (click)="openDesign(item,i)" style="    margin-left: 4px;\n                   white-space: nowrap;\n                   padding-top: 5px;\n                   width: 22%;\n                   overflow: hidden;\n                   text-overflow: ellipsis;text-align: left;"> {{item.BranchName}}</span>\n                    <div style="margin-left:10px;">\n                      <ion-icon style="    background:#000000;\n                    color: #ffc04b;\n                    border-radius: 5px;" (click)="proceedToWishlist(item)" name="ios-cart-outline"></ion-icon> <ion-icon style="    background: #ffc04b;\n    color:#000000;\n    border-radius: 5px;" (click)="addWishlist(item)" name="heart-outline"></ion-icon>\n                    </div>\n\n            </div>\n\n\n                </div>\n\n                <!-- <div class="row"  style="text-align: center;">\n                    <div class="col" col-12>\n                      <div style="\n                     text-align: center;color: #86354d !important;\n                      ">\n                        <span style="font-weight: bold;font-size: 20px;">{{price(item.Rate)}}</span>\n                      </div>\n\n                    </div>\n\n                  </div> -->\n\n            </ion-card>\n\n        </ion-col>\n        <!-- <div class="itemempty"  *ngIf="designs?.length == 0">No item to display</div> -->\n    </ion-row>\n\n    </ion-grid>\n    <p  [class.hide]="!checkStatus" style="    margin-top: 0px;">\n      <ion-card *ngFor=" let item of designs; let i=index " style="border: 1px solid #e4e4e4;height: 130px;border-radius: 2px">\n\n        <!-- <div [ngStyle]="{\'width.px\': 30,\'height.px\': 30,\'border-radius.px\':50,\'background\':item.colorcode,\'position\':\'absolute\',\'right\':6,\'top\':6,\'z-index\':1}">-->\n		<div [ngStyle]="{\'width.px\': 30,\'height.px\': 30,\'color\':item.colorcode,\'position\':\'absolute\',\'right\':6,\'top\':6,\'z-index\':1}">\n				<ion-icon *ngIf="item.colorcode != \'\' " style="font-size:2em !important" name="bookmark"></ion-icon>\n\n		</div>\n\n        <ion-row >\n\n        <ion-col (click)="openDesign(item,i)" col-4>\n          <img style="height: 120px;width: auto;margin: 0 auto;object-fit: cover !important;" *ngIf=\'item.TagImage != null\' src=\'{{item.TagImage}}\' onerror="this.src=\'assets/no-img.png\'" imageCache/>\n          <img style="height: 120px;margin: 0 auto;object-fit: cover !important;" *ngIf=\'item.TagImage == null\' src=\'assets/no-img.png\' imageCache/>\n          <div *ngIf="item.Status != \'OPEN\'" style="    position: absolute;\n    top: 50px;\n    transform: rotate(-32deg);                 left: 0;\n                 right: 0;\n                 text-align: center;\n                 background: white;\n                 padding: 8px;">OUT OF STOCK</div>\n        </ion-col>\n            <ion-col col-8  [ngClass]="animateClass"  >\n                <!-- <div style="margin: 3px;"><span *ngIf="item.is_stock_avail==1 && item.stock_manage == 1" class="instock">Instock</span><span *ngIf="item.is_stock_avail==0 && item.stock_manage == 1"  class="outofstock">Out of stock</span></div> -->\n                <!-- <div style="margin: 3px;text-align: right;"><span class="instock">{{item.BranchName}}</span></div> -->\n\n\n                 <div (click)="openDesign(item,i)" class="row"  style="    text-align: center;\n                 font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 14px;overflow: hidden;color: #bb9532;\n           justify-content: center;\n           align-items: center;text-transform: capitalize;">\n             <div  class="col" col-3 style="text-align: center;\n             height: 25px;\n             font-weight: 500;\n             text-overflow: ellipsis;\n             padding: 4px;\n             padding-bottom: 0px !important;\n             font-size: 10px;\n             overflow: hidden;\n             display: grid;\n             justify-content: left;\n             align-items: center;\n             color: black !important;\n             text-transform: capitalize;">\n                     Tag No.\n\n             </div>\n                       <div  class="col" col-1 style="text-align: center;\n                       height: 25px;\n                       font-weight: 500;\n                       text-overflow: ellipsis;\n                       padding: 4px;\n                       padding-bottom: 0px !important;\n                       font-size: 10px;\n                       overflow: hidden;\n                       white-space: nowrap;\n     padding-top: 8px;                      justify-content: left;\n     display: grid;\n                       align-items: center;\n                       color: black !important;\n                       text-transform: capitalize;">\n                         :\n                               </div>\n             <div class="col" col-8 style="\n             height: 25px;\n             font-weight: 500;\n             text-overflow: ellipsis;\n             padding: 4px;\n             padding-bottom: 0px !important;\n             font-size: 10px;\n             overflow: hidden;\n             display: grid;\n             justify-content: left;\n             align-items: center;\n             color: #747272 !important;\n             text-transform: capitalize;">\n                     <span>{{item.TagNo}}</span>\n\n                     </div>\n\n\n                 </div>\n\n\n                 <div (click)="openDesign(item,i)" class="row"  style="    text-align: center;\n                 font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 10px;overflow: hidden;color: #bb9532;\n           justify-content: left;\n           align-items: center;text-transform: capitalize;">\n             <div class="col" col-3 style="text-align: center;\n             height: 25px;\n             font-weight: 500;\n             text-overflow: ellipsis;\n             padding: 4px;\n             padding-bottom: 0px !important;\n             font-size: 10px;\n             overflow: hidden;\n             display: grid;\n             justify-content: left;\n             align-items: center;\n             color: black !important;\n             text-transform: capitalize;">\n                     G.Wt.\n\n                     </div>\n                       <div class="col" col-1 style="text-align: center;\n                       height: 25px;\n                       font-weight: 500;\n                       text-overflow: ellipsis;\n                       padding: 4px;\n                       padding-bottom: 0px !important;\n                       font-size: 10px;\n                       overflow: hidden;\n                       display: grid;\n                       justify-content: left;\n                       align-items: center;\n                       color: black !important;\n                       text-transform: capitalize;">\n                         :\n                               </div>\n             <div class="col" col-8 style="\n             height: 25px;\n             font-weight: 500;\n             text-overflow: ellipsis;\n             padding: 4px;\n             padding-bottom: 0px !important;\n             font-size: 10px;\n             overflow: hidden;\n             display: grid;\n             justify-content: left;\n             align-items: center;\n             color: #747272 !important;\n             text-transform: capitalize;">\n                     {{item.GrossWt}} g\n\n                     </div>\n\n\n                 </div>\n\n                 <div (click)="openDesign(item,i)" class="row"  style="    text-align: center;\n                 font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 10px;overflow: hidden;color: #bb9532;\n           justify-content: left;\n           align-items: center;text-transform: capitalize;">\n             <div class="col" col-3 style="text-align: center;\n             height: 25px;\n             font-weight: 500;\n             text-overflow: ellipsis;\n             padding: 4px;\n             padding-bottom: 0px !important;\n             font-size: 10px;\n             overflow: hidden;\n             display: grid;\n             justify-content: left;\n             align-items: center;\n             color: black !important;\n             text-transform: capitalize;">\n                     N.Wt.\n\n                     </div>\n                       <div class="col" col-1 style="text-align: center;\n                       height: 25px;\n                       font-weight: 500;\n                       text-overflow: ellipsis;\n                       padding: 4px;\n                       padding-bottom: 0px !important;\n                       font-size: 10px;\n                       overflow: hidden;\n                       display: grid;\n                       justify-content: left;\n                       align-items: center;\n                       color: black !important;\n                       text-transform: capitalize;">\n                         :\n                               </div>\n             <div class="col" col-8 style="\n             height: 25px;\n             font-weight: 500;\n             text-overflow: ellipsis;\n             padding: 4px;\n             padding-bottom: 0px !important;\n             font-size: 10px;\n             overflow: hidden;\n             display: grid;\n             justify-content: left;\n             align-items: center;\n             color: #747272 !important;\n             text-transform: capitalize;">\n                     {{item.net_wt}} g\n\n                     </div>\n\n\n                 </div>\n\n                 <div class="row"  style="    text-align: center;\n                 font-weight: 500;text-overflow: ellipsis;padding-bottom:0px !important;font-size: 10px;overflow: hidden;color: #bb9532;\n           justify-content: left;\n           align-items: center;text-transform: capitalize;">\n             <div (click)="openDesign(item,i)" class="col" col-3 style="text-align: center;\n             height: 25px;\n             font-weight: 500;\n             text-overflow: ellipsis;\n             padding: 4px;\n             padding-bottom: 0px !important;\n             font-size: 10px;\n             overflow: hidden;\n             display: grid;\n             justify-content: left;\n             align-items: center;\n             color: black !important;\n             text-transform: capitalize;">\n                     Branch\n\n                     </div>\n                       <div (click)="openDesign(item,i)" class="col" col-1 style="text-align: center;\n                       height: 25px;\n                       font-weight: 500;\n                       text-overflow: ellipsis;\n                       padding: 4px;\n                       padding-bottom: 0px !important;\n                       font-size: 10px;\n                       overflow: hidden;\n                       display: grid;\n                       justify-content: left;\n                       align-items: center;\n                       color: black !important;\n                       text-transform: capitalize;">\n                         :\n                               </div>\n             <div class="col" col-8 style="\n             height: 25px;\n             font-weight: 500;\n             text-overflow: ellipsis;\n             padding: 4px;\n             padding-bottom: 0px !important;\n             font-size: 10px;\n             overflow: hidden;\n             display: grid;\n             justify-content: left;\n             align-items: center;\n             color: #747272 !important;\n             text-transform: capitalize;\n             display: contents;">\n                    <span (click)="openDesign(item,i)" style="    margin-left: 4px;\n                    white-space: nowrap;\n                    padding-top: 5px;\n                    width: 40%;\n                    overflow: hidden;\n                    text-overflow: ellipsis;text-align: left;"> {{item.BranchName}}</span>\n                     <div style="margin-left:10px;">\n                       <ion-icon style="    background:#000000;\n                     color: #ffc04b;\n                     border-radius: 5px;" (click)="proceedToWishlist(item)" name="ios-cart-outline"></ion-icon> <ion-icon style="    background: #ffc04b;\n     color:#000000;\n     border-radius: 5px;" (click)="addWishlist(item)" name="heart-outline"></ion-icon>\n                     </div>\n\n             </div>\n\n\n                 </div>\n\n                 <!-- <div class="row"  style="text-align: center;">\n                     <div class="col" col-12>\n                       <div style="\n                      text-align: center;color: #86354d !important;\n                       ">\n                         <span style="font-weight: bold;font-size: 20px;">{{price(item.Rate)}}</span>\n                       </div>\n\n                     </div>\n\n                   </div> -->\n                  </ion-col>\n\n                </ion-row>\n             </ion-card>\n\n\n            </p>\n\n\n           <ion-infinite-scroll   style="text-align: center;" (ionInfinite)="doInfinite($event)">\n                <ion-infinite-scroll-content ></ion-infinite-scroll-content>\n                <!-- <img *ngIf="gif" style=" max-width: 60px !important;" src="assets/loader.gif"> -->\n\n            </ion-infinite-scroll>\n\n            <!-- <ion-fab bottom right >\n              <button (click)="sort()" ion-fab>Sort</button>\n\n            </ion-fab> -->\n            <!-- <ion-fab bottom right >\n              <button ion-fab>Sort</button>\n              <ion-fab-list side="top">\n                <button ion-fab (click)="sort(2)">A to Z</button>\n                <button ion-fab (click)="sort(3)">Z to A</button>\n                <button ion-fab (click)="sort(4)">Cost low </button>\n                <button ion-fab (click)="sort(5)">Cost high </button>\n                <button ion-fab (click)="sort(6)">Wg low </button>\n                <button ion-fab (click)="sort(7)">Wg high </button>\n\n              </ion-fab-list>\n            </ion-fab> -->\n    </ion-content>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\subdesign\subdesign.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_retail__["a" /* RetailProvider */], __WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["s" /* ModalController */], __WEBPACK_IMPORTED_MODULE_3__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */], __WEBPACK_IMPORTED_MODULE_2__providers_retail__["a" /* RetailProvider */]])
    ], SubdesignPage);
    return SubdesignPage;
}());

//# sourceMappingURL=subdesign.js.map

/***/ }),

/***/ 92:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CountrymodelPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



/**
 * Generated class for the CustomPopupPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
// @IonicPage()
var CountrymodelPage = /** @class */ (function () {
    function CountrymodelPage(events, keyboard, event, navCtrl, renderer, viewCtrl, navParams) {
        this.events = events;
        this.keyboard = keyboard;
        this.event = event;
        this.navCtrl = navCtrl;
        this.renderer = renderer;
        this.viewCtrl = viewCtrl;
        this.navParams = navParams;
        this.details = [];
        this.searchData = [];
        this.input = '';
        this.name = '';
        this.renderer.setElementClass(viewCtrl.pageRef().nativeElement, 'countrymodel', true);
        this.name = this.navParams.get('name');
        this.details = this.navParams.get('data');
        this.searchData = this.navParams.get('data');
    }
    CountrymodelPage.prototype.selected = function (temp) {
        this.viewCtrl.dismiss(temp, this.name);
    };
    CountrymodelPage.prototype.dismiss = function (temp) {
        this.viewCtrl.dismiss();
    };
    CountrymodelPage.prototype.search = function () {
        var _this = this;
        if (!this.input.trim().length || !this.keyboard.isOpen()) {
            this.details = this.navParams.get('data');
            return;
        }
        this.details = this.name != "Village" ? this.searchData.filter(function (item) { return item['name'].toUpperCase().includes(_this.input.toUpperCase()); }) : this.searchData.filter(function (item) { return item['village_name'].toUpperCase().includes(_this.input.toUpperCase()); });
    };
    CountrymodelPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    CountrymodelPage.prototype.ionViewWillEnter = function () {
        this.events.publish('entered', true);
        this.events.publish('pageno', 1);
    };
    CountrymodelPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-countrymodel',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\modal\countrymodel\countrymodel.html"*/'<ion-header>\n  <ion-navbar>\n    <ion-title>\n      Search {{name}}\n    </ion-title>\n    <ion-buttons end>\n        <button ion-button icon-only (click)="dismiss()">\n            <ion-icon item-right name="ios-close-outline"></ion-icon>\n        </button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n<ion-content>\n    <ion-searchbar [(ngModel)]="input" placeholder="Search {{name}}" (ionChange)="search()"></ion-searchbar>\n    <ion-list>\n        <ion-item *ngFor="let data of details" (click)="selected(data)">\n            <span *ngIf="data[\'name\']">  {{data[\'name\']}} </span>\n            <span>{{data[\'village_name\']}}</span>\n        </ion-item>\n    </ion-list>\n</ion-content>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\modal\countrymodel\countrymodel.html"*/,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["p" /* Keyboard */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_0__angular_core__["V" /* Renderer */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["B" /* ViewController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */]])
    ], CountrymodelPage);
    return CountrymodelPage;
}());

//# sourceMappingURL=countrymodel.js.map

/***/ }),

/***/ 94:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ChargesPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_common__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_retail__ = __webpack_require__(7);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




/**
 * Generated class for the AddStoneDetailPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
// @IonicPage()
var ChargesPage = /** @class */ (function () {
    function ChargesPage(events, toast, load, retail, common, viewCtrl, navParams) {
        var _this = this;
        this.events = events;
        this.toast = toast;
        this.load = load;
        this.retail = retail;
        this.common = common;
        this.viewCtrl = viewCtrl;
        this.navParams = navParams;
        this.stoneData = [{ "is_apply_in_lwt": 0, "lwt": false, "stone_id": 0, "stone_pcs": 0, "stone_wt": 0, "stone_price": 0 }];
        this.stoneSelected = { "rate_type": "1" };
        this.tagstoneData = [
            {
                charge_value: 0,
                id_charge: '',
                chargecode: '',
            }
        ];
        this.fixed_rate_type = "";
        this.stoneMasData = [];
        this.stones = [];
        this.uom = [];
        this.cut = [];
        this.clarity = [];
        this.color = [];
        this.shape = [];
        this.proceedSave = false;
        this.ptype = "";
        this.gross = 0;
        this.page = this.navParams.get('page');
        this.ptype = this.navParams.get('ptype');
        this.gross = this.navParams.get('gross');
        this.stoneMasData = this.navParams.get('stoneMasData');
        console.log(this.stoneMasData);
        console.log(this.navParams.get('stone_details'));
        this.action = this.navParams.get('action');
        this.common.getdivision().then(function (data) {
            _this.stones = data['charges'];
            if (_this.navParams.get('stone_details').length > 0) {
                _this.tagstoneData = _this.navParams.get('stone_details');
            }
        });
    }
    ChargesPage.prototype.dismiss = function () {
        this.viewCtrl.dismiss();
    };
    ChargesPage.prototype.updateStone = function (submitType) {
        var _this = this;
        this.viewCtrl.dismiss(this.tagstoneData);
        // Alert Message Timeout
        setTimeout(function () {
            _this.errorMsg = "";
        }, this.common.msgTimeout);
    };
    ChargesPage.prototype.addStone = function (submitType) {
        var _this = this;
        console.log(this.tagstoneData);
        for (var index = 0; index < this.tagstoneData.length; index++) {
            console.log(this.tagstoneData[index]);
            if ((this.tagstoneData[index].id_charge > 0 || this.tagstoneData[index].id_charge == '') && this.tagstoneData[index]['charge_value'] >= 0) {
                if (this.tagstoneData.length - 1 == index) {
                    this.viewCtrl.dismiss(this.tagstoneData);
                }
            }
            else {
                var ctrl = this.toast.create({
                    message: "* Fields are Mandatory",
                    duration: this.common.toastTimeout,
                    position: 'bottom'
                });
                ctrl.present();
                break;
            }
        }
        // Alert Message Timeout
        setTimeout(function () {
            _this.errorMsg = "";
        }, this.common.msgTimeout);
    };
    ChargesPage.prototype.add = function () {
        this.tagstoneData.push({
            charge_value: 0,
            id_charge: '',
            chargecode: '',
        });
    };
    ChargesPage.prototype.remove = function (i) {
        if (this.tagstoneData.length > 1) {
            this.tagstoneData.splice(i, 1);
        }
        else if (this.tagstoneData.length == 1) {
            this.tagstoneData.splice(i, 1);
            this.tagstoneData.push({
                charge_value: 0,
                id_charge: '',
                chargecode: '',
            });
        }
    };
    ChargesPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    ChargesPage.prototype.ionViewWillEnter = function () {
        this.events.publish('entered', true);
        this.events.publish('pageno', 1);
    };
    ChargesPage.prototype.checkcode = function (i) {
        var _this = this;
        var temp = this.stones.filter(function (data) { return data['id_charge'] == _this.tagstoneData[i]['id_charge']; });
        this.tagstoneData[i]['chargecode'] = temp[0]['code_charge'];
        this.tagstoneData[i]['charge_value'] = temp[0]['value_charge'];
        this.tagstoneData[i]['id_charge'] = temp[0]['id_charge'];
    };
    ChargesPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-charges',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\charges\charges.html"*/'<ion-header>\n  <ion-navbar>\n    <ion-title>\n      Add Charges\n    </ion-title>\n    <ion-buttons end *ngIf="action == \'add\'">\n      <!-- <button ion-button icon-only (click)="add()">\n        <ion-icon item-right name="add"></ion-icon>\n    </button> -->\n        <button ion-button icon-only (click)="dismiss()">\n            <ion-icon item-right name="ios-close-outline"></ion-icon>\n        </button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content no-padding>\n  <div >\n  <ion-card class="errorMsg" padding *ngIf="errorMsg">\n    {{errorMsg}}\n  </ion-card>\n  <ion-card class="msg" padding *ngIf="msg">\n    {{msg}}\n  </ion-card>\n     <ion-row>\n      \n       <ion-col col-6>\n        <ion-label color="label-color" stacked>Charge Name <span class="required"> *</span></ion-label>\n\n       </ion-col>\n    \n    \n      <ion-col col-6>\n        <ion-label color="label-color" stacked>Value <span class="required"> *</span></ion-label>\n\n      </ion-col>\n    </ion-row>\n     <ion-row *ngFor="let s of tagstoneData;let i = index;">\n      \n      <ion-col col-6 >\n          <ion-select style="border: 1px solid lightgrey;" [(ngModel)]="tagstoneData[i][\'id_charge\']"  (ngModelChange)="checkcode(i)" placeholder="Name"  >\n            <ion-option *ngFor="let s of stones" [value]="s.id_charge">{{s.code_charge}}</ion-option>\n          </ion-select>\n      </ion-col>\n    \n      \n      <ion-col col-6 >\n          <ion-input style="border: 1px solid lightgrey;" type="number" [(ngModel)]="tagstoneData[i][\'charge_value\']"></ion-input>\n      </ion-col>\n \n      <div  style="    width: 100%;">\n        <ion-icon style="float: right;" (click)="remove(i)" name="remove"></ion-icon>\n\n        <ion-icon style="float: right;" (click)="add()" name="add"></ion-icon>\n      </div>\n\n\n     </ion-row>\n     </div>\n\n\n</ion-content>\n<ion-footer>\n    <ion-row *ngIf="action == \'add\'">\n      <ion-col col-6>\n        <button ion-button icon-start full color="danger" (click)="dismiss()">Close</button>\n      </ion-col>\n      <ion-col col-6>\n        <button ion-button icon-start full color="primary" (click)="addStone(\'S\')">Save</button>\n      </ion-col>\n    </ion-row>\n    <ion-row *ngIf="action == \'edit\'">\n      <ion-col col-12>\n        <button ion-button icon-start full color="primary" (click)="updateItem(\'S\')">Update</button>\n      </ion-col>\n    </ion-row>\n</ion-footer>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\charges\charges.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_3__providers_retail__["a" /* RetailProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["z" /* ToastController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_3__providers_retail__["a" /* RetailProvider */], __WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["B" /* ViewController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */]])
    ], ChargesPage);
    return ChargesPage;
}());

//# sourceMappingURL=charges.js.map

/***/ }),

/***/ 96:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MasSearchPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_common__ = __webpack_require__(5);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



/**
 * Generated class for the MasSearchPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
// @IonicPage()
var MasSearchPage = /** @class */ (function () {
    function MasSearchPage(events, keyboard, load, common, viewCtrl, navCtrl, navParams) {
        var _this = this;
        this.events = events;
        this.keyboard = keyboard;
        this.load = load;
        this.common = common;
        this.viewCtrl = viewCtrl;
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.searchArr = [];
        this.toggle = true;
        this.page = "";
        this.list = [];
        this.listType = "normal";
        this.searchArr = this.navParams.get('searchArr');
        this.list = this.navParams.get('searchArr');
        this.page = this.navParams.get('page');
        this.listType = this.navParams.get('listType');
        events.subscribe('treeProd:selected', function (data) {
            _this.viewCtrl.dismiss(data);
        });
        console.log(this.list);
    }
    MasSearchPage.prototype.selected = function (data) {
        this.viewCtrl.dismiss(data);
    };
    MasSearchPage.prototype.getSearch = function (ev) {
        var val = ev.target.value;
        if (!val.trim().length || !this.keyboard.isOpen()) {
            this.list = this.navParams.get('searchArr');
            return;
        }
        if (this.page == "Section") {
            this.list = this.searchArr.filter(function (item) { return item['section_name'].toUpperCase().includes(val.toUpperCase()); });
        }
        else if (this.page == "Product") {
            this.list = this.searchArr.filter(function (item) { return item['product_name'].toUpperCase().includes(val.toUpperCase()); });
        }
        else if (this.page == "Design") {
            this.list = this.searchArr.filter(function (item) { return item['design_name'].toUpperCase().includes(val.toUpperCase()); });
        }
        else if (this.page == "subDesign") {
            this.list = this.searchArr.filter(function (item) { return item['sub_design_name'].toUpperCase().includes(val.toUpperCase()); });
        }
        else {
            this.list = this.searchArr.filter(function (item) { return item['label'].toUpperCase().includes(val.toUpperCase()); });
        }
        console.log(this.list);
    };
    MasSearchPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad MasSearchPage');
    };
    MasSearchPage.prototype.dismiss = function () {
        this.viewCtrl.dismiss();
    };
    MasSearchPage.prototype.ionViewWillLeave = function () {
        this.events.publish('entered', false);
    };
    MasSearchPage.prototype.ionViewWillEnter = function () {
        this.events.publish('entered', true);
        this.events.publish('pageno', 1);
    };
    MasSearchPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-mas-search',template:/*ion-inline-start:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\modal\mas-search\mas-search.html"*/'<ion-header>\n  <ion-navbar>\n    <ion-title>\n      Search {{page}}\n    </ion-title>\n    <ion-buttons end>\n        <button ion-button icon-only (click)="dismiss()">\n            <ion-icon item-right name="ios-close-outline"></ion-icon>\n        </button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n<ion-content>\n  <span *ngIf="listType == \'normal\'">\n    <ion-searchbar (ionInput)="getSearch($event)"></ion-searchbar>\n    <ion-list>\n      <ion-item *ngFor="let d of list" (click)="selected(d)">\n        <span *ngIf="page == \'Section\'">{{ d.section_name }}</span>\n        <span *ngIf="page == \'Product\'">{{ d.product_name }}</span>\n        <span *ngIf="page == \'Design\'">{{ d.design_name }}</span>\n        <span *ngIf="page == \'subDesign\'">{{ d.sub_design_name }}</span>\n        <!-- <span *ngIf="page != \'Section\'">{{ d.label }}</span> -->\n        <span *ngIf="page != \'Section\'">{{ d.purity }}</span>\n      </ion-item>\n    </ion-list>\n  </span>\n  <tree-view *ngIf="listType == \'tree\' && page == \'Product\'" [TreeData]="list" [hasCheckbox]="true"></tree-view>\n</ion-content>\n'/*ion-inline-end:"D:\Retail\HariEstimationApp\Hari-EstimationApp-Retail\src\pages\modal\mas-search\mas-search.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["i" /* Events */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["p" /* Keyboard */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["q" /* LoadingController */], __WEBPACK_IMPORTED_MODULE_2__providers_common__["b" /* CommonProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["B" /* ViewController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["u" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["v" /* NavParams */]])
    ], MasSearchPage);
    return MasSearchPage;
}());

//# sourceMappingURL=mas-search.js.map

/***/ })

},[432]);
//# sourceMappingURL=main.js.map